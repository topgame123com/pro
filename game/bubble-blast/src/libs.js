var PIXI = (function ($) {
    'use strict';
    var e = setTimeout;
    function h(t) {
        return Boolean(t && void 0 !== t.length);
    }
    function i() {}
    function o(t) {
        if (!(this instanceof o)) throw new TypeError('Promises must be constructed via new');
        if ('function' != typeof t) throw new TypeError('not a function');
        ((this._state = 0), (this._handled = !1), (this._value = void 0), (this._deferreds = []), c(t, this));
    }
    function n(r, i) {
        for (; 3 === r._state; ) r = r._value;
        0 !== r._state
            ? ((r._handled = !0),
              o._immediateFn(function () {
                  var t,
                      e = 1 === r._state ? i.onFulfilled : i.onRejected;
                  if (null !== e) {
                      try {
                          t = e(r._value);
                      } catch (t) {
                          return void a(i.promise, t);
                      }
                      s(i.promise, t);
                  } else (1 === r._state ? s : a)(i.promise, r._value);
              }))
            : r._deferreds.push(i);
    }
    function s(e, t) {
        try {
            if (t === e) throw new TypeError('A promise cannot be resolved with itself.');
            if (t && ('object' == typeof t || 'function' == typeof t)) {
                var r = t.then;
                if (t instanceof o) return ((e._state = 3), (e._value = t), void u(e));
                if ('function' == typeof r)
                    return void c(
                        ((i = r),
                        (n = t),
                        function () {
                            i.apply(n, arguments);
                        }),
                        e
                    );
            }
            ((e._state = 1), (e._value = t), u(e));
        } catch (t) {
            a(e, t);
        }
        var i, n;
    }
    function a(t, e) {
        ((t._state = 2), (t._value = e), u(t));
    }
    function u(t) {
        2 === t._state &&
            0 === t._deferreds.length &&
            o._immediateFn(function () {
                t._handled || o._unhandledRejectionFn(t._value);
            });
        for (var e = 0, r = t._deferreds.length; e < r; e++) n(t, t._deferreds[e]);
        t._deferreds = null;
    }
    function l(t, e, r) {
        ((this.onFulfilled = 'function' == typeof t ? t : null), (this.onRejected = 'function' == typeof e ? e : null), (this.promise = r));
    }
    function c(t, e) {
        var r = !1;
        try {
            t(
                function (t) {
                    r || ((r = !0), s(e, t));
                },
                function (t) {
                    r || ((r = !0), a(e, t));
                }
            );
        } catch (t) {
            if (r) return;
            ((r = !0), a(e, t));
        }
    }
    ((o.prototype.catch = function (t) {
        return this.then(null, t);
    }),
        (o.prototype.then = function (t, e) {
            var r = new this.constructor(i);
            return (n(this, new l(t, e, r)), r);
        }),
        (o.prototype.finally = function (e) {
            var r = this.constructor;
            return this.then(
                function (t) {
                    return r.resolve(e()).then(function () {
                        return t;
                    });
                },
                function (t) {
                    return r.resolve(e()).then(function () {
                        return r.reject(t);
                    });
                }
            );
        }),
        (o.all = function (e) {
            return new o(function (n, o) {
                if (!h(e)) return o(new TypeError('Promise.all accepts an array'));
                var s = Array.prototype.slice.call(e);
                if (0 === s.length) return n([]);
                var a = s.length;
                for (var t = 0; t < s.length; t++)
                    !(function e(r, t) {
                        try {
                            if (t && ('object' == typeof t || 'function' == typeof t)) {
                                var i = t.then;
                                if ('function' == typeof i)
                                    return void i.call(
                                        t,
                                        function (t) {
                                            e(r, t);
                                        },
                                        o
                                    );
                            }
                            ((s[r] = t), 0 == --a && n(s));
                        } catch (t) {
                            o(t);
                        }
                    })(t, s[t]);
            });
        }),
        (o.allSettled = function (r) {
            return new this(function (n, t) {
                if (!r || void 0 === r.length) return t(new TypeError(typeof r + ' ' + r + ' is not iterable(cannot read property Symbol(Symbol.iterator))'));
                var o = Array.prototype.slice.call(r);
                if (0 === o.length) return n([]);
                var s = o.length;
                for (var e = 0; e < o.length; e++)
                    !(function e(r, t) {
                        if (t && ('object' == typeof t || 'function' == typeof t)) {
                            var i = t.then;
                            if ('function' == typeof i)
                                return void i.call(
                                    t,
                                    function (t) {
                                        e(r, t);
                                    },
                                    function (t) {
                                        ((o[r] = { status: 'rejected', reason: t }), 0 == --s && n(o));
                                    }
                                );
                        }
                        ((o[r] = { status: 'fulfilled', value: t }), 0 == --s && n(o));
                    })(e, o[e]);
            });
        }),
        (o.resolve = function (e) {
            return e && 'object' == typeof e && e.constructor === o
                ? e
                : new o(function (t) {
                      t(e);
                  });
        }),
        (o.reject = function (r) {
            return new o(function (t, e) {
                e(r);
            });
        }),
        (o.race = function (n) {
            return new o(function (t, e) {
                if (!h(n)) return e(new TypeError('Promise.race accepts an array'));
                for (var r = 0, i = n.length; r < i; r++) o.resolve(n[r]).then(t, e);
            });
        }),
        (o._immediateFn =
            'function' == typeof setImmediate
                ? function (t) {
                      setImmediate(t);
                  }
                : function (t) {
                      e(t, 0);
                  }),
        (o._unhandledRejectionFn = function (t) {
            'undefined' != typeof console && console && console.warn('Possible Unhandled Promise Rejection:', t);
        }));
    var d = Object.getOwnPropertySymbols,
        f = Object.prototype.hasOwnProperty,
        p = Object.prototype.propertyIsEnumerable;
    var t = (function () {
        try {
            if (!Object.assign) return;
            var t = new String('abc');
            if (((t[5] = 'de'), '5' === Object.getOwnPropertyNames(t)[0])) return;
            for (var e = {}, r = 0; r < 10; r++) e['_' + String.fromCharCode(r)] = r;
            if (
                '0123456789' !==
                Object.getOwnPropertyNames(e)
                    .map(function (t) {
                        return e[t];
                    })
                    .join('')
            )
                return;
            var i = {};
            return (
                'abcdefghijklmnopqrst'.split('').forEach(function (t) {
                    i[t] = t;
                }),
                'abcdefghijklmnopqrst' !== Object.keys(Object.assign({}, i)).join('') ? void 0 : 1
            );
        } catch (t) {
            return;
        }
    })()
        ? Object.assign
        : function (t, e) {
              for (
                  var r,
                      i,
                      n = arguments,
                      o = (function (t) {
                          if (null == t) throw new TypeError('Object.assign cannot be called with null or undefined');
                          return Object(t);
                      })(t),
                      s = 1;
                  s < arguments.length;
                  s++
              ) {
                  for (var a in (r = Object(n[s]))) f.call(r, a) && (o[a] = r[a]);
                  if (d) {
                      i = d(r);
                      for (var h = 0; h < i.length; h++) p.call(r, i[h]) && (o[i[h]] = r[i[h]]);
                  }
              }
              return o;
          };
    ('undefined' == typeof globalThis && ('undefined' != typeof self ? (self.globalThis = self) : 'undefined' != typeof global && (global.globalThis = global)), globalThis.Promise || (globalThis.Promise = o), Object.assign || (Object.assign = t));
    var r;
    ((Date.now && Date.prototype.getTime) ||
        (Date.now = function () {
            return new Date().getTime();
        }),
        (globalThis.performance && globalThis.performance.now) ||
            ((r = Date.now()),
            globalThis.performance || (globalThis.performance = {}),
            (globalThis.performance.now = function () {
                return Date.now() - r;
            })));
    for (var _ = Date.now(), m = ['ms', 'moz', 'webkit', 'o'], E = 0; E < m.length && !globalThis.requestAnimationFrame; ++E) {
        var v = m[E];
        ((globalThis.requestAnimationFrame = globalThis[v + 'RequestAnimationFrame']), (globalThis.cancelAnimationFrame = globalThis[v + 'CancelAnimationFrame'] || globalThis[v + 'CancelRequestAnimationFrame']));
    }
    (globalThis.requestAnimationFrame ||
        (globalThis.requestAnimationFrame = function (t) {
            if ('function' != typeof t) throw new TypeError(t + 'is not a function');
            var e = Date.now(),
                r = 16 + _ - e;
            return (
                r < 0 && (r = 0),
                (_ = e),
                globalThis.self.setTimeout(function () {
                    ((_ = Date.now()), t(performance.now()));
                }, r)
            );
        }),
        globalThis.cancelAnimationFrame ||
            (globalThis.cancelAnimationFrame = function (t) {
                return clearTimeout(t);
            }),
        Math.sign ||
            (Math.sign = function (t) {
                return 0 === (t = Number(t)) || isNaN(t) ? t : 0 < t ? 1 : -1;
            }),
        Number.isInteger ||
            (Number.isInteger = function (t) {
                return 'number' == typeof t && isFinite(t) && Math.floor(t) === t;
            }),
        globalThis.ArrayBuffer || (globalThis.ArrayBuffer = Array),
        globalThis.Float32Array || (globalThis.Float32Array = Array),
        globalThis.Uint32Array || (globalThis.Uint32Array = Array),
        globalThis.Uint16Array || (globalThis.Uint16Array = Array),
        globalThis.Uint8Array || (globalThis.Uint8Array = Array),
        globalThis.Int32Array || (globalThis.Int32Array = Array));
    function y(t) {
        return void 0 !== t && 'MacIntel' === t.platform && 'number' == typeof t.maxTouchPoints && 1 < t.maxTouchPoints && 'undefined' == typeof MSStream;
    }
    var g = /iPhone/i,
        T = /iPod/i,
        b = /iPad/i,
        x = /\biOS-universal(?:.+)Mac\b/i,
        R = /\bAndroid(?:.+)Mobile\b/i,
        A = /Android/i,
        S = /(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,
        O = /Silk/i,
        I = /Windows Phone/i,
        M = /\bWindows(?:.+)ARM\b/i,
        N = /BlackBerry/i,
        P = /BB10/i,
        D = /Opera Mini/i,
        C = /\b(CriOS|Chrome)(?:.+)Mobile/i,
        w = /Mobile(?:.+)Firefox\b/i;
    var L = (function (t) {
        var e = { userAgent: '', platform: '', maxTouchPoints: 0 };
        t || 'undefined' == typeof navigator ? ('string' == typeof t ? (e.userAgent = t) : t && t.userAgent && (e = { userAgent: t.userAgent, platform: t.platform, maxTouchPoints: t.maxTouchPoints || 0 })) : (e = { userAgent: navigator.userAgent, platform: navigator.platform, maxTouchPoints: navigator.maxTouchPoints || 0 });
        var r,
            i = e.userAgent;
        return (
            void 0 !== (t = i.split('[FBAN'))[1] && (i = t[0]),
            void 0 !== (t = i.split('Twitter'))[1] && (i = t[0]),
            ((i = {
                apple: {
                    phone:
                        (i =
                            ((r = i),
                            function (t) {
                                return t.test(r);
                            }))(g) && !i(I),
                    ipod: i(T),
                    tablet: !i(g) && (i(b) || y(e)) && !i(I),
                    universal: i(x),
                    device: (i(g) || i(T) || i(b) || i(x) || y(e)) && !i(I),
                },
                amazon: { phone: i(S), tablet: !i(S) && i(O), device: i(S) || i(O) },
                android: { phone: (!i(I) && i(S)) || (!i(I) && i(R)), tablet: !i(I) && !i(S) && !i(R) && (i(O) || i(A)), device: (!i(I) && (i(S) || i(O) || i(R) || i(A))) || i(/\bokhttp\b/i) },
                windows: { phone: i(I), tablet: i(M), device: i(I) || i(M) },
                other: { blackberry: i(N), blackberry10: i(P), opera: i(D), firefox: i(w), chrome: i(C), device: i(N) || i(P) || i(D) || i(w) || i(C) },
                any: !1,
                phone: !1,
                tablet: !1,
            }).any = i.apple.device || i.android.device || i.windows.device || i.other.device),
            (i.phone = i.apple.phone || i.android.phone || i.windows.phone),
            (i.tablet = i.apple.tablet || i.android.tablet || i.windows.tablet),
            i
        );
    })(globalThis.navigator);
    (((Ir = {})[(Ir.WEBGL_LEGACY = 0)] = 'WEBGL_LEGACY'),
        (Ir[(Ir.WEBGL = 1)] = 'WEBGL'),
        (Ir[(Ir.WEBGL2 = 2)] = 'WEBGL2'),
        ((Cr = {})[(Cr.UNKNOWN = 0)] = 'UNKNOWN'),
        (Cr[(Cr.WEBGL = 1)] = 'WEBGL'),
        (Cr[(Cr.CANVAS = 2)] = 'CANVAS'),
        (($r = {})[($r.COLOR = 16384)] = 'COLOR'),
        ($r[($r.DEPTH = 256)] = 'DEPTH'),
        ($r[($r.STENCIL = 1024)] = 'STENCIL'),
        ((ri = {})[(ri.NORMAL = 0)] = 'NORMAL'),
        (ri[(ri.ADD = 1)] = 'ADD'),
        (ri[(ri.MULTIPLY = 2)] = 'MULTIPLY'),
        (ri[(ri.SCREEN = 3)] = 'SCREEN'),
        (ri[(ri.OVERLAY = 4)] = 'OVERLAY'),
        (ri[(ri.DARKEN = 5)] = 'DARKEN'),
        (ri[(ri.LIGHTEN = 6)] = 'LIGHTEN'),
        (ri[(ri.COLOR_DODGE = 7)] = 'COLOR_DODGE'),
        (ri[(ri.COLOR_BURN = 8)] = 'COLOR_BURN'),
        (ri[(ri.HARD_LIGHT = 9)] = 'HARD_LIGHT'),
        (ri[(ri.SOFT_LIGHT = 10)] = 'SOFT_LIGHT'),
        (ri[(ri.DIFFERENCE = 11)] = 'DIFFERENCE'),
        (ri[(ri.EXCLUSION = 12)] = 'EXCLUSION'),
        (ri[(ri.HUE = 13)] = 'HUE'),
        (ri[(ri.SATURATION = 14)] = 'SATURATION'),
        (ri[(ri.COLOR = 15)] = 'COLOR'),
        (ri[(ri.LUMINOSITY = 16)] = 'LUMINOSITY'),
        (ri[(ri.NORMAL_NPM = 17)] = 'NORMAL_NPM'),
        (ri[(ri.ADD_NPM = 18)] = 'ADD_NPM'),
        (ri[(ri.SCREEN_NPM = 19)] = 'SCREEN_NPM'),
        (ri[(ri.NONE = 20)] = 'NONE'),
        (ri[(ri.SRC_OVER = 0)] = 'SRC_OVER'),
        (ri[(ri.SRC_IN = 21)] = 'SRC_IN'),
        (ri[(ri.SRC_OUT = 22)] = 'SRC_OUT'),
        (ri[(ri.SRC_ATOP = 23)] = 'SRC_ATOP'),
        (ri[(ri.DST_OVER = 24)] = 'DST_OVER'),
        (ri[(ri.DST_IN = 25)] = 'DST_IN'),
        (ri[(ri.DST_OUT = 26)] = 'DST_OUT'),
        (ri[(ri.DST_ATOP = 27)] = 'DST_ATOP'),
        (ri[(ri.ERASE = 26)] = 'ERASE'),
        (ri[(ri.SUBTRACT = 28)] = 'SUBTRACT'),
        (ri[(ri.XOR = 29)] = 'XOR'),
        ((ci = {})[(ci.POINTS = 0)] = 'POINTS'),
        (ci[(ci.LINES = 1)] = 'LINES'),
        (ci[(ci.LINE_LOOP = 2)] = 'LINE_LOOP'),
        (ci[(ci.LINE_STRIP = 3)] = 'LINE_STRIP'),
        (ci[(ci.TRIANGLES = 4)] = 'TRIANGLES'),
        (ci[(ci.TRIANGLE_STRIP = 5)] = 'TRIANGLE_STRIP'),
        (ci[(ci.TRIANGLE_FAN = 6)] = 'TRIANGLE_FAN'),
        ((Ei = {})[(Ei.RGBA = 6408)] = 'RGBA'),
        (Ei[(Ei.RGB = 6407)] = 'RGB'),
        (Ei[(Ei.RG = 33319)] = 'RG'),
        (Ei[(Ei.RED = 6403)] = 'RED'),
        (Ei[(Ei.RGBA_INTEGER = 36249)] = 'RGBA_INTEGER'),
        (Ei[(Ei.RGB_INTEGER = 36248)] = 'RGB_INTEGER'),
        (Ei[(Ei.RG_INTEGER = 33320)] = 'RG_INTEGER'),
        (Ei[(Ei.RED_INTEGER = 36244)] = 'RED_INTEGER'),
        (Ei[(Ei.ALPHA = 6406)] = 'ALPHA'),
        (Ei[(Ei.LUMINANCE = 6409)] = 'LUMINANCE'),
        (Ei[(Ei.LUMINANCE_ALPHA = 6410)] = 'LUMINANCE_ALPHA'),
        (Ei[(Ei.DEPTH_COMPONENT = 6402)] = 'DEPTH_COMPONENT'),
        (Ei[(Ei.DEPTH_STENCIL = 34041)] = 'DEPTH_STENCIL'),
        ((gi = {})[(gi.TEXTURE_2D = 3553)] = 'TEXTURE_2D'),
        (gi[(gi.TEXTURE_CUBE_MAP = 34067)] = 'TEXTURE_CUBE_MAP'),
        (gi[(gi.TEXTURE_2D_ARRAY = 35866)] = 'TEXTURE_2D_ARRAY'),
        (gi[(gi.TEXTURE_CUBE_MAP_POSITIVE_X = 34069)] = 'TEXTURE_CUBE_MAP_POSITIVE_X'),
        (gi[(gi.TEXTURE_CUBE_MAP_NEGATIVE_X = 34070)] = 'TEXTURE_CUBE_MAP_NEGATIVE_X'),
        (gi[(gi.TEXTURE_CUBE_MAP_POSITIVE_Y = 34071)] = 'TEXTURE_CUBE_MAP_POSITIVE_Y'),
        (gi[(gi.TEXTURE_CUBE_MAP_NEGATIVE_Y = 34072)] = 'TEXTURE_CUBE_MAP_NEGATIVE_Y'),
        (gi[(gi.TEXTURE_CUBE_MAP_POSITIVE_Z = 34073)] = 'TEXTURE_CUBE_MAP_POSITIVE_Z'),
        (gi[(gi.TEXTURE_CUBE_MAP_NEGATIVE_Z = 34074)] = 'TEXTURE_CUBE_MAP_NEGATIVE_Z'),
        ((xi = {})[(xi.UNSIGNED_BYTE = 5121)] = 'UNSIGNED_BYTE'),
        (xi[(xi.UNSIGNED_SHORT = 5123)] = 'UNSIGNED_SHORT'),
        (xi[(xi.UNSIGNED_SHORT_5_6_5 = 33635)] = 'UNSIGNED_SHORT_5_6_5'),
        (xi[(xi.UNSIGNED_SHORT_4_4_4_4 = 32819)] = 'UNSIGNED_SHORT_4_4_4_4'),
        (xi[(xi.UNSIGNED_SHORT_5_5_5_1 = 32820)] = 'UNSIGNED_SHORT_5_5_5_1'),
        (xi[(xi.UNSIGNED_INT = 5125)] = 'UNSIGNED_INT'),
        (xi[(xi.UNSIGNED_INT_10F_11F_11F_REV = 35899)] = 'UNSIGNED_INT_10F_11F_11F_REV'),
        (xi[(xi.UNSIGNED_INT_2_10_10_10_REV = 33640)] = 'UNSIGNED_INT_2_10_10_10_REV'),
        (xi[(xi.UNSIGNED_INT_24_8 = 34042)] = 'UNSIGNED_INT_24_8'),
        (xi[(xi.UNSIGNED_INT_5_9_9_9_REV = 35902)] = 'UNSIGNED_INT_5_9_9_9_REV'),
        (xi[(xi.BYTE = 5120)] = 'BYTE'),
        (xi[(xi.SHORT = 5122)] = 'SHORT'),
        (xi[(xi.INT = 5124)] = 'INT'),
        (xi[(xi.FLOAT = 5126)] = 'FLOAT'),
        (xi[(xi.FLOAT_32_UNSIGNED_INT_24_8_REV = 36269)] = 'FLOAT_32_UNSIGNED_INT_24_8_REV'),
        (xi[(xi.HALF_FLOAT = 36193)] = 'HALF_FLOAT'),
        ((lo = {})[(lo.FLOAT = 0)] = 'FLOAT'),
        (lo[(lo.INT = 1)] = 'INT'),
        (lo[(lo.UINT = 2)] = 'UINT'),
        ((To = wh = wh || {})[(To.NEAREST = 0)] = 'NEAREST'),
        (To[(To.LINEAR = 1)] = 'LINEAR'),
        ((Ho = Rd = Rd || {})[(Ho.CLAMP = 33071)] = 'CLAMP'),
        (Ho[(Ho.REPEAT = 10497)] = 'REPEAT'),
        (Ho[(Ho.MIRRORED_REPEAT = 33648)] = 'MIRRORED_REPEAT'),
        ((ye = Eh = Eh || {})[(ye.OFF = 0)] = 'OFF'),
        (ye[(ye.POW2 = 1)] = 'POW2'),
        (ye[(ye.ON = 2)] = 'ON'),
        (ye[(ye.ON_MANUAL = 3)] = 'ON_MANUAL'),
        ((Ls = {})[(Ls.NPM = 0)] = 'NPM'),
        (Ls[(Ls.UNPACK = 1)] = 'UNPACK'),
        (Ls[(Ls.PMA = 2)] = 'PMA'),
        (Ls[(Ls.NO_PREMULTIPLIED_ALPHA = 0)] = 'NO_PREMULTIPLIED_ALPHA'),
        (Ls[(Ls.PREMULTIPLY_ON_UPLOAD = 1)] = 'PREMULTIPLY_ON_UPLOAD'),
        (Ls[(Ls.PREMULTIPLY_ALPHA = 2)] = 'PREMULTIPLY_ALPHA'),
        (Ls[(Ls.PREMULTIPLIED_ALPHA = 2)] = 'PREMULTIPLIED_ALPHA'),
        ((er = {})[(er.NO = 0)] = 'NO'),
        (er[(er.YES = 1)] = 'YES'),
        (er[(er.AUTO = 2)] = 'AUTO'),
        (er[(er.BLEND = 0)] = 'BLEND'),
        (er[(er.CLEAR = 1)] = 'CLEAR'),
        (er[(er.BLIT = 2)] = 'BLIT'),
        ((Us = xd = xd || {})[(Us.AUTO = 0)] = 'AUTO'),
        (Us[(Us.MANUAL = 1)] = 'MANUAL'),
        ((kl = Gh = Gh || {}).LOW = 'lowp'),
        (kl.MEDIUM = 'mediump'),
        (kl.HIGH = 'highp'),
        ((oc = {})[(oc.NONE = 0)] = 'NONE'),
        (oc[(oc.SCISSOR = 1)] = 'SCISSOR'),
        (oc[(oc.STENCIL = 2)] = 'STENCIL'),
        (oc[(oc.SPRITE = 3)] = 'SPRITE'),
        ((uc = bd = bd || {})[(uc.NONE = 0)] = 'NONE'),
        (uc[(uc.LOW = 2)] = 'LOW'),
        (uc[(uc.MEDIUM = 4)] = 'MEDIUM'),
        (uc[(uc.HIGH = 8)] = 'HIGH'),
        ((Oc = {})[(Oc.ELEMENT_ARRAY_BUFFER = 34963)] = 'ELEMENT_ARRAY_BUFFER'),
        (Oc[(Oc.ARRAY_BUFFER = 34962)] = 'ARRAY_BUFFER'),
        (Oc[(Oc.UNIFORM_BUFFER = 35345)] = 'UNIFORM_BUFFER'));
    var F,
        U,
        B,
        G = { MIPMAP_TEXTURES: Eh.POW2, ANISOTROPIC_LEVEL: 0, RESOLUTION: 1, FILTER_RESOLUTION: 1, FILTER_MULTISAMPLE: bd.NONE, SPRITE_MAX_TEXTURES: ((F = 32), (B = !0), (L.tablet || L.phone) && (L.apple.device && (U = navigator.userAgent.match(/OS (\d+)_(\d+)?/)) && parseInt(U[1], 10) < 11 && (B = !1), L.android.device && (U = navigator.userAgent.match(/Android\s([0-9.]*)/)) && parseInt(U[1], 10) < 7 && (B = !1)), B ? F : 4), SPRITE_BATCH_SIZE: 4096, RENDER_OPTIONS: { view: null, antialias: !1, autoDensity: !1, backgroundColor: 0, backgroundAlpha: 1, useContextAlpha: !0, clearBeforeRender: !0, preserveDrawingBuffer: !1, width: 800, height: 600, legacy: !1 }, GC_MODE: xd.AUTO, GC_MAX_IDLE: 3600, GC_MAX_CHECK_COUNT: 600, WRAP_MODE: Rd.CLAMP, SCALE_MODE: wh.LINEAR, PRECISION_VERTEX: Gh.HIGH, PRECISION_FRAGMENT: L.apple.device ? Gh.HIGH : Gh.MEDIUM, CAN_UPLOAD_SAME_BUFFER: !L.apple.device, CREATE_IMAGE_BITMAP: !1, ROUND_PIXELS: !1 },
        k = 'undefined' != typeof globalThis ? globalThis : 'undefined' != typeof window ? window : 'undefined' != typeof global ? global : 'undefined' != typeof self ? self : {};
    function X(t, e, r) {
        return (
            t(
                (r = {
                    path: e,
                    exports: {},
                    require: function (t, e) {
                        return (function () {
                            throw new Error('Dynamic requires are not currently supported by @rollup/plugin-commonjs');
                        })(null == e && r.path);
                    },
                }),
                r.exports
            ),
            r.exports
        );
    }
    var H = X(function (t) {
            var i = Object.prototype.hasOwnProperty,
                p = '~';
            function r() {}
            function o(t, e, r) {
                ((this.fn = t), (this.context = e), (this.once = r || !1));
            }
            function n(t, e, r, i, n) {
                if ('function' != typeof r) throw new TypeError('The listener must be a function');
                ((n = new o(r, i || t, n)), (e = p ? p + e : e));
                return (t._events[e] ? (t._events[e].fn ? (t._events[e] = [t._events[e], n]) : t._events[e].push(n)) : ((t._events[e] = n), t._eventsCount++), t);
            }
            function h(t, e) {
                0 == --t._eventsCount ? (t._events = new r()) : delete t._events[e];
            }
            function e() {
                ((this._events = new r()), (this._eventsCount = 0));
            }
            (Object.create && ((r.prototype = Object.create(null)), new r().__proto__ || (p = !1)),
                (e.prototype.eventNames = function () {
                    var t,
                        e,
                        r = [];
                    if (0 === this._eventsCount) return r;
                    for (e in (t = this._events)) i.call(t, e) && r.push(p ? e.slice(1) : e);
                    return Object.getOwnPropertySymbols ? r.concat(Object.getOwnPropertySymbols(t)) : r;
                }),
                (e.prototype.listeners = function (t) {
                    var t = p ? p + t : t,
                        e = this._events[t];
                    if (!e) return [];
                    if (e.fn) return [e.fn];
                    for (var r = 0, i = e.length, n = new Array(i); r < i; r++) n[r] = e[r].fn;
                    return n;
                }),
                (e.prototype.listenerCount = function (t) {
                    ((t = p ? p + t : t), (t = this._events[t]));
                    return t ? (t.fn ? 1 : t.length) : 0;
                }),
                (e.prototype.emit = function (t, e, r, i, n, o) {
                    var s = arguments,
                        a = p ? p + t : t;
                    if (!this._events[a]) return !1;
                    var h,
                        u = this._events[a],
                        l = arguments.length;
                    if (u.fn) {
                        switch ((u.once && this.removeListener(t, u.fn, void 0, !0), l)) {
                            case 1:
                                return (u.fn.call(u.context), !0);
                            case 2:
                                return (u.fn.call(u.context, e), !0);
                            case 3:
                                return (u.fn.call(u.context, e, r), !0);
                            case 4:
                                return (u.fn.call(u.context, e, r, i), !0);
                            case 5:
                                return (u.fn.call(u.context, e, r, i, n), !0);
                            case 6:
                                return (u.fn.call(u.context, e, r, i, n, o), !0);
                        }
                        for (f = 1, h = new Array(l - 1); f < l; f++) h[f - 1] = s[f];
                        u.fn.apply(u.context, h);
                    } else
                        for (var c, d = u.length, f = 0; f < d; f++)
                            switch ((u[f].once && this.removeListener(t, u[f].fn, void 0, !0), l)) {
                                case 1:
                                    u[f].fn.call(u[f].context);
                                    break;
                                case 2:
                                    u[f].fn.call(u[f].context, e);
                                    break;
                                case 3:
                                    u[f].fn.call(u[f].context, e, r);
                                    break;
                                case 4:
                                    u[f].fn.call(u[f].context, e, r, i);
                                    break;
                                default:
                                    if (!h) for (c = 1, h = new Array(l - 1); c < l; c++) h[c - 1] = s[c];
                                    u[f].fn.apply(u[f].context, h);
                            }
                    return !0;
                }),
                (e.prototype.on = function (t, e, r) {
                    return n(this, t, e, r, !1);
                }),
                (e.prototype.once = function (t, e, r) {
                    return n(this, t, e, r, !0);
                }),
                (e.prototype.removeListener = function (t, e, r, i) {
                    t = p ? p + t : t;
                    if (!this._events[t]) return this;
                    if (!e) return (h(this, t), this);
                    var n = this._events[t];
                    if (n.fn) n.fn !== e || (i && !n.once) || (r && n.context !== r) || h(this, t);
                    else {
                        for (var o = 0, s = [], a = n.length; o < a; o++) (n[o].fn !== e || (i && !n[o].once) || (r && n[o].context !== r)) && s.push(n[o]);
                        s.length ? (this._events[t] = 1 === s.length ? s[0] : s) : h(this, t);
                    }
                    return this;
                }),
                (e.prototype.removeAllListeners = function (t) {
                    return (t ? ((t = p ? p + t : t), this._events[t] && h(this, t)) : ((this._events = new r()), (this._eventsCount = 0)), this);
                }),
                (e.prototype.off = e.prototype.removeListener),
                (e.prototype.addListener = e.prototype.on),
                (e.prefixed = p),
                (e.EventEmitter = e),
                (t.exports = e));
        }),
        Y = V,
        j = V;
    function V(t, e, r) {
        r = r || 2;
        var i,
            n,
            o,
            s,
            a,
            h,
            u,
            l = e && e.length,
            c = l ? e[0] * r : t.length,
            d = W(t, 0, c, r, !0),
            f = [];
        if (!d || d.next === d.prev) return f;
        if (
            (l &&
                (d = (function (t, e, r, i) {
                    var n,
                        o,
                        s,
                        a,
                        h = [];
                    for (n = 0, o = e.length; n < o; n++)
                        ((s = e[n] * i),
                            (a = n < o - 1 ? e[n + 1] * i : t.length),
                            (a = W(t, s, a, i, !1)) === a.next && (a.steiner = !0),
                            h.push(
                                (function (t) {
                                    var e = t,
                                        r = t;
                                    for (; (e.x < r.x || (e.x === r.x && e.y < r.y)) && (r = e), (e = e.next), e !== t; );
                                    return r;
                                })(a)
                            ));
                    for (h.sort(K), n = 0; n < h.length; n++)
                        (!(function (t, e) {
                            (e = (function (t, e) {
                                var r,
                                    i = e,
                                    n = t.x,
                                    o = t.y,
                                    s = -1 / 0;
                                do {
                                    if (o <= i.y && o >= i.next.y && i.next.y !== i.y) {
                                        var a = i.x + ((o - i.y) * (i.next.x - i.x)) / (i.next.y - i.y);
                                        if (a <= n && s < a) {
                                            if ((s = a) === n) {
                                                if (o === i.y) return i;
                                                if (o === i.next.y) return i.next;
                                            }
                                            r = i.x < i.next.x ? i : i.next;
                                        }
                                    }
                                } while (((i = i.next), i !== e));
                                if (!r) return null;
                                if (n === s) return r;
                                var h,
                                    u = r,
                                    l = r.x,
                                    c = r.y,
                                    d = 1 / 0;
                                i = r;
                                for (
                                    ;
                                    n >= i.x &&
                                        i.x >= l &&
                                        n !== i.x &&
                                        Q(o < c ? n : s, o, l, c, o < c ? s : n, o, i.x, i.y) &&
                                        ((h = Math.abs(o - i.y) / (n - i.x)),
                                        nt(i, t) &&
                                            (h < d ||
                                                (h === d &&
                                                    (i.x > r.x ||
                                                        (i.x === r.x &&
                                                            (function (t, e) {
                                                                return J(t.prev, t, e.prev) < 0 && J(e.next, t, t.next) < 0;
                                                            })(r, i))))) &&
                                            ((r = i), (d = h))),
                                        (i = i.next),
                                        i !== u;

                                );
                                return r;
                            })(t, e)) && ((t = ot(e, t)), z(e, e.next), z(t, t.next));
                        })(h[n], r),
                            (r = z(r, r.next)));
                    return r;
                })(t, e, d, r)),
            t.length > 80 * r)
        ) {
            ((i = o = t[0]), (n = s = t[1]));
            for (var p = r; p < c; p += r) ((a = t[p]) < i && (i = a), (h = t[p + 1]) < n && (n = h), o < a && (o = a), s < h && (s = h));
            u = 0 !== (u = Math.max(o - i, s - n)) ? 1 / u : 0;
        }
        return (q(d, f, r, i, n, u), f);
    }
    function W(t, e, r, i, n) {
        var o, s;
        if (n === 0 < ut(t, e, r, i)) for (o = e; o < r; o += i) s = st(o, t[o], t[o + 1], s);
        else for (o = r - i; e <= o; o -= i) s = st(o, t[o], t[o + 1], s);
        return (s && tt(s, s.next) && (at(s), (s = s.next)), s);
    }
    function z(t, e) {
        if (!t) return t;
        e = e || t;
        var r,
            i = t;
        do {
            if (((r = !1), i.steiner || (!tt(i, i.next) && 0 !== J(i.prev, i, i.next)))) i = i.next;
            else {
                if ((at(i), (i = e = i.prev) === i.next)) break;
                r = !0;
            }
        } while (r || i !== e);
        return e;
    }
    function q(t, e, r, i, n, o, s) {
        if (t) {
            !s &&
                o &&
                (function (t, e, r, i) {
                    for (var n = t; null === n.z && (n.z = Z(n.x, n.y, e, r, i)), (n.prevZ = n.prev), (n.nextZ = n.next), (n = n.next), n !== t; );
                    ((n.prevZ.nextZ = null),
                        (n.prevZ = null),
                        (function (t) {
                            var e,
                                r,
                                i,
                                n,
                                o,
                                s,
                                a,
                                h,
                                u = 1;
                            do {
                                for (r = t, o = t = null, s = 0; r; ) {
                                    for (s++, i = r, e = a = 0; e < u && (a++, (i = i.nextZ)); e++);
                                    for (h = u; 0 < a || (0 < h && i); ) (0 !== a && (0 === h || !i || r.z <= i.z) ? ((r = (n = r).nextZ), a--) : ((i = (n = i).nextZ), h--), o ? (o.nextZ = n) : (t = n), (n.prevZ = o), (o = n));
                                    r = i;
                                }
                            } while (((o.nextZ = null), (u *= 2), 1 < s));
                        })(n));
                })(t, i, n, o);
            for (var a, h, u = t; t.prev !== t.next; )
                if (
                    ((a = t.prev),
                    (h = t.next),
                    o
                        ? (function (t, e, r, i) {
                              var n = t.prev,
                                  o = t,
                                  s = t.next;
                              if (0 <= J(n, o, s)) return !1;
                              var a = (n.x < o.x ? (n.x < s.x ? n : s) : o.x < s.x ? o : s).x,
                                  h = (n.y < o.y ? (n.y < s.y ? n : s) : o.y < s.y ? o : s).y,
                                  u = (n.x > o.x ? (n.x > s.x ? n : s) : o.x > s.x ? o : s).x,
                                  l = (n.y > o.y ? (n.y > s.y ? n : s) : o.y > s.y ? o : s).y,
                                  c = Z(a, h, e, r, i),
                                  d = Z(u, l, e, r, i),
                                  f = t.prevZ,
                                  p = t.nextZ;
                              for (; f && f.z >= c && p && p.z <= d; ) {
                                  if (f !== t.prev && f !== t.next && Q(n.x, n.y, o.x, o.y, s.x, s.y, f.x, f.y) && 0 <= J(f.prev, f, f.next)) return !1;
                                  if (((f = f.prevZ), p !== t.prev && p !== t.next && Q(n.x, n.y, o.x, o.y, s.x, s.y, p.x, p.y) && 0 <= J(p.prev, p, p.next))) return !1;
                                  p = p.nextZ;
                              }
                              for (; f && f.z >= c; ) {
                                  if (f !== t.prev && f !== t.next && Q(n.x, n.y, o.x, o.y, s.x, s.y, f.x, f.y) && 0 <= J(f.prev, f, f.next)) return !1;
                                  f = f.prevZ;
                              }
                              for (; p && p.z <= d; ) {
                                  if (p !== t.prev && p !== t.next && Q(n.x, n.y, o.x, o.y, s.x, s.y, p.x, p.y) && 0 <= J(p.prev, p, p.next)) return !1;
                                  p = p.nextZ;
                              }
                              return !0;
                          })(t, i, n, o)
                        : (function (t) {
                              var e = t.prev,
                                  r = t,
                                  i = t.next;
                              if (0 <= J(e, r, i)) return !1;
                              var n = t.next.next;
                              for (; n !== t.prev; ) {
                                  if (Q(e.x, e.y, r.x, r.y, i.x, i.y, n.x, n.y) && 0 <= J(n.prev, n, n.next)) return !1;
                                  n = n.next;
                              }
                              return !0;
                          })(t))
                )
                    (e.push(a.i / r), e.push(t.i / r), e.push(h.i / r), at(t), (t = h.next), (u = h.next));
                else if ((t = h) === u) {
                    s
                        ? 1 === s
                            ? q(
                                  (t = (function (t, e, r) {
                                      var i = t;
                                      do {
                                          var n = i.prev,
                                              o = i.next.next;
                                      } while ((!tt(n, o) && et(n, i, i.next, o) && nt(n, o) && nt(o, n) && (e.push(n.i / r), e.push(i.i / r), e.push(o.i / r), at(i), at(i.next), (i = t = o)), (i = i.next), i !== t));
                                      return z(i);
                                  })(z(t), e, r)),
                                  e,
                                  r,
                                  i,
                                  n,
                                  o,
                                  2
                              )
                            : 2 === s &&
                              (function (t, e, r, i, n, o) {
                                  var s = t;
                                  do {
                                      for (var a = s.next.next; a !== s.prev; ) {
                                          if (
                                              s.i !== a.i &&
                                              (function (t, e) {
                                                  return (
                                                      t.next.i !== e.i &&
                                                      t.prev.i !== e.i &&
                                                      !(function (t, e) {
                                                          var r = t;
                                                          do {
                                                              if (r.i !== t.i && r.next.i !== t.i && r.i !== e.i && r.next.i !== e.i && et(r, r.next, t, e)) return !0;
                                                          } while (((r = r.next), r !== t));
                                                          return !1;
                                                      })(t, e) &&
                                                      ((nt(t, e) &&
                                                          nt(e, t) &&
                                                          (function (t, e) {
                                                              var r = t,
                                                                  i = !1,
                                                                  n = (t.x + e.x) / 2,
                                                                  o = (t.y + e.y) / 2;
                                                              for (; r.y > o != r.next.y > o && r.next.y !== r.y && n < ((r.next.x - r.x) * (o - r.y)) / (r.next.y - r.y) + r.x && (i = !i), (r = r.next), r !== t; );
                                                              return i;
                                                          })(t, e) &&
                                                          (J(t.prev, t, e.prev) || J(t, e.prev, e))) ||
                                                          (tt(t, e) && 0 < J(t.prev, t, t.next) && 0 < J(e.prev, e, e.next)))
                                                  );
                                              })(s, a)
                                          ) {
                                              var h = ot(s, a);
                                              return ((s = z(s, s.next)), (h = z(h, h.next)), q(s, e, r, i, n, o), q(h, e, r, i, n, o));
                                          }
                                          a = a.next;
                                      }
                                  } while ((s = s.next) !== t);
                              })(t, e, r, i, n, o)
                        : q(z(t), e, r, i, n, o, 1);
                    break;
                }
        }
    }
    function K(t, e) {
        return t.x - e.x;
    }
    function Z(t, e, r, i, n) {
        return (t = 1431655765 & ((t = 858993459 & ((t = 252645135 & ((t = 16711935 & ((t = 32767 * (t - r) * n) | (t << 8))) | (t << 4))) | (t << 2))) | (t << 1))) | ((e = 1431655765 & ((e = 858993459 & ((e = 252645135 & ((e = 16711935 & ((e = 32767 * (e - i) * n) | (e << 8))) | (e << 4))) | (e << 2))) | (e << 1))) << 1);
    }
    function Q(t, e, r, i, n, o, s, a) {
        return 0 <= (n - s) * (e - a) - (t - s) * (o - a) && 0 <= (t - s) * (i - a) - (r - s) * (e - a) && 0 <= (r - s) * (o - a) - (n - s) * (i - a);
    }
    function J(t, e, r) {
        return (e.y - t.y) * (r.x - e.x) - (e.x - t.x) * (r.y - e.y);
    }
    function tt(t, e) {
        return t.x === e.x && t.y === e.y;
    }
    function et(t, e, r, i) {
        var n = it(J(t, e, r)),
            o = it(J(t, e, i)),
            s = it(J(r, i, t)),
            a = it(J(r, i, e));
        return (n !== o && s !== a) || (0 === n && rt(t, r, e)) || (0 === o && rt(t, i, e)) || (0 === s && rt(r, t, i)) || !(0 !== a || !rt(r, e, i));
    }
    function rt(t, e, r) {
        return e.x <= Math.max(t.x, r.x) && e.x >= Math.min(t.x, r.x) && e.y <= Math.max(t.y, r.y) && e.y >= Math.min(t.y, r.y);
    }
    function it(t) {
        return 0 < t ? 1 : t < 0 ? -1 : 0;
    }
    function nt(t, e) {
        return J(t.prev, t, t.next) < 0 ? 0 <= J(t, e, t.next) && 0 <= J(t, t.prev, e) : J(t, e, t.prev) < 0 || J(t, t.next, e) < 0;
    }
    function ot(t, e) {
        var r = new ht(t.i, t.x, t.y),
            i = new ht(e.i, e.x, e.y),
            n = t.next,
            o = e.prev;
        return (((t.next = e).prev = t), ((r.next = n).prev = r), ((i.next = r).prev = i), ((o.next = i).prev = o), i);
    }
    function st(t, e, r, i) {
        r = new ht(t, e, r);
        return (i ? ((r.next = i.next), ((r.prev = i).next.prev = r), (i.next = r)) : ((r.prev = r).next = r), r);
    }
    function at(t) {
        ((t.next.prev = t.prev), (t.prev.next = t.next), t.prevZ && (t.prevZ.nextZ = t.nextZ), t.nextZ && (t.nextZ.prevZ = t.prevZ));
    }
    function ht(t, e, r) {
        ((this.i = t), (this.x = e), (this.y = r), (this.prev = null), (this.next = null), (this.z = null), (this.prevZ = null), (this.nextZ = null), (this.steiner = !1));
    }
    function ut(t, e, r, i) {
        for (var n = 0, o = e, s = r - i; o < r; o += i) ((n += (t[s] - t[o]) * (t[o + 1] + t[s + 1])), (s = o));
        return n;
    }
    ((V.deviation = function (t, e, r, i) {
        var n = e && e.length,
            o = n ? e[0] * r : t.length,
            s = Math.abs(ut(t, 0, o, r));
        if (n)
            for (var a = 0, h = e.length; a < h; a++) {
                var u = e[a] * r,
                    l = a < h - 1 ? e[a + 1] * r : t.length;
                s -= Math.abs(ut(t, u, l, r));
            }
        for (var c = 0, a = 0; a < i.length; a += 3) {
            var d = i[a] * r,
                f = i[a + 1] * r,
                p = i[a + 2] * r;
            c += Math.abs((t[d] - t[p]) * (t[1 + f] - t[1 + d]) - (t[d] - t[f]) * (t[1 + p] - t[1 + d]));
        }
        return 0 === s && 0 === c ? 0 : Math.abs((c - s) / s);
    }),
        (V.flatten = function (t) {
            for (var e = t[0][0].length, r = { vertices: [], holes: [], dimensions: e }, i = 0, n = 0; n < t.length; n++) {
                for (var o = 0; o < t[n].length; o++) for (var s = 0; s < e; s++) r.vertices.push(t[n][o][s]);
                0 < n && ((i += t[n - 1].length), r.holes.push(i));
            }
            return r;
        }),
        (Y.default = j));
    var lt = X(function (P, D) {
            !(function (t) {
                var e = D && !D.nodeType && D,
                    r = P && !P.nodeType && P,
                    i = 'object' == typeof k && k;
                (i.global !== i && i.window !== i && i.self !== i) || (t = i);
                var n,
                    o,
                    E = 2147483647,
                    v = 36,
                    y = 1,
                    g = 26,
                    s = 38,
                    a = 700,
                    T = 72,
                    b = 128,
                    x = '-',
                    h = /^xn--/,
                    u = /[^\x20-\x7E]/,
                    l = /[\x2E\u3002\uFF0E\uFF61]/g,
                    c = { overflow: 'Overflow: input needs wider integers to process', 'not-basic': 'Illegal input >= 0x80 (not a basic code point)', 'invalid-input': 'Invalid input' },
                    d = v - y,
                    R = Math.floor,
                    A = String.fromCharCode;
                function S(t) {
                    throw RangeError(c[t]);
                }
                function f(t, e) {
                    for (var r = t.length, i = []; r--; ) i[r] = e(t[r]);
                    return i;
                }
                function p(t, e) {
                    var r = t.split('@'),
                        i = '';
                    return (1 < r.length && ((i = r[0] + '@'), (t = r[1])), i + f((t = t.replace(l, '.')).split('.'), e).join('.'));
                }
                function O(t) {
                    for (var e, r, i = [], n = 0, o = t.length; n < o; ) 55296 <= (e = t.charCodeAt(n++)) && e <= 56319 && n < o ? (56320 == (64512 & (r = t.charCodeAt(n++))) ? i.push(((1023 & e) << 10) + (1023 & r) + 65536) : (i.push(e), n--)) : i.push(e);
                    return i;
                }
                function _(t) {
                    return f(t, function (t) {
                        var e = '';
                        return (65535 < t && ((e += A((((t -= 65536) >>> 10) & 1023) | 55296)), (t = 56320 | (1023 & t))), (e += A(t)));
                    }).join('');
                }
                function I(t, e) {
                    return t + 22 + 75 * (t < 26) - ((0 != e) << 5);
                }
                function M(t, e, r) {
                    var i = 0;
                    for (t = r ? R(t / a) : t >> 1, t += R(t / e); (d * g) >> 1 < t; i += v) t = R(t / d);
                    return R(i + ((d + 1) * t) / (t + s));
                }
                function m(t) {
                    var e,
                        r,
                        i,
                        n,
                        o,
                        s,
                        a,
                        h = [],
                        u = t.length,
                        l = 0,
                        c = b,
                        d = T,
                        f = t.lastIndexOf(x);
                    for (f < 0 && (f = 0), r = 0; r < f; ++r) (128 <= t.charCodeAt(r) && S('not-basic'), h.push(t.charCodeAt(r)));
                    for (i = 0 < f ? f + 1 : 0; i < u; ) {
                        for (n = l, o = 1, s = v; u <= i && S('invalid-input'), (a = t.charCodeAt(i++)), (v <= (a = a - 48 < 10 ? a - 22 : a - 65 < 26 ? a - 65 : a - 97 < 26 ? a - 97 : v) || a > R((E - l) / o)) && S('overflow'), (l += a * o), !(a < (a = s <= d ? y : d + g <= s ? g : s - d)); s += v) (o > R(E / (a = v - a)) && S('overflow'), (o *= a));
                        ((d = M(l - n, (e = h.length + 1), 0 == n)), R(l / e) > E - c && S('overflow'), (c += R(l / e)), (l %= e), h.splice(l++, 0, c));
                    }
                    return _(h);
                }
                function N(t) {
                    for (var e, r, i, n, o, s, a, h, u, l, c, d = [], f = (t = O(t)).length, p = b, _ = T, m = (e = 0); m < f; ++m) (h = t[m]) < 128 && d.push(A(h));
                    for (r = i = d.length, i && d.push(x); r < f; ) {
                        for (n = E, m = 0; m < f; ++m) p <= (h = t[m]) && h < n && (n = h);
                        for (n - p > R((E - e) / (u = r + 1)) && S('overflow'), e += (n - p) * u, p = n, m = 0; m < f; ++m)
                            if (((h = t[m]) < p && ++e > E && S('overflow'), h == p)) {
                                for (o = e, s = v; !(o < (a = s <= _ ? y : _ + g <= s ? g : s - _)); s += v) ((c = o - a), (l = v - a), d.push(A(I(a + (c % l), 0))), (o = R(c / l)));
                                (d.push(A(I(o, 0))), (_ = M(e, u, r == i)), (e = 0), ++r);
                            }
                        (++e, ++p);
                    }
                    return d.join('');
                }
                if (
                    ((n = {
                        version: '1.3.2',
                        ucs2: { decode: O, encode: _ },
                        decode: m,
                        encode: N,
                        toASCII: function (t) {
                            return p(t, function (t) {
                                return u.test(t) ? 'xn--' + N(t) : t;
                            });
                        },
                        toUnicode: function (t) {
                            return p(t, function (t) {
                                return h.test(t) ? m(t.slice(4).toLowerCase()) : t;
                            });
                        },
                    }),
                    0,
                    e && r)
                )
                    if (P.exports == e) r.exports = n;
                    else for (o in n) n.hasOwnProperty(o) && (e[o] = n[o]);
                else t.punycode = n;
            })(k);
        }),
        ct = {
            isString: function (t) {
                return 'string' == typeof t;
            },
            isObject: function (t) {
                return 'object' == typeof t && null !== t;
            },
            isNull: function (t) {
                return null === t;
            },
            isNullOrUndefined: function (t) {
                return null == t;
            },
        };
    function dt(t, e, r, i) {
        ((e = e || '&'), (r = r || '='));
        var n = {};
        if ('string' != typeof t || 0 === t.length) return n;
        var o = /\+/g;
        ((t = t.split(e)), (e = 1e3), i && 'number' == typeof i.maxKeys && (e = i.maxKeys));
        var s = t.length;
        0 < e && e < s && (s = e);
        for (var a = 0; a < s; ++a) {
            var h,
                u = t[a].replace(o, '%20'),
                l = u.indexOf(r),
                c = 0 <= l ? ((h = u.substr(0, l)), u.substr(l + 1)) : ((h = u), ''),
                d = decodeURIComponent(h),
                l = decodeURIComponent(c);
            ((u = n), (c = d), Object.prototype.hasOwnProperty.call(u, c) ? (Array.isArray(n[d]) ? n[d].push(l) : (n[d] = [n[d], l])) : (n[d] = l));
        }
        return n;
    }
    function ft(t) {
        switch (typeof t) {
            case 'string':
                return t;
            case 'boolean':
                return t ? 'true' : 'false';
            case 'number':
                return isFinite(t) ? t : '';
            default:
                return '';
        }
    }
    function pt(r, i, n, t) {
        return (
            (i = i || '&'),
            (n = n || '='),
            null === r && (r = void 0),
            'object' == typeof r
                ? Object.keys(r)
                      .map(function (t) {
                          var e = encodeURIComponent(ft(t)) + n;
                          return Array.isArray(r[t])
                              ? r[t]
                                    .map(function (t) {
                                        return e + encodeURIComponent(ft(t));
                                    })
                                    .join(i)
                              : e + encodeURIComponent(ft(r[t]));
                      })
                      .join(i)
                : t
                  ? encodeURIComponent(ft(t)) + n + encodeURIComponent(ft(r))
                  : ''
        );
    }
    var _t = X(function (t, e) {
            ((e.decode = e.parse = dt), (e.encode = e.stringify = pt));
        }),
        mt = wt,
        Et = function (t, e) {
            return wt(t, !1, !0).resolve(e);
        },
        vt = function (t, e) {
            return t ? wt(t, !1, !0).resolveObject(e) : e;
        },
        yt = function (t) {
            ct.isString(t) && (t = wt(t));
            return t instanceof Tt ? t.format() : Tt.prototype.format.call(t);
        },
        gt = Tt;
    function Tt() {
        ((this.protocol = null), (this.slashes = null), (this.auth = null), (this.host = null), (this.port = null), (this.hostname = null), (this.hash = null), (this.search = null), (this.query = null), (this.pathname = null), (this.path = null), (this.href = null));
    }
    var bt = /^([a-z0-9.+-]+:)/i,
        xt = /:[0-9]*$/,
        Rt = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,
        At = ['{', '}', '|', '\\', '^', '`'].concat(['<', '>', '"', '`', ' ', '\r', '\n', '\t']),
        St = ["'"].concat(At),
        Ot = ['%', '/', '?', ';', '#'].concat(St),
        It = ['/', '?', '#'],
        Mt = /^[+a-z0-9A-Z_-]{0,63}$/,
        Nt = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,
        Pt = { javascript: !0, 'javascript:': !0 },
        Dt = { javascript: !0, 'javascript:': !0 },
        Ct = { http: !0, https: !0, ftp: !0, gopher: !0, file: !0, 'http:': !0, 'https:': !0, 'ftp:': !0, 'gopher:': !0, 'file:': !0 };
    function wt(t, e, r) {
        if (t && ct.isObject(t) && t instanceof Tt) return t;
        var i = new Tt();
        return (i.parse(t, e, r), i);
    }
    ((Tt.prototype.parse = function (t, e, r) {
        if (!ct.isString(t)) throw new TypeError("Parameter 'url' must be a string, not " + typeof t);
        var i = t.indexOf('?'),
            n = -1 !== i && i < t.indexOf('#') ? '?' : '#',
            i = t.split(n);
        i[0] = i[0].replace(/\\/g, '/');
        var o = (o = t = i.join(n)).trim();
        if (!r && 1 === t.split('#').length) {
            var s = Rt.exec(o);
            if (s) return ((this.path = o), (this.href = o), (this.pathname = s[1]), s[2] ? ((this.search = s[2]), (this.query = e ? _t.parse(this.search.substr(1)) : this.search.substr(1))) : e && ((this.search = ''), (this.query = {})), this);
        }
        var a,
            s = bt.exec(o);
        if ((s && ((A = (s = s[0]).toLowerCase()), (this.protocol = A), (o = o.substr(s.length))), (r || s || o.match(/^\/\/[^@\/]+@[^@\/]+/)) && (!(a = '//' === o.substr(0, 2)) || (s && Dt[s]) || ((o = o.substr(2)), (this.slashes = !0))), !Dt[s] && (a || (s && !Ct[s])))) {
            for (var h = -1, u = 0; u < It.length; u++) -1 !== (l = o.indexOf(It[u])) && (-1 === h || l < h) && (h = l);
            (-1 !== (T = -1 === h ? o.lastIndexOf('@') : o.lastIndexOf('@', h)) && ((b = o.slice(0, T)), (o = o.slice(T + 1)), (this.auth = decodeURIComponent(b))), (h = -1));
            for (var l, u = 0; u < Ot.length; u++) -1 !== (l = o.indexOf(Ot[u])) && (-1 === h || l < h) && (h = l);
            (-1 === h && (h = o.length), (this.host = o.slice(0, h)), (o = o.slice(h)), this.parseHost(), (this.hostname = this.hostname || ''));
            var c = '[' === this.hostname[0] && ']' === this.hostname[this.hostname.length - 1];
            if (!c)
                for (var d = this.hostname.split(/\./), u = 0, f = d.length; u < f; u++) {
                    var p = d[u];
                    if (p && !p.match(Mt)) {
                        for (var _ = '', m = 0, E = p.length; m < E; m++) 127 < p.charCodeAt(m) ? (_ += 'x') : (_ += p[m]);
                        if (!_.match(Mt)) {
                            var v = d.slice(0, u),
                                y = d.slice(u + 1),
                                g = p.match(Nt);
                            (g && (v.push(g[1]), y.unshift(g[2])), y.length && (o = '/' + y.join('.') + o), (this.hostname = v.join('.')));
                            break;
                        }
                    }
                }
            (255 < this.hostname.length ? (this.hostname = '') : (this.hostname = this.hostname.toLowerCase()), c || (this.hostname = lt.toASCII(this.hostname)));
            var T = this.port ? ':' + this.port : '',
                b = this.hostname || '';
            ((this.host = b + T), (this.href += this.host), c && ((this.hostname = this.hostname.substr(1, this.hostname.length - 2)), '/' !== o[0] && (o = '/' + o)));
        }
        if (!Pt[A])
            for (u = 0, f = St.length; u < f; u++) {
                var x,
                    R = St[u];
                -1 !== o.indexOf(R) && ((x = encodeURIComponent(R)) === R && (x = escape(R)), (o = o.split(R).join(x)));
            }
        c = o.indexOf('#');
        -1 !== c && ((this.hash = o.substr(c)), (o = o.slice(0, c)));
        var A,
            c = o.indexOf('?');
        return (-1 !== c ? ((this.search = o.substr(c)), (this.query = o.substr(c + 1)), e && (this.query = _t.parse(this.query)), (o = o.slice(0, c))) : e && ((this.search = ''), (this.query = {})), o && (this.pathname = o), Ct[A] && this.hostname && !this.pathname && (this.pathname = '/'), (this.pathname || this.search) && ((T = this.pathname || ''), (A = this.search || ''), (this.path = T + A)), (this.href = this.format()), this);
    }),
        (Tt.prototype.format = function () {
            var t = this.auth || '';
            t && ((t = (t = encodeURIComponent(t)).replace(/%3A/i, ':')), (t += '@'));
            var e = this.protocol || '',
                r = this.pathname || '',
                i = this.hash || '',
                n = !1,
                o = '';
            (this.host ? (n = t + this.host) : this.hostname && ((n = t + (-1 === this.hostname.indexOf(':') ? this.hostname : '[' + this.hostname + ']')), this.port && (n += ':' + this.port)), this.query && ct.isObject(this.query) && Object.keys(this.query).length && (o = _t.stringify(this.query)));
            o = this.search || (o && '?' + o) || '';
            return (
                e && ':' !== e.substr(-1) && (e += ':'),
                this.slashes || ((!e || Ct[e]) && !1 !== n) ? ((n = '//' + (n || '')), r && '/' !== r.charAt(0) && (r = '/' + r)) : (n = n || ''),
                i && '#' !== i.charAt(0) && (i = '#' + i),
                o && '?' !== o.charAt(0) && (o = '?' + o),
                e +
                    n +
                    (r = r.replace(/[?#]/g, function (t) {
                        return encodeURIComponent(t);
                    })) +
                    (o = o.replace('#', '%23')) +
                    i
            );
        }),
        (Tt.prototype.resolve = function (t) {
            return this.resolveObject(wt(t, !1, !0)).format();
        }),
        (Tt.prototype.resolveObject = function (t) {
            ct.isString(t) && ((f = new Tt()).parse(t, !1, !0), (t = f));
            for (var e = new Tt(), r = Object.keys(this), i = 0; i < r.length; i++) {
                var n = r[i];
                e[n] = this[n];
            }
            if (((e.hash = t.hash), '' === t.href)) return ((e.href = e.format()), e);
            if (t.slashes && !t.protocol) {
                for (var o = Object.keys(t), s = 0; s < o.length; s++) {
                    var a = o[s];
                    'protocol' !== a && (e[a] = t[a]);
                }
                return (Ct[e.protocol] && e.hostname && !e.pathname && (e.path = e.pathname = '/'), (e.href = e.format()), e);
            }
            if (t.protocol && t.protocol !== e.protocol) {
                if (!Ct[t.protocol]) {
                    for (var h = Object.keys(t), u = 0; u < h.length; u++) {
                        var l = h[u];
                        e[l] = t[l];
                    }
                    return ((e.href = e.format()), e);
                }
                if (((e.protocol = t.protocol), t.host || Dt[t.protocol])) e.pathname = t.pathname;
                else {
                    for (var c = (t.pathname || '').split('/'); c.length && !(t.host = c.shift()); );
                    (t.host || (t.host = ''), t.hostname || (t.hostname = ''), '' !== c[0] && c.unshift(''), c.length < 2 && c.unshift(''), (e.pathname = c.join('/')));
                }
                return ((e.search = t.search), (e.query = t.query), (e.host = t.host || ''), (e.auth = t.auth), (e.hostname = t.hostname || t.host), (e.port = t.port), (e.pathname || e.search) && ((p = e.pathname || ''), (_ = e.search || ''), (e.path = p + _)), (e.slashes = e.slashes || t.slashes), (e.href = e.format()), e);
            }
            var d = e.pathname && '/' === e.pathname.charAt(0),
                f = t.host || (t.pathname && '/' === t.pathname.charAt(0)),
                p = f || d || (e.host && t.pathname),
                _ = p,
                m = (e.pathname && e.pathname.split('/')) || [],
                c = (t.pathname && t.pathname.split('/')) || [],
                d = e.protocol && !Ct[e.protocol];
            if ((d && ((e.hostname = ''), (e.port = null), e.host && ('' === m[0] ? (m[0] = e.host) : m.unshift(e.host)), (e.host = ''), t.protocol && ((t.hostname = null), (t.port = null), t.host && ('' === c[0] ? (c[0] = t.host) : c.unshift(t.host)), (t.host = null)), (p = p && ('' === c[0] || '' === m[0]))), f)) ((e.host = (t.host || '' === t.host ? t : e).host), (e.hostname = (t.hostname || '' === t.hostname ? t : e).hostname), (e.search = t.search), (e.query = t.query), (m = c));
            else if (c.length) ((m = m || []).pop(), (m = m.concat(c)), (e.search = t.search), (e.query = t.query));
            else if (!ct.isNullOrUndefined(t.search)) return (d && ((e.hostname = e.host = m.shift()), (g = !!(e.host && 0 < e.host.indexOf('@')) && e.host.split('@')) && ((e.auth = g.shift()), (e.host = e.hostname = g.shift()))), (e.search = t.search), (e.query = t.query), (ct.isNull(e.pathname) && ct.isNull(e.search)) || (e.path = (e.pathname || '') + (e.search || '')), (e.href = e.format()), e);
            if (!m.length) return ((e.pathname = null), e.search ? (e.path = '/' + e.search) : (e.path = null), (e.href = e.format()), e);
            for (var E = m.slice(-1)[0], f = ((e.host || t.host || 1 < m.length) && ('.' === E || '..' === E)) || '' === E, v = 0, y = m.length; 0 <= y; y--) '.' === (E = m[y]) ? m.splice(y, 1) : '..' === E ? (m.splice(y, 1), v++) : v && (m.splice(y, 1), v--);
            if (!p && !_) for (; v--; ) m.unshift('..');
            (!p || '' === m[0] || (m[0] && '/' === m[0].charAt(0)) || m.unshift(''), f && '/' !== m.join('/').substr(-1) && m.push(''));
            var g,
                f = '' === m[0] || (m[0] && '/' === m[0].charAt(0));
            return (d && ((e.hostname = e.host = !f && m.length ? m.shift() : ''), (g = !!(e.host && 0 < e.host.indexOf('@')) && e.host.split('@')) && ((e.auth = g.shift()), (e.host = e.hostname = g.shift()))), (p = p || (e.host && m.length)) && !f && m.unshift(''), m.length ? (e.pathname = m.join('/')) : ((e.pathname = null), (e.path = null)), (ct.isNull(e.pathname) && ct.isNull(e.search)) || (e.path = (e.pathname || '') + (e.search || '')), (e.auth = t.auth || e.auth), (e.slashes = e.slashes || t.slashes), (e.href = e.format()), e);
        }),
        (Tt.prototype.parseHost = function () {
            var t = this.host,
                e = xt.exec(t);
            (e && (':' !== (e = e[0]) && (this.port = e.substr(1)), (t = t.substr(0, t.length - e.length))), t && (this.hostname = t));
        }));
    (($.ENV = void 0),
        ((eu = $.ENV || ($.ENV = {}))[(eu.WEBGL_LEGACY = 0)] = 'WEBGL_LEGACY'),
        (eu[(eu.WEBGL = 1)] = 'WEBGL'),
        (eu[(eu.WEBGL2 = 2)] = 'WEBGL2'),
        ($.RENDERER_TYPE = void 0),
        ((kc = $.RENDERER_TYPE || ($.RENDERER_TYPE = {}))[(kc.UNKNOWN = 0)] = 'UNKNOWN'),
        (kc[(kc.WEBGL = 1)] = 'WEBGL'),
        (kc[(kc.CANVAS = 2)] = 'CANVAS'),
        ($.BUFFER_BITS = void 0),
        ((Pu = $.BUFFER_BITS || ($.BUFFER_BITS = {}))[(Pu.COLOR = 16384)] = 'COLOR'),
        (Pu[(Pu.DEPTH = 256)] = 'DEPTH'),
        (Pu[(Pu.STENCIL = 1024)] = 'STENCIL'),
        ($.BLEND_MODES = void 0),
        ((ya = $.BLEND_MODES || ($.BLEND_MODES = {}))[(ya.NORMAL = 0)] = 'NORMAL'),
        (ya[(ya.ADD = 1)] = 'ADD'),
        (ya[(ya.MULTIPLY = 2)] = 'MULTIPLY'),
        (ya[(ya.SCREEN = 3)] = 'SCREEN'),
        (ya[(ya.OVERLAY = 4)] = 'OVERLAY'),
        (ya[(ya.DARKEN = 5)] = 'DARKEN'),
        (ya[(ya.LIGHTEN = 6)] = 'LIGHTEN'),
        (ya[(ya.COLOR_DODGE = 7)] = 'COLOR_DODGE'),
        (ya[(ya.COLOR_BURN = 8)] = 'COLOR_BURN'),
        (ya[(ya.HARD_LIGHT = 9)] = 'HARD_LIGHT'),
        (ya[(ya.SOFT_LIGHT = 10)] = 'SOFT_LIGHT'),
        (ya[(ya.DIFFERENCE = 11)] = 'DIFFERENCE'),
        (ya[(ya.EXCLUSION = 12)] = 'EXCLUSION'),
        (ya[(ya.HUE = 13)] = 'HUE'),
        (ya[(ya.SATURATION = 14)] = 'SATURATION'),
        (ya[(ya.COLOR = 15)] = 'COLOR'),
        (ya[(ya.LUMINOSITY = 16)] = 'LUMINOSITY'),
        (ya[(ya.NORMAL_NPM = 17)] = 'NORMAL_NPM'),
        (ya[(ya.ADD_NPM = 18)] = 'ADD_NPM'),
        (ya[(ya.SCREEN_NPM = 19)] = 'SCREEN_NPM'),
        (ya[(ya.NONE = 20)] = 'NONE'),
        (ya[(ya.SRC_OVER = 0)] = 'SRC_OVER'),
        (ya[(ya.SRC_IN = 21)] = 'SRC_IN'),
        (ya[(ya.SRC_OUT = 22)] = 'SRC_OUT'),
        (ya[(ya.SRC_ATOP = 23)] = 'SRC_ATOP'),
        (ya[(ya.DST_OVER = 24)] = 'DST_OVER'),
        (ya[(ya.DST_IN = 25)] = 'DST_IN'),
        (ya[(ya.DST_OUT = 26)] = 'DST_OUT'),
        (ya[(ya.DST_ATOP = 27)] = 'DST_ATOP'),
        (ya[(ya.ERASE = 26)] = 'ERASE'),
        (ya[(ya.SUBTRACT = 28)] = 'SUBTRACT'),
        (ya[(ya.XOR = 29)] = 'XOR'),
        ($.DRAW_MODES = void 0),
        ((cr = $.DRAW_MODES || ($.DRAW_MODES = {}))[(cr.POINTS = 0)] = 'POINTS'),
        (cr[(cr.LINES = 1)] = 'LINES'),
        (cr[(cr.LINE_LOOP = 2)] = 'LINE_LOOP'),
        (cr[(cr.LINE_STRIP = 3)] = 'LINE_STRIP'),
        (cr[(cr.TRIANGLES = 4)] = 'TRIANGLES'),
        (cr[(cr.TRIANGLE_STRIP = 5)] = 'TRIANGLE_STRIP'),
        (cr[(cr.TRIANGLE_FAN = 6)] = 'TRIANGLE_FAN'),
        ($.FORMATS = void 0),
        ((dr = $.FORMATS || ($.FORMATS = {}))[(dr.RGBA = 6408)] = 'RGBA'),
        (dr[(dr.RGB = 6407)] = 'RGB'),
        (dr[(dr.RG = 33319)] = 'RG'),
        (dr[(dr.RED = 6403)] = 'RED'),
        (dr[(dr.RGBA_INTEGER = 36249)] = 'RGBA_INTEGER'),
        (dr[(dr.RGB_INTEGER = 36248)] = 'RGB_INTEGER'),
        (dr[(dr.RG_INTEGER = 33320)] = 'RG_INTEGER'),
        (dr[(dr.RED_INTEGER = 36244)] = 'RED_INTEGER'),
        (dr[(dr.ALPHA = 6406)] = 'ALPHA'),
        (dr[(dr.LUMINANCE = 6409)] = 'LUMINANCE'),
        (dr[(dr.LUMINANCE_ALPHA = 6410)] = 'LUMINANCE_ALPHA'),
        (dr[(dr.DEPTH_COMPONENT = 6402)] = 'DEPTH_COMPONENT'),
        (dr[(dr.DEPTH_STENCIL = 34041)] = 'DEPTH_STENCIL'),
        ($.TARGETS = void 0),
        ((ba = $.TARGETS || ($.TARGETS = {}))[(ba.TEXTURE_2D = 3553)] = 'TEXTURE_2D'),
        (ba[(ba.TEXTURE_CUBE_MAP = 34067)] = 'TEXTURE_CUBE_MAP'),
        (ba[(ba.TEXTURE_2D_ARRAY = 35866)] = 'TEXTURE_2D_ARRAY'),
        (ba[(ba.TEXTURE_CUBE_MAP_POSITIVE_X = 34069)] = 'TEXTURE_CUBE_MAP_POSITIVE_X'),
        (ba[(ba.TEXTURE_CUBE_MAP_NEGATIVE_X = 34070)] = 'TEXTURE_CUBE_MAP_NEGATIVE_X'),
        (ba[(ba.TEXTURE_CUBE_MAP_POSITIVE_Y = 34071)] = 'TEXTURE_CUBE_MAP_POSITIVE_Y'),
        (ba[(ba.TEXTURE_CUBE_MAP_NEGATIVE_Y = 34072)] = 'TEXTURE_CUBE_MAP_NEGATIVE_Y'),
        (ba[(ba.TEXTURE_CUBE_MAP_POSITIVE_Z = 34073)] = 'TEXTURE_CUBE_MAP_POSITIVE_Z'),
        (ba[(ba.TEXTURE_CUBE_MAP_NEGATIVE_Z = 34074)] = 'TEXTURE_CUBE_MAP_NEGATIVE_Z'),
        ($.TYPES = void 0),
        ((t = $.TYPES || ($.TYPES = {}))[(t.UNSIGNED_BYTE = 5121)] = 'UNSIGNED_BYTE'),
        (t[(t.UNSIGNED_SHORT = 5123)] = 'UNSIGNED_SHORT'),
        (t[(t.UNSIGNED_SHORT_5_6_5 = 33635)] = 'UNSIGNED_SHORT_5_6_5'),
        (t[(t.UNSIGNED_SHORT_4_4_4_4 = 32819)] = 'UNSIGNED_SHORT_4_4_4_4'),
        (t[(t.UNSIGNED_SHORT_5_5_5_1 = 32820)] = 'UNSIGNED_SHORT_5_5_5_1'),
        (t[(t.UNSIGNED_INT = 5125)] = 'UNSIGNED_INT'),
        (t[(t.UNSIGNED_INT_10F_11F_11F_REV = 35899)] = 'UNSIGNED_INT_10F_11F_11F_REV'),
        (t[(t.UNSIGNED_INT_2_10_10_10_REV = 33640)] = 'UNSIGNED_INT_2_10_10_10_REV'),
        (t[(t.UNSIGNED_INT_24_8 = 34042)] = 'UNSIGNED_INT_24_8'),
        (t[(t.UNSIGNED_INT_5_9_9_9_REV = 35902)] = 'UNSIGNED_INT_5_9_9_9_REV'),
        (t[(t.BYTE = 5120)] = 'BYTE'),
        (t[(t.SHORT = 5122)] = 'SHORT'),
        (t[(t.INT = 5124)] = 'INT'),
        (t[(t.FLOAT = 5126)] = 'FLOAT'),
        (t[(t.FLOAT_32_UNSIGNED_INT_24_8_REV = 36269)] = 'FLOAT_32_UNSIGNED_INT_24_8_REV'),
        (t[(t.HALF_FLOAT = 36193)] = 'HALF_FLOAT'),
        ($.SAMPLER_TYPES = void 0),
        ((Ir = $.SAMPLER_TYPES || ($.SAMPLER_TYPES = {}))[(Ir.FLOAT = 0)] = 'FLOAT'),
        (Ir[(Ir.INT = 1)] = 'INT'),
        (Ir[(Ir.UINT = 2)] = 'UINT'),
        ($.SCALE_MODES = void 0),
        ((Cr = $.SCALE_MODES || ($.SCALE_MODES = {}))[(Cr.NEAREST = 0)] = 'NEAREST'),
        (Cr[(Cr.LINEAR = 1)] = 'LINEAR'),
        ($.WRAP_MODES = void 0),
        (($r = $.WRAP_MODES || ($.WRAP_MODES = {}))[($r.CLAMP = 33071)] = 'CLAMP'),
        ($r[($r.REPEAT = 10497)] = 'REPEAT'),
        ($r[($r.MIRRORED_REPEAT = 33648)] = 'MIRRORED_REPEAT'),
        ($.MIPMAP_MODES = void 0),
        ((ri = $.MIPMAP_MODES || ($.MIPMAP_MODES = {}))[(ri.OFF = 0)] = 'OFF'),
        (ri[(ri.POW2 = 1)] = 'POW2'),
        (ri[(ri.ON = 2)] = 'ON'),
        (ri[(ri.ON_MANUAL = 3)] = 'ON_MANUAL'),
        ($.ALPHA_MODES = void 0),
        ((ci = $.ALPHA_MODES || ($.ALPHA_MODES = {}))[(ci.NPM = 0)] = 'NPM'),
        (ci[(ci.UNPACK = 1)] = 'UNPACK'),
        (ci[(ci.PMA = 2)] = 'PMA'),
        (ci[(ci.NO_PREMULTIPLIED_ALPHA = 0)] = 'NO_PREMULTIPLIED_ALPHA'),
        (ci[(ci.PREMULTIPLY_ON_UPLOAD = 1)] = 'PREMULTIPLY_ON_UPLOAD'),
        (ci[(ci.PREMULTIPLY_ALPHA = 2)] = 'PREMULTIPLY_ALPHA'),
        (ci[(ci.PREMULTIPLIED_ALPHA = 2)] = 'PREMULTIPLIED_ALPHA'),
        ($.CLEAR_MODES = void 0),
        ((Ei = $.CLEAR_MODES || ($.CLEAR_MODES = {}))[(Ei.NO = 0)] = 'NO'),
        (Ei[(Ei.YES = 1)] = 'YES'),
        (Ei[(Ei.AUTO = 2)] = 'AUTO'),
        (Ei[(Ei.BLEND = 0)] = 'BLEND'),
        (Ei[(Ei.CLEAR = 1)] = 'CLEAR'),
        (Ei[(Ei.BLIT = 2)] = 'BLIT'),
        ($.GC_MODES = void 0),
        ((gi = $.GC_MODES || ($.GC_MODES = {}))[(gi.AUTO = 0)] = 'AUTO'),
        (gi[(gi.MANUAL = 1)] = 'MANUAL'),
        ($.PRECISION = void 0),
        ((xi = $.PRECISION || ($.PRECISION = {})).LOW = 'lowp'),
        (xi.MEDIUM = 'mediump'),
        (xi.HIGH = 'highp'),
        ($.MASK_TYPES = void 0),
        ((lo = $.MASK_TYPES || ($.MASK_TYPES = {}))[(lo.NONE = 0)] = 'NONE'),
        (lo[(lo.SCISSOR = 1)] = 'SCISSOR'),
        (lo[(lo.STENCIL = 2)] = 'STENCIL'),
        (lo[(lo.SPRITE = 3)] = 'SPRITE'),
        ($.MSAA_QUALITY = void 0),
        ((To = $.MSAA_QUALITY || ($.MSAA_QUALITY = {}))[(To.NONE = 0)] = 'NONE'),
        (To[(To.LOW = 2)] = 'LOW'),
        (To[(To.MEDIUM = 4)] = 'MEDIUM'),
        (To[(To.HIGH = 8)] = 'HIGH'),
        ($.BUFFER_TYPE = void 0),
        ((Ho = $.BUFFER_TYPE || ($.BUFFER_TYPE = {}))[(Ho.ELEMENT_ARRAY_BUFFER = 34963)] = 'ELEMENT_ARRAY_BUFFER'),
        (Ho[(Ho.ARRAY_BUFFER = 34962)] = 'ARRAY_BUFFER'),
        (Ho[(Ho.UNIFORM_BUFFER = 35345)] = 'UNIFORM_BUFFER'));
    var Lt = { parse: mt, format: yt, resolve: Et };
    G.RETINA_PREFIX = /@([0-9\.]+)x/;
    var Ft,
        Ut = (G.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT = !1),
        Bt = '6.4.2';
    function Gt(t) {
        var e, r;
        Ut || (-1 < navigator.userAgent.toLowerCase().indexOf('chrome') ? ((r = ['\n %c %c %c PixiJS ' + Bt + ' -  ' + t + '   %c  %c  http://www.pixijs.com/  %c %c %c%c \n\n', 'background: #ff66a5; padding:5px 0;', 'background: #ff66a5; padding:5px 0;', 'color: #ff66a5; background: #030307; padding:5px 0;', 'background: #ff66a5; padding:5px 0;', 'background: #ffc3dc; padding:5px 0;', 'background: #ff66a5; padding:5px 0;', 'color: #ff2424; background: #fff; padding:5px 0;', 'color: #ff2424; background: #fff; padding:5px 0;', 'color: #ff2424; background: #fff; padding:5px 0;']), (e = globalThis.console).log.apply(e, r)) : globalThis.console && globalThis.console.log('PixiJS ' + Bt + ' - ' + t + ' - http://www.pixijs.com/'), (Ut = !0));
    }
    function kt() {
        return (
            void 0 === Ft &&
                (Ft = (function () {
                    var t = { stencil: !0, failIfMajorPerformanceCaveat: G.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT };
                    try {
                        if (!globalThis.WebGLRenderingContext) return !1;
                        var e = document.createElement('canvas'),
                            r = e.getContext('webgl', t) || e.getContext('experimental-webgl', t),
                            i = !(!r || !r.getContextAttributes().stencil);
                        return (!r || ((e = r.getExtension('WEBGL_lose_context')) && e.loseContext()), (r = null), i);
                    } catch (t) {
                        return !1;
                    }
                })()),
            Ft
        );
    }
    var Xt = {
        aliceblue: '#f0f8ff',
        antiquewhite: '#faebd7',
        aqua: '#00ffff',
        aquamarine: '#7fffd4',
        azure: '#f0ffff',
        beige: '#f5f5dc',
        bisque: '#ffe4c4',
        black: '#000000',
        blanchedalmond: '#ffebcd',
        blue: '#0000ff',
        blueviolet: '#8a2be2',
        brown: '#a52a2a',
        burlywood: '#deb887',
        cadetblue: '#5f9ea0',
        chartreuse: '#7fff00',
        chocolate: '#d2691e',
        coral: '#ff7f50',
        cornflowerblue: '#6495ed',
        cornsilk: '#fff8dc',
        crimson: '#dc143c',
        cyan: '#00ffff',
        darkblue: '#00008b',
        darkcyan: '#008b8b',
        darkgoldenrod: '#b8860b',
        darkgray: '#a9a9a9',
        darkgreen: '#006400',
        darkgrey: '#a9a9a9',
        darkkhaki: '#bdb76b',
        darkmagenta: '#8b008b',
        darkolivegreen: '#556b2f',
        darkorange: '#ff8c00',
        darkorchid: '#9932cc',
        darkred: '#8b0000',
        darksalmon: '#e9967a',
        darkseagreen: '#8fbc8f',
        darkslateblue: '#483d8b',
        darkslategray: '#2f4f4f',
        darkslategrey: '#2f4f4f',
        darkturquoise: '#00ced1',
        darkviolet: '#9400d3',
        deeppink: '#ff1493',
        deepskyblue: '#00bfff',
        dimgray: '#696969',
        dimgrey: '#696969',
        dodgerblue: '#1e90ff',
        firebrick: '#b22222',
        floralwhite: '#fffaf0',
        forestgreen: '#228b22',
        fuchsia: '#ff00ff',
        gainsboro: '#dcdcdc',
        ghostwhite: '#f8f8ff',
        goldenrod: '#daa520',
        gold: '#ffd700',
        gray: '#808080',
        green: '#008000',
        greenyellow: '#adff2f',
        grey: '#808080',
        honeydew: '#f0fff0',
        hotpink: '#ff69b4',
        indianred: '#cd5c5c',
        indigo: '#4b0082',
        ivory: '#fffff0',
        khaki: '#f0e68c',
        lavenderblush: '#fff0f5',
        lavender: '#e6e6fa',
        lawngreen: '#7cfc00',
        lemonchiffon: '#fffacd',
        lightblue: '#add8e6',
        lightcoral: '#f08080',
        lightcyan: '#e0ffff',
        lightgoldenrodyellow: '#fafad2',
        lightgray: '#d3d3d3',
        lightgreen: '#90ee90',
        lightgrey: '#d3d3d3',
        lightpink: '#ffb6c1',
        lightsalmon: '#ffa07a',
        lightseagreen: '#20b2aa',
        lightskyblue: '#87cefa',
        lightslategray: '#778899',
        lightslategrey: '#778899',
        lightsteelblue: '#b0c4de',
        lightyellow: '#ffffe0',
        lime: '#00ff00',
        limegreen: '#32cd32',
        linen: '#faf0e6',
        magenta: '#ff00ff',
        maroon: '#800000',
        mediumaquamarine: '#66cdaa',
        mediumblue: '#0000cd',
        mediumorchid: '#ba55d3',
        mediumpurple: '#9370db',
        mediumseagreen: '#3cb371',
        mediumslateblue: '#7b68ee',
        mediumspringgreen: '#00fa9a',
        mediumturquoise: '#48d1cc',
        mediumvioletred: '#c71585',
        midnightblue: '#191970',
        mintcream: '#f5fffa',
        mistyrose: '#ffe4e1',
        moccasin: '#ffe4b5',
        navajowhite: '#ffdead',
        navy: '#000080',
        oldlace: '#fdf5e6',
        olive: '#808000',
        olivedrab: '#6b8e23',
        orange: '#ffa500',
        orangered: '#ff4500',
        orchid: '#da70d6',
        palegoldenrod: '#eee8aa',
        palegreen: '#98fb98',
        paleturquoise: '#afeeee',
        palevioletred: '#db7093',
        papayawhip: '#ffefd5',
        peachpuff: '#ffdab9',
        peru: '#cd853f',
        pink: '#ffc0cb',
        plum: '#dda0dd',
        powderblue: '#b0e0e6',
        purple: '#800080',
        rebeccapurple: '#663399',
        red: '#ff0000',
        rosybrown: '#bc8f8f',
        royalblue: '#4169e1',
        saddlebrown: '#8b4513',
        salmon: '#fa8072',
        sandybrown: '#f4a460',
        seagreen: '#2e8b57',
        seashell: '#fff5ee',
        sienna: '#a0522d',
        silver: '#c0c0c0',
        skyblue: '#87ceeb',
        slateblue: '#6a5acd',
        slategray: '#708090',
        slategrey: '#708090',
        snow: '#fffafa',
        springgreen: '#00ff7f',
        steelblue: '#4682b4',
        tan: '#d2b48c',
        teal: '#008080',
        thistle: '#d8bfd8',
        tomato: '#ff6347',
        turquoise: '#40e0d0',
        violet: '#ee82ee',
        wheat: '#f5deb3',
        white: '#ffffff',
        whitesmoke: '#f5f5f5',
        yellow: '#ffff00',
        yellowgreen: '#9acd32',
    };
    function Ht(t, e) {
        return (void 0 === e && (e = []), (e[0] = ((t >> 16) & 255) / 255), (e[1] = ((t >> 8) & 255) / 255), (e[2] = (255 & t) / 255), e);
    }
    function Yt(t) {
        t = t.toString(16);
        return '#' + (t = '000000'.substring(0, 6 - t.length) + t);
    }
    function jt(t) {
        return ('string' == typeof t && '#' === (t = Xt[t.toLowerCase()] || t)[0] && (t = t.slice(1)), parseInt(t, 16));
    }
    function Vt(t) {
        return ((255 * t[0]) << 16) + ((255 * t[1]) << 8) + ((255 * t[2]) | 0);
    }
    var Wt = (function () {
        for (var t = [], e = [], r = 0; r < 32; r++) e[(t[r] = r)] = r;
        ((t[$.BLEND_MODES.NORMAL_NPM] = $.BLEND_MODES.NORMAL), (t[$.BLEND_MODES.ADD_NPM] = $.BLEND_MODES.ADD), (t[$.BLEND_MODES.SCREEN_NPM] = $.BLEND_MODES.SCREEN), (e[$.BLEND_MODES.NORMAL] = $.BLEND_MODES.NORMAL_NPM), (e[$.BLEND_MODES.ADD] = $.BLEND_MODES.ADD_NPM), (e[$.BLEND_MODES.SCREEN] = $.BLEND_MODES.SCREEN_NPM));
        var i = [];
        return (i.push(e), i.push(t), i);
    })();
    function zt(t, e) {
        return Wt[e ? 1 : 0][t];
    }
    function qt(t, e, r, i) {
        return ((r = r || new Float32Array(4)), i || void 0 === i ? ((r[0] = t[0] * e), (r[1] = t[1] * e), (r[2] = t[2] * e)) : ((r[0] = t[0]), (r[1] = t[1]), (r[2] = t[2])), (r[3] = e), r);
    }
    function Kt(t, e) {
        return 1 === e ? ((255 * e) << 24) + t : 0 === e ? 0 : ((255 * e) << 24) + (((((t >> 16) & 255) * e + 0.5) | 0) << 16) + (((((t >> 8) & 255) * e + 0.5) | 0) << 8) + (((255 & t) * e + 0.5) | 0);
    }
    function Zt(t, e, r, i) {
        return (((r = r || new Float32Array(4))[0] = ((t >> 16) & 255) / 255), (r[1] = ((t >> 8) & 255) / 255), (r[2] = (255 & t) / 255), (!i && void 0 !== i) || ((r[0] *= e), (r[1] *= e), (r[2] *= e)), (r[3] = e), r);
    }
    function Qt(t, e) {
        void 0 === e && (e = null);
        var r = 6 * t;
        if ((e = e || new Uint16Array(r)).length !== r) throw new Error('Out buffer length is incorrect, got ' + e.length + ' and expected ' + r);
        for (var i = 0, n = 0; i < r; i += 6, n += 4) ((e[i + 0] = n + 0), (e[i + 1] = n + 1), (e[i + 2] = n + 2), (e[i + 3] = n + 0), (e[i + 4] = n + 2), (e[i + 5] = n + 3));
        return e;
    }
    function Jt(t) {
        if (4 === t.BYTES_PER_ELEMENT) return t instanceof Float32Array ? 'Float32Array' : t instanceof Uint32Array ? 'Uint32Array' : 'Int32Array';
        if (2 === t.BYTES_PER_ELEMENT) {
            if (t instanceof Uint16Array) return 'Uint16Array';
        } else if (1 === t.BYTES_PER_ELEMENT && t instanceof Uint8Array) return 'Uint8Array';
        return null;
    }
    var $t = { Float32Array: Float32Array, Uint32Array: Uint32Array, Int32Array: Int32Array, Uint8Array: Uint8Array };
    function te(t) {
        return ((t += 0 === t ? 1 : 0), --t, (t |= t >>> 1), (t |= t >>> 2), (t |= t >>> 4), (t |= t >>> 8), (t |= t >>> 16) + 1);
    }
    function ee(t) {
        return !(t & (t - 1) || !t);
    }
    function re(t) {
        var e = (65535 < t ? 1 : 0) << 4,
            r = (255 < (t >>>= e) ? 1 : 0) << 3;
        return ((e |= r), (e |= r = (15 < (t >>>= r) ? 1 : 0) << 2), (e |= r = (3 < (t >>>= r) ? 1 : 0) << 1) | ((t >>>= r) >> 1));
    }
    function ie(t, e, r) {
        var i = t.length;
        if (!(i <= e || 0 === r)) {
            for (var n = i - (r = i < e + r ? i - e : r), o = e; o < n; ++o) t[o] = t[o + r];
            t.length = n;
        }
    }
    function ne(t) {
        return 0 === t ? 0 : t < 0 ? -1 : 1;
    }
    var oe = 0;
    function se() {
        return ++oe;
    }
    var ae = {};
    function he(t, e, r) {
        var i;
        (void 0 === r && (r = 3), ae[e] || (void 0 === (i = new Error().stack) ? console.warn('PixiJS Deprecation Warning: ', e + '\nDeprecated since v' + t) : ((i = i.split('\n').splice(r).join('\n')), console.groupCollapsed ? (console.groupCollapsed('%cPixiJS Deprecation Warning: %c%s', 'color:#614108;background:#fffbe6', 'font-weight:normal;color:#614108;background:#fffbe6', e + '\nDeprecated since v' + t), console.warn(i), console.groupEnd()) : (console.warn('PixiJS Deprecation Warning: ', e + '\nDeprecated since v' + t), console.warn(i))), (ae[e] = !0)));
    }
    var ue = {},
        le = Object.create(null),
        ce = Object.create(null);
    var de =
        ((fe.prototype.clear = function () {
            (this.context.setTransform(1, 0, 0, 1, 0, 0), this.context.clearRect(0, 0, this.canvas.width, this.canvas.height));
        }),
        (fe.prototype.resize = function (t, e) {
            ((this.canvas.width = Math.round(t * this.resolution)), (this.canvas.height = Math.round(e * this.resolution)));
        }),
        (fe.prototype.destroy = function () {
            ((this.context = null), (this.canvas = null));
        }),
        Object.defineProperty(fe.prototype, 'width', {
            get: function () {
                return this.canvas.width;
            },
            set: function (t) {
                this.canvas.width = Math.round(t);
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(fe.prototype, 'height', {
            get: function () {
                return this.canvas.height;
            },
            set: function (t) {
                this.canvas.height = Math.round(t);
            },
            enumerable: !1,
            configurable: !0,
        }),
        fe);
    function fe(t, e, r) {
        ((this.canvas = document.createElement('canvas')), (this.context = this.canvas.getContext('2d')), (this.resolution = r || G.RESOLUTION), this.resize(t, e));
    }
    function pe(t) {
        for (var e, r, i = t.width, n = t.height, o = t.getContext('2d'), s = o.getImageData(0, 0, i, n).data, a = s.length, h = { top: null, left: null, right: null, bottom: null }, t = null, u = 0; u < a; u += 4) 0 !== s[u + 3] && ((e = (u / 4) % i), (r = ~~(u / 4 / i)), null === h.top && (h.top = r), (null === h.left || e < h.left) && (h.left = e), (null === h.right || h.right < e) && (h.right = 1 + e), (null === h.bottom || h.bottom < r) && (h.bottom = r));
        return (null !== h.top && ((i = h.right - h.left), (n = h.bottom - h.top + 1), (t = o.getImageData(h.left, h.top, i, n))), { height: n, width: i, data: t });
    }
    var _e,
        me = /^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;
    function Ee(t, e) {
        if ((void 0 === e && (e = globalThis.location), 0 === t.indexOf('data:'))) return '';
        ((e = e || globalThis.location), ((_e = _e || document.createElement('a')).href = t));
        var r = Lt.parse(_e.href),
            t = (!r.port && '' === e.port) || r.port === e.port;
        return r.hostname === e.hostname && t && r.protocol === e.protocol ? '' : 'anonymous';
    }
    function ve(t, e) {
        t = G.RETINA_PREFIX.exec(t);
        return t ? parseFloat(t[1]) : void 0 !== e ? e : 1;
    }
    var ye = {
            __proto__: null,
            BaseTextureCache: ce,
            CanvasRenderTarget: de,
            DATA_URI: me,
            ProgramCache: ue,
            TextureCache: le,
            clearTextureCache: function () {
                for (var t in le) delete le[t];
                for (t in ce) delete ce[t];
            },
            correctBlendMode: zt,
            createIndicesForQuads: Qt,
            decomposeDataUri: function (t) {
                if ((t = me.exec(t))) return { mediaType: t[1] ? t[1].toLowerCase() : void 0, subType: t[2] ? t[2].toLowerCase() : void 0, charset: t[3] ? t[3].toLowerCase() : void 0, encoding: t[4] ? t[4].toLowerCase() : void 0, data: t[5] };
            },
            deprecation: he,
            destroyTextureCache: function () {
                for (var t in le) le[t].destroy();
                for (t in ce) ce[t].destroy();
            },
            determineCrossOrigin: Ee,
            getBufferType: Jt,
            getResolutionOfUrl: ve,
            hex2rgb: Ht,
            hex2string: Yt,
            interleaveTypedArrays: function (t, e) {
                for (var r = 0, i = 0, n = {}, o = 0; o < t.length; o++) ((i += e[o]), (r += t[o].length));
                for (var s = new ArrayBuffer(4 * r), a = null, h = 0, o = 0; o < t.length; o++) {
                    var u = e[o],
                        l = t[o],
                        c = Jt(l);
                    (n[c] || (n[c] = new $t[c](s)), (a = n[c]));
                    for (var d = 0; d < l.length; d++) a[((d / u) | 0) * i + h + (d % u)] = l[d];
                    h += u;
                }
                return new Float32Array(s);
            },
            isPow2: ee,
            isWebGLSupported: kt,
            log2: re,
            nextPow2: te,
            premultiplyBlendMode: Wt,
            premultiplyRgba: qt,
            premultiplyTint: Kt,
            premultiplyTintToRgba: Zt,
            removeItems: ie,
            rgb2hex: Vt,
            sayHello: Gt,
            sign: ne,
            skipHello: function () {
                Ut = !0;
            },
            string2hex: jt,
            trimCanvas: pe,
            uid: se,
            url: Lt,
            isMobile: L,
            EventEmitter: H,
            earcut: Y,
        },
        ge = 2 * Math.PI,
        Te = 180 / Math.PI,
        be = Math.PI / 180;
    (($.SHAPES = void 0), ((Ls = $.SHAPES || ($.SHAPES = {}))[(Ls.POLY = 0)] = 'POLY'), (Ls[(Ls.RECT = 1)] = 'RECT'), (Ls[(Ls.CIRC = 2)] = 'CIRC'), (Ls[(Ls.ELIP = 3)] = 'ELIP'), (Ls[(Ls.RREC = 4)] = 'RREC'));
    var xe =
        ((Re.prototype.clone = function () {
            return new Re(this.x, this.y);
        }),
        (Re.prototype.copyFrom = function (t) {
            return (this.set(t.x, t.y), this);
        }),
        (Re.prototype.copyTo = function (t) {
            return (t.set(this.x, this.y), t);
        }),
        (Re.prototype.equals = function (t) {
            return t.x === this.x && t.y === this.y;
        }),
        (Re.prototype.set = function (t, e) {
            return (void 0 === t && (t = 0), void 0 === e && (e = t), (this.x = t), (this.y = e), this);
        }),
        (Re.prototype.toString = function () {
            return '[@pixi/math:Point x=' + this.x + ' y=' + this.y + ']';
        }),
        Re);
    function Re(t, e) {
        (void 0 === t && (t = 0), void 0 === e && (e = 0), (this.x = 0), (this.y = 0), (this.x = t), (this.y = e));
    }
    var Ae = [new xe(), new xe(), new xe(), new xe()],
        Se =
            (Object.defineProperty(Oe.prototype, 'left', {
                get: function () {
                    return this.x;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Oe.prototype, 'right', {
                get: function () {
                    return this.x + this.width;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Oe.prototype, 'top', {
                get: function () {
                    return this.y;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Oe.prototype, 'bottom', {
                get: function () {
                    return this.y + this.height;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Oe, 'EMPTY', {
                get: function () {
                    return new Oe(0, 0, 0, 0);
                },
                enumerable: !1,
                configurable: !0,
            }),
            (Oe.prototype.clone = function () {
                return new Oe(this.x, this.y, this.width, this.height);
            }),
            (Oe.prototype.copyFrom = function (t) {
                return ((this.x = t.x), (this.y = t.y), (this.width = t.width), (this.height = t.height), this);
            }),
            (Oe.prototype.copyTo = function (t) {
                return ((t.x = this.x), (t.y = this.y), (t.width = this.width), (t.height = this.height), t);
            }),
            (Oe.prototype.contains = function (t, e) {
                return !(this.width <= 0 || this.height <= 0) && t >= this.x && t < this.x + this.width && e >= this.y && e < this.y + this.height;
            }),
            (Oe.prototype.intersects = function (t, e) {
                if (!e) {
                    var r = (this.x < t.x ? t : this).x;
                    return (this.right > t.right ? t : this).right <= r ? !1 : (this.y < t.y ? t : this).y < (this.bottom > t.bottom ? t : this).bottom;
                }
                var i = this.left,
                    n = this.right,
                    o = this.top,
                    s = this.bottom;
                if (n <= i || s <= o) return !1;
                var a = Ae[0].set(t.left, t.top),
                    h = Ae[1].set(t.left, t.bottom),
                    u = Ae[2].set(t.right, t.top),
                    l = Ae[3].set(t.right, t.bottom);
                if (u.x <= a.x || h.y <= a.y) return !1;
                var c = Math.sign(e.a * e.d - e.b * e.c);
                if (0 === c) return !1;
                if ((e.apply(a, a), e.apply(h, h), e.apply(u, u), e.apply(l, l), Math.max(a.x, h.x, u.x, l.x) <= i || Math.min(a.x, h.x, u.x, l.x) >= n || Math.max(a.y, h.y, u.y, l.y) <= o || Math.min(a.y, h.y, u.y, l.y) >= s)) return !1;
                var d = c * (h.y - a.y),
                    f = c * (a.x - h.x),
                    r = d * i + f * o,
                    t = d * n + f * o,
                    e = d * i + f * s,
                    h = d * n + f * s;
                if (Math.max(r, t, e, h) <= d * a.x + f * a.y || Math.min(r, t, e, h) >= d * l.x + f * l.y) return !1;
                ((f = c * (a.y - u.y)), (c *= u.x - a.x), (u = f * i + c * o), (o = f * n + c * o), (i = f * i + c * s), (s = f * n + c * s));
                return !(Math.max(u, o, i, s) <= f * a.x + c * a.y || Math.min(u, o, i, s) >= f * l.x + c * l.y);
            }),
            (Oe.prototype.pad = function (t, e) {
                return (void 0 === t && (t = 0), void 0 === e && (e = t), (this.x -= t), (this.y -= e), (this.width += 2 * t), (this.height += 2 * e), this);
            }),
            (Oe.prototype.fit = function (t) {
                var e = Math.max(this.x, t.x),
                    r = Math.min(this.x + this.width, t.x + t.width),
                    i = Math.max(this.y, t.y),
                    t = Math.min(this.y + this.height, t.y + t.height);
                return ((this.x = e), (this.width = Math.max(r - e, 0)), (this.y = i), (this.height = Math.max(t - i, 0)), this);
            }),
            (Oe.prototype.ceil = function (t, e) {
                (void 0 === t && (t = 1), void 0 === e && (e = 0.001));
                var r = Math.ceil((this.x + this.width - e) * t) / t,
                    i = Math.ceil((this.y + this.height - e) * t) / t;
                return ((this.x = Math.floor((this.x + e) * t) / t), (this.y = Math.floor((this.y + e) * t) / t), (this.width = r - this.x), (this.height = i - this.y), this);
            }),
            (Oe.prototype.enlarge = function (t) {
                var e = Math.min(this.x, t.x),
                    r = Math.max(this.x + this.width, t.x + t.width),
                    i = Math.min(this.y, t.y),
                    t = Math.max(this.y + this.height, t.y + t.height);
                return ((this.x = e), (this.width = r - e), (this.y = i), (this.height = t - i), this);
            }),
            (Oe.prototype.toString = function () {
                return '[@pixi/math:Rectangle x=' + this.x + ' y=' + this.y + ' width=' + this.width + ' height=' + this.height + ']';
            }),
            Oe);
    function Oe(t, e, r, i) {
        (void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === r && (r = 0), void 0 === i && (i = 0), (this.x = Number(t)), (this.y = Number(e)), (this.width = Number(r)), (this.height = Number(i)), (this.type = $.SHAPES.RECT));
    }
    var Ie =
        ((Me.prototype.clone = function () {
            return new Me(this.x, this.y, this.radius);
        }),
        (Me.prototype.contains = function (t, e) {
            if (this.radius <= 0) return !1;
            var r = this.radius * this.radius,
                t = this.x - t,
                e = this.y - e;
            return (t *= t) + (e *= e) <= r;
        }),
        (Me.prototype.getBounds = function () {
            return new Se(this.x - this.radius, this.y - this.radius, 2 * this.radius, 2 * this.radius);
        }),
        (Me.prototype.toString = function () {
            return '[@pixi/math:Circle x=' + this.x + ' y=' + this.y + ' radius=' + this.radius + ']';
        }),
        Me);
    function Me(t, e, r) {
        (void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === r && (r = 0), (this.x = t), (this.y = e), (this.radius = r), (this.type = $.SHAPES.CIRC));
    }
    var Ne =
        ((Pe.prototype.clone = function () {
            return new Pe(this.x, this.y, this.width, this.height);
        }),
        (Pe.prototype.contains = function (t, e) {
            if (this.width <= 0 || this.height <= 0) return !1;
            ((t = (t - this.x) / this.width), (e = (e - this.y) / this.height));
            return (t *= t) + (e *= e) <= 1;
        }),
        (Pe.prototype.getBounds = function () {
            return new Se(this.x - this.width, this.y - this.height, this.width, this.height);
        }),
        (Pe.prototype.toString = function () {
            return '[@pixi/math:Ellipse x=' + this.x + ' y=' + this.y + ' width=' + this.width + ' height=' + this.height + ']';
        }),
        Pe);
    function Pe(t, e, r, i) {
        (void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === r && (r = 0), void 0 === i && (i = 0), (this.x = t), (this.y = e), (this.width = r), (this.height = i), (this.type = $.SHAPES.ELIP));
    }
    var De =
        ((Ce.prototype.clone = function () {
            var t = new Ce(this.points.slice());
            return ((t.closeStroke = this.closeStroke), t);
        }),
        (Ce.prototype.contains = function (t, e) {
            for (var r = !1, i = this.points.length / 2, n = 0, o = i - 1; n < i; o = n++) {
                var s = this.points[2 * n],
                    a = this.points[2 * n + 1],
                    h = this.points[2 * o],
                    u = this.points[2 * o + 1];
                e < a != e < u && t < ((e - a) / (u - a)) * (h - s) + s && (r = !r);
            }
            return r;
        }),
        (Ce.prototype.toString = function () {
            return (
                '[@pixi/math:PolygoncloseStroke=' +
                this.closeStroke +
                'points=' +
                this.points.reduce(function (t, e) {
                    return t + ', ' + e;
                }, '') +
                ']'
            );
        }),
        Ce);
    function Ce() {
        for (var t = arguments, e = [], r = 0; r < arguments.length; r++) e[r] = t[r];
        var i = Array.isArray(e[0]) ? e[0] : e;
        if ('number' != typeof i[0]) {
            for (var n = [], o = 0, s = i.length; o < s; o++) n.push(i[o].x, i[o].y);
            i = n;
        }
        ((this.points = i), (this.type = $.SHAPES.POLY), (this.closeStroke = !0));
    }
    var we =
        ((Le.prototype.clone = function () {
            return new Le(this.x, this.y, this.width, this.height, this.radius);
        }),
        (Le.prototype.contains = function (t, e) {
            if (this.width <= 0 || this.height <= 0) return !1;
            if (t >= this.x && t <= this.x + this.width && e >= this.y && e <= this.y + this.height) {
                var r = Math.max(0, Math.min(this.radius, Math.min(this.width, this.height) / 2));
                if ((e >= this.y + r && e <= this.y + this.height - r) || (t >= this.x + r && t <= this.x + this.width - r)) return !0;
                var i = t - (this.x + r),
                    n = e - (this.y + r),
                    o = r * r;
                if (i * i + n * n <= o) return !0;
                if ((i = t - (this.x + this.width - r)) * i + n * n <= o) return !0;
                if (i * i + (n = e - (this.y + this.height - r)) * n <= o) return !0;
                if ((i = t - (this.x + r)) * i + n * n <= o) return !0;
            }
            return !1;
        }),
        (Le.prototype.toString = function () {
            return '[@pixi/math:RoundedRectangle x=' + this.x + ' y=' + this.y + 'width=' + this.width + ' height=' + this.height + ' radius=' + this.radius + ']';
        }),
        Le);
    function Le(t, e, r, i, n) {
        (void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === r && (r = 0), void 0 === i && (i = 0), void 0 === n && (n = 20), (this.x = t), (this.y = e), (this.width = r), (this.height = i), (this.radius = n), (this.type = $.SHAPES.RREC));
    }
    var Fe =
        ((Ue.prototype.clone = function (t, e) {
            return (void 0 === t && (t = this.cb), void 0 === e && (e = this.scope), new Ue(t, e, this._x, this._y));
        }),
        (Ue.prototype.set = function (t, e) {
            return (void 0 === t && (t = 0), void 0 === e && (e = t), (this._x === t && this._y === e) || ((this._x = t), (this._y = e), this.cb.call(this.scope)), this);
        }),
        (Ue.prototype.copyFrom = function (t) {
            return ((this._x === t.x && this._y === t.y) || ((this._x = t.x), (this._y = t.y), this.cb.call(this.scope)), this);
        }),
        (Ue.prototype.copyTo = function (t) {
            return (t.set(this._x, this._y), t);
        }),
        (Ue.prototype.equals = function (t) {
            return t.x === this._x && t.y === this._y;
        }),
        (Ue.prototype.toString = function () {
            return '[@pixi/math:ObservablePoint x=0 y=0 scope=' + this.scope + ']';
        }),
        Object.defineProperty(Ue.prototype, 'x', {
            get: function () {
                return this._x;
            },
            set: function (t) {
                this._x !== t && ((this._x = t), this.cb.call(this.scope));
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(Ue.prototype, 'y', {
            get: function () {
                return this._y;
            },
            set: function (t) {
                this._y !== t && ((this._y = t), this.cb.call(this.scope));
            },
            enumerable: !1,
            configurable: !0,
        }),
        Ue);
    function Ue(t, e, r, i) {
        (void 0 === r && (r = 0), void 0 === i && (i = 0), (this._x = r), (this._y = i), (this.cb = t), (this.scope = e));
    }
    var Be =
        ((Ge.prototype.fromArray = function (t) {
            ((this.a = t[0]), (this.b = t[1]), (this.c = t[3]), (this.d = t[4]), (this.tx = t[2]), (this.ty = t[5]));
        }),
        (Ge.prototype.set = function (t, e, r, i, n, o) {
            return ((this.a = t), (this.b = e), (this.c = r), (this.d = i), (this.tx = n), (this.ty = o), this);
        }),
        (Ge.prototype.toArray = function (t, e) {
            this.array || (this.array = new Float32Array(9));
            e = e || this.array;
            return (t ? ((e[0] = this.a), (e[1] = this.b), (e[2] = 0), (e[3] = this.c), (e[4] = this.d), (e[5] = 0), (e[6] = this.tx), (e[7] = this.ty)) : ((e[0] = this.a), (e[1] = this.c), (e[2] = this.tx), (e[3] = this.b), (e[4] = this.d), (e[5] = this.ty), (e[6] = 0), (e[7] = 0)), (e[8] = 1), e);
        }),
        (Ge.prototype.apply = function (t, e) {
            e = e || new xe();
            var r = t.x,
                t = t.y;
            return ((e.x = this.a * r + this.c * t + this.tx), (e.y = this.b * r + this.d * t + this.ty), e);
        }),
        (Ge.prototype.applyInverse = function (t, e) {
            e = e || new xe();
            var r = 1 / (this.a * this.d + this.c * -this.b),
                i = t.x,
                t = t.y;
            return ((e.x = this.d * r * i + -this.c * r * t + (this.ty * this.c - this.tx * this.d) * r), (e.y = this.a * r * t + -this.b * r * i + (-this.ty * this.a + this.tx * this.b) * r), e);
        }),
        (Ge.prototype.translate = function (t, e) {
            return ((this.tx += t), (this.ty += e), this);
        }),
        (Ge.prototype.scale = function (t, e) {
            return ((this.a *= t), (this.d *= e), (this.c *= t), (this.b *= e), (this.tx *= t), (this.ty *= e), this);
        }),
        (Ge.prototype.rotate = function (t) {
            var e = Math.cos(t),
                r = Math.sin(t),
                i = this.a,
                n = this.c,
                t = this.tx;
            return ((this.a = i * e - this.b * r), (this.b = i * r + this.b * e), (this.c = n * e - this.d * r), (this.d = n * r + this.d * e), (this.tx = t * e - this.ty * r), (this.ty = t * r + this.ty * e), this);
        }),
        (Ge.prototype.append = function (t) {
            var e = this.a,
                r = this.b,
                i = this.c,
                n = this.d;
            return ((this.a = t.a * e + t.b * i), (this.b = t.a * r + t.b * n), (this.c = t.c * e + t.d * i), (this.d = t.c * r + t.d * n), (this.tx = t.tx * e + t.ty * i + this.tx), (this.ty = t.tx * r + t.ty * n + this.ty), this);
        }),
        (Ge.prototype.setTransform = function (t, e, r, i, n, o, s, a, h) {
            return ((this.a = Math.cos(s + h) * n), (this.b = Math.sin(s + h) * n), (this.c = -Math.sin(s - a) * o), (this.d = Math.cos(s - a) * o), (this.tx = t - (r * this.a + i * this.c)), (this.ty = e - (r * this.b + i * this.d)), this);
        }),
        (Ge.prototype.prepend = function (t) {
            var e,
                r,
                i = this.tx;
            return ((1 === t.a && 0 === t.b && 0 === t.c && 1 === t.d) || ((e = this.a), (r = this.c), (this.a = e * t.a + this.b * t.c), (this.b = e * t.b + this.b * t.d), (this.c = r * t.a + this.d * t.c), (this.d = r * t.b + this.d * t.d)), (this.tx = i * t.a + this.ty * t.c + t.tx), (this.ty = i * t.b + this.ty * t.d + t.ty), this);
        }),
        (Ge.prototype.decompose = function (t) {
            var e = this.a,
                r = this.b,
                i = this.c,
                n = this.d,
                o = t.pivot,
                s = -Math.atan2(-i, n),
                a = Math.atan2(r, e),
                h = Math.abs(s + a);
            return (h < 1e-5 || Math.abs(ge - h) < 1e-5 ? ((t.rotation = a), (t.skew.x = t.skew.y = 0)) : ((t.rotation = 0), (t.skew.x = s), (t.skew.y = a)), (t.scale.x = Math.sqrt(e * e + r * r)), (t.scale.y = Math.sqrt(i * i + n * n)), (t.position.x = this.tx + (o.x * e + o.y * i)), (t.position.y = this.ty + (o.x * r + o.y * n)), t);
        }),
        (Ge.prototype.invert = function () {
            var t = this.a,
                e = this.b,
                r = this.c,
                i = this.d,
                n = this.tx,
                o = t * i - e * r;
            return ((this.a = i / o), (this.b = -e / o), (this.c = -r / o), (this.d = t / o), (this.tx = (r * this.ty - i * n) / o), (this.ty = -(t * this.ty - e * n) / o), this);
        }),
        (Ge.prototype.identity = function () {
            return ((this.a = 1), (this.b = 0), (this.c = 0), (this.d = 1), (this.tx = 0), (this.ty = 0), this);
        }),
        (Ge.prototype.clone = function () {
            var t = new Ge();
            return ((t.a = this.a), (t.b = this.b), (t.c = this.c), (t.d = this.d), (t.tx = this.tx), (t.ty = this.ty), t);
        }),
        (Ge.prototype.copyTo = function (t) {
            return ((t.a = this.a), (t.b = this.b), (t.c = this.c), (t.d = this.d), (t.tx = this.tx), (t.ty = this.ty), t);
        }),
        (Ge.prototype.copyFrom = function (t) {
            return ((this.a = t.a), (this.b = t.b), (this.c = t.c), (this.d = t.d), (this.tx = t.tx), (this.ty = t.ty), this);
        }),
        (Ge.prototype.toString = function () {
            return '[@pixi/math:Matrix a=' + this.a + ' b=' + this.b + ' c=' + this.c + ' d=' + this.d + ' tx=' + this.tx + ' ty=' + this.ty + ']';
        }),
        Object.defineProperty(Ge, 'IDENTITY', {
            get: function () {
                return new Ge();
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(Ge, 'TEMP_MATRIX', {
            get: function () {
                return new Ge();
            },
            enumerable: !1,
            configurable: !0,
        }),
        Ge);
    function Ge(t, e, r, i, n, o) {
        (void 0 === t && (t = 1), void 0 === e && (e = 0), void 0 === r && (r = 0), void 0 === i && (i = 1), void 0 === n && (n = 0), void 0 === o && (o = 0), (this.array = null), (this.a = t), (this.b = e), (this.c = r), (this.d = i), (this.tx = n), (this.ty = o));
    }
    var ke = [1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1, 0, 1],
        Xe = [0, 1, 1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1],
        He = [0, -1, -1, -1, 0, 1, 1, 1, 0, 1, 1, 1, 0, -1, -1, -1],
        Ye = [1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, 1, 1, 1, 0, -1],
        je = [],
        Ve = [],
        We = Math.sign;
    !(function () {
        for (var t = 0; t < 16; t++) {
            var e = [];
            je.push(e);
            for (var r = 0; r < 16; r++)
                for (var i = We(ke[t] * ke[r] + He[t] * Xe[r]), n = We(Xe[t] * ke[r] + Ye[t] * Xe[r]), o = We(ke[t] * He[r] + He[t] * Ye[r]), s = We(Xe[t] * He[r] + Ye[t] * Ye[r]), a = 0; a < 16; a++)
                    if (ke[a] === i && Xe[a] === n && He[a] === o && Ye[a] === s) {
                        e.push(a);
                        break;
                    }
        }
        for (t = 0; t < 16; t++) {
            var h = new Be();
            (h.set(ke[t], Xe[t], He[t], Ye[t], 0, 0), Ve.push(h));
        }
    })();
    var ze = {
            E: 0,
            SE: 1,
            S: 2,
            SW: 3,
            W: 4,
            NW: 5,
            N: 6,
            NE: 7,
            MIRROR_VERTICAL: 8,
            MAIN_DIAGONAL: 10,
            MIRROR_HORIZONTAL: 12,
            REVERSE_DIAGONAL: 14,
            uX: function (t) {
                return ke[t];
            },
            uY: function (t) {
                return Xe[t];
            },
            vX: function (t) {
                return He[t];
            },
            vY: function (t) {
                return Ye[t];
            },
            inv: function (t) {
                return 8 & t ? 15 & t : 7 & -t;
            },
            add: function (t, e) {
                return je[t][e];
            },
            sub: function (t, e) {
                return je[t][ze.inv(e)];
            },
            rotate180: function (t) {
                return 4 ^ t;
            },
            isVertical: function (t) {
                return 2 == (3 & t);
            },
            byDirection: function (t, e) {
                return 2 * Math.abs(t) <= Math.abs(e) ? (0 <= e ? ze.S : ze.N) : 2 * Math.abs(e) <= Math.abs(t) ? (0 < t ? ze.E : ze.W) : 0 < e ? (0 < t ? ze.SE : ze.SW) : 0 < t ? ze.NE : ze.NW;
            },
            matrixAppendRotationInv: function (t, e, r, i) {
                (void 0 === r && (r = 0), void 0 === i && (i = 0));
                e = Ve[ze.inv(e)];
                ((e.tx = r), (e.ty = i), t.append(e));
            },
        },
        qe =
            ((Ke.prototype.onChange = function () {
                this._localID++;
            }),
            (Ke.prototype.updateSkew = function () {
                ((this._cx = Math.cos(this._rotation + this.skew.y)), (this._sx = Math.sin(this._rotation + this.skew.y)), (this._cy = -Math.sin(this._rotation - this.skew.x)), (this._sy = Math.cos(this._rotation - this.skew.x)), this._localID++);
            }),
            (Ke.prototype.toString = function () {
                return '[@pixi/math:Transform position=(' + this.position.x + ', ' + this.position.y + ') rotation=' + this.rotation + ' scale=(' + this.scale.x + ', ' + this.scale.y + ') skew=(' + this.skew.x + ', ' + this.skew.y + ') ]';
            }),
            (Ke.prototype.updateLocalTransform = function () {
                var t = this.localTransform;
                this._localID !== this._currentLocalID && ((t.a = this._cx * this.scale.x), (t.b = this._sx * this.scale.x), (t.c = this._cy * this.scale.y), (t.d = this._sy * this.scale.y), (t.tx = this.position.x - (this.pivot.x * t.a + this.pivot.y * t.c)), (t.ty = this.position.y - (this.pivot.x * t.b + this.pivot.y * t.d)), (this._currentLocalID = this._localID), (this._parentID = -1));
            }),
            (Ke.prototype.updateTransform = function (t) {
                var e,
                    r,
                    i = this.localTransform;
                (this._localID !== this._currentLocalID && ((i.a = this._cx * this.scale.x), (i.b = this._sx * this.scale.x), (i.c = this._cy * this.scale.y), (i.d = this._sy * this.scale.y), (i.tx = this.position.x - (this.pivot.x * i.a + this.pivot.y * i.c)), (i.ty = this.position.y - (this.pivot.x * i.b + this.pivot.y * i.d)), (this._currentLocalID = this._localID), (this._parentID = -1)), this._parentID !== t._worldID && ((e = t.worldTransform), ((r = this.worldTransform).a = i.a * e.a + i.b * e.c), (r.b = i.a * e.b + i.b * e.d), (r.c = i.c * e.a + i.d * e.c), (r.d = i.c * e.b + i.d * e.d), (r.tx = i.tx * e.a + i.ty * e.c + e.tx), (r.ty = i.tx * e.b + i.ty * e.d + e.ty), (this._parentID = t._worldID), this._worldID++));
            }),
            (Ke.prototype.setFromMatrix = function (t) {
                (t.decompose(this), this._localID++);
            }),
            Object.defineProperty(Ke.prototype, 'rotation', {
                get: function () {
                    return this._rotation;
                },
                set: function (t) {
                    this._rotation !== t && ((this._rotation = t), this.updateSkew());
                },
                enumerable: !1,
                configurable: !0,
            }),
            (Ke.IDENTITY = new Ke()),
            Ke);
    function Ke() {
        ((this.worldTransform = new Be()), (this.localTransform = new Be()), (this.position = new Fe(this.onChange, this, 0, 0)), (this.scale = new Fe(this.onChange, this, 1, 1)), (this.pivot = new Fe(this.onChange, this, 0, 0)), (this.skew = new Fe(this.updateSkew, this, 0, 0)), (this._rotation = 0), (this._cx = 1), (this._sx = 0), (this._cy = 0), (this._sy = 1), (this._localID = 0), (this._currentLocalID = 0), (this._worldID = 0), (this._parentID = 0));
    }
    G.SORTABLE_CHILDREN = !1;
    var Ze =
        ((Qe.prototype.isEmpty = function () {
            return this.minX > this.maxX || this.minY > this.maxY;
        }),
        (Qe.prototype.clear = function () {
            ((this.minX = 1 / 0), (this.minY = 1 / 0), (this.maxX = -1 / 0), (this.maxY = -1 / 0));
        }),
        (Qe.prototype.getRectangle = function (t) {
            return this.minX > this.maxX || this.minY > this.maxY ? Se.EMPTY : (((t = t || new Se(0, 0, 1, 1)).x = this.minX), (t.y = this.minY), (t.width = this.maxX - this.minX), (t.height = this.maxY - this.minY), t);
        }),
        (Qe.prototype.addPoint = function (t) {
            ((this.minX = Math.min(this.minX, t.x)), (this.maxX = Math.max(this.maxX, t.x)), (this.minY = Math.min(this.minY, t.y)), (this.maxY = Math.max(this.maxY, t.y)));
        }),
        (Qe.prototype.addPointMatrix = function (t, e) {
            var r = t.a,
                i = t.b,
                n = t.c,
                o = t.d,
                s = t.tx,
                t = t.ty,
                s = r * e.x + n * e.y + s,
                t = i * e.x + o * e.y + t;
            ((this.minX = Math.min(this.minX, s)), (this.maxX = Math.max(this.maxX, s)), (this.minY = Math.min(this.minY, t)), (this.maxY = Math.max(this.maxY, t)));
        }),
        (Qe.prototype.addQuad = function (t) {
            var e = this.minX,
                r = this.minY,
                i = this.maxX,
                n = this.maxY,
                o = t[0],
                s = t[1],
                e = o < e ? o : e,
                r = s < r ? s : r,
                i = i < o ? o : i,
                n = n < s ? s : n;
            ((e = (o = t[2]) < e ? o : e), (r = (s = t[3]) < r ? s : r), (i = i < o ? o : i), (n = n < s ? s : n), (e = (o = t[4]) < e ? o : e), (r = (s = t[5]) < r ? s : r), (i = i < o ? o : i), (n = n < s ? s : n), (e = (o = t[6]) < e ? o : e), (r = (s = t[7]) < r ? s : r), (i = i < o ? o : i), (n = n < s ? s : n), (this.minX = e), (this.minY = r), (this.maxX = i), (this.maxY = n));
        }),
        (Qe.prototype.addFrame = function (t, e, r, i, n) {
            this.addFrameMatrix(t.worldTransform, e, r, i, n);
        }),
        (Qe.prototype.addFrameMatrix = function (t, e, r, i, n) {
            var o = t.a,
                s = t.b,
                a = t.c,
                h = t.d,
                u = t.tx,
                l = t.ty,
                c = o * e + a * r + u,
                d = s * e + h * r + l,
                f = c < (f = this.minX) ? c : f,
                p = d < (p = this.minY) ? d : p,
                _ = (_ = this.maxX) < c ? c : _,
                t = (t = this.maxY) < d ? d : t;
            ((f = (c = o * i + a * r + u) < f ? c : f), (p = (d = s * i + h * r + l) < p ? d : p), (_ = _ < c ? c : _), (t = t < d ? d : t), (f = (c = o * e + a * n + u) < f ? c : f), (p = (d = s * e + h * n + l) < p ? d : p), (_ = _ < c ? c : _), (t = t < d ? d : t), (f = (c = o * i + a * n + u) < f ? c : f), (p = (d = s * i + h * n + l) < p ? d : p), (_ = _ < c ? c : _), (t = t < d ? d : t), (this.minX = f), (this.minY = p), (this.maxX = _), (this.maxY = t));
        }),
        (Qe.prototype.addVertexData = function (t, e, r) {
            for (var i = this.minX, n = this.minY, o = this.maxX, s = this.maxY, a = e; a < r; a += 2) var h = t[a], u = t[a + 1], i = h < i ? h : i, n = u < n ? u : n, o = o < h ? h : o, s = s < u ? u : s;
            ((this.minX = i), (this.minY = n), (this.maxX = o), (this.maxY = s));
        }),
        (Qe.prototype.addVertices = function (t, e, r, i) {
            this.addVerticesMatrix(t.worldTransform, e, r, i);
        }),
        (Qe.prototype.addVerticesMatrix = function (t, e, r, i, n, o) {
            (void 0 === n && (n = 0), void 0 === o && (o = n));
            for (var s = t.a, a = t.b, h = t.c, u = t.d, l = t.tx, c = t.ty, d = this.minX, f = this.minY, p = this.maxX, _ = this.maxY, m = r; m < i; m += 2) var E = e[m], v = e[m + 1], y = s * E + h * v + l, E = u * v + a * E + c, d = Math.min(d, y - n), p = Math.max(p, y + n), f = Math.min(f, E - o), _ = Math.max(_, E + o);
            ((this.minX = d), (this.minY = f), (this.maxX = p), (this.maxY = _));
        }),
        (Qe.prototype.addBounds = function (t) {
            var e = this.minX,
                r = this.minY,
                i = this.maxX,
                n = this.maxY;
            ((this.minX = t.minX < e ? t.minX : e), (this.minY = t.minY < r ? t.minY : r), (this.maxX = t.maxX > i ? t.maxX : i), (this.maxY = t.maxY > n ? t.maxY : n));
        }),
        (Qe.prototype.addBoundsMask = function (t, e) {
            var r,
                i,
                n = (t.minX > e.minX ? t : e).minX,
                o = (t.minY > e.minY ? t : e).minY,
                s = (t.maxX < e.maxX ? t : e).maxX,
                a = (t.maxY < e.maxY ? t : e).maxY;
            n <= s && o <= a && ((r = this.minX), (i = this.minY), (t = this.maxX), (e = this.maxY), (this.minX = n < r ? n : r), (this.minY = o < i ? o : i), (this.maxX = t < s ? s : t), (this.maxY = e < a ? a : e));
        }),
        (Qe.prototype.addBoundsMatrix = function (t, e) {
            this.addFrameMatrix(e, t.minX, t.minY, t.maxX, t.maxY);
        }),
        (Qe.prototype.addBoundsArea = function (t, e) {
            var r,
                i,
                n = t.minX > e.x ? t.minX : e.x,
                o = t.minY > e.y ? t.minY : e.y,
                s = t.maxX < e.x + e.width ? t.maxX : e.x + e.width,
                a = t.maxY < e.y + e.height ? t.maxY : e.y + e.height;
            n <= s && o <= a && ((r = this.minX), (i = this.minY), (t = this.maxX), (e = this.maxY), (this.minX = n < r ? n : r), (this.minY = o < i ? o : i), (this.maxX = t < s ? s : t), (this.maxY = e < a ? a : e));
        }),
        (Qe.prototype.pad = function (t, e) {
            (void 0 === t && (t = 0), void 0 === e && (e = t), this.isEmpty() || ((this.minX -= t), (this.maxX += t), (this.minY -= e), (this.maxY += e)));
        }),
        (Qe.prototype.addFramePad = function (t, e, r, i, n, o) {
            ((t -= n), (e -= o), (r += n), (i += o), (this.minX = this.minX < t ? this.minX : t), (this.maxX = this.maxX > r ? this.maxX : r), (this.minY = this.minY < e ? this.minY : e), (this.maxY = this.maxY > i ? this.maxY : i));
        }),
        Qe);
    function Qe() {
        ((this.minX = 1 / 0), (this.minY = 1 / 0), (this.maxX = -1 / 0), (this.maxY = -1 / 0), (this.rect = null), (this.updateID = -1));
    }
    var Je = function (t, e) {
        return (Je =
            Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array &&
                function (t, e) {
                    t.__proto__ = e;
                }) ||
            function (t, e) {
                for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r]);
            })(t, e);
    };
    function $e(t, e) {
        function r() {
            this.constructor = t;
        }
        (Je(t, e), (t.prototype = null === e ? Object.create(e) : ((r.prototype = e.prototype), new r())));
    }
    var tr,
        er =
            ($e(rr, (tr = H)),
            (rr.mixin = function (t) {
                for (var e = Object.keys(t), r = 0; r < e.length; ++r) {
                    var i = e[r];
                    Object.defineProperty(rr.prototype, i, Object.getOwnPropertyDescriptor(t, i));
                }
            }),
            Object.defineProperty(rr.prototype, 'destroyed', {
                get: function () {
                    return this._destroyed;
                },
                enumerable: !1,
                configurable: !0,
            }),
            (rr.prototype._recursivePostUpdateTransform = function () {
                this.parent ? (this.parent._recursivePostUpdateTransform(), this.transform.updateTransform(this.parent.transform)) : this.transform.updateTransform(this._tempDisplayObjectParent.transform);
            }),
            (rr.prototype.updateTransform = function () {
                (this._boundsID++, this.transform.updateTransform(this.parent.transform), (this.worldAlpha = this.alpha * this.parent.worldAlpha));
            }),
            (rr.prototype.getBounds = function (t, e) {
                return (t || (this.parent ? (this._recursivePostUpdateTransform(), this.updateTransform()) : ((this.parent = this._tempDisplayObjectParent), this.updateTransform(), (this.parent = null))), this._bounds.updateID !== this._boundsID && (this.calculateBounds(), (this._bounds.updateID = this._boundsID)), e || (this._boundsRect || (this._boundsRect = new Se()), (e = this._boundsRect)), this._bounds.getRectangle(e));
            }),
            (rr.prototype.getLocalBounds = function (t) {
                (t || (this._localBoundsRect || (this._localBoundsRect = new Se()), (t = this._localBoundsRect)), this._localBounds || (this._localBounds = new Ze()));
                var e = this.transform,
                    r = this.parent;
                ((this.parent = null), (this.transform = this._tempDisplayObjectParent.transform));
                var i = this._bounds,
                    n = this._boundsID;
                this._bounds = this._localBounds;
                t = this.getBounds(!1, t);
                return ((this.parent = r), (this.transform = e), (this._bounds = i), (this._bounds.updateID += this._boundsID - n), t);
            }),
            (rr.prototype.toGlobal = function (t, e, r) {
                return (void 0 === r && (r = !1), r || (this._recursivePostUpdateTransform(), this.parent ? this.displayObjectUpdateTransform() : ((this.parent = this._tempDisplayObjectParent), this.displayObjectUpdateTransform(), (this.parent = null))), this.worldTransform.apply(t, e));
            }),
            (rr.prototype.toLocal = function (t, e, r, i) {
                return (e && (t = e.toGlobal(t, r, i)), i || (this._recursivePostUpdateTransform(), this.parent ? this.displayObjectUpdateTransform() : ((this.parent = this._tempDisplayObjectParent), this.displayObjectUpdateTransform(), (this.parent = null))), this.worldTransform.applyInverse(t, r));
            }),
            (rr.prototype.setParent = function (t) {
                if (!t || !t.addChild) throw new Error('setParent: Argument must be a Container');
                return (t.addChild(this), t);
            }),
            (rr.prototype.setTransform = function (t, e, r, i, n, o, s, a, h) {
                return (void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === r && (r = 1), void 0 === i && (i = 1), void 0 === n && (n = 0), void 0 === o && (o = 0), void 0 === s && (s = 0), void 0 === a && (a = 0), void 0 === h && (h = 0), (this.position.x = t), (this.position.y = e), (this.scale.x = r || 1), (this.scale.y = i || 1), (this.rotation = n), (this.skew.x = o), (this.skew.y = s), (this.pivot.x = a), (this.pivot.y = h), this);
            }),
            (rr.prototype.destroy = function (t) {
                (this.parent && this.parent.removeChild(this), (this._destroyed = !0), (this.transform = null), (this.parent = null), (this._bounds = null), (this.mask = null), (this.cullArea = null), (this.filters = null), (this.filterArea = null), (this.hitArea = null), (this.interactive = !1), (this.interactiveChildren = !1), this.emit('destroyed'), this.removeAllListeners());
            }),
            Object.defineProperty(rr.prototype, '_tempDisplayObjectParent', {
                get: function () {
                    return (null === this.tempDisplayObjectParent && (this.tempDisplayObjectParent = new or()), this.tempDisplayObjectParent);
                },
                enumerable: !1,
                configurable: !0,
            }),
            (rr.prototype.enableTempParent = function () {
                var t = this.parent;
                return ((this.parent = this._tempDisplayObjectParent), t);
            }),
            (rr.prototype.disableTempParent = function (t) {
                this.parent = t;
            }),
            Object.defineProperty(rr.prototype, 'x', {
                get: function () {
                    return this.position.x;
                },
                set: function (t) {
                    this.transform.position.x = t;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(rr.prototype, 'y', {
                get: function () {
                    return this.position.y;
                },
                set: function (t) {
                    this.transform.position.y = t;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(rr.prototype, 'worldTransform', {
                get: function () {
                    return this.transform.worldTransform;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(rr.prototype, 'localTransform', {
                get: function () {
                    return this.transform.localTransform;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(rr.prototype, 'position', {
                get: function () {
                    return this.transform.position;
                },
                set: function (t) {
                    this.transform.position.copyFrom(t);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(rr.prototype, 'scale', {
                get: function () {
                    return this.transform.scale;
                },
                set: function (t) {
                    this.transform.scale.copyFrom(t);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(rr.prototype, 'pivot', {
                get: function () {
                    return this.transform.pivot;
                },
                set: function (t) {
                    this.transform.pivot.copyFrom(t);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(rr.prototype, 'skew', {
                get: function () {
                    return this.transform.skew;
                },
                set: function (t) {
                    this.transform.skew.copyFrom(t);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(rr.prototype, 'rotation', {
                get: function () {
                    return this.transform.rotation;
                },
                set: function (t) {
                    this.transform.rotation = t;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(rr.prototype, 'angle', {
                get: function () {
                    return this.transform.rotation * Te;
                },
                set: function (t) {
                    this.transform.rotation = t * be;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(rr.prototype, 'zIndex', {
                get: function () {
                    return this._zIndex;
                },
                set: function (t) {
                    ((this._zIndex = t), this.parent && (this.parent.sortDirty = !0));
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(rr.prototype, 'worldVisible', {
                get: function () {
                    var t = this;
                    do {
                        if (!t.visible) return !1;
                    } while ((t = t.parent));
                    return !0;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(rr.prototype, 'mask', {
                get: function () {
                    return this._mask;
                },
                set: function (t) {
                    var e;
                    this._mask !== t && (this._mask && ((e = this._mask.maskObject || this._mask)._maskRefCount--, 0 === e._maskRefCount && ((e.renderable = !0), (e.isMask = !1))), (this._mask = t), this._mask && (0 === (e = this._mask.maskObject || this._mask)._maskRefCount && ((e.renderable = !1), (e.isMask = !0)), e._maskRefCount++));
                },
                enumerable: !1,
                configurable: !0,
            }),
            rr);
    function rr() {
        var t = tr.call(this) || this;
        return ((t.tempDisplayObjectParent = null), (t.transform = new qe()), (t.alpha = 1), (t.visible = !0), (t.renderable = !0), (t.cullable = !1), (t.cullArea = null), (t.parent = null), (t.worldAlpha = 1), (t._lastSortedIndex = 0), (t._zIndex = 0), (t.filterArea = null), (t.filters = null), (t._enabledFilters = null), (t._bounds = new Ze()), (t._localBounds = null), (t._boundsID = 0), (t._boundsRect = null), (t._localBoundsRect = null), (t._mask = null), (t._maskRefCount = 0), (t._destroyed = !1), (t.isSprite = !1), (t.isMask = !1), t);
    }
    var ir,
        nr,
        or = ($e(sr, (ir = er)), sr);
    function sr() {
        var t = (null !== ir && ir.apply(this, arguments)) || this;
        return ((t.sortDirty = null), t);
    }
    function ar(t, e) {
        return t.zIndex === e.zIndex ? t._lastSortedIndex - e._lastSortedIndex : t.zIndex - e.zIndex;
    }
    ((er.prototype.displayObjectUpdateTransform = er.prototype.updateTransform),
        ((Us = {})[(Us.WEBGL_LEGACY = 0)] = 'WEBGL_LEGACY'),
        (Us[(Us.WEBGL = 1)] = 'WEBGL'),
        (Us[(Us.WEBGL2 = 2)] = 'WEBGL2'),
        ((kl = {})[(kl.UNKNOWN = 0)] = 'UNKNOWN'),
        (kl[(kl.WEBGL = 1)] = 'WEBGL'),
        (kl[(kl.CANVAS = 2)] = 'CANVAS'),
        ((oc = {})[(oc.COLOR = 16384)] = 'COLOR'),
        (oc[(oc.DEPTH = 256)] = 'DEPTH'),
        (oc[(oc.STENCIL = 1024)] = 'STENCIL'),
        ((uc = {})[(uc.NORMAL = 0)] = 'NORMAL'),
        (uc[(uc.ADD = 1)] = 'ADD'),
        (uc[(uc.MULTIPLY = 2)] = 'MULTIPLY'),
        (uc[(uc.SCREEN = 3)] = 'SCREEN'),
        (uc[(uc.OVERLAY = 4)] = 'OVERLAY'),
        (uc[(uc.DARKEN = 5)] = 'DARKEN'),
        (uc[(uc.LIGHTEN = 6)] = 'LIGHTEN'),
        (uc[(uc.COLOR_DODGE = 7)] = 'COLOR_DODGE'),
        (uc[(uc.COLOR_BURN = 8)] = 'COLOR_BURN'),
        (uc[(uc.HARD_LIGHT = 9)] = 'HARD_LIGHT'),
        (uc[(uc.SOFT_LIGHT = 10)] = 'SOFT_LIGHT'),
        (uc[(uc.DIFFERENCE = 11)] = 'DIFFERENCE'),
        (uc[(uc.EXCLUSION = 12)] = 'EXCLUSION'),
        (uc[(uc.HUE = 13)] = 'HUE'),
        (uc[(uc.SATURATION = 14)] = 'SATURATION'),
        (uc[(uc.COLOR = 15)] = 'COLOR'),
        (uc[(uc.LUMINOSITY = 16)] = 'LUMINOSITY'),
        (uc[(uc.NORMAL_NPM = 17)] = 'NORMAL_NPM'),
        (uc[(uc.ADD_NPM = 18)] = 'ADD_NPM'),
        (uc[(uc.SCREEN_NPM = 19)] = 'SCREEN_NPM'),
        (uc[(uc.NONE = 20)] = 'NONE'),
        (uc[(uc.SRC_OVER = 0)] = 'SRC_OVER'),
        (uc[(uc.SRC_IN = 21)] = 'SRC_IN'),
        (uc[(uc.SRC_OUT = 22)] = 'SRC_OUT'),
        (uc[(uc.SRC_ATOP = 23)] = 'SRC_ATOP'),
        (uc[(uc.DST_OVER = 24)] = 'DST_OVER'),
        (uc[(uc.DST_IN = 25)] = 'DST_IN'),
        (uc[(uc.DST_OUT = 26)] = 'DST_OUT'),
        (uc[(uc.DST_ATOP = 27)] = 'DST_ATOP'),
        (uc[(uc.ERASE = 26)] = 'ERASE'),
        (uc[(uc.SUBTRACT = 28)] = 'SUBTRACT'),
        (uc[(uc.XOR = 29)] = 'XOR'),
        ((Oc = {})[(Oc.POINTS = 0)] = 'POINTS'),
        (Oc[(Oc.LINES = 1)] = 'LINES'),
        (Oc[(Oc.LINE_LOOP = 2)] = 'LINE_LOOP'),
        (Oc[(Oc.LINE_STRIP = 3)] = 'LINE_STRIP'),
        (Oc[(Oc.TRIANGLES = 4)] = 'TRIANGLES'),
        (Oc[(Oc.TRIANGLE_STRIP = 5)] = 'TRIANGLE_STRIP'),
        (Oc[(Oc.TRIANGLE_FAN = 6)] = 'TRIANGLE_FAN'),
        ((Eh = {})[(Eh.RGBA = 6408)] = 'RGBA'),
        (Eh[(Eh.RGB = 6407)] = 'RGB'),
        (Eh[(Eh.RG = 33319)] = 'RG'),
        (Eh[(Eh.RED = 6403)] = 'RED'),
        (Eh[(Eh.RGBA_INTEGER = 36249)] = 'RGBA_INTEGER'),
        (Eh[(Eh.RGB_INTEGER = 36248)] = 'RGB_INTEGER'),
        (Eh[(Eh.RG_INTEGER = 33320)] = 'RG_INTEGER'),
        (Eh[(Eh.RED_INTEGER = 36244)] = 'RED_INTEGER'),
        (Eh[(Eh.ALPHA = 6406)] = 'ALPHA'),
        (Eh[(Eh.LUMINANCE = 6409)] = 'LUMINANCE'),
        (Eh[(Eh.LUMINANCE_ALPHA = 6410)] = 'LUMINANCE_ALPHA'),
        (Eh[(Eh.DEPTH_COMPONENT = 6402)] = 'DEPTH_COMPONENT'),
        (Eh[(Eh.DEPTH_STENCIL = 34041)] = 'DEPTH_STENCIL'),
        ((bd = {})[(bd.TEXTURE_2D = 3553)] = 'TEXTURE_2D'),
        (bd[(bd.TEXTURE_CUBE_MAP = 34067)] = 'TEXTURE_CUBE_MAP'),
        (bd[(bd.TEXTURE_2D_ARRAY = 35866)] = 'TEXTURE_2D_ARRAY'),
        (bd[(bd.TEXTURE_CUBE_MAP_POSITIVE_X = 34069)] = 'TEXTURE_CUBE_MAP_POSITIVE_X'),
        (bd[(bd.TEXTURE_CUBE_MAP_NEGATIVE_X = 34070)] = 'TEXTURE_CUBE_MAP_NEGATIVE_X'),
        (bd[(bd.TEXTURE_CUBE_MAP_POSITIVE_Y = 34071)] = 'TEXTURE_CUBE_MAP_POSITIVE_Y'),
        (bd[(bd.TEXTURE_CUBE_MAP_NEGATIVE_Y = 34072)] = 'TEXTURE_CUBE_MAP_NEGATIVE_Y'),
        (bd[(bd.TEXTURE_CUBE_MAP_POSITIVE_Z = 34073)] = 'TEXTURE_CUBE_MAP_POSITIVE_Z'),
        (bd[(bd.TEXTURE_CUBE_MAP_NEGATIVE_Z = 34074)] = 'TEXTURE_CUBE_MAP_NEGATIVE_Z'),
        ((xd = {})[(xd.UNSIGNED_BYTE = 5121)] = 'UNSIGNED_BYTE'),
        (xd[(xd.UNSIGNED_SHORT = 5123)] = 'UNSIGNED_SHORT'),
        (xd[(xd.UNSIGNED_SHORT_5_6_5 = 33635)] = 'UNSIGNED_SHORT_5_6_5'),
        (xd[(xd.UNSIGNED_SHORT_4_4_4_4 = 32819)] = 'UNSIGNED_SHORT_4_4_4_4'),
        (xd[(xd.UNSIGNED_SHORT_5_5_5_1 = 32820)] = 'UNSIGNED_SHORT_5_5_5_1'),
        (xd[(xd.UNSIGNED_INT = 5125)] = 'UNSIGNED_INT'),
        (xd[(xd.UNSIGNED_INT_10F_11F_11F_REV = 35899)] = 'UNSIGNED_INT_10F_11F_11F_REV'),
        (xd[(xd.UNSIGNED_INT_2_10_10_10_REV = 33640)] = 'UNSIGNED_INT_2_10_10_10_REV'),
        (xd[(xd.UNSIGNED_INT_24_8 = 34042)] = 'UNSIGNED_INT_24_8'),
        (xd[(xd.UNSIGNED_INT_5_9_9_9_REV = 35902)] = 'UNSIGNED_INT_5_9_9_9_REV'),
        (xd[(xd.BYTE = 5120)] = 'BYTE'),
        (xd[(xd.SHORT = 5122)] = 'SHORT'),
        (xd[(xd.INT = 5124)] = 'INT'),
        (xd[(xd.FLOAT = 5126)] = 'FLOAT'),
        (xd[(xd.FLOAT_32_UNSIGNED_INT_24_8_REV = 36269)] = 'FLOAT_32_UNSIGNED_INT_24_8_REV'),
        (xd[(xd.HALF_FLOAT = 36193)] = 'HALF_FLOAT'),
        ((Rd = {})[(Rd.FLOAT = 0)] = 'FLOAT'),
        (Rd[(Rd.INT = 1)] = 'INT'),
        (Rd[(Rd.UINT = 2)] = 'UINT'),
        ((wh = {})[(wh.NEAREST = 0)] = 'NEAREST'),
        (wh[(wh.LINEAR = 1)] = 'LINEAR'),
        ((Gh = {})[(Gh.CLAMP = 33071)] = 'CLAMP'),
        (Gh[(Gh.REPEAT = 10497)] = 'REPEAT'),
        (Gh[(Gh.MIRRORED_REPEAT = 33648)] = 'MIRRORED_REPEAT'),
        ((j = {})[(j.OFF = 0)] = 'OFF'),
        (j[(j.POW2 = 1)] = 'POW2'),
        (j[(j.ON = 2)] = 'ON'),
        (j[(j.ON_MANUAL = 3)] = 'ON_MANUAL'),
        ((At = {})[(At.NPM = 0)] = 'NPM'),
        (At[(At.UNPACK = 1)] = 'UNPACK'),
        (At[(At.PMA = 2)] = 'PMA'),
        (At[(At.NO_PREMULTIPLIED_ALPHA = 0)] = 'NO_PREMULTIPLIED_ALPHA'),
        (At[(At.PREMULTIPLY_ON_UPLOAD = 1)] = 'PREMULTIPLY_ON_UPLOAD'),
        (At[(At.PREMULTIPLY_ALPHA = 2)] = 'PREMULTIPLY_ALPHA'),
        (At[(At.PREMULTIPLIED_ALPHA = 2)] = 'PREMULTIPLIED_ALPHA'),
        ((vt = {})[(vt.NO = 0)] = 'NO'),
        (vt[(vt.YES = 1)] = 'YES'),
        (vt[(vt.AUTO = 2)] = 'AUTO'),
        (vt[(vt.BLEND = 0)] = 'BLEND'),
        (vt[(vt.CLEAR = 1)] = 'CLEAR'),
        (vt[(vt.BLIT = 2)] = 'BLIT'),
        ((gt = {})[(gt.AUTO = 0)] = 'AUTO'),
        (gt[(gt.MANUAL = 1)] = 'MANUAL'),
        ((eu = {}).LOW = 'lowp'),
        (eu.MEDIUM = 'mediump'),
        (eu.HIGH = 'highp'),
        ((kc = nr = nr || {})[(kc.NONE = 0)] = 'NONE'),
        (kc[(kc.SCISSOR = 1)] = 'SCISSOR'),
        (kc[(kc.STENCIL = 2)] = 'STENCIL'),
        (kc[(kc.SPRITE = 3)] = 'SPRITE'),
        ((Pu = {})[(Pu.NONE = 0)] = 'NONE'),
        (Pu[(Pu.LOW = 2)] = 'LOW'),
        (Pu[(Pu.MEDIUM = 4)] = 'MEDIUM'),
        (Pu[(Pu.HIGH = 8)] = 'HIGH'),
        ((ya = {})[(ya.ELEMENT_ARRAY_BUFFER = 34963)] = 'ELEMENT_ARRAY_BUFFER'),
        (ya[(ya.ARRAY_BUFFER = 34962)] = 'ARRAY_BUFFER'),
        (ya[(ya.UNIFORM_BUFFER = 35345)] = 'UNIFORM_BUFFER'));
    var hr,
        ur =
            ($e(lr, (hr = er)),
            (lr.prototype.onChildrenChange = function (t) {}),
            (lr.prototype.addChild = function () {
                for (var t = arguments, e = [], r = 0; r < arguments.length; r++) e[r] = t[r];
                if (1 < e.length) for (var i = 0; i < e.length; i++) this.addChild(e[i]);
                else {
                    var n = e[0];
                    (n.parent && n.parent.removeChild(n), ((n.parent = this).sortDirty = !0), (n.transform._parentID = -1), this.children.push(n), this._boundsID++, this.onChildrenChange(this.children.length - 1), this.emit('childAdded', n, this, this.children.length - 1), n.emit('added', this));
                }
                return e[0];
            }),
            (lr.prototype.addChildAt = function (t, e) {
                if (e < 0 || e > this.children.length) throw new Error(t + 'addChildAt: The index ' + e + ' supplied is out of bounds ' + this.children.length);
                return (t.parent && t.parent.removeChild(t), ((t.parent = this).sortDirty = !0), (t.transform._parentID = -1), this.children.splice(e, 0, t), this._boundsID++, this.onChildrenChange(e), t.emit('added', this), this.emit('childAdded', t, this, e), t);
            }),
            (lr.prototype.swapChildren = function (t, e) {
                var r, i;
                t !== e && ((r = this.getChildIndex(t)), (i = this.getChildIndex(e)), (this.children[r] = e), (this.children[i] = t), this.onChildrenChange(r < i ? r : i));
            }),
            (lr.prototype.getChildIndex = function (t) {
                t = this.children.indexOf(t);
                if (-1 === t) throw new Error('The supplied DisplayObject must be a child of the caller');
                return t;
            }),
            (lr.prototype.setChildIndex = function (t, e) {
                if (e < 0 || e >= this.children.length) throw new Error('The index ' + e + ' supplied is out of bounds ' + this.children.length);
                var r = this.getChildIndex(t);
                (ie(this.children, r, 1), this.children.splice(e, 0, t), this.onChildrenChange(e));
            }),
            (lr.prototype.getChildAt = function (t) {
                if (t < 0 || t >= this.children.length) throw new Error('getChildAt: Index (' + t + ') does not exist.');
                return this.children[t];
            }),
            (lr.prototype.removeChild = function () {
                for (var t = arguments, e = [], r = 0; r < arguments.length; r++) e[r] = t[r];
                if (1 < e.length) for (var i = 0; i < e.length; i++) this.removeChild(e[i]);
                else {
                    var n = e[0],
                        o = this.children.indexOf(n);
                    if (-1 === o) return null;
                    ((n.parent = null), (n.transform._parentID = -1), ie(this.children, o, 1), this._boundsID++, this.onChildrenChange(o), n.emit('removed', this), this.emit('childRemoved', n, this, o));
                }
                return e[0];
            }),
            (lr.prototype.removeChildAt = function (t) {
                var e = this.getChildAt(t);
                return ((e.parent = null), (e.transform._parentID = -1), ie(this.children, t, 1), this._boundsID++, this.onChildrenChange(t), e.emit('removed', this), this.emit('childRemoved', e, this, t), e);
            }),
            (lr.prototype.removeChildren = function (t, e) {
                (void 0 === t && (t = 0), void 0 === e && (e = this.children.length));
                var r,
                    i = e - t;
                if (0 < i && i <= e) {
                    r = this.children.splice(t, i);
                    for (var n = 0; n < r.length; ++n) ((r[n].parent = null), r[n].transform && (r[n].transform._parentID = -1));
                    (this._boundsID++, this.onChildrenChange(t));
                    for (n = 0; n < r.length; ++n) (r[n].emit('removed', this), this.emit('childRemoved', r[n], this, n));
                    return r;
                }
                if (0 == i && 0 === this.children.length) return [];
                throw new RangeError('removeChildren: numeric values are outside the acceptable range.');
            }),
            (lr.prototype.sortChildren = function () {
                for (var t = !1, e = 0, r = this.children.length; e < r; ++e) {
                    var i = this.children[e];
                    ((i._lastSortedIndex = e), t || 0 === i.zIndex || (t = !0));
                }
                (t && 1 < this.children.length && this.children.sort(ar), (this.sortDirty = !1));
            }),
            (lr.prototype.updateTransform = function () {
                (this.sortableChildren && this.sortDirty && this.sortChildren(), this._boundsID++, this.transform.updateTransform(this.parent.transform), (this.worldAlpha = this.alpha * this.parent.worldAlpha));
                for (var t = 0, e = this.children.length; t < e; ++t) {
                    var r = this.children[t];
                    r.visible && r.updateTransform();
                }
            }),
            (lr.prototype.calculateBounds = function () {
                (this._bounds.clear(), this._calculateBounds());
                for (var t = 0; t < this.children.length; t++) {
                    var e,
                        r = this.children[t];
                    r.visible && r.renderable && (r.calculateBounds(), r._mask ? ((e = r._mask.maskObject || r._mask).calculateBounds(), this._bounds.addBoundsMask(r._bounds, e._bounds)) : r.filterArea ? this._bounds.addBoundsArea(r._bounds, r.filterArea) : this._bounds.addBounds(r._bounds));
                }
                this._bounds.updateID = this._boundsID;
            }),
            (lr.prototype.getLocalBounds = function (t, e) {
                void 0 === e && (e = !1);
                t = hr.prototype.getLocalBounds.call(this, t);
                if (!e)
                    for (var r = 0, i = this.children.length; r < i; ++r) {
                        var n = this.children[r];
                        n.visible && n.updateTransform();
                    }
                return t;
            }),
            (lr.prototype._calculateBounds = function () {}),
            (lr.prototype._renderWithCulling = function (t) {
                var e,
                    r,
                    i = t.renderTexture.sourceFrame;
                if (0 < i.width && 0 < i.height) {
                    if ((this.cullArea ? ((e = this.cullArea), (r = this.worldTransform)) : this._render !== lr.prototype._render && (e = this.getBounds(!0)), e && i.intersects(e, r))) this._render(t);
                    else if (this.cullArea) return;
                    for (var n = 0, o = this.children.length; n < o; ++n) {
                        var s = this.children[n],
                            a = s.cullable;
                        ((s.cullable = a || !this.cullArea), s.render(t), (s.cullable = a));
                    }
                }
            }),
            (lr.prototype.render = function (t) {
                if (this.visible && !(this.worldAlpha <= 0) && this.renderable)
                    if (this._mask || (this.filters && this.filters.length)) this.renderAdvanced(t);
                    else if (this.cullable) this._renderWithCulling(t);
                    else {
                        this._render(t);
                        for (var e = 0, r = this.children.length; e < r; ++e) this.children[e].render(t);
                    }
            }),
            (lr.prototype.renderAdvanced = function (t) {
                var e = this.filters,
                    r = this._mask;
                if (e) {
                    this._enabledFilters || (this._enabledFilters = []);
                    for (var i = (this._enabledFilters.length = 0); i < e.length; i++) e[i].enabled && this._enabledFilters.push(e[i]);
                }
                var n = (e && this._enabledFilters && this._enabledFilters.length) || (r && (!r.isMaskData || (r.enabled && (r.autoDetect || r.type !== nr.NONE))));
                if ((n && t.batch.flush(), e && this._enabledFilters && this._enabledFilters.length && t.filter.push(this, this._enabledFilters), r && t.mask.push(this, this._mask), this.cullable)) this._renderWithCulling(t);
                else {
                    this._render(t);
                    for (var i = 0, o = this.children.length; i < o; ++i) this.children[i].render(t);
                }
                (n && t.batch.flush(), r && t.mask.pop(this), e && this._enabledFilters && this._enabledFilters.length && t.filter.pop());
            }),
            (lr.prototype._render = function (t) {}),
            (lr.prototype.destroy = function (t) {
                (hr.prototype.destroy.call(this), (this.sortDirty = !1));
                var e = 'boolean' == typeof t ? t : t && t.children,
                    r = this.removeChildren(0, this.children.length);
                if (e) for (var i = 0; i < r.length; ++i) r[i].destroy(t);
            }),
            Object.defineProperty(lr.prototype, 'width', {
                get: function () {
                    return this.scale.x * this.getLocalBounds().width;
                },
                set: function (t) {
                    var e = this.getLocalBounds().width;
                    ((this.scale.x = 0 !== e ? t / e : 1), (this._width = t));
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(lr.prototype, 'height', {
                get: function () {
                    return this.scale.y * this.getLocalBounds().height;
                },
                set: function (t) {
                    var e = this.getLocalBounds().height;
                    ((this.scale.y = 0 !== e ? t / e : 1), (this._height = t));
                },
                enumerable: !1,
                configurable: !0,
            }),
            lr);
    function lr() {
        var t = hr.call(this) || this;
        return ((t.children = []), (t.sortableChildren = G.SORTABLE_CHILDREN), (t.sortDirty = !1), t);
    }
    ur.prototype.containerUpdateTransform = ur.prototype.updateTransform;
    var cr = { accessible: !1, accessibleTitle: null, accessibleHint: null, tabIndex: 0, _accessibleActive: !1, _accessibleDiv: null, accessibleType: 'button', accessiblePointerEvents: 'auto', accessibleChildren: !0, renderId: -1 };
    er.mixin(cr);
    var dr =
        (Object.defineProperty(fr.prototype, 'isActive', {
            get: function () {
                return this._isActive;
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(fr.prototype, 'isMobileAccessibility', {
            get: function () {
                return this._isMobileAccessibility;
            },
            enumerable: !1,
            configurable: !0,
        }),
        (fr.prototype.createTouchHook = function () {
            var t = this,
                e = document.createElement('button');
            ((e.style.width = '1px'),
                (e.style.height = '1px'),
                (e.style.position = 'absolute'),
                (e.style.top = '-1000px'),
                (e.style.left = '-1000px'),
                (e.style.zIndex = (2).toString()),
                (e.style.backgroundColor = '#FF0000'),
                (e.title = 'select to enable accessibility for this content'),
                e.addEventListener('focus', function () {
                    ((t._isMobileAccessibility = !0), t.activate(), t.destroyTouchHook());
                }),
                document.body.appendChild(e),
                (this._hookDiv = e));
        }),
        (fr.prototype.destroyTouchHook = function () {
            this._hookDiv && (document.body.removeChild(this._hookDiv), (this._hookDiv = null));
        }),
        (fr.prototype.activate = function () {
            var t;
            this._isActive || ((this._isActive = !0), globalThis.document.addEventListener('mousemove', this._onMouseMove, !0), globalThis.removeEventListener('keydown', this._onKeyDown, !1), this.renderer.on('postrender', this.update, this), null !== (t = this.renderer.view.parentNode) && void 0 !== t && t.appendChild(this.div));
        }),
        (fr.prototype.deactivate = function () {
            var t;
            this._isActive && !this._isMobileAccessibility && ((this._isActive = !1), globalThis.document.removeEventListener('mousemove', this._onMouseMove, !0), globalThis.addEventListener('keydown', this._onKeyDown, !1), this.renderer.off('postrender', this.update), null !== (t = this.div.parentNode) && void 0 !== t && t.removeChild(this.div));
        }),
        (fr.prototype.updateAccessibleObjects = function (t) {
            if (t.visible && t.accessibleChildren) {
                t.accessible && t.interactive && (t._accessibleActive || this.addChild(t), (t.renderId = this.renderId));
                var e = t.children;
                if (e) for (var r = 0; r < e.length; r++) this.updateAccessibleObjects(e[r]);
            }
        }),
        (fr.prototype.update = function () {
            var t = performance.now();
            if (!(L.android.device && t < this.androidUpdateCount) && ((this.androidUpdateCount = t + this.androidUpdateFrequency), this.renderer.renderingToScreen)) {
                this.renderer._lastObjectRendered && this.updateAccessibleObjects(this.renderer._lastObjectRendered);
                var e = this.renderer.view.getBoundingClientRect(),
                    r = e.left,
                    i = e.top,
                    n = e.width,
                    o = e.height,
                    s = this.renderer,
                    t = s.width,
                    e = s.height,
                    s = s.resolution,
                    a = (n / t) * s,
                    h = (o / e) * s,
                    u = this.div;
                ((u.style.left = r + 'px'), (u.style.top = i + 'px'), (u.style.width = t + 'px'), (u.style.height = e + 'px'));
                for (var l = 0; l < this.children.length; l++) {
                    var c,
                        d,
                        f = this.children[l];
                    f.renderId !== this.renderId
                        ? ((f._accessibleActive = !1), ie(this.children, l, 1), this.div.removeChild(f._accessibleDiv), this.pool.push(f._accessibleDiv), (f._accessibleDiv = null), l--)
                        : ((u = f._accessibleDiv), (c = f.hitArea), (d = f.worldTransform), f.hitArea ? ((u.style.left = (d.tx + c.x * d.a) * a + 'px'), (u.style.top = (d.ty + c.y * d.d) * h + 'px'), (u.style.width = c.width * d.a * a + 'px'), (u.style.height = c.height * d.d * h + 'px')) : ((c = f.getBounds()), this.capHitArea(c), (u.style.left = c.x * a + 'px'), (u.style.top = c.y * h + 'px'), (u.style.width = c.width * a + 'px'), (u.style.height = c.height * h + 'px'), u.title !== f.accessibleTitle && null !== f.accessibleTitle && (u.title = f.accessibleTitle), u.getAttribute('aria-label') !== f.accessibleHint && null !== f.accessibleHint && u.setAttribute('aria-label', f.accessibleHint)), (f.accessibleTitle === u.title && f.tabIndex === u.tabIndex) || ((u.title = f.accessibleTitle), (u.tabIndex = f.tabIndex), this.debug && this.updateDebugHTML(u)));
                }
                this.renderId++;
            }
        }),
        (fr.prototype.updateDebugHTML = function (t) {
            t.innerHTML = 'type: ' + t.type + '</br> title : ' + t.title + '</br> tabIndex: ' + t.tabIndex;
        }),
        (fr.prototype.capHitArea = function (t) {
            (t.x < 0 && ((t.width += t.x), (t.x = 0)), t.y < 0 && ((t.height += t.y), (t.y = 0)));
            var e = this.renderer,
                r = e.width,
                e = e.height;
            (t.x + t.width > r && (t.width = r - t.x), t.y + t.height > e && (t.height = e - t.y));
        }),
        (fr.prototype.addChild = function (t) {
            var e = this.pool.pop();
            (e || (((e = document.createElement('button')).style.width = '100px'), (e.style.height = '100px'), (e.style.backgroundColor = this.debug ? 'rgba(255,255,255,0.5)' : 'transparent'), (e.style.position = 'absolute'), (e.style.zIndex = (2).toString()), (e.style.borderStyle = 'none'), -1 < navigator.userAgent.toLowerCase().indexOf('chrome') ? e.setAttribute('aria-live', 'off') : e.setAttribute('aria-live', 'polite'), navigator.userAgent.match(/rv:.*Gecko\//) ? e.setAttribute('aria-relevant', 'additions') : e.setAttribute('aria-relevant', 'text'), e.addEventListener('click', this._onClick.bind(this)), e.addEventListener('focus', this._onFocus.bind(this)), e.addEventListener('focusout', this._onFocusOut.bind(this))),
                (e.style.pointerEvents = t.accessiblePointerEvents),
                (e.type = t.accessibleType),
                t.accessibleTitle && null !== t.accessibleTitle ? (e.title = t.accessibleTitle) : (t.accessibleHint && null !== t.accessibleHint) || (e.title = 'displayObject ' + t.tabIndex),
                t.accessibleHint && null !== t.accessibleHint && e.setAttribute('aria-label', t.accessibleHint),
                this.debug && this.updateDebugHTML(e),
                (t._accessibleActive = !0),
                ((t._accessibleDiv = e).displayObject = t),
                this.children.push(t),
                this.div.appendChild(t._accessibleDiv),
                (t._accessibleDiv.tabIndex = t.tabIndex));
        }),
        (fr.prototype._onClick = function (t) {
            var e = this.renderer.plugins.interaction,
                r = t.target.displayObject,
                t = e.eventData;
            (e.dispatchEvent(r, 'click', t), e.dispatchEvent(r, 'pointertap', t), e.dispatchEvent(r, 'tap', t));
        }),
        (fr.prototype._onFocus = function (t) {
            t.target.getAttribute('aria-live') || t.target.setAttribute('aria-live', 'assertive');
            var e = this.renderer.plugins.interaction,
                r = t.target.displayObject,
                t = e.eventData;
            e.dispatchEvent(r, 'mouseover', t);
        }),
        (fr.prototype._onFocusOut = function (t) {
            t.target.getAttribute('aria-live') || t.target.setAttribute('aria-live', 'polite');
            var e = this.renderer.plugins.interaction,
                r = t.target.displayObject,
                t = e.eventData;
            e.dispatchEvent(r, 'mouseout', t);
        }),
        (fr.prototype._onKeyDown = function (t) {
            9 === t.keyCode && this.activate();
        }),
        (fr.prototype._onMouseMove = function (t) {
            (0 === t.movementX && 0 === t.movementY) || this.deactivate();
        }),
        (fr.prototype.destroy = function () {
            (this.destroyTouchHook(), (this.div = null), globalThis.document.removeEventListener('mousemove', this._onMouseMove, !0), globalThis.removeEventListener('keydown', this._onKeyDown), (this.pool = null), (this.children = null), (this.renderer = null));
        }),
        fr);
    function fr(t) {
        ((this.debug = !1), (this._isActive = !1), (this._isMobileAccessibility = !1), (this.pool = []), (this.renderId = 0), (this.children = []), (this.androidUpdateCount = 0), (this.androidUpdateFrequency = 500), (this._hookDiv = null), (L.tablet || L.phone) && this.createTouchHook());
        var e = document.createElement('div');
        ((e.style.width = '100px'), (e.style.height = '100px'), (e.style.position = 'absolute'), (e.style.top = '0px'), (e.style.left = '0px'), (e.style.zIndex = (2).toString()), (this.div = e), (this.renderer = t), (this._onKeyDown = this._onKeyDown.bind(this)), (this._onMouseMove = this._onMouseMove.bind(this)), globalThis.addEventListener('keydown', this._onKeyDown, !1));
    }
    ((G.TARGET_FPMS = 0.06), ($.UPDATE_PRIORITY = void 0), ((ba = $.UPDATE_PRIORITY || ($.UPDATE_PRIORITY = {}))[(ba.INTERACTION = 50)] = 'INTERACTION'), (ba[(ba.HIGH = 25)] = 'HIGH'), (ba[(ba.NORMAL = 0)] = 'NORMAL'), (ba[(ba.LOW = -25)] = 'LOW'), (ba[(ba.UTILITY = -50)] = 'UTILITY'));
    var pr =
        ((_r.prototype.match = function (t, e) {
            return (void 0 === e && (e = null), this.fn === t && this.context === e);
        }),
        (_r.prototype.emit = function (t) {
            this.fn && (this.context ? this.fn.call(this.context, t) : this.fn(t));
            t = this.next;
            return (this.once && this.destroy(!0), this._destroyed && (this.next = null), t);
        }),
        (_r.prototype.connect = function (t) {
            ((this.previous = t).next && (t.next.previous = this), (this.next = t.next), (t.next = this));
        }),
        (_r.prototype.destroy = function (t) {
            (void 0 === t && (t = !1), (this._destroyed = !0), (this.fn = null), (this.context = null), this.previous && (this.previous.next = this.next), this.next && (this.next.previous = this.previous));
            var e = this.next;
            return ((this.next = t ? null : e), (this.previous = null), e);
        }),
        _r);
    function _r(t, e, r, i) {
        (void 0 === e && (e = null), void 0 === r && (r = 0), void 0 === i && (i = !1), (this.next = null), (this.previous = null), (this._destroyed = !1), (this.fn = t), (this.context = e), (this.priority = r), (this.once = i));
    }
    var mr =
        ((Er.prototype._requestIfNeeded = function () {
            null === this._requestId && this._head.next && ((this.lastTime = performance.now()), (this._lastFrame = this.lastTime), (this._requestId = requestAnimationFrame(this._tick)));
        }),
        (Er.prototype._cancelIfNeeded = function () {
            null !== this._requestId && (cancelAnimationFrame(this._requestId), (this._requestId = null));
        }),
        (Er.prototype._startIfPossible = function () {
            this.started ? this._requestIfNeeded() : this.autoStart && this.start();
        }),
        (Er.prototype.add = function (t, e, r) {
            return (void 0 === r && (r = $.UPDATE_PRIORITY.NORMAL), this._addListener(new pr(t, e, r)));
        }),
        (Er.prototype.addOnce = function (t, e, r) {
            return (void 0 === r && (r = $.UPDATE_PRIORITY.NORMAL), this._addListener(new pr(t, e, r, !0)));
        }),
        (Er.prototype._addListener = function (t) {
            var e = this._head.next,
                r = this._head;
            if (e) {
                for (; e; ) {
                    if (t.priority > e.priority) {
                        t.connect(r);
                        break;
                    }
                    e = (r = e).next;
                }
                t.previous || t.connect(r);
            } else t.connect(r);
            return (this._startIfPossible(), this);
        }),
        (Er.prototype.remove = function (t, e) {
            for (var r = this._head.next; r; ) r = r.match(t, e) ? r.destroy() : r.next;
            return (this._head.next || this._cancelIfNeeded(), this);
        }),
        Object.defineProperty(Er.prototype, 'count', {
            get: function () {
                if (!this._head) return 0;
                for (var t = 0, e = this._head; (e = e.next); ) t++;
                return t;
            },
            enumerable: !1,
            configurable: !0,
        }),
        (Er.prototype.start = function () {
            this.started || ((this.started = !0), this._requestIfNeeded());
        }),
        (Er.prototype.stop = function () {
            this.started && ((this.started = !1), this._cancelIfNeeded());
        }),
        (Er.prototype.destroy = function () {
            if (!this._protected) {
                this.stop();
                for (var t = this._head.next; t; ) t = t.destroy(!0);
                (this._head.destroy(), (this._head = null));
            }
        }),
        (Er.prototype.update = function (t) {
            if ((void 0 === t && (t = performance.now()), t > this.lastTime)) {
                if (((r = this.elapsedMS = t - this.lastTime) > this._maxElapsedMS && (r = this._maxElapsedMS), (r *= this.speed), this._minElapsedMS)) {
                    var e = (t - this._lastFrame) | 0;
                    if (e < this._minElapsedMS) return;
                    this._lastFrame = t - (e % this._minElapsedMS);
                }
                ((this.deltaMS = r), (this.deltaTime = this.deltaMS * G.TARGET_FPMS));
                for (var r = this._head, i = r.next; i; ) i = i.emit(this.deltaTime);
                r.next || this._cancelIfNeeded();
            } else this.deltaTime = this.deltaMS = this.elapsedMS = 0;
            this.lastTime = t;
        }),
        Object.defineProperty(Er.prototype, 'FPS', {
            get: function () {
                return 1e3 / this.elapsedMS;
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(Er.prototype, 'minFPS', {
            get: function () {
                return 1e3 / this._maxElapsedMS;
            },
            set: function (t) {
                ((t = Math.min(this.maxFPS, t)), (t = Math.min(Math.max(0, t) / 1e3, G.TARGET_FPMS)));
                this._maxElapsedMS = 1 / t;
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(Er.prototype, 'maxFPS', {
            get: function () {
                return this._minElapsedMS ? Math.round(1e3 / this._minElapsedMS) : 0;
            },
            set: function (t) {
                0 === t ? (this._minElapsedMS = 0) : ((t = Math.max(this.minFPS, t)), (this._minElapsedMS = 1 / (t / 1e3)));
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(Er, 'shared', {
            get: function () {
                var t;
                return (Er._shared || (((t = Er._shared = new Er()).autoStart = !0), (t._protected = !0)), Er._shared);
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(Er, 'system', {
            get: function () {
                var t;
                return (Er._system || (((t = Er._system = new Er()).autoStart = !0), (t._protected = !0)), Er._system);
            },
            enumerable: !1,
            configurable: !0,
        }),
        Er);
    function Er() {
        var e = this;
        ((this.autoStart = !1),
            (this.deltaTime = 1),
            (this.lastTime = -1),
            (this.speed = 1),
            (this.started = !1),
            (this._requestId = null),
            (this._maxElapsedMS = 100),
            (this._minElapsedMS = 0),
            (this._protected = !1),
            (this._lastFrame = -1),
            (this._head = new pr(null, null, 1 / 0)),
            (this.deltaMS = 1 / G.TARGET_FPMS),
            (this.elapsedMS = 1 / G.TARGET_FPMS),
            (this._tick = function (t) {
                ((e._requestId = null), e.started && (e.update(t), e.started && null === e._requestId && e._head.next && (e._requestId = requestAnimationFrame(e._tick))));
            }));
    }
    ((vr.init = function (t) {
        var e = this;
        ((t = Object.assign({ autoStart: !0, sharedTicker: !1 }, t)),
            Object.defineProperty(this, 'ticker', {
                set: function (t) {
                    (this._ticker && this._ticker.remove(this.render, this), (this._ticker = t) && t.add(this.render, this, $.UPDATE_PRIORITY.LOW));
                },
                get: function () {
                    return this._ticker;
                },
            }),
            (this.stop = function () {
                e._ticker.stop();
            }),
            (this.start = function () {
                e._ticker.start();
            }),
            (this._ticker = null),
            (this.ticker = t.sharedTicker ? mr.shared : new mr()),
            t.autoStart && this.start());
    }),
        (vr.destroy = function () {
            var t;
            this._ticker && ((t = this._ticker), (this.ticker = null), t.destroy());
        }),
        (t = vr));
    function vr() {}
    var yr =
        (Object.defineProperty(gr.prototype, 'pointerId', {
            get: function () {
                return this.identifier;
            },
            enumerable: !1,
            configurable: !0,
        }),
        (gr.prototype.getLocalPosition = function (t, e, r) {
            return t.worldTransform.applyInverse(r || this.global, e);
        }),
        (gr.prototype.copyEvent = function (t) {
            ('isPrimary' in t && t.isPrimary && (this.isPrimary = !0), (this.button = 'button' in t && t.button));
            var e = 'buttons' in t && t.buttons;
            ((this.buttons = Number.isInteger(e) ? e : 'which' in t && t.which), (this.width = 'width' in t && t.width), (this.height = 'height' in t && t.height), (this.tiltX = 'tiltX' in t && t.tiltX), (this.tiltY = 'tiltY' in t && t.tiltY), (this.pointerType = 'pointerType' in t && t.pointerType), (this.pressure = 'pressure' in t && t.pressure), (this.rotationAngle = 'rotationAngle' in t && t.rotationAngle), (this.twist = ('twist' in t && t.twist) || 0), (this.tangentialPressure = ('tangentialPressure' in t && t.tangentialPressure) || 0));
        }),
        (gr.prototype.reset = function () {
            this.isPrimary = !1;
        }),
        gr);
    function gr() {
        ((this.pressure = 0), (this.rotationAngle = 0), (this.twist = 0), (this.tangentialPressure = 0), (this.global = new xe()), (this.target = null), (this.originalEvent = null), (this.identifier = null), (this.isPrimary = !1), (this.button = 0), (this.buttons = 0), (this.width = 0), (this.height = 0), (this.tiltX = 0), (this.tiltY = 0), (this.pointerType = null), (this.pressure = 0), (this.rotationAngle = 0), (this.twist = 0), (this.tangentialPressure = 0));
    }
    var Tr = function (t, e) {
        return (Tr =
            Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array &&
                function (t, e) {
                    t.__proto__ = e;
                }) ||
            function (t, e) {
                for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r]);
            })(t, e);
    };
    var br =
        ((xr.prototype.stopPropagation = function () {
            ((this.stopped = !0), (this.stopPropagationHint = !0), (this.stopsPropagatingAt = this.currentTarget));
        }),
        (xr.prototype.reset = function () {
            ((this.stopped = !1), (this.stopsPropagatingAt = null), (this.stopPropagationHint = !1), (this.currentTarget = null), (this.target = null));
        }),
        xr);
    function xr() {
        ((this.stopped = !1), (this.stopsPropagatingAt = null), (this.stopPropagationHint = !1), (this.target = null), (this.currentTarget = null), (this.type = null), (this.data = null));
    }
    var Rr =
        ((Ar.prototype._doSet = function (t, e) {
            this._flags = e ? this._flags | t : this._flags & ~t;
        }),
        Object.defineProperty(Ar.prototype, 'pointerId', {
            get: function () {
                return this._pointerId;
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(Ar.prototype, 'flags', {
            get: function () {
                return this._flags;
            },
            set: function (t) {
                this._flags = t;
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(Ar.prototype, 'none', {
            get: function () {
                return this._flags === Ar.FLAGS.NONE;
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(Ar.prototype, 'over', {
            get: function () {
                return 0 != (this._flags & Ar.FLAGS.OVER);
            },
            set: function (t) {
                this._doSet(Ar.FLAGS.OVER, t);
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(Ar.prototype, 'rightDown', {
            get: function () {
                return 0 != (this._flags & Ar.FLAGS.RIGHT_DOWN);
            },
            set: function (t) {
                this._doSet(Ar.FLAGS.RIGHT_DOWN, t);
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(Ar.prototype, 'leftDown', {
            get: function () {
                return 0 != (this._flags & Ar.FLAGS.LEFT_DOWN);
            },
            set: function (t) {
                this._doSet(Ar.FLAGS.LEFT_DOWN, t);
            },
            enumerable: !1,
            configurable: !0,
        }),
        (Ar.FLAGS = Object.freeze({ NONE: 0, OVER: 1, LEFT_DOWN: 2, RIGHT_DOWN: 4 })),
        Ar);
    function Ar(t) {
        ((this._pointerId = t), (this._flags = Ar.FLAGS.NONE));
    }
    var Sr =
        ((Or.prototype.recursiveFindHit = function (t, e, r, i, n) {
            if (!e || !e.visible) return !1;
            var o = t.data.global,
                s = !1,
                a = (n = e.interactive || n),
                h = !0;
            if ((e.hitArea ? (i && (e.worldTransform.applyInverse(o, this._tempPoint), e.hitArea.contains(this._tempPoint.x, this._tempPoint.y) ? (s = !0) : (h = i = !1)), (a = !1)) : e._mask && i && ((e._mask.containsPoint && e._mask.containsPoint(o)) || (i = !1)), h && e.interactiveChildren && e.children))
                for (var u = e.children, l = u.length - 1; 0 <= l; l--) {
                    var c = u[l],
                        d = this.recursiveFindHit(t, c, r, i, a);
                    d && c.parent && ((a = !1), d && (t.target && (i = !1), (s = !0)));
                }
            return (n && (i && !t.target && !e.hitArea && e.containsPoint && e.containsPoint(o) && (s = !0), e.interactive && (s && !t.target && (t.target = e), r && r(t, e, !!s))), s);
        }),
        (Or.prototype.findHit = function (t, e, r, i) {
            this.recursiveFindHit(t, e, r, i, !1);
        }),
        Or);
    function Or() {
        this._tempPoint = new xe();
    }
    var Ir = {
        interactive: !1,
        interactiveChildren: !0,
        hitArea: null,
        get buttonMode() {
            return 'pointer' === this.cursor;
        },
        set buttonMode(t) {
            t ? (this.cursor = 'pointer') : 'pointer' === this.cursor && (this.cursor = null);
        },
        cursor: null,
        get trackedPointers() {
            return (void 0 === this._trackedPointers && (this._trackedPointers = {}), this._trackedPointers);
        },
        _trackedPointers: void 0,
    };
    er.mixin(Ir);
    var Mr,
        Nr,
        Pr,
        Dr = { target: null, data: { global: null } },
        Cr =
            (Tr((Nr = Lr), (Pr = Mr = H)),
            (Nr.prototype = null === Pr ? Object.create(Pr) : ((wr.prototype = Pr.prototype), new wr())),
            Object.defineProperty(Lr.prototype, 'useSystemTicker', {
                get: function () {
                    return this._useSystemTicker;
                },
                set: function (t) {
                    (this._useSystemTicker = t) ? this.addTickerListener() : this.removeTickerListener();
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Lr.prototype, 'lastObjectRendered', {
                get: function () {
                    return this.renderer._lastObjectRendered || this._tempDisplayObject;
                },
                enumerable: !1,
                configurable: !0,
            }),
            (Lr.prototype.hitTest = function (t, e) {
                return ((Dr.target = null), (Dr.data.global = t), (e = e || this.lastObjectRendered), this.processInteractive(Dr, e, null, !0), Dr.target);
            }),
            (Lr.prototype.setTargetElement = function (t, e) {
                (void 0 === e && (e = 1), this.removeTickerListener(), this.removeEvents(), (this.interactionDOMElement = t), (this.resolution = e), this.addEvents(), this.addTickerListener());
            }),
            (Lr.prototype.addTickerListener = function () {
                !this.tickerAdded && this.interactionDOMElement && this._useSystemTicker && (mr.system.add(this.tickerUpdate, this, $.UPDATE_PRIORITY.INTERACTION), (this.tickerAdded = !0));
            }),
            (Lr.prototype.removeTickerListener = function () {
                this.tickerAdded && (mr.system.remove(this.tickerUpdate, this), (this.tickerAdded = !1));
            }),
            (Lr.prototype.addEvents = function () {
                var t;
                !this.eventsAdded &&
                    this.interactionDOMElement &&
                    ((t = this.interactionDOMElement.style),
                    globalThis.navigator.msPointerEnabled ? ((t.msContentZooming = 'none'), (t.msTouchAction = 'none')) : this.supportsPointerEvents && (t.touchAction = 'none'),
                    this.supportsPointerEvents
                        ? (globalThis.document.addEventListener('pointermove', this.onPointerMove, this._eventListenerOptions), this.interactionDOMElement.addEventListener('pointerdown', this.onPointerDown, this._eventListenerOptions), this.interactionDOMElement.addEventListener('pointerleave', this.onPointerOut, this._eventListenerOptions), this.interactionDOMElement.addEventListener('pointerover', this.onPointerOver, this._eventListenerOptions), globalThis.addEventListener('pointercancel', this.onPointerCancel, this._eventListenerOptions), globalThis.addEventListener('pointerup', this.onPointerUp, this._eventListenerOptions))
                        : (globalThis.document.addEventListener('mousemove', this.onPointerMove, this._eventListenerOptions), this.interactionDOMElement.addEventListener('mousedown', this.onPointerDown, this._eventListenerOptions), this.interactionDOMElement.addEventListener('mouseout', this.onPointerOut, this._eventListenerOptions), this.interactionDOMElement.addEventListener('mouseover', this.onPointerOver, this._eventListenerOptions), globalThis.addEventListener('mouseup', this.onPointerUp, this._eventListenerOptions)),
                    this.supportsTouchEvents && (this.interactionDOMElement.addEventListener('touchstart', this.onPointerDown, this._eventListenerOptions), this.interactionDOMElement.addEventListener('touchcancel', this.onPointerCancel, this._eventListenerOptions), this.interactionDOMElement.addEventListener('touchend', this.onPointerUp, this._eventListenerOptions), this.interactionDOMElement.addEventListener('touchmove', this.onPointerMove, this._eventListenerOptions)),
                    (this.eventsAdded = !0));
            }),
            (Lr.prototype.removeEvents = function () {
                var t;
                this.eventsAdded &&
                    this.interactionDOMElement &&
                    ((t = this.interactionDOMElement.style),
                    globalThis.navigator.msPointerEnabled ? ((t.msContentZooming = ''), (t.msTouchAction = '')) : this.supportsPointerEvents && (t.touchAction = ''),
                    this.supportsPointerEvents
                        ? (globalThis.document.removeEventListener('pointermove', this.onPointerMove, this._eventListenerOptions), this.interactionDOMElement.removeEventListener('pointerdown', this.onPointerDown, this._eventListenerOptions), this.interactionDOMElement.removeEventListener('pointerleave', this.onPointerOut, this._eventListenerOptions), this.interactionDOMElement.removeEventListener('pointerover', this.onPointerOver, this._eventListenerOptions), globalThis.removeEventListener('pointercancel', this.onPointerCancel, this._eventListenerOptions), globalThis.removeEventListener('pointerup', this.onPointerUp, this._eventListenerOptions))
                        : (globalThis.document.removeEventListener('mousemove', this.onPointerMove, this._eventListenerOptions), this.interactionDOMElement.removeEventListener('mousedown', this.onPointerDown, this._eventListenerOptions), this.interactionDOMElement.removeEventListener('mouseout', this.onPointerOut, this._eventListenerOptions), this.interactionDOMElement.removeEventListener('mouseover', this.onPointerOver, this._eventListenerOptions), globalThis.removeEventListener('mouseup', this.onPointerUp, this._eventListenerOptions)),
                    this.supportsTouchEvents && (this.interactionDOMElement.removeEventListener('touchstart', this.onPointerDown, this._eventListenerOptions), this.interactionDOMElement.removeEventListener('touchcancel', this.onPointerCancel, this._eventListenerOptions), this.interactionDOMElement.removeEventListener('touchend', this.onPointerUp, this._eventListenerOptions), this.interactionDOMElement.removeEventListener('touchmove', this.onPointerMove, this._eventListenerOptions)),
                    (this.interactionDOMElement = null),
                    (this.eventsAdded = !1));
            }),
            (Lr.prototype.tickerUpdate = function (t) {
                ((this._deltaTime += t), this._deltaTime < this.interactionFrequency || ((this._deltaTime = 0), this.update()));
            }),
            (Lr.prototype.update = function () {
                if (this.interactionDOMElement)
                    if (this._didMove) this._didMove = !1;
                    else {
                        for (var t in ((this.cursor = null), this.activeInteractionData)) {
                            var e;
                            !this.activeInteractionData.hasOwnProperty(t) || ((e = this.activeInteractionData[t]).originalEvent && 'touch' !== e.pointerType && ((e = this.configureInteractionEventForDOMEvent(this.eventData, e.originalEvent, e)), this.processInteractive(e, this.lastObjectRendered, this.processPointerOverOut, !0)));
                        }
                        this.setCursorMode(this.cursor);
                    }
            }),
            (Lr.prototype.setCursorMode = function (t) {
                t = t || 'default';
                var e = !0;
                if ((globalThis.OffscreenCanvas && this.interactionDOMElement instanceof OffscreenCanvas && (e = !1), this.currentCursorMode !== t)) {
                    this.currentCursorMode = t;
                    var r = this.cursorStyles[t];
                    if (r)
                        switch (typeof r) {
                            case 'string':
                                e && (this.interactionDOMElement.style.cursor = r);
                                break;
                            case 'function':
                                r(t);
                                break;
                            case 'object':
                                e && Object.assign(this.interactionDOMElement.style, r);
                        }
                    else e && 'string' == typeof t && !Object.prototype.hasOwnProperty.call(this.cursorStyles, t) && (this.interactionDOMElement.style.cursor = t);
                }
            }),
            (Lr.prototype.dispatchEvent = function (t, e, r) {
                (r.stopPropagationHint && t !== r.stopsPropagatingAt) || ((r.currentTarget = t), (r.type = e), t.emit(e, r), t[e] && t[e](r));
            }),
            (Lr.prototype.delayDispatchEvent = function (t, e, r) {
                this.delayedEvents.push({ displayObject: t, eventString: e, eventData: r });
            }),
            (Lr.prototype.mapPositionToPoint = function (t, e, r) {
                var i = this.interactionDOMElement.parentElement ? this.interactionDOMElement.getBoundingClientRect() : { x: 0, y: 0, width: this.interactionDOMElement.width, height: this.interactionDOMElement.height, left: 0, top: 0 },
                    n = 1 / this.resolution;
                ((t.x = (e - i.left) * (this.interactionDOMElement.width / i.width) * n), (t.y = (r - i.top) * (this.interactionDOMElement.height / i.height) * n));
            }),
            (Lr.prototype.processInteractive = function (t, e, r, i) {
                var i = this.search.findHit(t, e, r, i),
                    n = this.delayedEvents;
                if (!n.length) return i;
                t.stopPropagationHint = !1;
                var o = n.length;
                this.delayedEvents = [];
                for (var s = 0; s < o; s++) {
                    var a = n[s],
                        h = a.displayObject,
                        u = a.eventString,
                        a = a.eventData;
                    (a.stopsPropagatingAt === h && (a.stopPropagationHint = !0), this.dispatchEvent(h, u, a));
                }
                return i;
            }),
            (Lr.prototype.onPointerDown = function (t) {
                if (!this.supportsTouchEvents || 'touch' !== t.pointerType) {
                    var e = this.normalizeToPointerData(t);
                    !this.autoPreventDefault || !e[0].isNormalized || (!t.cancelable && 'cancelable' in t) || t.preventDefault();
                    for (var r = e.length, i = 0; i < r; i++) {
                        var n = e[i],
                            o = this.getInteractionDataForPointerId(n),
                            o = this.configureInteractionEventForDOMEvent(this.eventData, n, o);
                        ((o.data.originalEvent = t), this.processInteractive(o, this.lastObjectRendered, this.processPointerDown, !0), this.emit('pointerdown', o), 'touch' === n.pointerType ? this.emit('touchstart', o) : ('mouse' !== n.pointerType && 'pen' !== n.pointerType) || ((n = 2 === n.button), this.emit(n ? 'rightdown' : 'mousedown', this.eventData)));
                    }
                }
            }),
            (Lr.prototype.processPointerDown = function (t, e, r) {
                var i = t.data,
                    n = t.data.identifier;
                r && (e.trackedPointers[n] || (e.trackedPointers[n] = new Rr(n)), this.dispatchEvent(e, 'pointerdown', t), 'touch' === i.pointerType ? this.dispatchEvent(e, 'touchstart', t) : ('mouse' !== i.pointerType && 'pen' !== i.pointerType) || ((i = 2 === i.button) ? (e.trackedPointers[n].rightDown = !0) : (e.trackedPointers[n].leftDown = !0), this.dispatchEvent(e, i ? 'rightdown' : 'mousedown', t)));
            }),
            (Lr.prototype.onPointerComplete = function (t, e, r) {
                for (var i = this.normalizeToPointerData(t), n = i.length, o = t.target !== this.interactionDOMElement ? 'outside' : '', s = 0; s < n; s++) {
                    var a = i[s],
                        h = this.getInteractionDataForPointerId(a),
                        u = this.configureInteractionEventForDOMEvent(this.eventData, a, h);
                    ((u.data.originalEvent = t), this.processInteractive(u, this.lastObjectRendered, r, e || !o), this.emit(e ? 'pointercancel' : 'pointerup' + o, u), 'mouse' === a.pointerType || 'pen' === a.pointerType ? ((h = 2 === a.button), this.emit(h ? 'rightup' + o : 'mouseup' + o, u)) : 'touch' === a.pointerType && (this.emit(e ? 'touchcancel' : 'touchend' + o, u), this.releaseInteractionDataForPointerId(a.pointerId)));
                }
            }),
            (Lr.prototype.onPointerCancel = function (t) {
                (this.supportsTouchEvents && 'touch' === t.pointerType) || this.onPointerComplete(t, !0, this.processPointerCancel);
            }),
            (Lr.prototype.processPointerCancel = function (t, e) {
                var r = t.data,
                    i = t.data.identifier;
                void 0 !== e.trackedPointers[i] && (delete e.trackedPointers[i], this.dispatchEvent(e, 'pointercancel', t), 'touch' === r.pointerType && this.dispatchEvent(e, 'touchcancel', t));
            }),
            (Lr.prototype.onPointerUp = function (t) {
                (this.supportsTouchEvents && 'touch' === t.pointerType) || this.onPointerComplete(t, !1, this.processPointerUp);
            }),
            (Lr.prototype.processPointerUp = function (t, e, r) {
                var i,
                    n = t.data,
                    o = t.data.identifier,
                    s = e.trackedPointers[o],
                    a = 'touch' === n.pointerType,
                    h = 'mouse' === n.pointerType || 'pen' === n.pointerType,
                    u = !1;
                (h && ((i = 2 === n.button), (n = Rr.FLAGS), (n = i ? n.RIGHT_DOWN : n.LEFT_DOWN), (n = void 0 !== s && s.flags & n), r ? (this.dispatchEvent(e, i ? 'rightup' : 'mouseup', t), n && (this.dispatchEvent(e, i ? 'rightclick' : 'click', t), (u = !0))) : n && this.dispatchEvent(e, i ? 'rightupoutside' : 'mouseupoutside', t), s && (i ? (s.rightDown = !1) : (s.leftDown = !1))), r ? (this.dispatchEvent(e, 'pointerup', t), a && this.dispatchEvent(e, 'touchend', t), s && ((h && !u) || this.dispatchEvent(e, 'pointertap', t), a && (this.dispatchEvent(e, 'tap', t), (s.over = !1)))) : s && (this.dispatchEvent(e, 'pointerupoutside', t), a && this.dispatchEvent(e, 'touchendoutside', t)), s && s.none && delete e.trackedPointers[o]);
            }),
            (Lr.prototype.onPointerMove = function (t) {
                if (!this.supportsTouchEvents || 'touch' !== t.pointerType) {
                    var e = this.normalizeToPointerData(t);
                    ('mouse' !== e[0].pointerType && 'pen' !== e[0].pointerType) || ((this._didMove = !0), (this.cursor = null));
                    for (var r = e.length, i = 0; i < r; i++) {
                        var n = e[i],
                            o = this.getInteractionDataForPointerId(n),
                            o = this.configureInteractionEventForDOMEvent(this.eventData, n, o);
                        ((o.data.originalEvent = t), this.processInteractive(o, this.lastObjectRendered, this.processPointerMove, !0), this.emit('pointermove', o), 'touch' === n.pointerType && this.emit('touchmove', o), ('mouse' !== n.pointerType && 'pen' !== n.pointerType) || this.emit('mousemove', o));
                    }
                    'mouse' === e[0].pointerType && this.setCursorMode(this.cursor);
                }
            }),
            (Lr.prototype.processPointerMove = function (t, e, r) {
                var i = t.data,
                    n = 'touch' === i.pointerType,
                    i = 'mouse' === i.pointerType || 'pen' === i.pointerType;
                (i && this.processPointerOverOut(t, e, r), (this.moveWhenInside && !r) || (this.dispatchEvent(e, 'pointermove', t), n && this.dispatchEvent(e, 'touchmove', t), i && this.dispatchEvent(e, 'mousemove', t)));
            }),
            (Lr.prototype.onPointerOut = function (t) {
                var e, r;
                (this.supportsTouchEvents && 'touch' === t.pointerType) || ('mouse' === (e = this.normalizeToPointerData(t)[0]).pointerType && ((this.mouseOverRenderer = !1), this.setCursorMode(null)), (r = this.getInteractionDataForPointerId(e)), ((t = this.configureInteractionEventForDOMEvent(this.eventData, e, r)).data.originalEvent = e), this.processInteractive(t, this.lastObjectRendered, this.processPointerOverOut, !1), this.emit('pointerout', t), 'mouse' === e.pointerType || 'pen' === e.pointerType ? this.emit('mouseout', t) : this.releaseInteractionDataForPointerId(r.identifier));
            }),
            (Lr.prototype.processPointerOverOut = function (t, e, r) {
                var i = t.data,
                    n = t.data.identifier,
                    o = 'mouse' === i.pointerType || 'pen' === i.pointerType,
                    i = e.trackedPointers[n];
                (r && !i && (i = e.trackedPointers[n] = new Rr(n)), void 0 !== i && (r && this.mouseOverRenderer ? (i.over || ((i.over = !0), this.delayDispatchEvent(e, 'pointerover', t), o && this.delayDispatchEvent(e, 'mouseover', t)), o && null === this.cursor && (this.cursor = e.cursor)) : i.over && ((i.over = !1), this.dispatchEvent(e, 'pointerout', this.eventData), o && this.dispatchEvent(e, 'mouseout', t), i.none && delete e.trackedPointers[n])));
            }),
            (Lr.prototype.onPointerOver = function (t) {
                var e = this.normalizeToPointerData(t)[0],
                    t = this.getInteractionDataForPointerId(e),
                    t = this.configureInteractionEventForDOMEvent(this.eventData, e, t);
                ('mouse' === (t.data.originalEvent = e).pointerType && (this.mouseOverRenderer = !0), this.emit('pointerover', t), ('mouse' !== e.pointerType && 'pen' !== e.pointerType) || this.emit('mouseover', t));
            }),
            (Lr.prototype.getInteractionDataForPointerId = function (t) {
                var e,
                    r = t.pointerId;
                return (1 === r || 'mouse' === t.pointerType ? (e = this.mouse) : this.activeInteractionData[r] ? (e = this.activeInteractionData[r]) : (((e = this.interactionDataPool.pop() || new yr()).identifier = r), (this.activeInteractionData[r] = e)), e.copyEvent(t), e);
            }),
            (Lr.prototype.releaseInteractionDataForPointerId = function (t) {
                var e = this.activeInteractionData[t];
                e && (delete this.activeInteractionData[t], e.reset(), this.interactionDataPool.push(e));
            }),
            (Lr.prototype.configureInteractionEventForDOMEvent = function (t, e, r) {
                return ((t.data = r), this.mapPositionToPoint(r.global, e.clientX, e.clientY), 'touch' === e.pointerType && ((e.globalX = r.global.x), (e.globalY = r.global.y)), (r.originalEvent = e), t.reset(), t);
            }),
            (Lr.prototype.normalizeToPointerData = function (t) {
                var e,
                    r = [];
                if (this.supportsTouchEvents && t instanceof TouchEvent)
                    for (var i = 0, n = t.changedTouches.length; i < n; i++) {
                        var o = t.changedTouches[i];
                        (void 0 === o.button && (o.button = t.touches.length ? 1 : 0), void 0 === o.buttons && (o.buttons = t.touches.length ? 1 : 0), void 0 === o.isPrimary && (o.isPrimary = 1 === t.touches.length && 'touchstart' === t.type), void 0 === o.width && (o.width = o.radiusX || 1), void 0 === o.height && (o.height = o.radiusY || 1), void 0 === o.tiltX && (o.tiltX = 0), void 0 === o.tiltY && (o.tiltY = 0), void 0 === o.pointerType && (o.pointerType = 'touch'), void 0 === o.pointerId && (o.pointerId = o.identifier || 0), void 0 === o.pressure && (o.pressure = o.force || 0.5), void 0 === o.twist && (o.twist = 0), void 0 === o.tangentialPressure && (o.tangentialPressure = 0), void 0 === o.layerX && (o.layerX = o.offsetX = o.clientX), void 0 === o.layerY && (o.layerY = o.offsetY = o.clientY), (o.isNormalized = !0), r.push(o));
                    }
                else !globalThis.MouseEvent || (t instanceof MouseEvent && !(this.supportsPointerEvents && t instanceof globalThis.PointerEvent)) ? (void 0 === (e = t).isPrimary && (e.isPrimary = !0), void 0 === e.width && (e.width = 1), void 0 === e.height && (e.height = 1), void 0 === e.tiltX && (e.tiltX = 0), void 0 === e.tiltY && (e.tiltY = 0), void 0 === e.pointerType && (e.pointerType = 'mouse'), void 0 === e.pointerId && (e.pointerId = 1), void 0 === e.pressure && (e.pressure = 0.5), void 0 === e.twist && (e.twist = 0), void 0 === e.tangentialPressure && (e.tangentialPressure = 0), (e.isNormalized = !0), r.push(e)) : r.push(t);
                return r;
            }),
            (Lr.prototype.destroy = function () {
                (this.removeEvents(), this.removeTickerListener(), this.removeAllListeners(), (this.renderer = null), (this.mouse = null), (this.eventData = null), (this.interactionDOMElement = null), (this.onPointerDown = null), (this.processPointerDown = null), (this.onPointerUp = null), (this.processPointerUp = null), (this.onPointerCancel = null), (this.processPointerCancel = null), (this.onPointerMove = null), (this.processPointerMove = null), (this.onPointerOut = null), (this.processPointerOverOut = null), (this.onPointerOver = null), (this.search = null));
            }),
            Lr);
    function wr() {
        this.constructor = Nr;
    }
    function Lr(t, e) {
        var r = Mr.call(this) || this;
        return (
            (e = e || {}),
            (r.renderer = t),
            (r.autoPreventDefault = void 0 === e.autoPreventDefault || e.autoPreventDefault),
            (r.interactionFrequency = e.interactionFrequency || 10),
            (r.mouse = new yr()),
            (r.mouse.identifier = 1),
            r.mouse.global.set(-999999),
            (r.activeInteractionData = {}),
            (r.activeInteractionData[1] = r.mouse),
            (r.interactionDataPool = []),
            (r.eventData = new br()),
            (r.interactionDOMElement = null),
            (r.moveWhenInside = !1),
            (r.eventsAdded = !1),
            (r.tickerAdded = !1),
            (r.mouseOverRenderer = !('PointerEvent' in globalThis)),
            (r.supportsTouchEvents = 'ontouchstart' in globalThis),
            (r.supportsPointerEvents = !!globalThis.PointerEvent),
            (r.onPointerUp = r.onPointerUp.bind(r)),
            (r.processPointerUp = r.processPointerUp.bind(r)),
            (r.onPointerCancel = r.onPointerCancel.bind(r)),
            (r.processPointerCancel = r.processPointerCancel.bind(r)),
            (r.onPointerDown = r.onPointerDown.bind(r)),
            (r.processPointerDown = r.processPointerDown.bind(r)),
            (r.onPointerMove = r.onPointerMove.bind(r)),
            (r.processPointerMove = r.processPointerMove.bind(r)),
            (r.onPointerOut = r.onPointerOut.bind(r)),
            (r.processPointerOverOut = r.processPointerOverOut.bind(r)),
            (r.onPointerOver = r.onPointerOver.bind(r)),
            (r.cursorStyles = { default: 'inherit', pointer: 'pointer' }),
            (r.currentCursorMode = null),
            (r.cursor = null),
            (r.resolution = 1),
            (r.delayedEvents = []),
            (r.search = new Sr()),
            (r._tempDisplayObject = new or()),
            (r._eventListenerOptions = { capture: !0, passive: !1 }),
            (r._useSystemTicker = void 0 === e.useSystemTicker || e.useSystemTicker),
            r.setTargetElement(r.renderer.view, r.renderer.resolution),
            r
        );
    }
    var Fr =
        ((Ur.prototype.emit = function (t, e, r, i, n, o, s, a) {
            if (8 < arguments.length) throw new Error('max arguments reached');
            var h = this.name,
                u = this.items;
            this._aliasCount++;
            for (var l = 0, c = u.length; l < c; l++) u[l][h](t, e, r, i, n, o, s, a);
            return (u === this.items && this._aliasCount--, this);
        }),
        (Ur.prototype.ensureNonAliasedItems = function () {
            0 < this._aliasCount && 1 < this.items.length && ((this._aliasCount = 0), (this.items = this.items.slice(0)));
        }),
        (Ur.prototype.add = function (t) {
            return (t[this._name] && (this.ensureNonAliasedItems(), this.remove(t), this.items.push(t)), this);
        }),
        (Ur.prototype.remove = function (t) {
            t = this.items.indexOf(t);
            return (-1 !== t && (this.ensureNonAliasedItems(), this.items.splice(t, 1)), this);
        }),
        (Ur.prototype.contains = function (t) {
            return -1 !== this.items.indexOf(t);
        }),
        (Ur.prototype.removeAll = function () {
            return (this.ensureNonAliasedItems(), (this.items.length = 0), this);
        }),
        (Ur.prototype.destroy = function () {
            (this.removeAll(), (this.items = null), (this._name = null));
        }),
        Object.defineProperty(Ur.prototype, 'empty', {
            get: function () {
                return 0 === this.items.length;
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(Ur.prototype, 'name', {
            get: function () {
                return this._name;
            },
            enumerable: !1,
            configurable: !0,
        }),
        Ur);
    function Ur(t) {
        ((this.items = []), (this._name = t), (this._aliasCount = 0));
    }
    (Object.defineProperties(Fr.prototype, { dispatch: { value: Fr.prototype.emit }, run: { value: Fr.prototype.emit } }), (G.PREFER_ENV = L.any ? $.ENV.WEBGL : $.ENV.WEBGL2), (G.STRICT_TEXTURE_CACHE = !1));
    var Br = [];
    function Gr(t, e) {
        if (!t) return null;
        var r,
            i = '';
        'string' != typeof t || ((r = /\.(\w{3,4})(?:$|\?|#)/i.exec(t)) && (i = r[1].toLowerCase()));
        for (var n = Br.length - 1; 0 <= n; --n) {
            var o = Br[n];
            if (o.test && o.test(t, i)) return new o(t, e);
        }
        throw new Error('Unrecognized source type to auto-detect Resource');
    }
    var kr = function (t, e) {
        return (kr =
            Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array &&
                function (t, e) {
                    t.__proto__ = e;
                }) ||
            function (t, e) {
                for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r]);
            })(t, e);
    };
    function Xr(t, e) {
        function r() {
            this.constructor = t;
        }
        (kr(t, e), (t.prototype = null === e ? Object.create(e) : ((r.prototype = e.prototype), new r())));
    }
    var Hr = function () {
        return (Hr =
            Object.assign ||
            function (t) {
                for (var e, r = arguments, i = 1, n = arguments.length; i < n; i++) for (var o in (e = r[i])) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
                return t;
            }).apply(this, arguments);
    };
    var Yr =
        ((jr.prototype.bind = function (t) {
            (this.onResize.add(t), this.onUpdate.add(t), this.onError.add(t), (this._width || this._height) && this.onResize.emit(this._width, this._height));
        }),
        (jr.prototype.unbind = function (t) {
            (this.onResize.remove(t), this.onUpdate.remove(t), this.onError.remove(t));
        }),
        (jr.prototype.resize = function (t, e) {
            (t === this._width && e === this._height) || ((this._width = t), (this._height = e), this.onResize.emit(t, e));
        }),
        Object.defineProperty(jr.prototype, 'valid', {
            get: function () {
                return !!this._width && !!this._height;
            },
            enumerable: !1,
            configurable: !0,
        }),
        (jr.prototype.update = function () {
            this.destroyed || this.onUpdate.emit();
        }),
        (jr.prototype.load = function () {
            return Promise.resolve(this);
        }),
        Object.defineProperty(jr.prototype, 'width', {
            get: function () {
                return this._width;
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(jr.prototype, 'height', {
            get: function () {
                return this._height;
            },
            enumerable: !1,
            configurable: !0,
        }),
        (jr.prototype.style = function (t, e, r) {
            return !1;
        }),
        (jr.prototype.dispose = function () {}),
        (jr.prototype.destroy = function () {
            this.destroyed || ((this.destroyed = !0), this.dispose(), this.onError.removeAll(), (this.onError = null), this.onResize.removeAll(), (this.onResize = null), this.onUpdate.removeAll(), (this.onUpdate = null));
        }),
        (jr.test = function (t, e) {
            return !1;
        }),
        jr);
    function jr(t, e) {
        (void 0 === t && (t = 0), void 0 === e && (e = 0), (this._width = t), (this._height = e), (this.destroyed = !1), (this.internal = !1), (this.onResize = new Fr('setRealSize')), (this.onUpdate = new Fr('update')), (this.onError = new Fr('onError')));
    }
    var Vr,
        Wr =
            (Xr(zr, (Vr = Yr)),
            (zr.prototype.upload = function (t, e, r) {
                var i = t.gl;
                i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL, e.alphaMode === $.ALPHA_MODES.UNPACK);
                var n = e.realWidth,
                    t = e.realHeight;
                return (r.width === n && r.height === t ? i.texSubImage2D(e.target, 0, 0, 0, n, t, e.format, r.type, this.data) : ((r.width = n), (r.height = t), i.texImage2D(e.target, 0, r.internalFormat, n, t, 0, e.format, r.type, this.data)), !0);
            }),
            (zr.prototype.dispose = function () {
                this.data = null;
            }),
            (zr.test = function (t) {
                return t instanceof Float32Array || t instanceof Uint8Array || t instanceof Uint32Array;
            }),
            zr);
    function zr(t, e) {
        var r = this,
            i = e || {},
            e = i.width,
            i = i.height;
        if (!e || !i) throw new Error('BufferResource width or height invalid');
        return (((r = Vr.call(this, e, i) || this).data = t), r);
    }
    var qr,
        Kr = { scaleMode: $.SCALE_MODES.NEAREST, format: $.FORMATS.RGBA, alphaMode: $.ALPHA_MODES.NPM },
        Zr =
            (Xr(Qr, (qr = H)),
            Object.defineProperty(Qr.prototype, 'realWidth', {
                get: function () {
                    return Math.round(this.width * this.resolution);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Qr.prototype, 'realHeight', {
                get: function () {
                    return Math.round(this.height * this.resolution);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Qr.prototype, 'mipmap', {
                get: function () {
                    return this._mipmap;
                },
                set: function (t) {
                    this._mipmap !== t && ((this._mipmap = t), this.dirtyStyleId++);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Qr.prototype, 'scaleMode', {
                get: function () {
                    return this._scaleMode;
                },
                set: function (t) {
                    this._scaleMode !== t && ((this._scaleMode = t), this.dirtyStyleId++);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Qr.prototype, 'wrapMode', {
                get: function () {
                    return this._wrapMode;
                },
                set: function (t) {
                    this._wrapMode !== t && ((this._wrapMode = t), this.dirtyStyleId++);
                },
                enumerable: !1,
                configurable: !0,
            }),
            (Qr.prototype.setStyle = function (t, e) {
                var r;
                return (void 0 !== t && t !== this.scaleMode && ((this.scaleMode = t), (r = !0)), void 0 !== e && e !== this.mipmap && ((this.mipmap = e), (r = !0)), r && this.dirtyStyleId++, this);
            }),
            (Qr.prototype.setSize = function (t, e, r) {
                return ((r = r || this.resolution), this.setRealSize(t * r, e * r, r));
            }),
            (Qr.prototype.setRealSize = function (t, e, r) {
                return ((this.resolution = r || this.resolution), (this.width = Math.round(t) / this.resolution), (this.height = Math.round(e) / this.resolution), this._refreshPOT(), this.update(), this);
            }),
            (Qr.prototype._refreshPOT = function () {
                this.isPowerOfTwo = ee(this.realWidth) && ee(this.realHeight);
            }),
            (Qr.prototype.setResolution = function (t) {
                var e = this.resolution;
                return (e === t || ((this.resolution = t), this.valid && ((this.width = Math.round(this.width * e) / t), (this.height = Math.round(this.height * e) / t), this.emit('update', this)), this._refreshPOT()), this);
            }),
            (Qr.prototype.setResource = function (t) {
                if (this.resource === t) return this;
                if (this.resource) throw new Error('Resource can be set only once');
                return (t.bind(this), (this.resource = t), this);
            }),
            (Qr.prototype.update = function () {
                this.valid ? (this.dirtyId++, this.dirtyStyleId++, this.emit('update', this)) : 0 < this.width && 0 < this.height && ((this.valid = !0), this.emit('loaded', this), this.emit('update', this));
            }),
            (Qr.prototype.onError = function (t) {
                this.emit('error', this, t);
            }),
            (Qr.prototype.destroy = function () {
                (this.resource && (this.resource.unbind(this), this.resource.internal && this.resource.destroy(), (this.resource = null)), this.cacheId && (delete ce[this.cacheId], delete le[this.cacheId], (this.cacheId = null)), this.dispose(), Qr.removeFromCache(this), (this.textureCacheIds = null), (this.destroyed = !0));
            }),
            (Qr.prototype.dispose = function () {
                this.emit('dispose', this);
            }),
            (Qr.prototype.castToBaseTexture = function () {
                return this;
            }),
            (Qr.from = function (t, e, r) {
                void 0 === r && (r = G.STRICT_TEXTURE_CACHE);
                var i = 'string' == typeof t,
                    n = null,
                    n = i ? t : (t._pixiId || ((o = (e && e.pixiIdPrefix) || 'pixiid'), (t._pixiId = o + '_' + ++oe)), t._pixiId),
                    o = ce[n];
                if (i && r && !o) throw new Error('The cacheId "' + n + '" does not exist in BaseTextureCache.');
                return (o || (((o = new Qr(t, e)).cacheId = n), Qr.addToCache(o, n)), o);
            }),
            (Qr.fromBuffer = function (t, e, r, i) {
                t = t || new Float32Array(e * r * 4);
                var n = new Wr(t, { width: e, height: r }),
                    t = t instanceof Float32Array ? $.TYPES.FLOAT : $.TYPES.UNSIGNED_BYTE;
                return new Qr(n, Object.assign(Kr, i || { width: e, height: r, type: t }));
            }),
            (Qr.addToCache = function (t, e) {
                e && (-1 === t.textureCacheIds.indexOf(e) && t.textureCacheIds.push(e), ce[e] && console.warn('BaseTexture added to the cache with an id [' + e + '] that already had an entry'), (ce[e] = t));
            }),
            (Qr.removeFromCache = function (t) {
                if ('string' == typeof t) {
                    var e = ce[t];
                    if (e) {
                        var r = e.textureCacheIds.indexOf(t);
                        return (-1 < r && e.textureCacheIds.splice(r, 1), delete ce[t], e);
                    }
                } else if (t && t.textureCacheIds) {
                    for (var i = 0; i < t.textureCacheIds.length; ++i) delete ce[t.textureCacheIds[i]];
                    return ((t.textureCacheIds.length = 0), t);
                }
                return null;
            }),
            (Qr._globalBatch = 0),
            Qr);
    function Qr(t, e) {
        (void 0 === t && (t = null), void 0 === e && (e = null));
        var r = qr.call(this) || this,
            i = (e = e || {}).alphaMode,
            n = e.mipmap,
            o = e.anisotropicLevel,
            s = e.scaleMode,
            a = e.width,
            h = e.height,
            u = e.wrapMode,
            l = e.format,
            c = e.type,
            d = e.target,
            f = e.resolution,
            e = e.resourceOptions;
        return (!t || t instanceof Yr || ((t = Gr(t, e)).internal = !0), (r.resolution = f || G.RESOLUTION), (r.width = Math.round((a || 0) * r.resolution) / r.resolution), (r.height = Math.round((h || 0) * r.resolution) / r.resolution), (r._mipmap = void 0 !== n ? n : G.MIPMAP_TEXTURES), (r.anisotropicLevel = void 0 !== o ? o : G.ANISOTROPIC_LEVEL), (r._wrapMode = u || G.WRAP_MODE), (r._scaleMode = void 0 !== s ? s : G.SCALE_MODE), (r.format = l || $.FORMATS.RGBA), (r.type = c || $.TYPES.UNSIGNED_BYTE), (r.target = d || $.TARGETS.TEXTURE_2D), (r.alphaMode = void 0 !== i ? i : $.ALPHA_MODES.UNPACK), (r.uid = ++oe), (r.touched = 0), (r.isPowerOfTwo = !1), r._refreshPOT(), (r._glTextures = {}), (r.dirtyId = 0), (r.dirtyStyleId = 0), (r.cacheId = null), (r.valid = 0 < a && 0 < h), (r.textureCacheIds = []), (r.destroyed = !1), (r.resource = null), (r._batchEnabled = 0), (r._batchLocation = 0), (r.parentTextureArray = null), r.setResource(t), r);
    }
    var Jr,
        $r =
            (Xr(ti, (Jr = Yr)),
            (ti.prototype.initFromArray = function (t, e) {
                for (var r = 0; r < this.length; r++) t[r] && (t[r].castToBaseTexture ? this.addBaseTextureAt(t[r].castToBaseTexture(), r) : t[r] instanceof Yr ? this.addResourceAt(t[r], r) : this.addResourceAt(Gr(t[r], e), r));
            }),
            (ti.prototype.dispose = function () {
                for (var t = 0, e = this.length; t < e; t++) this.items[t].destroy();
                ((this.items = null), (this.itemDirtyIds = null), (this._load = null));
            }),
            (ti.prototype.addResourceAt = function (t, e) {
                if (!this.items[e]) throw new Error('Index ' + e + ' is out of bounds');
                return (t.valid && !this.valid && this.resize(t.width, t.height), this.items[e].setResource(t), this);
            }),
            (ti.prototype.bind = function (t) {
                if (null !== this.baseTexture) throw new Error('Only one base texture per TextureArray is allowed');
                Jr.prototype.bind.call(this, t);
                for (var e = 0; e < this.length; e++) ((this.items[e].parentTextureArray = t), this.items[e].on('update', t.update, t));
            }),
            (ti.prototype.unbind = function (t) {
                Jr.prototype.unbind.call(this, t);
                for (var e = 0; e < this.length; e++) ((this.items[e].parentTextureArray = null), this.items[e].off('update', t.update, t));
            }),
            (ti.prototype.load = function () {
                var r = this;
                if (this._load) return this._load;
                var t = this.items
                    .map(function (t) {
                        return t.resource;
                    })
                    .filter(function (t) {
                        return t;
                    })
                    .map(function (t) {
                        return t.load();
                    });
                return (
                    (this._load = Promise.all(t).then(function () {
                        var t = r.items[0],
                            e = t.realWidth,
                            t = t.realHeight;
                        return (r.resize(e, t), Promise.resolve(r));
                    })),
                    this._load
                );
            }),
            ti);
    function ti(t, e) {
        var r = this,
            i = e || {},
            e = i.width,
            i = i.height;
        (((r = Jr.call(this, e, i) || this).items = []), (r.itemDirtyIds = []));
        for (var n = 0; n < t; n++) {
            var o = new Zr();
            (r.items.push(o), r.itemDirtyIds.push(-2));
        }
        return ((r.length = t), (r._load = null), (r.baseTexture = null), r);
    }
    var ei,
        ri =
            (Xr(ii, (ei = $r)),
            (ii.prototype.addBaseTextureAt = function (t, e) {
                if (!t.resource) throw new Error('ArrayResource does not support RenderTexture');
                return (this.addResourceAt(t.resource, e), this);
            }),
            (ii.prototype.bind = function (t) {
                (ei.prototype.bind.call(this, t), (t.target = $.TARGETS.TEXTURE_2D_ARRAY));
            }),
            (ii.prototype.upload = function (t, e, r) {
                var i = this.length,
                    n = this.itemDirtyIds,
                    o = this.items,
                    s = t.gl;
                r.dirtyId < 0 && s.texImage3D(s.TEXTURE_2D_ARRAY, 0, r.internalFormat, this._width, this._height, i, 0, e.format, r.type, null);
                for (var a = 0; a < i; a++) {
                    var h = o[a];
                    n[a] < h.dirtyId && ((n[a] = h.dirtyId), h.valid && s.texSubImage3D(s.TEXTURE_2D_ARRAY, 0, 0, 0, a, h.resource.width, h.resource.height, 1, e.format, r.type, h.resource.source));
                }
                return !0;
            }),
            ii);
    function ii(t, e) {
        var r,
            i = this,
            n = e || {},
            o = n.width,
            n = n.height,
            t = Array.isArray(t) ? (r = t).length : t,
            i = ei.call(this, t, { width: o, height: n }) || this;
        return (r && i.initFromArray(r, e), i);
    }
    var ni,
        oi =
            (Xr(si, (ni = Yr)),
            (si.crossOrigin = function (t, e, r) {
                void 0 === r && 0 !== e.indexOf('data:') ? (t.crossOrigin = Ee(e)) : !1 !== r && (t.crossOrigin = 'string' == typeof r ? r : 'anonymous');
            }),
            (si.prototype.upload = function (t, e, r, i) {
                var n = t.gl,
                    o = e.realWidth,
                    t = e.realHeight;
                if ((i = i || this.source) instanceof HTMLImageElement) {
                    if (!i.complete || 0 === i.naturalWidth) return !1;
                } else if (i instanceof HTMLVideoElement && i.readyState <= 1) return !1;
                return (n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL, e.alphaMode === $.ALPHA_MODES.UNPACK), this.noSubImage || e.target !== n.TEXTURE_2D || r.width !== o || r.height !== t ? ((r.width = o), (r.height = t), n.texImage2D(e.target, 0, r.internalFormat, e.format, r.type, i)) : n.texSubImage2D(n.TEXTURE_2D, 0, 0, 0, e.format, r.type, i), !0);
            }),
            (si.prototype.update = function () {
                var t, e;
                this.destroyed || ((t = (e = this.source).naturalWidth || e.videoWidth || e.width), (e = e.naturalHeight || e.videoHeight || e.height), this.resize(t, e), ni.prototype.update.call(this));
            }),
            (si.prototype.dispose = function () {
                this.source = null;
            }),
            si);
    function si(t) {
        var e = this,
            r = t.naturalWidth || t.videoWidth || t.width,
            i = t.naturalHeight || t.videoHeight || t.height;
        return (((e = ni.call(this, r, i) || this).source = t), (e.noSubImage = !1), e);
    }
    var ai,
        hi =
            (Xr(ui, (ai = oi)),
            (ui.test = function (t) {
                var e = globalThis.OffscreenCanvas;
                return !!(e && t instanceof e) || (globalThis.HTMLCanvasElement && t instanceof HTMLCanvasElement);
            }),
            ui);
    function ui(t) {
        return ai.call(this, t) || this;
    }
    var li,
        ci =
            (Xr(di, (li = $r)),
            (di.prototype.bind = function (t) {
                (li.prototype.bind.call(this, t), (t.target = $.TARGETS.TEXTURE_CUBE_MAP));
            }),
            (di.prototype.addBaseTextureAt = function (t, e, r) {
                if (!this.items[e]) throw new Error('Index ' + e + ' is out of bounds');
                if (!this.linkBaseTexture || t.parentTextureArray || 0 < Object.keys(t._glTextures).length) {
                    if (!t.resource) throw new Error('CubeResource does not support copying of renderTexture.');
                    this.addResourceAt(t.resource, e);
                } else ((t.target = $.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X + e), (t.parentTextureArray = this.baseTexture), (this.items[e] = t));
                return (t.valid && !this.valid && this.resize(t.realWidth, t.realHeight), (this.items[e] = t), this);
            }),
            (di.prototype.upload = function (t, e, r) {
                for (var i = this.itemDirtyIds, n = 0; n < di.SIDES; n++) {
                    var o = this.items[n];
                    i[n] < o.dirtyId && (o.valid && o.resource ? (o.resource.upload(t, o, r), (i[n] = o.dirtyId)) : i[n] < -1 && (t.gl.texImage2D(o.target, 0, r.internalFormat, e.realWidth, e.realHeight, 0, e.format, r.type, null), (i[n] = -1)));
                }
                return !0;
            }),
            (di.test = function (t) {
                return Array.isArray(t) && t.length === di.SIDES;
            }),
            (di.SIDES = 6),
            di);
    function di(t, e) {
        var r = this,
            i = e || {},
            n = i.width,
            o = i.height,
            s = i.autoLoad,
            i = i.linkBaseTexture;
        if (t && t.length !== di.SIDES) throw new Error('Invalid length. Got ' + t.length + ', expected 6');
        r = li.call(this, 6, { width: n, height: o }) || this;
        for (var a = 0; a < di.SIDES; a++) r.items[a].target = $.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X + a;
        return ((r.linkBaseTexture = !1 !== i), t && r.initFromArray(t, e), !1 !== s && r.load(), r);
    }
    var fi,
        pi =
            (Xr(_i, (fi = oi)),
            (_i.prototype.load = function (t) {
                var n = this;
                return (
                    this._load ||
                    (void 0 !== t && (this.createBitmap = t),
                    (this._load = new Promise(function (t, e) {
                        var r = n.source;
                        n.url = r.src;
                        function i() {
                            n.destroyed || ((r.onload = null), (r.onerror = null), n.resize(r.width, r.height), (n._load = null), n.createBitmap ? t(n.process()) : t(n));
                        }
                        r.complete && r.src
                            ? i()
                            : ((r.onload = i),
                              (r.onerror = function (t) {
                                  (e(t), n.onError.emit(t));
                              }));
                    })),
                    this._load)
                );
            }),
            (_i.prototype.process = function () {
                var e = this,
                    r = this.source;
                if (null !== this._process) return this._process;
                if (null !== this.bitmap || !globalThis.createImageBitmap) return Promise.resolve(this);
                var i = globalThis.createImageBitmap,
                    t = !r.crossOrigin || 'anonymous' === r.crossOrigin;
                return (
                    (this._process = fetch(r.src, { mode: t ? 'cors' : 'no-cors' })
                        .then(function (t) {
                            return t.blob();
                        })
                        .then(function (t) {
                            return i(t, 0, 0, r.width, r.height, { premultiplyAlpha: e.alphaMode === $.ALPHA_MODES.UNPACK ? 'premultiply' : 'none' });
                        })
                        .then(function (t) {
                            return e.destroyed ? Promise.reject() : ((e.bitmap = t), e.update(), (e._process = null), Promise.resolve(e));
                        })),
                    this._process
                );
            }),
            (_i.prototype.upload = function (t, e, r) {
                if (('number' == typeof this.alphaMode && (e.alphaMode = this.alphaMode), !this.createBitmap)) return fi.prototype.upload.call(this, t, e, r);
                if (!this.bitmap && (this.process(), !this.bitmap)) return !1;
                if ((fi.prototype.upload.call(this, t, e, r, this.bitmap), !this.preserveBitmap)) {
                    var i,
                        n = !0,
                        o = e._glTextures;
                    for (i in o) {
                        var s = o[i];
                        if (s !== r && s.dirtyId !== e.dirtyId) {
                            n = !1;
                            break;
                        }
                    }
                    n && (this.bitmap.close && this.bitmap.close(), (this.bitmap = null));
                }
                return !0;
            }),
            (_i.prototype.dispose = function () {
                ((this.source.onload = null), (this.source.onerror = null), fi.prototype.dispose.call(this), this.bitmap && (this.bitmap.close(), (this.bitmap = null)), (this._process = null), (this._load = null));
            }),
            (_i.test = function (t) {
                return 'string' == typeof t || t instanceof HTMLImageElement;
            }),
            _i);
    function _i(t, e) {
        var r,
            i = this;
        return ((e = e || {}), t instanceof HTMLImageElement || ((r = new Image()), oi.crossOrigin(r, t, e.crossorigin), (r.src = t), (t = r)), (i = fi.call(this, t) || this), !t.complete && i._width && i._height && ((i._width = 0), (i._height = 0)), (i.url = t.src), (i._process = null), (i.preserveBitmap = !1), (i.createBitmap = (void 0 !== e.createBitmap ? e.createBitmap : G.CREATE_IMAGE_BITMAP) && !!globalThis.createImageBitmap), (i.alphaMode = 'number' == typeof e.alphaMode ? e.alphaMode : null), (i.bitmap = null), (i._load = null), !1 !== e.autoLoad && i.load(), i);
    }
    var mi,
        Ei =
            (Xr(vi, (mi = oi)),
            (vi.prototype.load = function () {
                var e = this;
                return (
                    this._load ||
                    ((this._load = new Promise(function (t) {
                        if (
                            ((e._resolve = function () {
                                (e.resize(e.source.width, e.source.height), t(e));
                            }),
                            vi.SVG_XML.test(e.svg.trim()))
                        ) {
                            if (!btoa) throw new Error("Your browser doesn't support base64 conversions.");
                            e.svg = 'data:image/svg+xml;base64,' + btoa(unescape(encodeURIComponent(e.svg)));
                        }
                        e._loadSvg();
                    })),
                    this._load)
                );
            }),
            (vi.prototype._loadSvg = function () {
                var o = this,
                    s = new Image();
                (oi.crossOrigin(s, this.svg, this._crossorigin),
                    (s.src = this.svg),
                    (s.onerror = function (t) {
                        o._resolve && ((s.onerror = null), o.onError.emit(t));
                    }),
                    (s.onload = function () {
                        if (o._resolve) {
                            var t = s.width,
                                e = s.height;
                            if (!t || !e) throw new Error('The SVG image must have width and height defined (in pixels), canvas API needs them.');
                            var r = t * o.scale,
                                i = e * o.scale;
                            ((o._overrideWidth || o._overrideHeight) && ((r = o._overrideWidth || (o._overrideHeight / e) * t), (i = o._overrideHeight || (o._overrideWidth / t) * e)), (r = Math.round(r)), (i = Math.round(i)));
                            var n = o.source;
                            ((n.width = r), (n.height = i), (n._pixiId = 'canvas_' + ++oe), n.getContext('2d').drawImage(s, 0, 0, t, e, 0, 0, r, i), o._resolve(), (o._resolve = null));
                        }
                    }));
            }),
            (vi.getSize = function (t) {
                var e = vi.SVG_SIZE.exec(t),
                    t = {};
                return (e && ((t[e[1]] = Math.round(parseFloat(e[3]))), (t[e[5]] = Math.round(parseFloat(e[7])))), t);
            }),
            (vi.prototype.dispose = function () {
                (mi.prototype.dispose.call(this), (this._resolve = null), (this._crossorigin = null));
            }),
            (vi.test = function (t, e) {
                return 'svg' === e || ('string' == typeof t && /^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(t)) || ('string' == typeof t && vi.SVG_XML.test(t));
            }),
            (vi.SVG_XML = /^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m),
            (vi.SVG_SIZE = /<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i),
            vi);
    function vi(t, e) {
        var r = this;
        return ((e = e || {}), ((r = mi.call(this, document.createElement('canvas')) || this)._width = 0), (r._height = 0), (r.svg = t), (r.scale = e.scale || 1), (r._overrideWidth = e.width), (r._overrideHeight = e.height), (r._resolve = null), (r._crossorigin = e.crossorigin), (r._load = null), !1 !== e.autoLoad && r.load(), r);
    }
    var yi,
        gi =
            (Xr(Ti, (yi = oi)),
            (Ti.prototype.update = function (t) {
                var e;
                this.destroyed || ((e = mr.shared.elapsedMS * this.source.playbackRate), (this._msToNextUpdate = Math.floor(this._msToNextUpdate - e)), (!this._updateFPS || this._msToNextUpdate <= 0) && (yi.prototype.update.call(this), (this._msToNextUpdate = this._updateFPS ? Math.floor(1e3 / this._updateFPS) : 0)));
            }),
            (Ti.prototype.load = function () {
                var e = this;
                if (this._load) return this._load;
                var r = this.source;
                return (
                    (r.readyState === r.HAVE_ENOUGH_DATA || r.readyState === r.HAVE_FUTURE_DATA) && r.width && r.height && (r.complete = !0),
                    r.addEventListener('play', this._onPlayStart.bind(this)),
                    r.addEventListener('pause', this._onPlayStop.bind(this)),
                    this._isSourceReady() ? this._onCanPlay() : (r.addEventListener('canplay', this._onCanPlay), r.addEventListener('canplaythrough', this._onCanPlay), r.addEventListener('error', this._onError, !0)),
                    (this._load = new Promise(function (t) {
                        e.valid ? t(e) : ((e._resolve = t), r.load());
                    })),
                    this._load
                );
            }),
            (Ti.prototype._onError = function (t) {
                (this.source.removeEventListener('error', this._onError, !0), this.onError.emit(t));
            }),
            (Ti.prototype._isSourcePlaying = function () {
                var t = this.source;
                return 0 < t.currentTime && !1 === t.paused && !1 === t.ended && 2 < t.readyState;
            }),
            (Ti.prototype._isSourceReady = function () {
                var t = this.source;
                return 3 === t.readyState || 4 === t.readyState;
            }),
            (Ti.prototype._onPlayStart = function () {
                (this.valid || this._onCanPlay(), this.autoUpdate && !this._isConnectedToTicker && (mr.shared.add(this.update, this), (this._isConnectedToTicker = !0)));
            }),
            (Ti.prototype._onPlayStop = function () {
                this._isConnectedToTicker && (mr.shared.remove(this.update, this), (this._isConnectedToTicker = !1));
            }),
            (Ti.prototype._onCanPlay = function () {
                var t = this.source;
                (t.removeEventListener('canplay', this._onCanPlay), t.removeEventListener('canplaythrough', this._onCanPlay));
                var e = this.valid;
                (this.resize(t.videoWidth, t.videoHeight), !e && this._resolve && (this._resolve(this), (this._resolve = null)), this._isSourcePlaying() ? this._onPlayStart() : this.autoPlay && t.play());
            }),
            (Ti.prototype.dispose = function () {
                this._isConnectedToTicker && (mr.shared.remove(this.update, this), (this._isConnectedToTicker = !1));
                var t = this.source;
                (t && (t.removeEventListener('error', this._onError, !0), t.pause(), (t.src = ''), t.load()), yi.prototype.dispose.call(this));
            }),
            Object.defineProperty(Ti.prototype, 'autoUpdate', {
                get: function () {
                    return this._autoUpdate;
                },
                set: function (t) {
                    t !== this._autoUpdate && ((this._autoUpdate = t), !this._autoUpdate && this._isConnectedToTicker ? (mr.shared.remove(this.update, this), (this._isConnectedToTicker = !1)) : this._autoUpdate && !this._isConnectedToTicker && this._isSourcePlaying() && (mr.shared.add(this.update, this), (this._isConnectedToTicker = !0)));
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Ti.prototype, 'updateFPS', {
                get: function () {
                    return this._updateFPS;
                },
                set: function (t) {
                    t !== this._updateFPS && (this._updateFPS = t);
                },
                enumerable: !1,
                configurable: !0,
            }),
            (Ti.test = function (t, e) {
                return (globalThis.HTMLVideoElement && t instanceof HTMLVideoElement) || -1 < Ti.TYPES.indexOf(e);
            }),
            (Ti.TYPES = ['mp4', 'm4v', 'webm', 'ogg', 'ogv', 'h264', 'avi', 'mov']),
            (Ti.MIME_TYPES = { ogv: 'video/ogg', mov: 'video/quicktime', m4v: 'video/mp4' }),
            Ti);
    function Ti(t, e) {
        var r = this;
        if (((e = e || {}), !(t instanceof HTMLVideoElement))) {
            var i = document.createElement('video');
            (i.setAttribute('preload', 'auto'), i.setAttribute('webkit-playsinline', ''), i.setAttribute('playsinline', ''), 'string' == typeof t && (t = [t]));
            var n = t[0].src || t[0];
            oi.crossOrigin(i, n, e.crossorigin);
            for (var o = 0; o < t.length; ++o) {
                var s = document.createElement('source'),
                    a = t[o],
                    h = a.src,
                    u = a.mime,
                    a = (h = h || t[o]).split('?').shift().toLowerCase(),
                    a = a.slice(a.lastIndexOf('.') + 1),
                    u = u || Ti.MIME_TYPES[a] || 'video/' + a;
                ((s.src = h), (s.type = u), i.appendChild(s));
            }
            t = i;
        }
        return (((r = yi.call(this, t) || this).noSubImage = !0), (r._autoUpdate = !0), (r._isConnectedToTicker = !1), (r._updateFPS = e.updateFPS || 0), (r._msToNextUpdate = 0), (r.autoPlay = !1 !== e.autoPlay), (r._load = null), (r._resolve = null), (r._onCanPlay = r._onCanPlay.bind(r)), (r._onError = r._onError.bind(r)), !1 !== e.autoLoad && r.load(), r);
    }
    var bi,
        xi =
            (Xr(Ri, (bi = oi)),
            (Ri.test = function (t) {
                return !!globalThis.createImageBitmap && t instanceof ImageBitmap;
            }),
            Ri);
    function Ri(t) {
        return bi.call(this, t) || this;
    }
    Br.push(pi, xi, hi, gi, Ei, Wr, ci, ri);
    var Ai,
        Si = { __proto__: null, Resource: Yr, BaseImageResource: oi, INSTALLED: Br, autoDetectResource: Gr, AbstractMultiResource: $r, ArrayResource: ri, BufferResource: Wr, CanvasResource: hi, CubeResource: ci, ImageResource: pi, SVGResource: Ei, VideoResource: gi, ImageBitmapResource: xi },
        Oi =
            (Xr(Ii, (Ai = Wr)),
            (Ii.prototype.upload = function (t, e, r) {
                var i = t.gl;
                i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL, e.alphaMode === $.ALPHA_MODES.UNPACK);
                var n = e.realWidth,
                    t = e.realHeight;
                return (r.width === n && r.height === t ? i.texSubImage2D(e.target, 0, 0, 0, n, t, e.format, r.type, this.data) : ((r.width = n), (r.height = t), i.texImage2D(e.target, 0, r.internalFormat, n, t, 0, e.format, r.type, this.data)), !0);
            }),
            Ii);
    function Ii() {
        return (null !== Ai && Ai.apply(this, arguments)) || this;
    }
    var Mi =
        (Object.defineProperty(Ni.prototype, 'colorTexture', {
            get: function () {
                return this.colorTextures[0];
            },
            enumerable: !1,
            configurable: !0,
        }),
        (Ni.prototype.addColorTexture = function (t, e) {
            return (void 0 === t && (t = 0), (this.colorTextures[t] = e || new Zr(null, { scaleMode: $.SCALE_MODES.NEAREST, resolution: 1, mipmap: $.MIPMAP_MODES.OFF, width: this.width, height: this.height })), this.dirtyId++, this.dirtyFormat++, this);
        }),
        (Ni.prototype.addDepthTexture = function (t) {
            return ((this.depthTexture = t || new Zr(new Oi(null, { width: this.width, height: this.height }), { scaleMode: $.SCALE_MODES.NEAREST, resolution: 1, width: this.width, height: this.height, mipmap: $.MIPMAP_MODES.OFF, format: $.FORMATS.DEPTH_COMPONENT, type: $.TYPES.UNSIGNED_SHORT })), this.dirtyId++, this.dirtyFormat++, this);
        }),
        (Ni.prototype.enableDepth = function () {
            return ((this.depth = !0), this.dirtyId++, this.dirtyFormat++, this);
        }),
        (Ni.prototype.enableStencil = function () {
            return ((this.stencil = !0), this.dirtyId++, this.dirtyFormat++, this);
        }),
        (Ni.prototype.resize = function (t, e) {
            if (((t = Math.round(t)), (e = Math.round(e)), t !== this.width || e !== this.height)) {
                ((this.width = t), (this.height = e), this.dirtyId++, this.dirtySize++);
                for (var r = 0; r < this.colorTextures.length; r++) {
                    var i = this.colorTextures[r],
                        n = i.resolution;
                    i.setSize(t / n, e / n);
                }
                this.depthTexture && ((n = this.depthTexture.resolution), this.depthTexture.setSize(t / n, e / n));
            }
        }),
        (Ni.prototype.dispose = function () {
            this.disposeRunner.emit(this, !1);
        }),
        (Ni.prototype.destroyDepthTexture = function () {
            this.depthTexture && (this.depthTexture.destroy(), (this.depthTexture = null), ++this.dirtyId, ++this.dirtyFormat);
        }),
        Ni);
    function Ni(t, e) {
        ((this.width = Math.round(t || 100)), (this.height = Math.round(e || 100)), (this.stencil = !1), (this.depth = !1), (this.dirtyId = 0), (this.dirtyFormat = 0), (this.dirtySize = 0), (this.depthTexture = null), (this.colorTextures = []), (this.glFramebuffers = {}), (this.disposeRunner = new Fr('disposeFramebuffer')), (this.multisample = $.MSAA_QUALITY.NONE));
    }
    var Pi,
        Di =
            (Xr(Ci, (Pi = Zr)),
            (Ci.prototype.resize = function (t, e) {
                (this.framebuffer.resize(t * this.resolution, e * this.resolution), this.setRealSize(this.framebuffer.width, this.framebuffer.height));
            }),
            (Ci.prototype.dispose = function () {
                (this.framebuffer.dispose(), Pi.prototype.dispose.call(this));
            }),
            (Ci.prototype.destroy = function () {
                (Pi.prototype.destroy.call(this), this.framebuffer.destroyDepthTexture(), (this.framebuffer = null));
            }),
            Ci);
    function Ci(t) {
        void 0 === t && (t = {});
        var e = this;
        return ('number' == typeof t && (t = { width: arguments[0], height: arguments[1], scaleMode: arguments[2], resolution: arguments[3] }), (t.width = t.width || 100), (t.height = t.height || 100), (t.multisample = void 0 !== t.multisample ? t.multisample : $.MSAA_QUALITY.NONE), ((e = Pi.call(this, null, t) || this).mipmap = $.MIPMAP_MODES.OFF), (e.valid = !0), (e.clearColor = [0, 0, 0, 0]), (e.framebuffer = new Mi(e.realWidth, e.realHeight).addColorTexture(0, e)), (e.framebuffer.multisample = t.multisample), (e.maskStack = []), (e.filterStack = [{}]), e);
    }
    var wi =
        ((Li.prototype.set = function (t, e, r) {
            var i,
                n,
                o,
                s = e.width,
                a = e.height;
            (r ? ((i = t.width / 2 / s), (n = t.height / 2 / a), (o = t.x / s + i), (e = t.y / a + n), (r = ze.add(r, ze.NW)), (this.x0 = o + i * ze.uX(r)), (this.y0 = e + n * ze.uY(r)), (r = ze.add(r, 2)), (this.x1 = o + i * ze.uX(r)), (this.y1 = e + n * ze.uY(r)), (r = ze.add(r, 2)), (this.x2 = o + i * ze.uX(r)), (this.y2 = e + n * ze.uY(r)), (r = ze.add(r, 2)), (this.x3 = o + i * ze.uX(r)), (this.y3 = e + n * ze.uY(r))) : ((this.x0 = t.x / s), (this.y0 = t.y / a), (this.x1 = (t.x + t.width) / s), (this.y1 = t.y / a), (this.x2 = (t.x + t.width) / s), (this.y2 = (t.y + t.height) / a), (this.x3 = t.x / s), (this.y3 = (t.y + t.height) / a)), (this.uvsFloat32[0] = this.x0), (this.uvsFloat32[1] = this.y0), (this.uvsFloat32[2] = this.x1), (this.uvsFloat32[3] = this.y1), (this.uvsFloat32[4] = this.x2), (this.uvsFloat32[5] = this.y2), (this.uvsFloat32[6] = this.x3), (this.uvsFloat32[7] = this.y3));
        }),
        (Li.prototype.toString = function () {
            return '[@pixi/core:TextureUvs x0=' + this.x0 + ' y0=' + this.y0 + ' x1=' + this.x1 + ' y1=' + this.y1 + ' x2=' + this.x2 + ' y2=' + this.y2 + ' x3=' + this.x3 + ' y3=' + this.y3 + ']';
        }),
        Li);
    function Li() {
        ((this.x0 = 0), (this.y0 = 0), (this.x1 = 1), (this.y1 = 0), (this.x2 = 1), (this.y2 = 1), (this.x3 = 0), (this.y3 = 1), (this.uvsFloat32 = new Float32Array(8)));
    }
    var Fi = new wi();
    function Ui(t) {
        ((t.destroy = function () {}), (t.on = function () {}), (t.once = function () {}), (t.emit = function () {}));
    }
    var Bi,
        Gi =
            (Xr(ki, (Bi = H)),
            (ki.prototype.update = function () {
                this.baseTexture.resource && this.baseTexture.resource.update();
            }),
            (ki.prototype.onBaseTextureUpdated = function (t) {
                if (this.noFrame) {
                    if (!this.baseTexture.valid) return;
                    ((this._frame.width = t.width), (this._frame.height = t.height), (this.valid = !0), this.updateUvs());
                } else this.frame = this._frame;
                this.emit('update', this);
            }),
            (ki.prototype.destroy = function (t) {
                (this.baseTexture && (t && ((t = this.baseTexture.resource) && t.url && le[t.url] && ki.removeFromCache(t.url), this.baseTexture.destroy()), this.baseTexture.off('loaded', this.onBaseTextureUpdated, this), this.baseTexture.off('update', this.onBaseTextureUpdated, this), (this.baseTexture = null)), (this._frame = null), (this._uvs = null), (this.trim = null), (this.orig = null), (this.valid = !1), ki.removeFromCache(this), (this.textureCacheIds = null));
            }),
            (ki.prototype.clone = function () {
                var t = this._frame.clone(),
                    e = this._frame === this.orig ? t : this.orig.clone(),
                    e = new ki(this.baseTexture, !this.noFrame && t, e, this.trim && this.trim.clone(), this.rotate, this.defaultAnchor);
                return (this.noFrame && (e._frame = t), e);
            }),
            (ki.prototype.updateUvs = function () {
                (this._uvs === Fi && (this._uvs = new wi()), this._uvs.set(this._frame, this.baseTexture, this.rotate), this._updateID++);
            }),
            (ki.from = function (t, e, r) {
                (void 0 === e && (e = {}), void 0 === r && (r = G.STRICT_TEXTURE_CACHE));
                var i = 'string' == typeof t,
                    n = null,
                    n = i ? t : t instanceof Zr ? (t.cacheId || ((o = (e && e.pixiIdPrefix) || 'pixiid'), (t.cacheId = o + '-' + ++oe), Zr.addToCache(t, t.cacheId)), t.cacheId) : (t._pixiId || ((o = (e && e.pixiIdPrefix) || 'pixiid'), (t._pixiId = o + '_' + ++oe)), t._pixiId),
                    o = le[n];
                if (i && r && !o) throw new Error('The cacheId "' + n + '" does not exist in TextureCache.');
                return (o || t instanceof Zr ? !o && t instanceof Zr && ((o = new ki(t)), ki.addToCache(o, n)) : (e.resolution || (e.resolution = ve(t)), ((o = new ki(new Zr(t, e))).baseTexture.cacheId = n), Zr.addToCache(o.baseTexture, n), ki.addToCache(o, n)), o);
            }),
            (ki.fromURL = function (t, e) {
                var r = Object.assign({ autoLoad: !1 }, null == e ? void 0 : e.resourceOptions),
                    i = ki.from(t, Object.assign({ resourceOptions: r }, e), !1),
                    e = i.baseTexture.resource;
                return i.baseTexture.valid
                    ? Promise.resolve(i)
                    : e.load().then(function () {
                          return Promise.resolve(i);
                      });
            }),
            (ki.fromBuffer = function (t, e, r, i) {
                return new ki(Zr.fromBuffer(t, e, r, i));
            }),
            (ki.fromLoader = function (t, e, r, i) {
                ((t = new Zr(t, Object.assign({ scaleMode: G.SCALE_MODE, resolution: ve(e) }, i))), (i = t.resource));
                i instanceof pi && (i.url = e);
                var n = new ki(t);
                return (
                    (r = r || e),
                    Zr.addToCache(n.baseTexture, r),
                    ki.addToCache(n, r),
                    r !== e && (Zr.addToCache(n.baseTexture, e), ki.addToCache(n, e)),
                    n.baseTexture.valid
                        ? Promise.resolve(n)
                        : new Promise(function (t) {
                              n.baseTexture.once('loaded', function () {
                                  return t(n);
                              });
                          })
                );
            }),
            (ki.addToCache = function (t, e) {
                e && (-1 === t.textureCacheIds.indexOf(e) && t.textureCacheIds.push(e), le[e] && console.warn('Texture added to the cache with an id [' + e + '] that already had an entry'), (le[e] = t));
            }),
            (ki.removeFromCache = function (t) {
                if ('string' == typeof t) {
                    var e = le[t];
                    if (e) {
                        var r = e.textureCacheIds.indexOf(t);
                        return (-1 < r && e.textureCacheIds.splice(r, 1), delete le[t], e);
                    }
                } else if (t && t.textureCacheIds) {
                    for (var i = 0; i < t.textureCacheIds.length; ++i) le[t.textureCacheIds[i]] === t && delete le[t.textureCacheIds[i]];
                    return ((t.textureCacheIds.length = 0), t);
                }
                return null;
            }),
            Object.defineProperty(ki.prototype, 'resolution', {
                get: function () {
                    return this.baseTexture.resolution;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(ki.prototype, 'frame', {
                get: function () {
                    return this._frame;
                },
                set: function (t) {
                    ((this._frame = t), (this.noFrame = !1));
                    var e = t.x,
                        r = t.y,
                        i = t.width,
                        n = t.height,
                        o = e + i > this.baseTexture.width,
                        s = r + n > this.baseTexture.height;
                    if (o || s) {
                        ((s = o && s ? 'and' : 'or'), (e = 'X: ' + e + ' + ' + i + ' = ' + (e + i) + ' > ' + this.baseTexture.width), (r = 'Y: ' + r + ' + ' + n + ' = ' + (r + n) + ' > ' + this.baseTexture.height));
                        throw new Error('Texture Error: frame does not fit inside the base Texture dimensions: ' + e + ' ' + s + ' ' + r);
                    }
                    ((this.valid = i && n && this.baseTexture.valid), this.trim || this.rotate || (this.orig = t), this.valid && this.updateUvs());
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(ki.prototype, 'rotate', {
                get: function () {
                    return this._rotate;
                },
                set: function (t) {
                    ((this._rotate = t), this.valid && this.updateUvs());
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(ki.prototype, 'width', {
                get: function () {
                    return this.orig.width;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(ki.prototype, 'height', {
                get: function () {
                    return this.orig.height;
                },
                enumerable: !1,
                configurable: !0,
            }),
            (ki.prototype.castToBaseTexture = function () {
                return this.baseTexture;
            }),
            Object.defineProperty(ki, 'EMPTY', {
                get: function () {
                    return (ki._EMPTY || (Ui((ki._EMPTY = new ki(new Zr()))), Ui(ki._EMPTY.baseTexture)), ki._EMPTY);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(ki, 'WHITE', {
                get: function () {
                    var t, e;
                    return (ki._WHITE || ((e = (t = document.createElement('canvas')).getContext('2d')), (t.width = 16), (t.height = 16), (e.fillStyle = 'white'), e.fillRect(0, 0, 16, 16), Ui((ki._WHITE = new ki(new Zr(new hi(t))))), Ui(ki._WHITE.baseTexture)), ki._WHITE);
                },
                enumerable: !1,
                configurable: !0,
            }),
            ki);
    function ki(t, e, r, i, n, o) {
        var s = Bi.call(this) || this;
        if (((s.noFrame = !1), e || ((s.noFrame = !0), (e = new Se(0, 0, 1, 1))), t instanceof ki && (t = t.baseTexture), (s.baseTexture = t), (s._frame = e), (s.trim = i), (s.valid = !1), (s._uvs = Fi), (s.uvMatrix = null), (s.orig = r || e), (s._rotate = Number(n || 0)), !0 === n)) s._rotate = 2;
        else if (s._rotate % 2 != 0) throw new Error('attempt to use diamond-shaped UVs. If you are sure, set rotation manually');
        return ((s.defaultAnchor = o ? new xe(o.x, o.y) : new xe(0, 0)), (s._updateID = 0), (s.textureCacheIds = []), t.valid ? (s.noFrame ? t.valid && s.onBaseTextureUpdated(t) : (s.frame = e)) : t.once('loaded', s.onBaseTextureUpdated, s), s.noFrame && t.on('update', s.onBaseTextureUpdated, s), s);
    }
    var Xi,
        Hi =
            (Xr(Yi, (Xi = Gi)),
            Object.defineProperty(Yi.prototype, 'framebuffer', {
                get: function () {
                    return this.baseTexture.framebuffer;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Yi.prototype, 'multisample', {
                get: function () {
                    return this.framebuffer.multisample;
                },
                set: function (t) {
                    this.framebuffer.multisample = t;
                },
                enumerable: !1,
                configurable: !0,
            }),
            (Yi.prototype.resize = function (t, e, r) {
                void 0 === r && (r = !0);
                var i = this.baseTexture.resolution,
                    t = Math.round(t * i) / i,
                    i = Math.round(e * i) / i;
                ((this.valid = 0 < t && 0 < i), (this._frame.width = this.orig.width = t), (this._frame.height = this.orig.height = i), r && this.baseTexture.resize(t, i), this.updateUvs());
            }),
            (Yi.prototype.setResolution = function (t) {
                var e = this.baseTexture;
                e.resolution !== t && (e.setResolution(t), this.resize(e.width, e.height, !1));
            }),
            (Yi.create = function (t) {
                for (var e = arguments, r = [], i = 1; i < arguments.length; i++) r[i - 1] = e[i];
                return ('number' == typeof t && (he('6.0.0', 'Arguments (width, height, scaleMode, resolution) have been deprecated.'), (t = { width: t, height: r[0], scaleMode: r[1], resolution: r[2] })), new Yi(new Di(t)));
            }),
            Yi);
    function Yi(t, e) {
        e = Xi.call(this, t, e) || this;
        return ((e.valid = !0), (e.filterFrame = null), (e.filterPoolKey = null), e.updateUvs(), e);
    }
    var ji =
        ((Vi.prototype.createTexture = function (t, e, r) {
            void 0 === r && (r = $.MSAA_QUALITY.NONE);
            r = new Di(Object.assign({ width: t, height: e, resolution: 1, multisample: r }, this.textureOptions));
            return new Hi(r);
        }),
        (Vi.prototype.getOptimalTexture = function (t, e, r, i) {
            var n;
            (void 0 === r && (r = 1), void 0 === i && (i = $.MSAA_QUALITY.NONE), (t = Math.ceil(t * r - 1e-6)), (e = Math.ceil(e * r - 1e-6)), this.enableFullScreen && t === this._pixelsWidth && e === this._pixelsHeight ? (n = 1 < i ? -i : -1) : ((n = (((65535 & (t = te(t))) << 16) | (65535 & (e = te(e)))) >>> 0), 1 < i && (n += 4294967296 * i)), this.texturePool[n] || (this.texturePool[n] = []));
            var o = this.texturePool[n].pop();
            return (((o = o || this.createTexture(t, e, i)).filterPoolKey = n), o.setResolution(r), o);
        }),
        (Vi.prototype.getFilterTexture = function (t, e, r) {
            r = this.getOptimalTexture(t.width, t.height, e || t.resolution, r || $.MSAA_QUALITY.NONE);
            return ((r.filterFrame = t.filterFrame), r);
        }),
        (Vi.prototype.returnTexture = function (t) {
            var e = t.filterPoolKey;
            ((t.filterFrame = null), this.texturePool[e].push(t));
        }),
        (Vi.prototype.returnFilterTexture = function (t) {
            this.returnTexture(t);
        }),
        (Vi.prototype.clear = function (t) {
            if ((t = !1 !== t))
                for (var e in this.texturePool) {
                    var r = this.texturePool[e];
                    if (r) for (var i = 0; i < r.length; i++) r[i].destroy(!0);
                }
            this.texturePool = {};
        }),
        (Vi.prototype.setScreenSize = function (t) {
            if (t.width !== this._pixelsWidth || t.height !== this._pixelsHeight) {
                for (var e in ((this.enableFullScreen = 0 < t.width && 0 < t.height), this.texturePool))
                    if (Number(e) < 0) {
                        var r = this.texturePool[e];
                        if (r) for (var i = 0; i < r.length; i++) r[i].destroy(!0);
                        this.texturePool[e] = [];
                    }
                ((this._pixelsWidth = t.width), (this._pixelsHeight = t.height));
            }
        }),
        (Vi.SCREEN_KEY = -1),
        Vi);
    function Vi(t) {
        ((this.texturePool = {}), (this.textureOptions = t || {}), (this.enableFullScreen = !1), (this._pixelsWidth = 0), (this._pixelsHeight = 0));
    }
    var Wi =
        ((zi.prototype.destroy = function () {
            this.buffer = null;
        }),
        (zi.from = function (t, e, r, i, n) {
            return new zi(t, e, r, i, n);
        }),
        zi);
    function zi(t, e, r, i, n, o, s) {
        (void 0 === e && (e = 0), void 0 === r && (r = !1), void 0 === i && (i = $.TYPES.FLOAT), (this.buffer = t), (this.size = e), (this.normalized = r), (this.type = i), (this.stride = n), (this.start = o), (this.instance = s));
    }
    var qi = 0,
        Ki =
            ((Zi.prototype.update = function (t) {
                (t instanceof Array && (t = new Float32Array(t)), (this.data = t || this.data), this._updateID++);
            }),
            (Zi.prototype.dispose = function () {
                this.disposeRunner.emit(this, !1);
            }),
            (Zi.prototype.destroy = function () {
                (this.dispose(), (this.data = null));
            }),
            Object.defineProperty(Zi.prototype, 'index', {
                get: function () {
                    return this.type === $.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;
                },
                set: function (t) {
                    this.type = t ? $.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER : $.BUFFER_TYPE.ARRAY_BUFFER;
                },
                enumerable: !1,
                configurable: !0,
            }),
            (Zi.from = function (t) {
                return (t instanceof Array && (t = new Float32Array(t)), new Zi(t));
            }),
            Zi);
    function Zi(t, e, r) {
        (void 0 === e && (e = !0), void 0 === r && (r = !1), (this.data = t || new Float32Array(1)), (this._glBuffers = {}), (this._updateID = 0), (this.index = r), (this.static = e), (this.id = qi++), (this.disposeRunner = new Fr('disposeBuffer')));
    }
    var Qi = { Float32Array: Float32Array, Uint32Array: Uint32Array, Int32Array: Int32Array, Uint8Array: Uint8Array };
    var Ji = { 5126: 4, 5123: 2, 5121: 1 },
        $i = 0,
        tn = { Float32Array: Float32Array, Uint32Array: Uint32Array, Int32Array: Int32Array, Uint8Array: Uint8Array, Uint16Array: Uint16Array },
        en =
            ((rn.prototype.addAttribute = function (t, e, r, i, n, o, s, a) {
                if ((void 0 === r && (r = 0), void 0 === i && (i = !1), void 0 === a && (a = !1), !e)) throw new Error('You must pass a buffer when creating an attribute');
                e instanceof Ki || (e instanceof Array && (e = new Float32Array(e)), (e = new Ki(e)));
                var h = t.split('|');
                if (1 < h.length) {
                    for (var u = 0; u < h.length; u++) this.addAttribute(h[u], e, r, i, n);
                    return this;
                }
                var l = this.buffers.indexOf(e);
                return (-1 === l && (this.buffers.push(e), (l = this.buffers.length - 1)), (this.attributes[t] = new Wi(l, r, i, n, o, s, a)), (this.instanced = this.instanced || a), this);
            }),
            (rn.prototype.getAttribute = function (t) {
                return this.attributes[t];
            }),
            (rn.prototype.getBuffer = function (t) {
                return this.buffers[this.getAttribute(t).buffer];
            }),
            (rn.prototype.addIndex = function (t) {
                return (t instanceof Ki || (t instanceof Array && (t = new Uint16Array(t)), (t = new Ki(t))), (t.type = $.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER), (this.indexBuffer = t), -1 === this.buffers.indexOf(t) && this.buffers.push(t), this);
            }),
            (rn.prototype.getIndex = function () {
                return this.indexBuffer;
            }),
            (rn.prototype.interleave = function () {
                if (1 === this.buffers.length || (2 === this.buffers.length && this.indexBuffer)) return this;
                var t,
                    e = [],
                    r = [],
                    i = new Ki();
                for (t in this.attributes) {
                    var n = this.attributes[t],
                        o = this.buffers[n.buffer];
                    (e.push(o.data), r.push((n.size * Ji[n.type]) / 4), (n.buffer = 0));
                }
                for (
                    i.data = (function (t, e) {
                        for (var r = 0, i = 0, n = {}, o = 0; o < t.length; o++) ((i += e[o]), (r += t[o].length));
                        for (var s = new ArrayBuffer(4 * r), a = null, h = 0, o = 0; o < t.length; o++) {
                            var u = e[o],
                                l = t[o],
                                c = Jt(l);
                            (n[c] || (n[c] = new Qi[c](s)), (a = n[c]));
                            for (var d = 0; d < l.length; d++) a[((d / u) | 0) * i + h + (d % u)] = l[d];
                            h += u;
                        }
                        return new Float32Array(s);
                    })(e, r),
                        t = 0;
                    t < this.buffers.length;
                    t++
                )
                    this.buffers[t] !== this.indexBuffer && this.buffers[t].destroy();
                return ((this.buffers = [i]), this.indexBuffer && this.buffers.push(this.indexBuffer), this);
            }),
            (rn.prototype.getSize = function () {
                for (var t in this.attributes) {
                    var e = this.attributes[t];
                    return this.buffers[e.buffer].data.length / (e.stride / 4 || e.size);
                }
                return 0;
            }),
            (rn.prototype.dispose = function () {
                this.disposeRunner.emit(this, !1);
            }),
            (rn.prototype.destroy = function () {
                (this.dispose(), (this.buffers = null), (this.indexBuffer = null), (this.attributes = null));
            }),
            (rn.prototype.clone = function () {
                for (var t = new rn(), e = 0; e < this.buffers.length; e++) t.buffers[e] = new Ki(this.buffers[e].data.slice(0));
                for (e in this.attributes) {
                    var r = this.attributes[e];
                    t.attributes[e] = new Wi(r.buffer, r.size, r.normalized, r.type, r.stride, r.start, r.instance);
                }
                return (this.indexBuffer && ((t.indexBuffer = t.buffers[this.buffers.indexOf(this.indexBuffer)]), (t.indexBuffer.type = $.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER)), t);
            }),
            (rn.merge = function (t) {
                for (var e, r = new rn(), i = [], n = [], o = [], s = 0; s < t.length; s++) {
                    e = t[s];
                    for (var a = 0; a < e.buffers.length; a++) ((n[a] = n[a] || 0), (n[a] += e.buffers[a].data.length), (o[a] = 0));
                }
                for (s = 0; s < e.buffers.length; s++) ((i[s] = new tn[Jt(e.buffers[s].data)](n[s])), (r.buffers[s] = new Ki(i[s])));
                for (s = 0; s < t.length; s++) {
                    e = t[s];
                    for (a = 0; a < e.buffers.length; a++) (i[a].set(e.buffers[a].data, o[a]), (o[a] += e.buffers[a].data.length));
                }
                if (((r.attributes = e.attributes), e.indexBuffer)) {
                    ((r.indexBuffer = r.buffers[e.buffers.indexOf(e.indexBuffer)]), (r.indexBuffer.type = $.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER));
                    for (var h = 0, u = 0, l = 0, c = 0, s = 0; s < e.buffers.length; s++)
                        if (e.buffers[s] !== e.indexBuffer) {
                            c = s;
                            break;
                        }
                    for (s in e.attributes) {
                        var d = e.attributes[s];
                        (0 | d.buffer) === c && (u += (d.size * Ji[d.type]) / 4);
                    }
                    for (s = 0; s < t.length; s++) {
                        for (var f = t[s].indexBuffer.data, a = 0; a < f.length; a++) r.indexBuffer.data[a + l] += h;
                        ((h += t[s].buffers[c].data.length / u), (l += f.length));
                    }
                }
                return r;
            }),
            rn);
    function rn(t, e) {
        (void 0 === t && (t = []), void 0 === e && (e = {}), (this.buffers = t), (this.indexBuffer = null), (this.attributes = e), (this.glVertexArrayObjects = {}), (this.id = $i++), (this.instanced = !1), (this.instanceCount = 1), (this.disposeRunner = new Fr('disposeGeometry')), (this.refCount = 0));
    }
    var nn,
        on = (Xr(sn, (nn = en)), sn);
    function sn() {
        var t = nn.call(this) || this;
        return (t.addAttribute('aVertexPosition', new Float32Array([0, 0, 1, 0, 1, 1, 0, 1])).addIndex([0, 1, 3, 2]), t);
    }
    var an,
        hn =
            (Xr(un, (an = en)),
            (un.prototype.map = function (t, e) {
                var r, i;
                return ((this.uvs[0] = 0), (this.uvs[1] = 0), (this.uvs[2] = 0 + e.width / t.width), (this.uvs[3] = 0), (this.uvs[4] = 0 + e.width / t.width), (this.uvs[5] = 0 + e.height / t.height), (this.uvs[6] = 0), (this.uvs[7] = 0 + e.height / t.height), (r = e.x), (i = e.y), (this.vertices[0] = r), (this.vertices[1] = i), (this.vertices[2] = r + e.width), (this.vertices[3] = i), (this.vertices[4] = r + e.width), (this.vertices[5] = i + e.height), (this.vertices[6] = r), (this.vertices[7] = i + e.height), this.invalidate(), this);
            }),
            (un.prototype.invalidate = function () {
                return (this.vertexBuffer._updateID++, this.uvBuffer._updateID++, this);
            }),
            un);
    function un() {
        var t = an.call(this) || this;
        return ((t.vertices = new Float32Array([-1, -1, 1, -1, 1, 1, -1, 1])), (t.uvs = new Float32Array([0, 0, 1, 0, 1, 1, 0, 1])), (t.vertexBuffer = new Ki(t.vertices)), (t.uvBuffer = new Ki(t.uvs)), t.addAttribute('aVertexPosition', t.vertexBuffer).addAttribute('aTextureCoord', t.uvBuffer).addIndex([0, 1, 2, 0, 2, 3]), t);
    }
    var ln = 0,
        cn =
            ((dn.prototype.update = function () {
                (this.dirtyId++, !this.autoManage && this.buffer && this.buffer.update());
            }),
            (dn.prototype.add = function (t, e, r) {
                if (this.ubo) throw new Error('[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them');
                this.uniforms[t] = new dn(e, r);
            }),
            (dn.from = function (t, e, r) {
                return new dn(t, e, r);
            }),
            (dn.uboFrom = function (t, e) {
                return new dn(t, null == e || e, !0);
            }),
            dn);
    function dn(t, e, r) {
        ((this.group = !0), (this.syncUniforms = {}), (this.dirtyId = 0), (this.id = ln++), (this.static = !!e), (this.ubo = !!r), t instanceof Ki ? ((this.buffer = t), (this.buffer.type = $.BUFFER_TYPE.UNIFORM_BUFFER), (this.autoManage = !1), (this.ubo = !0)) : ((this.uniforms = t), this.ubo && ((this.buffer = new Ki(new Float32Array(1))), (this.buffer.type = $.BUFFER_TYPE.UNIFORM_BUFFER), (this.autoManage = !0))));
    }
    var fn =
        ((pn.prototype.clear = function () {
            ((this.target = null), (this.filters = null), (this.renderTexture = null));
        }),
        pn);
    function pn() {
        ((this.renderTexture = null), (this.target = null), (this.legacy = !1), (this.resolution = 1), (this.multisample = $.MSAA_QUALITY.NONE), (this.sourceFrame = new Se()), (this.destinationFrame = new Se()), (this.bindingSourceFrame = new Se()), (this.bindingDestinationFrame = new Se()), (this.filters = []), (this.transform = null));
    }
    var _n = [new xe(), new xe(), new xe(), new xe()],
        mn = new Be(),
        En =
            ((vn.prototype.push = function (t, e) {
                for (var r, i, n = this.renderer, o = this.defaultFilterStack, s = this.statePool.pop() || new fn(), a = this.renderer.renderTexture, h = e[0].resolution, u = e[0].multisample, l = e[0].padding, c = e[0].autoFit, d = null === (r = e[0].legacy) || void 0 === r || r, f = 1; f < e.length; f++) var p = e[f], h = Math.min(h, p.resolution), u = Math.min(u, p.multisample), l = this.useMaxPadding ? Math.max(l, p.padding) : l + p.padding, c = c && p.autoFit, d = d || null === (i = p.legacy) || void 0 === i || i;
                (1 === o.length && (this.defaultFilterStack[0].renderTexture = a.current), o.push(s), (s.resolution = h), (s.multisample = u), (s.legacy = d), (s.target = t), s.sourceFrame.copyFrom(t.filterArea || t.getBounds(!0)), s.sourceFrame.pad(l));
                t = this.tempRect.copyFrom(a.sourceFrame);
                (n.projection.transform && this.transformAABB(mn.copyFrom(n.projection.transform).invert(), t), c ? (s.sourceFrame.fit(t), (s.sourceFrame.width <= 0 || s.sourceFrame.height <= 0) && ((s.sourceFrame.width = 0), (s.sourceFrame.height = 0))) : s.sourceFrame.intersects(t) || ((s.sourceFrame.width = 0), (s.sourceFrame.height = 0)), this.roundFrame(s.sourceFrame, (a.current || n).resolution, a.sourceFrame, a.destinationFrame, n.projection.transform), (s.renderTexture = this.getOptimalFilterTexture(s.sourceFrame.width, s.sourceFrame.height, h, u)), (s.filters = e), (s.destinationFrame.width = s.renderTexture.width), (s.destinationFrame.height = s.renderTexture.height));
                t = this.tempRect;
                ((t.x = 0), (t.y = 0), (t.width = s.sourceFrame.width), (t.height = s.sourceFrame.height), (s.renderTexture.filterFrame = s.sourceFrame), s.bindingSourceFrame.copyFrom(a.sourceFrame), s.bindingDestinationFrame.copyFrom(a.destinationFrame), (s.transform = n.projection.transform), (n.projection.transform = null), a.bind(s.renderTexture, s.sourceFrame, t), n.framebuffer.clear(0, 0, 0, 0));
            }),
            (vn.prototype.pop = function () {
                var t = this.defaultFilterStack,
                    e = t.pop(),
                    r = e.filters;
                this.activeState = e;
                var i = this.globalUniforms.uniforms;
                ((i.outputFrame = e.sourceFrame), (i.resolution = e.resolution));
                var n = i.inputSize,
                    o = i.inputPixel,
                    s = i.inputClamp;
                ((n[0] = e.destinationFrame.width), (n[1] = e.destinationFrame.height), (n[2] = 1 / n[0]), (n[3] = 1 / n[1]), (o[0] = Math.round(n[0] * e.resolution)), (o[1] = Math.round(n[1] * e.resolution)), (o[2] = 1 / o[0]), (o[3] = 1 / o[1]), (s[0] = 0.5 * o[2]), (s[1] = 0.5 * o[3]), (s[2] = e.sourceFrame.width * n[2] - 0.5 * o[2]), (s[3] = e.sourceFrame.height * n[3] - 0.5 * o[3]), e.legacy && (((o = i.filterArea)[0] = e.destinationFrame.width), (o[1] = e.destinationFrame.height), (o[2] = e.sourceFrame.x), (o[3] = e.sourceFrame.y), (i.filterClamp = i.inputClamp)), this.globalUniforms.update());
                t = t[t.length - 1];
                if ((this.renderer.framebuffer.blit(), 1 === r.length)) (r[0].apply(this, e.renderTexture, t.renderTexture, $.CLEAR_MODES.BLEND, e), this.returnFilterTexture(e.renderTexture));
                else {
                    var a = e.renderTexture;
                    (l = this.getOptimalFilterTexture(a.width, a.height, e.resolution)).filterFrame = a.filterFrame;
                    for (var h = 0, h = 0; h < r.length - 1; ++h) {
                        (1 === h && 1 < e.multisample && ((l = this.getOptimalFilterTexture(a.width, a.height, e.resolution)).filterFrame = a.filterFrame), r[h].apply(this, a, l, $.CLEAR_MODES.CLEAR, e));
                        var u = a,
                            a = l,
                            l = u;
                    }
                    (r[h].apply(this, a, t.renderTexture, $.CLEAR_MODES.BLEND, e), 1 < h && 1 < e.multisample && this.returnFilterTexture(e.renderTexture), this.returnFilterTexture(a), this.returnFilterTexture(l));
                }
                (e.clear(), this.statePool.push(e));
            }),
            (vn.prototype.bindAndClear = function (t, e) {
                void 0 === e && (e = $.CLEAR_MODES.CLEAR);
                var r = this.renderer,
                    i = r.renderTexture,
                    n = r.state;
                (t === this.defaultFilterStack[this.defaultFilterStack.length - 1].renderTexture ? (this.renderer.projection.transform = this.activeState.transform) : (this.renderer.projection.transform = null), t && t.filterFrame ? (((r = this.tempRect).x = 0), (r.y = 0), (r.width = t.filterFrame.width), (r.height = t.filterFrame.height), i.bind(t, t.filterFrame, r)) : t !== this.defaultFilterStack[this.defaultFilterStack.length - 1].renderTexture ? i.bind(t) : this.renderer.renderTexture.bind(t, this.activeState.bindingSourceFrame, this.activeState.bindingDestinationFrame));
                n = 1 & n.stateId || this.forceClear;
                (e === $.CLEAR_MODES.CLEAR || (e === $.CLEAR_MODES.BLIT && n)) && this.renderer.framebuffer.clear(0, 0, 0, 0);
            }),
            (vn.prototype.applyFilter = function (t, e, r, i) {
                var n = this.renderer;
                (n.state.set(t.state), this.bindAndClear(r, i), (t.uniforms.uSampler = e), (t.uniforms.filterGlobals = this.globalUniforms), n.shader.bind(t), (t.legacy = !!t.program.attributeData.aTextureCoord), t.legacy ? (this.quadUv.map(e._frame, e.filterFrame), n.geometry.bind(this.quadUv), n.geometry.draw($.DRAW_MODES.TRIANGLES)) : (n.geometry.bind(this.quad), n.geometry.draw($.DRAW_MODES.TRIANGLE_STRIP)));
            }),
            (vn.prototype.calculateSpriteMatrix = function (t, e) {
                var r = this.activeState,
                    i = r.sourceFrame,
                    n = r.destinationFrame,
                    r = e._texture.orig,
                    n = t.set(n.width, 0, 0, n.height, i.x, i.y),
                    i = e.worldTransform.copyTo(Be.TEMP_MATRIX);
                return (i.invert(), n.prepend(i), n.scale(1 / r.width, 1 / r.height), n.translate(e.anchor.x, e.anchor.y), n);
            }),
            (vn.prototype.destroy = function () {
                ((this.renderer = null), this.texturePool.clear(!1));
            }),
            (vn.prototype.getOptimalFilterTexture = function (t, e, r, i) {
                return (void 0 === r && (r = 1), void 0 === i && (i = $.MSAA_QUALITY.NONE), this.texturePool.getOptimalTexture(t, e, r, i));
            }),
            (vn.prototype.getFilterTexture = function (t, e, r) {
                var i;
                ('number' == typeof t && ((i = t), (t = e), (e = i)), (t = t || this.activeState.renderTexture));
                r = this.texturePool.getOptimalTexture(t.width, t.height, e || t.resolution, r || $.MSAA_QUALITY.NONE);
                return ((r.filterFrame = t.filterFrame), r);
            }),
            (vn.prototype.returnFilterTexture = function (t) {
                this.texturePool.returnTexture(t);
            }),
            (vn.prototype.emptyPool = function () {
                this.texturePool.clear(!0);
            }),
            (vn.prototype.resize = function () {
                this.texturePool.setScreenSize(this.renderer.view);
            }),
            (vn.prototype.transformAABB = function (t, e) {
                var r = _n[0],
                    i = _n[1],
                    n = _n[2],
                    o = _n[3];
                (r.set(e.left, e.top), i.set(e.left, e.bottom), n.set(e.right, e.top), o.set(e.right, e.bottom), t.apply(r, r), t.apply(i, i), t.apply(n, n), t.apply(o, o));
                var s = Math.min(r.x, i.x, n.x, o.x),
                    a = Math.min(r.y, i.y, n.y, o.y),
                    t = Math.max(r.x, i.x, n.x, o.x),
                    o = Math.max(r.y, i.y, n.y, o.y);
                ((e.x = s), (e.y = a), (e.width = t - s), (e.height = o - a));
            }),
            (vn.prototype.roundFrame = function (t, e, r, i, n) {
                if (!(t.width <= 0 || t.height <= 0 || r.width <= 0 || r.height <= 0)) {
                    if (n) {
                        var o = n.a,
                            s = n.b,
                            a = n.c,
                            h = n.d;
                        if ((1e-4 < Math.abs(s) || 1e-4 < Math.abs(a)) && (1e-4 < Math.abs(o) || 1e-4 < Math.abs(h))) return;
                    }
                    ((n = n ? mn.copyFrom(n) : mn.identity())
                        .translate(-r.x, -r.y)
                        .scale(i.width / r.width, i.height / r.height)
                        .translate(i.x, i.y),
                        this.transformAABB(n, t),
                        t.ceil(e),
                        this.transformAABB(n.invert(), t));
                }
            }),
            vn);
    function vn(t) {
        ((this.renderer = t), (this.defaultFilterStack = [{}]), (this.texturePool = new ji()), this.texturePool.setScreenSize(t.view), (this.statePool = []), (this.quad = new on()), (this.quadUv = new hn()), (this.tempRect = new Se()), (this.activeState = {}), (this.globalUniforms = new cn({ outputFrame: new Se(), inputSize: new Float32Array(4), inputPixel: new Float32Array(4), inputClamp: new Float32Array(4), resolution: 1, filterArea: new Float32Array(4), filterClamp: new Float32Array(4) }, !0)), (this.forceClear = !1), (this.useMaxPadding = !1));
    }
    var yn =
        ((gn.prototype.flush = function () {}),
        (gn.prototype.destroy = function () {
            this.renderer = null;
        }),
        (gn.prototype.start = function () {}),
        (gn.prototype.stop = function () {
            this.flush();
        }),
        (gn.prototype.render = function (t) {}),
        gn);
    function gn(t) {
        this.renderer = t;
    }
    var Tn =
        ((bn.prototype.setObjectRenderer = function (t) {
            this.currentRenderer !== t && (this.currentRenderer.stop(), (this.currentRenderer = t), this.currentRenderer.start());
        }),
        (bn.prototype.flush = function () {
            this.setObjectRenderer(this.emptyRenderer);
        }),
        (bn.prototype.reset = function () {
            this.setObjectRenderer(this.emptyRenderer);
        }),
        (bn.prototype.copyBoundTextures = function (t, e) {
            for (var r = this.renderer.texture.boundTextures, i = e - 1; 0 <= i; --i) ((t[i] = r[i] || null), t[i] && (t[i]._batchLocation = i));
        }),
        (bn.prototype.boundArray = function (t, e, r, i) {
            for (var n = t.elements, o = t.ids, s = t.count, a = 0, h = 0; h < s; h++) {
                var u = n[h],
                    l = u._batchLocation;
                if (0 <= l && l < i && e[l] === u) o[h] = l;
                else
                    for (; a < i; ) {
                        var c = e[a];
                        if (!c || c._batchEnabled !== r || c._batchLocation !== a) {
                            ((o[h] = a), (e[(u._batchLocation = a)] = u));
                            break;
                        }
                        a++;
                    }
            }
        }),
        (bn.prototype.destroy = function () {
            this.renderer = null;
        }),
        bn);
    function bn(t) {
        ((this.renderer = t), (this.emptyRenderer = new yn(t)), (this.currentRenderer = this.emptyRenderer));
    }
    var xn = 0,
        Rn =
            (Object.defineProperty(An.prototype, 'isLost', {
                get: function () {
                    return !this.gl || this.gl.isContextLost();
                },
                enumerable: !1,
                configurable: !0,
            }),
            (An.prototype.contextChange = function (t) {
                ((this.gl = t), (this.renderer.gl = t), (this.renderer.CONTEXT_UID = xn++), t.isContextLost() && t.getExtension('WEBGL_lose_context') && t.getExtension('WEBGL_lose_context').restoreContext());
            }),
            (An.prototype.initFromContext = function (t) {
                ((this.gl = t), this.validateContext(t), (this.renderer.gl = t), (this.renderer.CONTEXT_UID = xn++), this.renderer.runners.contextChange.emit(t));
            }),
            (An.prototype.initFromOptions = function (t) {
                t = this.createContext(this.renderer.view, t);
                this.initFromContext(t);
            }),
            (An.prototype.createContext = function (t, e) {
                var r;
                if ((G.PREFER_ENV >= $.ENV.WEBGL2 && (r = t.getContext('webgl2', e)), r)) this.webGLVersion = 2;
                else if (((this.webGLVersion = 1), !(r = t.getContext('webgl', e) || t.getContext('experimental-webgl', e)))) throw new Error('This browser does not support WebGL. Try using the canvas renderer');
                return ((this.gl = r), this.getExtensions(), this.gl);
            }),
            (An.prototype.getExtensions = function () {
                var t = this.gl,
                    e = { anisotropicFiltering: t.getExtension('EXT_texture_filter_anisotropic'), floatTextureLinear: t.getExtension('OES_texture_float_linear'), s3tc: t.getExtension('WEBGL_compressed_texture_s3tc'), s3tc_sRGB: t.getExtension('WEBGL_compressed_texture_s3tc_srgb'), etc: t.getExtension('WEBGL_compressed_texture_etc'), etc1: t.getExtension('WEBGL_compressed_texture_etc1'), pvrtc: t.getExtension('WEBGL_compressed_texture_pvrtc') || t.getExtension('WEBKIT_WEBGL_compressed_texture_pvrtc'), atc: t.getExtension('WEBGL_compressed_texture_atc'), astc: t.getExtension('WEBGL_compressed_texture_astc') };
                1 === this.webGLVersion ? Object.assign(this.extensions, e, { drawBuffers: t.getExtension('WEBGL_draw_buffers'), depthTexture: t.getExtension('WEBGL_depth_texture'), loseContext: t.getExtension('WEBGL_lose_context'), vertexArrayObject: t.getExtension('OES_vertex_array_object') || t.getExtension('MOZ_OES_vertex_array_object') || t.getExtension('WEBKIT_OES_vertex_array_object'), uint32ElementIndex: t.getExtension('OES_element_index_uint'), floatTexture: t.getExtension('OES_texture_float'), floatTextureLinear: t.getExtension('OES_texture_float_linear'), textureHalfFloat: t.getExtension('OES_texture_half_float'), textureHalfFloatLinear: t.getExtension('OES_texture_half_float_linear') }) : 2 === this.webGLVersion && Object.assign(this.extensions, e, { colorBufferFloat: t.getExtension('EXT_color_buffer_float') });
            }),
            (An.prototype.handleContextLost = function (t) {
                t.preventDefault();
            }),
            (An.prototype.handleContextRestored = function () {
                this.renderer.runners.contextChange.emit(this.gl);
            }),
            (An.prototype.destroy = function () {
                var t = this.renderer.view;
                ((this.renderer = null), t.removeEventListener('webglcontextlost', this.handleContextLost), t.removeEventListener('webglcontextrestored', this.handleContextRestored), this.gl.useProgram(null), this.extensions.loseContext && this.extensions.loseContext.loseContext());
            }),
            (An.prototype.postrender = function () {
                this.renderer.renderingToScreen && this.gl.flush();
            }),
            (An.prototype.validateContext = function (t) {
                var e = t.getContextAttributes(),
                    r = 'WebGL2RenderingContext' in globalThis && t instanceof globalThis.WebGL2RenderingContext;
                (r && (this.webGLVersion = 2), e && !e.stencil && console.warn('Provided WebGL context does not have a stencil buffer, masks may not render correctly'));
                t = r || !!t.getExtension('OES_element_index_uint');
                (this.supports.uint32Indices = t) || console.warn('Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly');
            }),
            An);
    function An(t) {
        ((this.renderer = t), (this.webGLVersion = 1), (this.extensions = {}), (this.supports = { uint32Indices: !1 }), (this.handleContextLost = this.handleContextLost.bind(this)), (this.handleContextRestored = this.handleContextRestored.bind(this)), t.view.addEventListener('webglcontextlost', this.handleContextLost, !1), t.view.addEventListener('webglcontextrestored', this.handleContextRestored, !1));
    }
    var Sn = function (t) {
            ((this.framebuffer = t), (this.stencil = null), (this.dirtyId = -1), (this.dirtyFormat = -1), (this.dirtySize = -1), (this.multisample = $.MSAA_QUALITY.NONE), (this.msaaBuffer = null), (this.blitFramebuffer = null), (this.mipLevel = 0));
        },
        On = new Se(),
        In =
            ((Mn.prototype.contextChange = function () {
                var e,
                    t,
                    r = (this.gl = this.renderer.gl);
                ((this.CONTEXT_UID = this.renderer.CONTEXT_UID),
                    (this.current = this.unknownFramebuffer),
                    (this.viewport = new Se()),
                    (this.hasMRT = !0),
                    (this.writeDepthTexture = !0),
                    this.disposeAll(!0),
                    1 === this.renderer.context.webGLVersion
                        ? ((e = this.renderer.context.extensions.drawBuffers),
                          (t = this.renderer.context.extensions.depthTexture),
                          G.PREFER_ENV === $.ENV.WEBGL_LEGACY && (t = e = null),
                          e
                              ? (r.drawBuffers = function (t) {
                                    return e.drawBuffersWEBGL(t);
                                })
                              : ((this.hasMRT = !1), (r.drawBuffers = function () {})),
                          t || (this.writeDepthTexture = !1))
                        : (this.msaaSamples = r.getInternalformatParameter(r.RENDERBUFFER, r.RGBA8, r.SAMPLES)));
            }),
            (Mn.prototype.bind = function (t, e, r) {
                void 0 === r && (r = 0);
                var i = this.gl;
                if (t) {
                    var n = t.glFramebuffers[this.CONTEXT_UID] || this.initFramebuffer(t);
                    (this.current !== t && ((this.current = t), i.bindFramebuffer(i.FRAMEBUFFER, n.framebuffer)), n.mipLevel !== r && (t.dirtyId++, t.dirtyFormat++, (n.mipLevel = r)), n.dirtyId !== t.dirtyId && ((n.dirtyId = t.dirtyId), n.dirtyFormat !== t.dirtyFormat ? ((n.dirtyFormat = t.dirtyFormat), (n.dirtySize = t.dirtySize), this.updateFramebuffer(t, r)) : n.dirtySize !== t.dirtySize && ((n.dirtySize = t.dirtySize), this.resizeFramebuffer(t))));
                    for (var o, s, a = 0; a < t.colorTextures.length; a++) {
                        var h = t.colorTextures[a];
                        this.renderer.texture.unbind(h.parentTextureArray || h);
                    }
                    (t.depthTexture && this.renderer.texture.unbind(t.depthTexture), e ? ((o = e.width >> r), (s = e.height >> r), (n = o / e.width), this.setViewport(e.x * n, e.y * n, o, s)) : ((o = t.width >> r), (s = t.height >> r), this.setViewport(0, 0, o, s)));
                } else (this.current && ((this.current = null), i.bindFramebuffer(i.FRAMEBUFFER, null)), e ? this.setViewport(e.x, e.y, e.width, e.height) : this.setViewport(0, 0, this.renderer.width, this.renderer.height));
            }),
            (Mn.prototype.setViewport = function (t, e, r, i) {
                var n = this.viewport;
                ((t = Math.round(t)), (e = Math.round(e)), (r = Math.round(r)), (i = Math.round(i)), (n.width === r && n.height === i && n.x === t && n.y === e) || ((n.x = t), (n.y = e), (n.width = r), (n.height = i), this.gl.viewport(t, e, r, i)));
            }),
            Object.defineProperty(Mn.prototype, 'size', {
                get: function () {
                    return this.current ? { x: 0, y: 0, width: this.current.width, height: this.current.height } : { x: 0, y: 0, width: this.renderer.width, height: this.renderer.height };
                },
                enumerable: !1,
                configurable: !0,
            }),
            (Mn.prototype.clear = function (t, e, r, i, n) {
                void 0 === n && (n = $.BUFFER_BITS.COLOR | $.BUFFER_BITS.DEPTH);
                var o = this.gl;
                (o.clearColor(t, e, r, i), o.clear(n));
            }),
            (Mn.prototype.initFramebuffer = function (t) {
                var e = this.gl,
                    e = new Sn(e.createFramebuffer());
                return ((e.multisample = this.detectSamples(t.multisample)), (t.glFramebuffers[this.CONTEXT_UID] = e), this.managedFramebuffers.push(t), t.disposeRunner.add(this), e);
            }),
            (Mn.prototype.resizeFramebuffer = function (t) {
                var e = this.gl,
                    r = t.glFramebuffers[this.CONTEXT_UID];
                (r.msaaBuffer && (e.bindRenderbuffer(e.RENDERBUFFER, r.msaaBuffer), e.renderbufferStorageMultisample(e.RENDERBUFFER, r.multisample, e.RGBA8, t.width, t.height)), r.stencil && (e.bindRenderbuffer(e.RENDERBUFFER, r.stencil), r.msaaBuffer ? e.renderbufferStorageMultisample(e.RENDERBUFFER, r.multisample, e.DEPTH24_STENCIL8, t.width, t.height) : e.renderbufferStorage(e.RENDERBUFFER, e.DEPTH_STENCIL, t.width, t.height)));
                var i = t.colorTextures,
                    n = i.length;
                e.drawBuffers || (n = Math.min(n, 1));
                for (var o = 0; o < n; o++) {
                    var s = i[o],
                        s = s.parentTextureArray || s;
                    this.renderer.texture.bind(s, 0);
                }
                t.depthTexture && this.writeDepthTexture && this.renderer.texture.bind(t.depthTexture, 0);
            }),
            (Mn.prototype.updateFramebuffer = function (t, e) {
                var r = this.gl,
                    i = t.glFramebuffers[this.CONTEXT_UID],
                    n = t.colorTextures,
                    o = n.length;
                (r.drawBuffers || (o = Math.min(o, 1)), 1 < i.multisample && this.canMultisampleFramebuffer(t) ? ((i.msaaBuffer = i.msaaBuffer || r.createRenderbuffer()), r.bindRenderbuffer(r.RENDERBUFFER, i.msaaBuffer), r.renderbufferStorageMultisample(r.RENDERBUFFER, i.multisample, r.RGBA8, t.width, t.height), r.framebufferRenderbuffer(r.FRAMEBUFFER, r.COLOR_ATTACHMENT0, r.RENDERBUFFER, i.msaaBuffer)) : i.msaaBuffer && (r.deleteRenderbuffer(i.msaaBuffer), (i.msaaBuffer = null), i.blitFramebuffer && (i.blitFramebuffer.dispose(), (i.blitFramebuffer = null))));
                for (var s, a = [], h = 0; h < o; h++) {
                    var u = n[h],
                        l = u.parentTextureArray || u;
                    (this.renderer.texture.bind(l, 0), (0 === h && i.msaaBuffer) || (r.framebufferTexture2D(r.FRAMEBUFFER, r.COLOR_ATTACHMENT0 + h, u.target, l._glTextures[this.CONTEXT_UID].texture, e), a.push(r.COLOR_ATTACHMENT0 + h)));
                }
                (1 < a.length && r.drawBuffers(a), t.depthTexture && this.writeDepthTexture && ((s = t.depthTexture), this.renderer.texture.bind(s, 0), r.framebufferTexture2D(r.FRAMEBUFFER, r.DEPTH_ATTACHMENT, r.TEXTURE_2D, s._glTextures[this.CONTEXT_UID].texture, e)), (!t.stencil && !t.depth) || (t.depthTexture && this.writeDepthTexture) ? i.stencil && (r.deleteRenderbuffer(i.stencil), (i.stencil = null)) : ((i.stencil = i.stencil || r.createRenderbuffer()), r.bindRenderbuffer(r.RENDERBUFFER, i.stencil), i.msaaBuffer ? r.renderbufferStorageMultisample(r.RENDERBUFFER, i.multisample, r.DEPTH24_STENCIL8, t.width, t.height) : r.renderbufferStorage(r.RENDERBUFFER, r.DEPTH_STENCIL, t.width, t.height), r.framebufferRenderbuffer(r.FRAMEBUFFER, r.DEPTH_STENCIL_ATTACHMENT, r.RENDERBUFFER, i.stencil)));
            }),
            (Mn.prototype.canMultisampleFramebuffer = function (t) {
                return 1 !== this.renderer.context.webGLVersion && t.colorTextures.length <= 1 && !t.depthTexture;
            }),
            (Mn.prototype.detectSamples = function (t) {
                var e = this.msaaSamples,
                    r = $.MSAA_QUALITY.NONE;
                if (t <= 1 || null === e) return r;
                for (var i = 0; i < e.length; i++)
                    if (e[i] <= t) {
                        r = e[i];
                        break;
                    }
                return (1 === r && (r = $.MSAA_QUALITY.NONE), r);
            }),
            (Mn.prototype.blit = function (t, e, r) {
                var i = this.current,
                    n = this.renderer,
                    o = this.gl,
                    s = this.CONTEXT_UID;
                if (2 === n.context.webGLVersion && i) {
                    n = i.glFramebuffers[s];
                    if (n) {
                        if (!t) {
                            if (!n.msaaBuffer) return;
                            s = i.colorTextures[0];
                            if (!s) return;
                            (n.blitFramebuffer || ((n.blitFramebuffer = new Mi(i.width, i.height)), n.blitFramebuffer.addColorTexture(0, s)), (t = n.blitFramebuffer).colorTextures[0] !== s && ((t.colorTextures[0] = s), t.dirtyId++, t.dirtyFormat++), (t.width === i.width && t.height === i.height) || ((t.width = i.width), (t.height = i.height), t.dirtyId++, t.dirtySize++));
                        }
                        (e || (((e = On).width = i.width), (e.height = i.height)), (r = r || e));
                        i = e.width === r.width && e.height === r.height;
                        (this.bind(t), o.bindFramebuffer(o.READ_FRAMEBUFFER, n.framebuffer), o.blitFramebuffer(e.left, e.top, e.right, e.bottom, r.left, r.top, r.right, r.bottom, o.COLOR_BUFFER_BIT, i ? o.NEAREST : o.LINEAR));
                    }
                }
            }),
            (Mn.prototype.disposeFramebuffer = function (t, e) {
                var r,
                    i = t.glFramebuffers[this.CONTEXT_UID],
                    n = this.gl;
                i && (delete t.glFramebuffers[this.CONTEXT_UID], 0 <= (r = this.managedFramebuffers.indexOf(t)) && this.managedFramebuffers.splice(r, 1), t.disposeRunner.remove(this), e || (n.deleteFramebuffer(i.framebuffer), i.msaaBuffer && n.deleteRenderbuffer(i.msaaBuffer), i.stencil && n.deleteRenderbuffer(i.stencil)), i.blitFramebuffer && i.blitFramebuffer.dispose());
            }),
            (Mn.prototype.disposeAll = function (t) {
                var e = this.managedFramebuffers;
                this.managedFramebuffers = [];
                for (var r = 0; r < e.length; r++) this.disposeFramebuffer(e[r], t);
            }),
            (Mn.prototype.forceStencil = function () {
                var t,
                    e,
                    r,
                    i,
                    n = this.current;
                !n || ((t = n.glFramebuffers[this.CONTEXT_UID]) && !t.stencil && ((n.stencil = !0), (e = n.width), (r = n.height), (n = (i = this.gl).createRenderbuffer()), i.bindRenderbuffer(i.RENDERBUFFER, n), t.msaaBuffer ? i.renderbufferStorageMultisample(i.RENDERBUFFER, t.multisample, i.DEPTH24_STENCIL8, e, r) : i.renderbufferStorage(i.RENDERBUFFER, i.DEPTH_STENCIL, e, r), (t.stencil = n), i.framebufferRenderbuffer(i.FRAMEBUFFER, i.DEPTH_STENCIL_ATTACHMENT, i.RENDERBUFFER, n)));
            }),
            (Mn.prototype.reset = function () {
                ((this.current = this.unknownFramebuffer), (this.viewport = new Se()));
            }),
            (Mn.prototype.destroy = function () {
                this.renderer = null;
            }),
            Mn);
    function Mn(t) {
        ((this.renderer = t), (this.managedFramebuffers = []), (this.unknownFramebuffer = new Mi(10, 10)), (this.msaaSamples = null));
    }
    var Nn = { 5126: 4, 5123: 2, 5121: 1 },
        Pn =
            ((Dn.prototype.contextChange = function () {
                this.disposeAll(!0);
                var e,
                    o,
                    t = (this.gl = this.renderer.gl),
                    r = this.renderer.context;
                ((this.CONTEXT_UID = this.renderer.CONTEXT_UID),
                    2 !== r.webGLVersion &&
                        ((e = this.renderer.context.extensions.vertexArrayObject),
                        G.PREFER_ENV === $.ENV.WEBGL_LEGACY && (e = null),
                        e
                            ? ((t.createVertexArray = function () {
                                  return e.createVertexArrayOES();
                              }),
                              (t.bindVertexArray = function (t) {
                                  return e.bindVertexArrayOES(t);
                              }),
                              (t.deleteVertexArray = function (t) {
                                  return e.deleteVertexArrayOES(t);
                              }))
                            : ((this.hasVao = !1),
                              (t.createVertexArray = function () {
                                  return null;
                              }),
                              (t.bindVertexArray = function () {
                                  return null;
                              }),
                              (t.deleteVertexArray = function () {
                                  return null;
                              }))),
                    2 !== r.webGLVersion &&
                        ((o = t.getExtension('ANGLE_instanced_arrays'))
                            ? ((t.vertexAttribDivisor = function (t, e) {
                                  return o.vertexAttribDivisorANGLE(t, e);
                              }),
                              (t.drawElementsInstanced = function (t, e, r, i, n) {
                                  return o.drawElementsInstancedANGLE(t, e, r, i, n);
                              }),
                              (t.drawArraysInstanced = function (t, e, r, i) {
                                  return o.drawArraysInstancedANGLE(t, e, r, i);
                              }))
                            : (this.hasInstance = !1)),
                    (this.canUseUInt32ElementIndex = 2 === r.webGLVersion || !!r.extensions.uint32ElementIndex));
            }),
            (Dn.prototype.bind = function (t, e) {
                e = e || this.renderer.shader.shader;
                var r = this.gl,
                    i = t.glVertexArrayObjects[this.CONTEXT_UID],
                    n = !1;
                i || ((this.managedGeometries[t.id] = t).disposeRunner.add(this), (t.glVertexArrayObjects[this.CONTEXT_UID] = i = {}), (n = !0));
                n = i[e.program.id] || this.initGeometryVao(t, e, n);
                ((this._activeGeometry = t), this._activeVao !== n && ((this._activeVao = n), this.hasVao ? r.bindVertexArray(n) : this.activateVao(t, e.program)), this.updateBuffers());
            }),
            (Dn.prototype.reset = function () {
                this.unbind();
            }),
            (Dn.prototype.updateBuffers = function () {
                for (var t = this._activeGeometry, e = this.renderer.buffer, r = 0; r < t.buffers.length; r++) {
                    var i = t.buffers[r];
                    e.update(i);
                }
            }),
            (Dn.prototype.checkCompatibility = function (t, e) {
                var r,
                    i = t.attributes;
                for (r in e.attributeData) if (!i[r]) throw new Error('shader and geometry incompatible, geometry missing the "' + r + '" attribute');
            }),
            (Dn.prototype.getSignature = function (t, e) {
                var r,
                    i = t.attributes,
                    n = e.attributeData,
                    o = ['g', t.id];
                for (r in i) n[r] && o.push(r, n[r].location);
                return o.join('-');
            }),
            (Dn.prototype.initGeometryVao = function (t, e, r) {
                void 0 === r && (r = !0);
                var i = this.gl,
                    n = this.CONTEXT_UID,
                    o = this.renderer.buffer,
                    s = e.program;
                (s.glPrograms[n] || this.renderer.shader.generateProgram(e), this.checkCompatibility(t, s));
                var a = this.getSignature(t, s),
                    h = t.glVertexArrayObjects[this.CONTEXT_UID],
                    e = h[a];
                if (e) return (h[s.id] = e);
                var u,
                    l = t.buffers,
                    c = t.attributes,
                    d = {},
                    f = {};
                for (u in l) ((d[u] = 0), (f[u] = 0));
                for (u in c) (!c[u].size && s.attributeData[u] ? (c[u].size = s.attributeData[u].size) : c[u].size || console.warn("PIXI Geometry attribute '" + u + "' size cannot be determined (likely the bound shader does not have the attribute)"), (d[c[u].buffer] += c[u].size * Nn[c[u].type]));
                for (u in c) {
                    var p = c[u],
                        _ = p.size;
                    (void 0 === p.stride && (d[p.buffer] === _ * Nn[p.type] ? (p.stride = 0) : (p.stride = d[p.buffer])), void 0 === p.start && ((p.start = f[p.buffer]), (f[p.buffer] += _ * Nn[p.type])));
                }
                ((e = i.createVertexArray()), i.bindVertexArray(e));
                for (var m = 0; m < l.length; m++) {
                    var E = l[m];
                    (o.bind(E), r && E._glBuffers[n].refCount++);
                }
                return (this.activateVao(t, s), (this._activeVao = e), (h[s.id] = e), (h[a] = e));
            }),
            (Dn.prototype.disposeGeometry = function (t, e) {
                var r;
                if (this.managedGeometries[t.id]) {
                    delete this.managedGeometries[t.id];
                    var i,
                        n = t.glVertexArrayObjects[this.CONTEXT_UID],
                        o = this.gl,
                        s = t.buffers,
                        a = null === (r = this.renderer) || void 0 === r ? void 0 : r.buffer;
                    if ((t.disposeRunner.remove(this), n)) {
                        if (a)
                            for (var h = 0; h < s.length; h++) {
                                var u = s[h]._glBuffers[this.CONTEXT_UID];
                                u && (u.refCount--, 0 !== u.refCount || e || a.dispose(s[h], e));
                            }
                        if (!e) for (var l in n) 'g' === l[0] && ((i = n[l]), this._activeVao === i && this.unbind(), o.deleteVertexArray(i));
                        delete t.glVertexArrayObjects[this.CONTEXT_UID];
                    }
                }
            }),
            (Dn.prototype.disposeAll = function (t) {
                for (var e = Object.keys(this.managedGeometries), r = 0; r < e.length; r++) this.disposeGeometry(this.managedGeometries[e[r]], t);
            }),
            (Dn.prototype.activateVao = function (t, e) {
                var r = this.gl,
                    i = this.CONTEXT_UID,
                    n = this.renderer.buffer,
                    o = t.buffers,
                    s = t.attributes;
                t.indexBuffer && n.bind(t.indexBuffer);
                var a,
                    h = null;
                for (a in s) {
                    var u = s[a],
                        l = o[u.buffer],
                        c = l._glBuffers[i];
                    if (e.attributeData[a]) {
                        h !== c && (n.bind(l), (h = c));
                        c = e.attributeData[a].location;
                        if ((r.enableVertexAttribArray(c), r.vertexAttribPointer(c, u.size, u.type || r.FLOAT, u.normalized, u.stride, u.start), u.instance)) {
                            if (!this.hasInstance) throw new Error('geometry error, GPU Instancing is not supported on this device');
                            r.vertexAttribDivisor(c, 1);
                        }
                    }
                }
            }),
            (Dn.prototype.draw = function (t, e, r, i) {
                var n,
                    o,
                    s = this.gl,
                    a = this._activeGeometry;
                return (a.indexBuffer ? ((o = 2 === (n = a.indexBuffer.data.BYTES_PER_ELEMENT) ? s.UNSIGNED_SHORT : s.UNSIGNED_INT), 2 === n || (4 === n && this.canUseUInt32ElementIndex) ? (a.instanced ? s.drawElementsInstanced(t, e || a.indexBuffer.data.length, o, (r || 0) * n, i || 1) : s.drawElements(t, e || a.indexBuffer.data.length, o, (r || 0) * n)) : console.warn('unsupported index buffer type: uint32')) : a.instanced ? s.drawArraysInstanced(t, r, e || a.getSize(), i || 1) : s.drawArrays(t, r, e || a.getSize()), this);
            }),
            (Dn.prototype.unbind = function () {
                (this.gl.bindVertexArray(null), (this._activeVao = null), (this._activeGeometry = null));
            }),
            (Dn.prototype.destroy = function () {
                this.renderer = null;
            }),
            Dn);
    function Dn(t) {
        ((this.renderer = t), (this._activeGeometry = null), (this._activeVao = null), (this.hasVao = !0), (this.hasInstance = !0), (this.canUseUInt32ElementIndex = !1), (this.managedGeometries = {}));
    }
    var Cn =
        (Object.defineProperty(wn.prototype, 'filter', {
            get: function () {
                return this._filters ? this._filters[0] : null;
            },
            set: function (t) {
                t ? (this._filters ? (this._filters[0] = t) : (this._filters = [t])) : (this._filters = null);
            },
            enumerable: !1,
            configurable: !0,
        }),
        (wn.prototype.reset = function () {
            (this.pooled && ((this.maskObject = null), (this.type = $.MASK_TYPES.NONE), (this.autoDetect = !0)), (this._target = null), (this._scissorRectLocal = null));
        }),
        (wn.prototype.copyCountersOrReset = function (t) {
            t ? ((this._stencilCounter = t._stencilCounter), (this._scissorCounter = t._scissorCounter), (this._scissorRect = t._scissorRect)) : ((this._stencilCounter = 0), (this._scissorCounter = 0), (this._scissorRect = null));
        }),
        wn);
    function wn(t) {
        (void 0 === t && (t = null), (this.type = $.MASK_TYPES.NONE), (this.autoDetect = !0), (this.maskObject = t || null), (this.pooled = !1), (this.isMaskData = !0), (this.resolution = null), (this.multisample = G.FILTER_MULTISAMPLE), (this.enabled = !0), (this._filters = null), (this._stencilCounter = 0), (this._scissorCounter = 0), (this._scissorRect = null), (this._scissorRectLocal = null), (this._target = null));
    }
    function Ln(t, e, r) {
        e = t.createShader(e);
        return (t.shaderSource(e, r), t.compileShader(e), e);
    }
    function Fn(t, e) {
        var r = t
                .getShaderSource(e)
                .split('\n')
                .map(function (t, e) {
                    return e + ': ' + t;
                }),
            t = t.getShaderInfoLog(e),
            e = t.split('\n'),
            i = {},
            e = e
                .map(function (t) {
                    return parseFloat(t.replace(/^ERROR\: 0\:([\d]+)\:.*$/, '$1'));
                })
                .filter(function (t) {
                    return !(!t || i[t]) && (i[t] = !0);
                }),
            n = [''];
        e.forEach(function (t) {
            ((r[t - 1] = '%c' + r[t - 1] + '%c'), n.push('background: #FF0000; color:#FFFFFF; font-size: 10px', 'font-size: 10px'));
        });
        e = r.join('\n');
        ((n[0] = e), console.error(t), console.groupCollapsed('click to view full shader code'), console.warn.apply(console, n), console.groupEnd());
    }
    function Un(t) {
        for (var e = new Array(t), r = 0; r < e.length; r++) e[r] = !1;
        return e;
    }
    function Bn(t, e) {
        switch (t) {
            case 'float':
                return 0;
            case 'vec2':
                return new Float32Array(2 * e);
            case 'vec3':
                return new Float32Array(3 * e);
            case 'vec4':
                return new Float32Array(4 * e);
            case 'int':
            case 'uint':
            case 'sampler2D':
            case 'sampler2DArray':
                return 0;
            case 'ivec2':
                return new Int32Array(2 * e);
            case 'ivec3':
                return new Int32Array(3 * e);
            case 'ivec4':
                return new Int32Array(4 * e);
            case 'uvec2':
                return new Uint32Array(2 * e);
            case 'uvec3':
                return new Uint32Array(3 * e);
            case 'uvec4':
                return new Uint32Array(4 * e);
            case 'bool':
                return !1;
            case 'bvec2':
                return Un(2 * e);
            case 'bvec3':
                return Un(3 * e);
            case 'bvec4':
                return Un(4 * e);
            case 'mat2':
                return new Float32Array([1, 0, 0, 1]);
            case 'mat3':
                return new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]);
            case 'mat4':
                return new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);
        }
        return null;
    }
    var Gn,
        kn = {},
        Xn = kn;
    function Hn() {
        var t, e;
        return ((Xn === kn || (Xn && Xn.isContextLost())) && ((t = document.createElement('canvas')), (e = void 0), G.PREFER_ENV >= $.ENV.WEBGL2 && (e = t.getContext('webgl2', {})), e || ((e = t.getContext('webgl', {}) || t.getContext('experimental-webgl', {})) ? e.getExtension('WEBGL_draw_buffers') : (e = null)), (Xn = e)), Xn);
    }
    function Yn(t, e, r) {
        if ('precision' === t.substring(0, 9)) return r !== $.PRECISION.HIGH && 'precision highp' === t.substring(0, 15) ? t.replace('precision highp', 'precision mediump') : t;
        var i = e;
        return (e === $.PRECISION.HIGH && r !== $.PRECISION.HIGH && (i = $.PRECISION.MEDIUM), 'precision ' + i + ' float;\n' + t);
    }
    var jn = { float: 1, vec2: 2, vec3: 3, vec4: 4, int: 1, ivec2: 2, ivec3: 3, ivec4: 4, uint: 1, uvec2: 2, uvec3: 3, uvec4: 4, bool: 1, bvec2: 2, bvec3: 3, bvec4: 4, mat2: 4, mat3: 9, mat4: 16, sampler2D: 1 };
    function Vn(t) {
        return jn[t];
    }
    var Wn = null,
        zn = { FLOAT: 'float', FLOAT_VEC2: 'vec2', FLOAT_VEC3: 'vec3', FLOAT_VEC4: 'vec4', INT: 'int', INT_VEC2: 'ivec2', INT_VEC3: 'ivec3', INT_VEC4: 'ivec4', UNSIGNED_INT: 'uint', UNSIGNED_INT_VEC2: 'uvec2', UNSIGNED_INT_VEC3: 'uvec3', UNSIGNED_INT_VEC4: 'uvec4', BOOL: 'bool', BOOL_VEC2: 'bvec2', BOOL_VEC3: 'bvec3', BOOL_VEC4: 'bvec4', FLOAT_MAT2: 'mat2', FLOAT_MAT3: 'mat3', FLOAT_MAT4: 'mat4', SAMPLER_2D: 'sampler2D', INT_SAMPLER_2D: 'sampler2D', UNSIGNED_INT_SAMPLER_2D: 'sampler2D', SAMPLER_CUBE: 'samplerCube', INT_SAMPLER_CUBE: 'samplerCube', UNSIGNED_INT_SAMPLER_CUBE: 'samplerCube', SAMPLER_2D_ARRAY: 'sampler2DArray', INT_SAMPLER_2D_ARRAY: 'sampler2DArray', UNSIGNED_INT_SAMPLER_2D_ARRAY: 'sampler2DArray' };
    function qn(t, e) {
        if (!Wn) {
            var r = Object.keys(zn);
            Wn = {};
            for (var i = 0; i < r.length; ++i) {
                var n = r[i];
                Wn[t[n]] = zn[n];
            }
        }
        return Wn[e];
    }
    var Kn = [
            {
                test: function (t) {
                    return 'float' === t.type && 1 === t.size;
                },
                code: function (t) {
                    return '\n            if(uv["' + t + '"] !== ud["' + t + '"].value)\n            {\n                ud["' + t + '"].value = uv["' + t + '"]\n                gl.uniform1f(ud["' + t + '"].location, uv["' + t + '"])\n            }\n            ';
                },
            },
            {
                test: function (t) {
                    return ('sampler2D' === t.type || 'samplerCube' === t.type || 'sampler2DArray' === t.type) && 1 === t.size && !t.isArray;
                },
                code: function (t) {
                    return 't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["' + t + '"], t);\n\n            if(ud["' + t + '"].value !== t)\n            {\n                ud["' + t + '"].value = t;\n                gl.uniform1i(ud["' + t + '"].location, t);\n; // eslint-disable-line max-len\n            }';
                },
            },
            {
                test: function (t, e) {
                    return 'mat3' === t.type && 1 === t.size && void 0 !== e.a;
                },
                code: function (t) {
                    return '\n            gl.uniformMatrix3fv(ud["' + t + '"].location, false, uv["' + t + '"].toArray(true));\n            ';
                },
                codeUbo: function (t) {
                    return '\n                var ' + t + '_matrix = uv.' + t + '.toArray(true);\n\n                data[offset] = ' + t + '_matrix[0];\n                data[offset+1] = ' + t + '_matrix[1];\n                data[offset+2] = ' + t + '_matrix[2];\n        \n                data[offset + 4] = ' + t + '_matrix[3];\n                data[offset + 5] = ' + t + '_matrix[4];\n                data[offset + 6] = ' + t + '_matrix[5];\n        \n                data[offset + 8] = ' + t + '_matrix[6];\n                data[offset + 9] = ' + t + '_matrix[7];\n                data[offset + 10] = ' + t + '_matrix[8];\n            ';
                },
            },
            {
                test: function (t, e) {
                    return 'vec2' === t.type && 1 === t.size && void 0 !== e.x;
                },
                code: function (t) {
                    return '\n                cv = ud["' + t + '"].value;\n                v = uv["' + t + '"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["' + t + '"].location, v.x, v.y);\n                }';
                },
                codeUbo: function (t) {
                    return '\n                v = uv.' + t + ';\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            ';
                },
            },
            {
                test: function (t) {
                    return 'vec2' === t.type && 1 === t.size;
                },
                code: function (t) {
                    return '\n                cv = ud["' + t + '"].value;\n                v = uv["' + t + '"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["' + t + '"].location, v[0], v[1]);\n                }\n            ';
                },
            },
            {
                test: function (t, e) {
                    return 'vec4' === t.type && 1 === t.size && void 0 !== e.width;
                },
                code: function (t) {
                    return '\n                cv = ud["' + t + '"].value;\n                v = uv["' + t + '"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["' + t + '"].location, v.x, v.y, v.width, v.height)\n                }';
                },
                codeUbo: function (t) {
                    return '\n                    v = uv.' + t + ';\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                ';
                },
            },
            {
                test: function (t) {
                    return 'vec4' === t.type && 1 === t.size;
                },
                code: function (t) {
                    return '\n                cv = ud["' + t + '"].value;\n                v = uv["' + t + '"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["' + t + '"].location, v[0], v[1], v[2], v[3])\n                }';
                },
            },
        ],
        Zn = {
            float: '\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }',
            vec2: '\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }',
            vec3: '\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }',
            vec4: '\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }',
            int: '\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }',
            ivec2: '\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }',
            ivec3: '\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }',
            ivec4: '\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }',
            uint: '\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }',
            uvec2: '\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }',
            uvec3: '\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }',
            uvec4: '\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }',
            bool: '\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }',
            bvec2: '\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }',
            bvec3: '\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }',
            bvec4: '\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }',
            mat2: 'gl.uniformMatrix2fv(location, false, v)',
            mat3: 'gl.uniformMatrix3fv(location, false, v)',
            mat4: 'gl.uniformMatrix4fv(location, false, v)',
            sampler2D: 'gl.uniform1i(location, v)',
            samplerCube: 'gl.uniform1i(location, v)',
            sampler2DArray: 'gl.uniform1i(location, v)',
        },
        Qn = { float: 'gl.uniform1fv(location, v)', vec2: 'gl.uniform2fv(location, v)', vec3: 'gl.uniform3fv(location, v)', vec4: 'gl.uniform4fv(location, v)', mat4: 'gl.uniformMatrix4fv(location, false, v)', mat3: 'gl.uniformMatrix3fv(location, false, v)', mat2: 'gl.uniformMatrix2fv(location, false, v)', int: 'gl.uniform1iv(location, v)', ivec2: 'gl.uniform2iv(location, v)', ivec3: 'gl.uniform3iv(location, v)', ivec4: 'gl.uniform4iv(location, v)', uint: 'gl.uniform1uiv(location, v)', uvec2: 'gl.uniform2uiv(location, v)', uvec3: 'gl.uniform3uiv(location, v)', uvec4: 'gl.uniform4uiv(location, v)', bool: 'gl.uniform1iv(location, v)', bvec2: 'gl.uniform2iv(location, v)', bvec3: 'gl.uniform3iv(location, v)', bvec4: 'gl.uniform4iv(location, v)', sampler2D: 'gl.uniform1iv(location, v)', samplerCube: 'gl.uniform1iv(location, v)', sampler2DArray: 'gl.uniform1iv(location, v)' };
    var Jn,
        $n = ['precision mediump float;', 'void main(void){', 'float test = 0.1;', '%forloop%', 'gl_FragColor = vec4(0.0);', '}'].join('\n');
    function to(t, e) {
        if (0 === t) throw new Error('Invalid value of `0` passed to `checkMaxIfStatementsInShader`');
        for (var r = e.createShader(e.FRAGMENT_SHADER); ; ) {
            var i = $n.replace(
                /%forloop%/gi,
                (function (t) {
                    for (var e = '', r = 0; r < t; ++r) (0 < r && (e += '\nelse '), r < t - 1 && (e += 'if(test == ' + r + '.0){}'));
                    return e;
                })(t)
            );
            if ((e.shaderSource(r, i), e.compileShader(r), e.getShaderParameter(r, e.COMPILE_STATUS))) break;
            t = (t / 2) | 0;
        }
        return t;
    }
    var eo = 0,
        ro = {},
        io =
            (Object.defineProperty(no, 'defaultVertexSrc', {
                get: function () {
                    return 'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n';
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(no, 'defaultFragmentSrc', {
                get: function () {
                    return 'varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}';
                },
                enumerable: !1,
                configurable: !0,
            }),
            (no.from = function (t, e, r) {
                var i = t + e,
                    n = ue[i];
                return (n || (ue[i] = n = new no(t, e, r)), n);
            }),
            no);
    function no(t, e, r) {
        (void 0 === r && (r = 'pixi-shader'), (this.id = eo++), (this.vertexSrc = t || no.defaultVertexSrc), (this.fragmentSrc = e || no.defaultFragmentSrc), (this.vertexSrc = this.vertexSrc.trim()), (this.fragmentSrc = this.fragmentSrc.trim()), '#version' !== this.vertexSrc.substring(0, 8) && ((r = r.replace(/\s+/g, '-')), ro[r] ? (ro[r]++, (r += '-' + ro[r])) : (ro[r] = 1), (this.vertexSrc = '#define SHADER_NAME ' + r + '\n' + this.vertexSrc), (this.fragmentSrc = '#define SHADER_NAME ' + r + '\n' + this.fragmentSrc), (this.vertexSrc = Yn(this.vertexSrc, G.PRECISION_VERTEX, $.PRECISION.HIGH)), (this.fragmentSrc = Yn(this.fragmentSrc, G.PRECISION_FRAGMENT, (Gn || ((Gn = $.PRECISION.MEDIUM), (r = Hn()) && r.getShaderPrecisionFormat && ((r = r.getShaderPrecisionFormat(r.FRAGMENT_SHADER, r.HIGH_FLOAT)), (Gn = r.precision ? $.PRECISION.HIGH : $.PRECISION.MEDIUM))), Gn)))), (this.glPrograms = {}), (this.syncUniforms = null));
    }
    var oo =
        ((so.prototype.checkUniformExists = function (t, e) {
            if (e.uniforms[t]) return !0;
            for (var r in e.uniforms) {
                var i = e.uniforms[r];
                if (i.group && this.checkUniformExists(t, i)) return !0;
            }
            return !1;
        }),
        (so.prototype.destroy = function () {
            this.uniformGroup = null;
        }),
        Object.defineProperty(so.prototype, 'uniforms', {
            get: function () {
                return this.uniformGroup.uniforms;
            },
            enumerable: !1,
            configurable: !0,
        }),
        (so.from = function (t, e, r) {
            return new so(io.from(t, e), r);
        }),
        so);
    function so(t, e) {
        ((this.uniformBindCount = 0), (this.program = t), (this.uniformGroup = e ? (e instanceof cn ? e : new cn(e)) : new cn({})));
    }
    var ao =
        (Object.defineProperty(ho.prototype, 'blend', {
            get: function () {
                return !!(1 & this.data);
            },
            set: function (t) {
                !!(1 & this.data) !== t && (this.data ^= 1);
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(ho.prototype, 'offsets', {
            get: function () {
                return !!(2 & this.data);
            },
            set: function (t) {
                !!(2 & this.data) !== t && (this.data ^= 2);
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(ho.prototype, 'culling', {
            get: function () {
                return !!(4 & this.data);
            },
            set: function (t) {
                !!(4 & this.data) !== t && (this.data ^= 4);
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(ho.prototype, 'depthTest', {
            get: function () {
                return !!(8 & this.data);
            },
            set: function (t) {
                !!(8 & this.data) !== t && (this.data ^= 8);
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(ho.prototype, 'depthMask', {
            get: function () {
                return !!(32 & this.data);
            },
            set: function (t) {
                !!(32 & this.data) !== t && (this.data ^= 32);
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(ho.prototype, 'clockwiseFrontFace', {
            get: function () {
                return !!(16 & this.data);
            },
            set: function (t) {
                !!(16 & this.data) !== t && (this.data ^= 16);
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(ho.prototype, 'blendMode', {
            get: function () {
                return this._blendMode;
            },
            set: function (t) {
                ((this.blend = t !== $.BLEND_MODES.NONE), (this._blendMode = t));
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(ho.prototype, 'polygonOffset', {
            get: function () {
                return this._polygonOffset;
            },
            set: function (t) {
                ((this.offsets = !!t), (this._polygonOffset = t));
            },
            enumerable: !1,
            configurable: !0,
        }),
        (ho.prototype.toString = function () {
            return '[@pixi/core:State blendMode=' + this.blendMode + ' clockwiseFrontFace=' + this.clockwiseFrontFace + ' culling=' + this.culling + ' depthMask=' + this.depthMask + ' polygonOffset=' + this.polygonOffset + ']';
        }),
        (ho.for2d = function () {
            var t = new ho();
            return ((t.depthTest = !1), (t.blend = !0), t);
        }),
        ho);
    function ho() {
        ((this.data = 0), (this.blendMode = $.BLEND_MODES.NORMAL), (this.polygonOffset = 0), (this.blend = !0), (this.depthMask = !0));
    }
    var uo,
        lo =
            (Xr(co, (uo = oo)),
            (co.prototype.apply = function (t, e, r, i, n) {
                t.applyFilter(this, e, r, i);
            }),
            Object.defineProperty(co.prototype, 'blendMode', {
                get: function () {
                    return this.state.blendMode;
                },
                set: function (t) {
                    this.state.blendMode = t;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(co.prototype, 'resolution', {
                get: function () {
                    return this._resolution;
                },
                set: function (t) {
                    this._resolution = t;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(co, 'defaultVertexSrc', {
                get: function () {
                    return 'attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n';
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(co, 'defaultFragmentSrc', {
                get: function () {
                    return 'varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n';
                },
                enumerable: !1,
                configurable: !0,
            }),
            co);
    function co(t, e, r) {
        var i = this,
            e = io.from(t || co.defaultVertexSrc, e || co.defaultFragmentSrc);
        return (((i = uo.call(this, e, r) || this).padding = 0), (i.resolution = G.FILTER_RESOLUTION), (i.multisample = G.FILTER_MULTISAMPLE), (i.enabled = !0), (i.autoFit = !0), (i.state = new ao()), i);
    }
    var fo = new Be(),
        po =
            (Object.defineProperty(_o.prototype, 'texture', {
                get: function () {
                    return this._texture;
                },
                set: function (t) {
                    ((this._texture = t), (this._textureID = -1));
                },
                enumerable: !1,
                configurable: !0,
            }),
            (_o.prototype.multiplyUvs = function (t, e) {
                void 0 === e && (e = t);
                for (var r = this.mapCoord, i = 0; i < t.length; i += 2) {
                    var n = t[i],
                        o = t[i + 1];
                    ((e[i] = n * r.a + o * r.c + r.tx), (e[i + 1] = n * r.b + o * r.d + r.ty));
                }
                return e;
            }),
            (_o.prototype.update = function (t) {
                var e = this._texture;
                if (!e || !e.valid) return !1;
                if (!t && this._textureID === e._updateID) return !1;
                ((this._textureID = e._updateID), this._updateID++);
                var r = e._uvs;
                this.mapCoord.set(r.x1 - r.x0, r.y1 - r.y0, r.x3 - r.x0, r.y3 - r.y0, r.x0, r.y0);
                var i = e.orig,
                    n = e.trim;
                n && (fo.set(i.width / n.width, 0, 0, i.height / n.height, -n.x / n.width, -n.y / n.height), this.mapCoord.append(fo));
                ((t = e.baseTexture), (r = this.uClampFrame), (i = this.clampMargin / t.resolution), (n = this.clampOffset));
                return ((r[0] = (e._frame.x + i + n) / t.width), (r[1] = (e._frame.y + i + n) / t.height), (r[2] = (e._frame.x + e._frame.width - i + n) / t.width), (r[3] = (e._frame.y + e._frame.height - i + n) / t.height), (this.uClampOffset[0] = n / t.realWidth), (this.uClampOffset[1] = n / t.realHeight), (this.isSimple = e._frame.width === t.width && e._frame.height === t.height && 0 === e.rotate), !0);
            }),
            _o);
    function _o(t, e) {
        ((this._texture = t), (this.mapCoord = new Be()), (this.uClampFrame = new Float32Array(4)), (this.uClampOffset = new Float32Array(2)), (this._textureID = -1), (this._updateID = 0), (this.clampOffset = 0), (this.clampMargin = void 0 === e ? 0.5 : e), (this.isSimple = !1));
    }
    var mo,
        Eo =
            (Xr(vo, (mo = lo)),
            Object.defineProperty(vo.prototype, 'maskSprite', {
                get: function () {
                    return this._maskSprite;
                },
                set: function (t) {
                    ((this._maskSprite = t), this._maskSprite && (this._maskSprite.renderable = !1));
                },
                enumerable: !1,
                configurable: !0,
            }),
            (vo.prototype.apply = function (t, e, r, i) {
                var n = this._maskSprite,
                    o = n._texture;
                o.valid && (o.uvMatrix || (o.uvMatrix = new po(o, 0)), o.uvMatrix.update(), (this.uniforms.npmAlpha = o.baseTexture.alphaMode ? 0 : 1), (this.uniforms.mask = o), (this.uniforms.otherMatrix = t.calculateSpriteMatrix(this.maskMatrix, n).prepend(o.uvMatrix.mapCoord)), (this.uniforms.alpha = n.worldAlpha), (this.uniforms.maskClamp = o.uvMatrix.uClampFrame), t.applyFilter(this, e, r, i));
            }),
            vo);
    function vo(t, e, r) {
        var i = this,
            n = null;
        return (
            'string' != typeof t && void 0 === e && void 0 === r && ((n = t), (r = e = t = void 0)),
            ((i =
                mo.call(
                    this,
                    t || 'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n',
                    e || 'varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n',
                    r
                ) || this).maskSprite = n),
            (i.maskMatrix = new Be()),
            i
        );
    }
    var yo =
        ((go.prototype.setMaskStack = function (t) {
            ((this.maskStack = t), this.renderer.scissor.setMaskStack(t), this.renderer.stencil.setMaskStack(t));
        }),
        (go.prototype.push = function (t, e) {
            var r = e;
            r.isMaskData || (((i = this.maskDataPool.pop() || new Cn()).pooled = !0), (i.maskObject = e), (r = i));
            var i = 0 !== this.maskStack.length ? this.maskStack[this.maskStack.length - 1] : null;
            if ((r.copyCountersOrReset(i), r.autoDetect && this.detect(r), (r._target = t), r.type !== $.MASK_TYPES.SPRITE && this.maskStack.push(r), r.enabled))
                switch (r.type) {
                    case $.MASK_TYPES.SCISSOR:
                        this.renderer.scissor.push(r);
                        break;
                    case $.MASK_TYPES.STENCIL:
                        this.renderer.stencil.push(r);
                        break;
                    case $.MASK_TYPES.SPRITE:
                        (r.copyCountersOrReset(null), this.pushSpriteMask(r));
                }
            r.type === $.MASK_TYPES.SPRITE && this.maskStack.push(r);
        }),
        (go.prototype.pop = function (t) {
            var e = this.maskStack.pop();
            if (e && e._target === t) {
                if (e.enabled)
                    switch (e.type) {
                        case $.MASK_TYPES.SCISSOR:
                            this.renderer.scissor.pop();
                            break;
                        case $.MASK_TYPES.STENCIL:
                            this.renderer.stencil.pop(e.maskObject);
                            break;
                        case $.MASK_TYPES.SPRITE:
                            this.popSpriteMask(e);
                    }
                (e.reset(), e.pooled && this.maskDataPool.push(e), 0 === this.maskStack.length || ((t = this.maskStack[this.maskStack.length - 1]).type === $.MASK_TYPES.SPRITE && t._filters && (t._filters[0].maskSprite = t.maskObject)));
            }
        }),
        (go.prototype.detect = function (t) {
            t.maskObject.isSprite ? (t.type = $.MASK_TYPES.SPRITE) : this.enableScissor && this.renderer.scissor.testScissor(t) ? (t.type = $.MASK_TYPES.SCISSOR) : (t.type = $.MASK_TYPES.STENCIL);
        }),
        (go.prototype.pushSpriteMask = function (t) {
            var e,
                r,
                i = t.maskObject,
                n = t._target,
                o = (o = t._filters) || (o = this.alphaMaskPool[this.alphaMaskIndex]) || (this.alphaMaskPool[this.alphaMaskIndex] = [new Eo()]),
                s = this.renderer,
                a = s.renderTexture;
            ((h = a.current ? ((e = a.current), (r = t.resolution || e.resolution), null !== (a = t.multisample) && void 0 !== a ? a : e.multisample) : ((r = t.resolution || s.resolution), null !== (h = t.multisample) && void 0 !== h ? h : s.multisample)), (o[0].resolution = r), (o[0].multisample = h), (o[0].maskSprite = i));
            var h = n.filterArea;
            ((n.filterArea = i.getBounds(!0)), s.filter.push(n, o), (n.filterArea = h), t._filters || this.alphaMaskIndex++);
        }),
        (go.prototype.popSpriteMask = function (t) {
            (this.renderer.filter.pop(), t._filters ? (t._filters[0].maskSprite = null) : (this.alphaMaskIndex--, (this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite = null)));
        }),
        (go.prototype.destroy = function () {
            this.renderer = null;
        }),
        go);
    function go(t) {
        ((this.renderer = t), (this.enableScissor = !0), (this.alphaMaskPool = []), (this.maskDataPool = []), (this.maskStack = []), (this.alphaMaskIndex = 0));
    }
    var To =
        ((bo.prototype.getStackLength = function () {
            return this.maskStack.length;
        }),
        (bo.prototype.setMaskStack = function (t) {
            var e = this.renderer.gl,
                r = this.getStackLength();
            this.maskStack = t;
            t = this.getStackLength();
            t !== r && (0 === t ? e.disable(this.glConst) : (e.enable(this.glConst), this._useCurrent()));
        }),
        (bo.prototype._useCurrent = function () {}),
        (bo.prototype.destroy = function () {
            ((this.renderer = null), (this.maskStack = null));
        }),
        bo);
    function bo(t) {
        ((this.renderer = t), (this.maskStack = []), (this.glConst = 0));
    }
    var xo,
        Ro = new Be(),
        Ao =
            (Xr(So, (xo = To)),
            (So.prototype.getStackLength = function () {
                var t = this.maskStack[this.maskStack.length - 1];
                return t ? t._scissorCounter : 0;
            }),
            (So.prototype.calcScissorRect = function (t) {
                var e, r, i, n, o;
                t._scissorRectLocal || ((e = t._scissorRect), (r = t.maskObject), (n = (i = this.renderer).renderTexture), (r.renderable = !0), (o = r.getBounds()), this.roundFrameToPixels(o, (n.current || i).resolution, n.sourceFrame, n.destinationFrame, i.projection.transform), (r.renderable = !1), e && o.fit(e), (t._scissorRectLocal = o));
            }),
            (So.isMatrixRotated = function (t) {
                if (!t) return !1;
                var e = t.a,
                    r = t.b,
                    i = t.c,
                    t = t.d;
                return (1e-4 < Math.abs(r) || 1e-4 < Math.abs(i)) && (1e-4 < Math.abs(e) || 1e-4 < Math.abs(t));
            }),
            (So.prototype.testScissor = function (t) {
                var e = t.maskObject;
                if (!e.isFastRect || !e.isFastRect()) return !1;
                if (So.isMatrixRotated(e.worldTransform)) return !1;
                if (So.isMatrixRotated(this.renderer.projection.transform)) return !1;
                this.calcScissorRect(t);
                t = t._scissorRectLocal;
                return 0 < t.width && 0 < t.height;
            }),
            (So.prototype.roundFrameToPixels = function (t, e, r, i, n) {
                So.isMatrixRotated(n) ||
                    ((n = n ? Ro.copyFrom(n) : Ro.identity())
                        .translate(-r.x, -r.y)
                        .scale(i.width / r.width, i.height / r.height)
                        .translate(i.x, i.y),
                    this.renderer.filter.transformAABB(n, t),
                    t.fit(i),
                    (t.x = Math.round(t.x * e)),
                    (t.y = Math.round(t.y * e)),
                    (t.width = Math.round(t.width * e)),
                    (t.height = Math.round(t.height * e)));
            }),
            (So.prototype.push = function (t) {
                t._scissorRectLocal || this.calcScissorRect(t);
                var e = this.renderer.gl;
                (t._scissorRect || e.enable(e.SCISSOR_TEST), t._scissorCounter++, (t._scissorRect = t._scissorRectLocal), this._useCurrent());
            }),
            (So.prototype.pop = function () {
                var t = this.renderer.gl;
                0 < this.getStackLength() ? this._useCurrent() : t.disable(t.SCISSOR_TEST);
            }),
            (So.prototype._useCurrent = function () {
                var t = this.maskStack[this.maskStack.length - 1]._scissorRect,
                    e = this.renderer.renderTexture.current ? t.y : this.renderer.height - t.height - t.y;
                this.renderer.gl.scissor(t.x, e, t.width, t.height);
            }),
            So);
    function So(t) {
        t = xo.call(this, t) || this;
        return ((t.glConst = WebGLRenderingContext.SCISSOR_TEST), t);
    }
    var Oo,
        Io =
            (Xr(Mo, (Oo = To)),
            (Mo.prototype.getStackLength = function () {
                var t = this.maskStack[this.maskStack.length - 1];
                return t ? t._stencilCounter : 0;
            }),
            (Mo.prototype.push = function (t) {
                var e = t.maskObject,
                    r = this.renderer.gl,
                    i = t._stencilCounter;
                (0 === i && (this.renderer.framebuffer.forceStencil(), r.clearStencil(0), r.clear(r.STENCIL_BUFFER_BIT), r.enable(r.STENCIL_TEST)), t._stencilCounter++, r.colorMask(!1, !1, !1, !1), r.stencilFunc(r.EQUAL, i, 4294967295), r.stencilOp(r.KEEP, r.KEEP, r.INCR), (e.renderable = !0), e.render(this.renderer), this.renderer.batch.flush(), (e.renderable = !1), this._useCurrent());
            }),
            (Mo.prototype.pop = function (t) {
                var e = this.renderer.gl;
                0 === this.getStackLength() ? e.disable(e.STENCIL_TEST) : (e.colorMask(!1, !1, !1, !1), e.stencilOp(e.KEEP, e.KEEP, e.DECR), (t.renderable = !0), t.render(this.renderer), this.renderer.batch.flush(), (t.renderable = !1), this._useCurrent());
            }),
            (Mo.prototype._useCurrent = function () {
                var t = this.renderer.gl;
                (t.colorMask(!0, !0, !0, !0), t.stencilFunc(t.EQUAL, this.getStackLength(), 4294967295), t.stencilOp(t.KEEP, t.KEEP, t.KEEP));
            }),
            Mo);
    function Mo(t) {
        t = Oo.call(this, t) || this;
        return ((t.glConst = WebGLRenderingContext.STENCIL_TEST), t);
    }
    var No =
        ((Po.prototype.update = function (t, e, r, i) {
            ((this.destinationFrame = t || this.destinationFrame || this.defaultFrame), (this.sourceFrame = e || this.sourceFrame || t), this.calculateProjection(this.destinationFrame, this.sourceFrame, r, i), this.transform && this.projectionMatrix.append(this.transform));
            i = this.renderer;
            ((i.globalUniforms.uniforms.projectionMatrix = this.projectionMatrix), i.globalUniforms.update(), i.shader.shader && i.shader.syncUniformGroup(i.shader.shader.uniforms.globals));
        }),
        (Po.prototype.calculateProjection = function (t, e, r, i) {
            var n = this.projectionMatrix,
                i = i ? -1 : 1;
            (n.identity(), (n.a = (1 / e.width) * 2), (n.d = i * ((1 / e.height) * 2)), (n.tx = -1 - e.x * n.a), (n.ty = -i - e.y * n.d));
        }),
        (Po.prototype.setTransform = function (t) {}),
        (Po.prototype.destroy = function () {
            this.renderer = null;
        }),
        Po);
    function Po(t) {
        ((this.renderer = t), (this.destinationFrame = null), (this.sourceFrame = null), (this.defaultFrame = null), (this.projectionMatrix = new Be()), (this.transform = null));
    }
    var Do = new Se(),
        Co = new Se(),
        wo =
            ((Lo.prototype.bind = function (t, e, r) {
                void 0 === t && (t = null);
                var i,
                    n,
                    o,
                    s = this.renderer;
                (this.current = t) ? ((o = (i = t.baseTexture).resolution), e || ((Do.width = t.frame.width), (Do.height = t.frame.height), (e = Do)), r || ((Co.x = t.frame.x), (Co.y = t.frame.y), (Co.width = e.width), (Co.height = e.height), (r = Co)), (n = i.framebuffer)) : ((o = s.resolution), e || ((Do.width = s.screen.width), (Do.height = s.screen.height), (e = Do)), r || (((r = Do).width = e.width), (r.height = e.height)));
                var a = this.viewportFrame;
                ((a.x = r.x * o), (a.y = r.y * o), (a.width = r.width * o), (a.height = r.height * o), t || (a.y = s.view.height - (a.y + a.height)), a.ceil(), this.renderer.framebuffer.bind(n, a), this.renderer.projection.update(r, e, o, !n), t ? this.renderer.mask.setMaskStack(i.maskStack) : this.renderer.mask.setMaskStack(this.defaultMaskStack), this.sourceFrame.copyFrom(e), this.destinationFrame.copyFrom(r));
            }),
            (Lo.prototype.clear = function (t, e) {
                t = this.current ? t || this.current.baseTexture.clearColor : t || this.clearColor;
                var r,
                    i,
                    n = this.destinationFrame,
                    o = this.current ? this.current.baseTexture : this.renderer.screen,
                    s = n.width !== o.width || n.height !== o.height;
                (s && ((r = (i = this.viewportFrame).x), (n = i.y), (o = i.width), (i = i.height), (r = Math.round(r)), (n = Math.round(n)), (o = Math.round(o)), (i = Math.round(i)), this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST), this.renderer.gl.scissor(r, n, o, i)), this.renderer.framebuffer.clear(t[0], t[1], t[2], t[3], e), s && this.renderer.scissor.pop());
            }),
            (Lo.prototype.resize = function () {
                this.bind(null);
            }),
            (Lo.prototype.reset = function () {
                this.bind(null);
            }),
            (Lo.prototype.destroy = function () {
                this.renderer = null;
            }),
            Lo);
    function Lo(t) {
        ((this.renderer = t), (this.clearColor = t._backgroundColorRgba), (this.defaultMaskStack = []), (this.current = null), (this.sourceFrame = new Se()), (this.destinationFrame = new Se()), (this.viewportFrame = new Se()));
    }
    function Fo(t, e, r, i, n) {
        r.buffer.update(n);
    }
    var Uo = { float: '\n        data[offset] = v;\n    ', vec2: '\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ', vec3: '\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ', vec4: '\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ', mat2: '\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ', mat3: '\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ', mat4: '\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    ' },
        Bo = { float: 4, vec2: 8, vec3: 12, vec4: 16, int: 4, ivec2: 8, ivec3: 12, ivec4: 16, uint: 4, uvec2: 8, uvec3: 12, uvec4: 16, bool: 4, bvec2: 8, bvec3: 12, bvec4: 16, mat2: 32, mat3: 48, mat4: 64 };
    function Go(t) {
        for (
            var e = t.map(function (t) {
                    return { data: t, offset: 0, dataLen: 0, dirty: 0 };
                }),
                r = 0,
                i = 0,
                n = 0,
                o = 0;
            o < e.length;
            o++
        ) {
            var s,
                a = e[o],
                r = Bo[a.data.type];
            (1 < a.data.size && (r = Math.max(r, 16) * a.data.size), i % (a.dataLen = r) != 0 && i < 16 && ((i += s = (i % r) % 16), (n += s)), 16 < i + r ? ((n = 16 * Math.ceil(n / 16)), (a.offset = n), (n += r), (i = r)) : ((a.offset = n), (i += r), (n += r)));
        }
        return { uboElements: e, size: (n = 16 * Math.ceil(n / 16)) };
    }
    function ko(t, e) {
        var r,
            i = [];
        for (r in t) e[r] && i.push(e[r]);
        return (
            i.sort(function (t, e) {
                return t.index - e.index;
            }),
            i
        );
    }
    function Xo(t, e) {
        if (!t.autoManage) return { size: 0, syncFunc: Fo };
        for (var e = Go(ko(t.uniforms, e)), r = e.uboElements, e = e.size, i = ['\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    '], n = 0; n < r.length; n++) {
            for (var o, s, a, h = r[n], u = t.uniforms[h.data.name], l = h.data.name, c = !1, d = 0; d < Kn.length; d++) {
                var f = Kn[d];
                if (f.codeUbo && f.test(h.data, u)) {
                    (i.push('offset = ' + h.offset / 4 + ';', Kn[d].codeUbo(h.data.name, u)), (c = !0));
                    break;
                }
            }
            c || (1 < h.data.size ? ((a = (4 - ((s = Vn(h.data.type) / (o = Math.max(Bo[h.data.type] / 16, 1))) % 4)) % 4), i.push('\n                cv = ud.' + l + '.value;\n                v = uv.' + l + ';\n                offset = ' + h.offset / 4 + ';\n\n                t = 0;\n\n                for(var i=0; i < ' + h.data.size * o + '; i++)\n                {\n                    for(var j = 0; j < ' + s + '; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += ' + a + ';\n                }\n\n                ')) : ((a = Uo[h.data.type]), i.push('\n                cv = ud.' + l + '.value;\n                v = uv.' + l + ';\n                offset = ' + h.offset / 4 + ';\n                ' + a + ';\n                ')));
        }
        return (i.push('\n       renderer.buffer.update(buffer);\n    '), { size: e, syncFunc: new Function('ud', 'uv', 'renderer', 'syncData', 'buffer', i.join('\n')) });
    }
    var Ho = function () {},
        Yo =
            ((jo.prototype.destroy = function () {
                ((this.uniformData = null), (this.uniformGroups = null), (this.uniformDirtyGroups = null), (this.uniformBufferBindings = null), (this.program = null));
            }),
            jo);
    function jo(t, e) {
        ((this.program = t), (this.uniformData = e), (this.uniformGroups = {}), (this.uniformDirtyGroups = {}), (this.uniformBufferBindings = {}));
    }
    function Vo(t, e) {
        var r,
            i,
            n,
            o,
            s = Ln(t, t.VERTEX_SHADER, e.vertexSrc),
            a = Ln(t, t.FRAGMENT_SHADER, e.fragmentSrc),
            h = t.createProgram();
        if (
            (t.attachShader(h, s),
            t.attachShader(h, a),
            t.linkProgram(h),
            t.getProgramParameter(h, t.LINK_STATUS) || ((i = h), (n = s), (o = a), (r = t).getProgramParameter(i, r.LINK_STATUS) || (r.getShaderParameter(n, r.COMPILE_STATUS) || Fn(r, n), r.getShaderParameter(o, r.COMPILE_STATUS) || Fn(r, o), console.error('PixiJS Error: Could not initialize shader.'), '' !== r.getProgramInfoLog(i) && console.warn('PixiJS Warning: gl.getProgramInfoLog()', r.getProgramInfoLog(i)))),
            (e.attributeData = (function (t, e) {
                for (var r = {}, i = e.getProgramParameter(t, e.ACTIVE_ATTRIBUTES), n = 0; n < i; n++) {
                    var o,
                        s = e.getActiveAttrib(t, n);
                    0 !== s.name.indexOf('gl_') && ((o = { type: (o = qn(e, s.type)), name: s.name, size: Vn(o), location: e.getAttribLocation(t, s.name) }), (r[s.name] = o));
                }
                return r;
            })(h, t)),
            (e.uniformData = (function (t, e) {
                for (var r = {}, i = e.getProgramParameter(t, e.ACTIVE_UNIFORMS), n = 0; n < i; n++) {
                    var o = e.getActiveUniform(t, n),
                        s = o.name.replace(/\[.*?\]$/, ''),
                        a = !!o.name.match(/\[.*?\]$/),
                        h = qn(e, o.type);
                    r[s] = { name: s, index: n, type: h, size: o.size, isArray: a, value: Bn(h, o.size) };
                }
                return r;
            })(h, t)),
            !/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc))
        ) {
            var u = Object.keys(e.attributeData);
            u.sort(function (t, e) {
                return e < t ? 1 : -1;
            });
            for (var l = 0; l < u.length; l++) ((e.attributeData[u[l]].location = l), t.bindAttribLocation(h, l, u[l]));
            t.linkProgram(h);
        }
        (t.deleteShader(s), t.deleteShader(a));
        var c = {};
        for (l in e.uniformData) {
            var d = e.uniformData[l];
            c[l] = { location: t.getUniformLocation(h, l), value: Bn(d.type, d.size) };
        }
        return new Yo(h, c);
    }
    var Wo = 0,
        zo = { textureCount: 0, uboCount: 0 },
        qo =
            ((Ko.prototype.systemCheck = function () {
                if (
                    !(function () {
                        if ('boolean' == typeof Jn) return Jn;
                        try {
                            var t = new Function('param1', 'param2', 'param3', 'return param1[param2] === param3;');
                            Jn = !0 === t({ a: 'b' }, 'a', 'b');
                        } catch (t) {
                            Jn = !1;
                        }
                        return Jn;
                    })()
                )
                    throw new Error('Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.');
            }),
            (Ko.prototype.contextChange = function (t) {
                ((this.gl = t), this.reset());
            }),
            (Ko.prototype.bind = function (t, e) {
                t.uniforms.globals = this.renderer.globalUniforms;
                var r = t.program,
                    i = r.glPrograms[this.renderer.CONTEXT_UID] || this.generateProgram(t);
                return ((this.shader = t), this.program !== r && ((this.program = r), this.gl.useProgram(i.program)), e || ((zo.textureCount = 0), (zo.uboCount = 0), this.syncUniformGroup(t.uniformGroup, zo)), i);
            }),
            (Ko.prototype.setUniforms = function (t) {
                var e = this.shader.program,
                    r = e.glPrograms[this.renderer.CONTEXT_UID];
                e.syncUniforms(r.uniformData, t, this.renderer);
            }),
            (Ko.prototype.syncUniformGroup = function (t, e) {
                var r = this.getGlProgram();
                (t.static && t.dirtyId === r.uniformDirtyGroups[t.id]) || ((r.uniformDirtyGroups[t.id] = t.dirtyId), this.syncUniforms(t, r, e));
            }),
            (Ko.prototype.syncUniforms = function (t, e, r) {
                (t.syncUniforms[this.shader.program.id] || this.createSyncGroups(t))(e.uniformData, t.uniforms, this.renderer, r);
            }),
            (Ko.prototype.createSyncGroups = function (t) {
                var e = this.getSignature(t, this.shader.program.uniformData, 'u');
                return (
                    this.cache[e] ||
                        (this.cache[e] = (function (t, e) {
                            var r,
                                i = ['\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    '];
                            for (r in t.uniforms) {
                                var n = e[r];
                                if (n) {
                                    for (var o, s = t.uniforms[r], a = !1, h = 0; h < Kn.length; h++)
                                        if (Kn[h].test(n, s)) {
                                            (i.push(Kn[h].code(r, s)), (a = !0));
                                            break;
                                        }
                                    a || ((o = (1 === n.size ? Zn : Qn)[n.type].replace('location', 'ud["' + r + '"].location')), i.push('\n            cu = ud["' + r + '"];\n            cv = cu.value;\n            v = uv["' + r + '"];\n            ' + o + ';'));
                                } else null !== (o = t.uniforms[r]) && void 0 !== o && o.group && (t.uniforms[r].ubo ? i.push('\n                        renderer.shader.syncUniformBufferGroup(uv.' + r + ", '" + r + "');\n                    ") : i.push('\n                        renderer.shader.syncUniformGroup(uv.' + r + ', syncData);\n                    '));
                            }
                            return new Function('ud', 'uv', 'renderer', 'syncData', i.join('\n'));
                        })(t, this.shader.program.uniformData)),
                    (t.syncUniforms[this.shader.program.id] = this.cache[e]),
                    t.syncUniforms[this.shader.program.id]
                );
            }),
            (Ko.prototype.syncUniformBufferGroup = function (t, e) {
                var r,
                    i = this.getGlProgram();
                ((t.static && 0 === t.dirtyId && i.uniformGroups[t.id]) || ((t.dirtyId = 0), (r = i.uniformGroups[t.id] || this.createSyncBufferGroup(t, i, e)), t.buffer.update(), r(i.uniformData, t.uniforms, this.renderer, zo, t.buffer)), this.renderer.buffer.bindBufferBase(t.buffer, i.uniformBufferBindings[e]));
            }),
            (Ko.prototype.createSyncBufferGroup = function (t, e, r) {
                var i = this.renderer.gl;
                this.renderer.buffer.bind(t.buffer);
                var n = this.gl.getUniformBlockIndex(e.program, r);
                ((e.uniformBufferBindings[r] = this.shader.uniformBindCount), i.uniformBlockBinding(e.program, n, this.shader.uniformBindCount), this.shader.uniformBindCount++);
                ((i = this.getSignature(t, this.shader.program.uniformData, 'ubo')), (n = (n = this._uboCache[i]) || (this._uboCache[i] = Xo(t, this.shader.program.uniformData))));
                return (t.autoManage && ((i = new Float32Array(n.size / 4)), t.buffer.update(i)), (e.uniformGroups[t.id] = n.syncFunc), e.uniformGroups[t.id]);
            }),
            (Ko.prototype.getSignature = function (t, e, r) {
                var i,
                    n = [r + '-'];
                for (i in t.uniforms) (n.push(i), e[i] && n.push(e[i].type));
                return n.join('-');
            }),
            (Ko.prototype.getGlProgram = function () {
                return this.shader ? this.shader.program.glPrograms[this.renderer.CONTEXT_UID] : null;
            }),
            (Ko.prototype.generateProgram = function (t) {
                var e = this.gl,
                    t = t.program,
                    e = Vo(e, t);
                return (t.glPrograms[this.renderer.CONTEXT_UID] = e);
            }),
            (Ko.prototype.reset = function () {
                ((this.program = null), (this.shader = null));
            }),
            (Ko.prototype.destroy = function () {
                ((this.renderer = null), (this.destroyed = !0));
            }),
            Ko);
    function Ko(t) {
        ((this.destroyed = !1), (this.renderer = t), this.systemCheck(), (this.gl = null), (this.shader = null), (this.program = null), (this.cache = {}), (this._uboCache = {}), (this.id = Wo++));
    }
    var Zo =
        ((Qo.prototype.contextChange = function (t) {
            var e;
            ((this.gl = t),
                (this.blendModes =
                    ((t = t),
                    void 0 === e && (e = []),
                    (e[$.BLEND_MODES.NORMAL] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.ADD] = [t.ONE, t.ONE]),
                    (e[$.BLEND_MODES.MULTIPLY] = [t.DST_COLOR, t.ONE_MINUS_SRC_ALPHA, t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.SCREEN] = [t.ONE, t.ONE_MINUS_SRC_COLOR, t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.OVERLAY] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.DARKEN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.LIGHTEN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.COLOR_DODGE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.COLOR_BURN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.HARD_LIGHT] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.SOFT_LIGHT] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.DIFFERENCE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.EXCLUSION] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.HUE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.SATURATION] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.COLOR] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.LUMINOSITY] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.NONE] = [0, 0]),
                    (e[$.BLEND_MODES.NORMAL_NPM] = [t.SRC_ALPHA, t.ONE_MINUS_SRC_ALPHA, t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.ADD_NPM] = [t.SRC_ALPHA, t.ONE, t.ONE, t.ONE]),
                    (e[$.BLEND_MODES.SCREEN_NPM] = [t.SRC_ALPHA, t.ONE_MINUS_SRC_COLOR, t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.SRC_IN] = [t.DST_ALPHA, t.ZERO]),
                    (e[$.BLEND_MODES.SRC_OUT] = [t.ONE_MINUS_DST_ALPHA, t.ZERO]),
                    (e[$.BLEND_MODES.SRC_ATOP] = [t.DST_ALPHA, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.DST_OVER] = [t.ONE_MINUS_DST_ALPHA, t.ONE]),
                    (e[$.BLEND_MODES.DST_IN] = [t.ZERO, t.SRC_ALPHA]),
                    (e[$.BLEND_MODES.DST_OUT] = [t.ZERO, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.DST_ATOP] = [t.ONE_MINUS_DST_ALPHA, t.SRC_ALPHA]),
                    (e[$.BLEND_MODES.XOR] = [t.ONE_MINUS_DST_ALPHA, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.SUBTRACT] = [t.ONE, t.ONE, t.ONE, t.ONE, t.FUNC_REVERSE_SUBTRACT, t.FUNC_ADD]),
                    e)),
                this.set(this.defaultState),
                this.reset());
        }),
        (Qo.prototype.set = function (t) {
            if (((t = t || this.defaultState), this.stateId !== t.data)) {
                for (var e = this.stateId ^ t.data, r = 0; e; ) (1 & e && this.map[r].call(this, !!(t.data & (1 << r))), (e >>= 1), r++);
                this.stateId = t.data;
            }
            for (r = 0; r < this.checks.length; r++) this.checks[r](this, t);
        }),
        (Qo.prototype.forceState = function (t) {
            t = t || this.defaultState;
            for (var e = 0; e < this.map.length; e++) this.map[e].call(this, !!(t.data & (1 << e)));
            for (e = 0; e < this.checks.length; e++) this.checks[e](this, t);
            this.stateId = t.data;
        }),
        (Qo.prototype.setBlend = function (t) {
            (this.updateCheck(Qo.checkBlendMode, t), this.gl[t ? 'enable' : 'disable'](this.gl.BLEND));
        }),
        (Qo.prototype.setOffset = function (t) {
            (this.updateCheck(Qo.checkPolygonOffset, t), this.gl[t ? 'enable' : 'disable'](this.gl.POLYGON_OFFSET_FILL));
        }),
        (Qo.prototype.setDepthTest = function (t) {
            this.gl[t ? 'enable' : 'disable'](this.gl.DEPTH_TEST);
        }),
        (Qo.prototype.setDepthMask = function (t) {
            this.gl.depthMask(t);
        }),
        (Qo.prototype.setCullFace = function (t) {
            this.gl[t ? 'enable' : 'disable'](this.gl.CULL_FACE);
        }),
        (Qo.prototype.setFrontFace = function (t) {
            this.gl.frontFace(this.gl[t ? 'CW' : 'CCW']);
        }),
        (Qo.prototype.setBlendMode = function (t) {
            var e;
            t !== this.blendMode && ((this.blendMode = t), (e = this.blendModes[t]), (t = this.gl), 2 === e.length ? t.blendFunc(e[0], e[1]) : t.blendFuncSeparate(e[0], e[1], e[2], e[3]), 6 === e.length ? ((this._blendEq = !0), t.blendEquationSeparate(e[4], e[5])) : this._blendEq && ((this._blendEq = !1), t.blendEquationSeparate(t.FUNC_ADD, t.FUNC_ADD)));
        }),
        (Qo.prototype.setPolygonOffset = function (t, e) {
            this.gl.polygonOffset(t, e);
        }),
        (Qo.prototype.reset = function () {
            (this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, !1), this.forceState(this.defaultState), (this._blendEq = !0), (this.blendMode = -1), this.setBlendMode(0));
        }),
        (Qo.prototype.updateCheck = function (t, e) {
            var r = this.checks.indexOf(t);
            e && -1 === r ? this.checks.push(t) : e || -1 === r || this.checks.splice(r, 1);
        }),
        (Qo.checkBlendMode = function (t, e) {
            t.setBlendMode(e.blendMode);
        }),
        (Qo.checkPolygonOffset = function (t, e) {
            t.setPolygonOffset(1, e.polygonOffset);
        }),
        (Qo.prototype.destroy = function () {
            this.gl = null;
        }),
        Qo);
    function Qo() {
        ((this.gl = null), (this.stateId = 0), (this.polygonOffset = 0), (this.blendMode = $.BLEND_MODES.NONE), (this._blendEq = !1), (this.map = []), (this.map[0] = this.setBlend), (this.map[1] = this.setOffset), (this.map[2] = this.setCullFace), (this.map[3] = this.setDepthTest), (this.map[4] = this.setFrontFace), (this.map[5] = this.setDepthMask), (this.checks = []), (this.defaultState = new ao()), (this.defaultState.blend = !0));
    }
    var Jo =
        (($o.prototype.postrender = function () {
            this.renderer.renderingToScreen && (this.count++, this.mode !== $.GC_MODES.MANUAL && (this.checkCount++, this.checkCount > this.checkCountMax && ((this.checkCount = 0), this.run())));
        }),
        ($o.prototype.run = function () {
            for (var t = this.renderer.texture, e = t.managedTextures, r = !1, i = 0; i < e.length; i++) {
                var n = e[i];
                !n.framebuffer && this.count - n.touched > this.maxIdle && (t.destroyTexture(n, !0), (r = !(e[i] = null)));
            }
            if (r) {
                for (var o = 0, i = 0; i < e.length; i++) null !== e[i] && (e[o++] = e[i]);
                e.length = o;
            }
        }),
        ($o.prototype.unload = function (t) {
            var e = this.renderer.texture,
                r = t._texture;
            r && !r.framebuffer && e.destroyTexture(r);
            for (var i = t.children.length - 1; 0 <= i; i--) this.unload(t.children[i]);
        }),
        ($o.prototype.destroy = function () {
            this.renderer = null;
        }),
        $o);
    function $o(t) {
        ((this.renderer = t), (this.count = 0), (this.checkCount = 0), (this.maxIdle = G.GC_MAX_IDLE), (this.checkCountMax = G.GC_MAX_CHECK_COUNT), (this.mode = G.GC_MODE));
    }
    var ts = function (t) {
            ((this.texture = t), (this.width = -1), (this.height = -1), (this.dirtyId = -1), (this.dirtyStyleId = -1), (this.mipmap = !1), (this.wrapMode = 33071), (this.type = $.TYPES.UNSIGNED_BYTE), (this.internalFormat = $.FORMATS.RGBA), (this.samplerType = 0));
        },
        es =
            ((rs.prototype.contextChange = function () {
                var t,
                    e,
                    r,
                    i = (this.gl = this.renderer.gl);
                ((this.CONTEXT_UID = this.renderer.CONTEXT_UID),
                    (this.webGLVersion = this.renderer.context.webGLVersion),
                    (this.internalFormats =
                        ((t = i),
                        (s =
                            'WebGL2RenderingContext' in globalThis && t instanceof globalThis.WebGL2RenderingContext
                                ? (((r = {})[$.TYPES.UNSIGNED_BYTE] = (((e = {})[$.FORMATS.RGBA] = t.RGBA8), (e[$.FORMATS.RGB] = t.RGB8), (e[$.FORMATS.RG] = t.RG8), (e[$.FORMATS.RED] = t.R8), (e[$.FORMATS.RGBA_INTEGER] = t.RGBA8UI), (e[$.FORMATS.RGB_INTEGER] = t.RGB8UI), (e[$.FORMATS.RG_INTEGER] = t.RG8UI), (e[$.FORMATS.RED_INTEGER] = t.R8UI), (e[$.FORMATS.ALPHA] = t.ALPHA), (e[$.FORMATS.LUMINANCE] = t.LUMINANCE), (e[$.FORMATS.LUMINANCE_ALPHA] = t.LUMINANCE_ALPHA), e)),
                                  (r[$.TYPES.BYTE] = (((e = {})[$.FORMATS.RGBA] = t.RGBA8_SNORM), (e[$.FORMATS.RGB] = t.RGB8_SNORM), (e[$.FORMATS.RG] = t.RG8_SNORM), (e[$.FORMATS.RED] = t.R8_SNORM), (e[$.FORMATS.RGBA_INTEGER] = t.RGBA8I), (e[$.FORMATS.RGB_INTEGER] = t.RGB8I), (e[$.FORMATS.RG_INTEGER] = t.RG8I), (e[$.FORMATS.RED_INTEGER] = t.R8I), e)),
                                  (r[$.TYPES.UNSIGNED_SHORT] = (((e = {})[$.FORMATS.RGBA_INTEGER] = t.RGBA16UI), (e[$.FORMATS.RGB_INTEGER] = t.RGB16UI), (e[$.FORMATS.RG_INTEGER] = t.RG16UI), (e[$.FORMATS.RED_INTEGER] = t.R16UI), (e[$.FORMATS.DEPTH_COMPONENT] = t.DEPTH_COMPONENT16), e)),
                                  (r[$.TYPES.SHORT] = (((e = {})[$.FORMATS.RGBA_INTEGER] = t.RGBA16I), (e[$.FORMATS.RGB_INTEGER] = t.RGB16I), (e[$.FORMATS.RG_INTEGER] = t.RG16I), (e[$.FORMATS.RED_INTEGER] = t.R16I), e)),
                                  (r[$.TYPES.UNSIGNED_INT] = (((e = {})[$.FORMATS.RGBA_INTEGER] = t.RGBA32UI), (e[$.FORMATS.RGB_INTEGER] = t.RGB32UI), (e[$.FORMATS.RG_INTEGER] = t.RG32UI), (e[$.FORMATS.RED_INTEGER] = t.R32UI), (e[$.FORMATS.DEPTH_COMPONENT] = t.DEPTH_COMPONENT24), e)),
                                  (r[$.TYPES.INT] = (((e = {})[$.FORMATS.RGBA_INTEGER] = t.RGBA32I), (e[$.FORMATS.RGB_INTEGER] = t.RGB32I), (e[$.FORMATS.RG_INTEGER] = t.RG32I), (e[$.FORMATS.RED_INTEGER] = t.R32I), e)),
                                  (r[$.TYPES.FLOAT] = (((e = {})[$.FORMATS.RGBA] = t.RGBA32F), (e[$.FORMATS.RGB] = t.RGB32F), (e[$.FORMATS.RG] = t.RG32F), (e[$.FORMATS.RED] = t.R32F), (e[$.FORMATS.DEPTH_COMPONENT] = t.DEPTH_COMPONENT32F), e)),
                                  (r[$.TYPES.HALF_FLOAT] = (((e = {})[$.FORMATS.RGBA] = t.RGBA16F), (e[$.FORMATS.RGB] = t.RGB16F), (e[$.FORMATS.RG] = t.RG16F), (e[$.FORMATS.RED] = t.R16F), e)),
                                  (r[$.TYPES.UNSIGNED_SHORT_5_6_5] = (((e = {})[$.FORMATS.RGB] = t.RGB565), e)),
                                  (r[$.TYPES.UNSIGNED_SHORT_4_4_4_4] = (((e = {})[$.FORMATS.RGBA] = t.RGBA4), e)),
                                  (r[$.TYPES.UNSIGNED_SHORT_5_5_5_1] = (((e = {})[$.FORMATS.RGBA] = t.RGB5_A1), e)),
                                  (r[$.TYPES.UNSIGNED_INT_2_10_10_10_REV] = (((e = {})[$.FORMATS.RGBA] = t.RGB10_A2), (e[$.FORMATS.RGBA_INTEGER] = t.RGB10_A2UI), e)),
                                  (r[$.TYPES.UNSIGNED_INT_10F_11F_11F_REV] = (((e = {})[$.FORMATS.RGB] = t.R11F_G11F_B10F), e)),
                                  (r[$.TYPES.UNSIGNED_INT_5_9_9_9_REV] = (((e = {})[$.FORMATS.RGB] = t.RGB9_E5), e)),
                                  (r[$.TYPES.UNSIGNED_INT_24_8] = (((e = {})[$.FORMATS.DEPTH_STENCIL] = t.DEPTH24_STENCIL8), e)),
                                  (r[$.TYPES.FLOAT_32_UNSIGNED_INT_24_8_REV] = (((e = {})[$.FORMATS.DEPTH_STENCIL] = t.DEPTH32F_STENCIL8), e)),
                                  r)
                                : (((s = {})[$.TYPES.UNSIGNED_BYTE] = (((r = {})[$.FORMATS.RGBA] = t.RGBA), (r[$.FORMATS.RGB] = t.RGB), (r[$.FORMATS.ALPHA] = t.ALPHA), (r[$.FORMATS.LUMINANCE] = t.LUMINANCE), (r[$.FORMATS.LUMINANCE_ALPHA] = t.LUMINANCE_ALPHA), r)), (s[$.TYPES.UNSIGNED_SHORT_5_6_5] = (((r = {})[$.FORMATS.RGB] = t.RGB), r)), (s[$.TYPES.UNSIGNED_SHORT_4_4_4_4] = (((r = {})[$.FORMATS.RGBA] = t.RGBA), r)), (s[$.TYPES.UNSIGNED_SHORT_5_5_5_1] = (((r = {})[$.FORMATS.RGBA] = t.RGBA), r)), s)))));
                var n = i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS);
                this.boundTextures.length = n;
                for (var o = 0; o < n; o++) this.boundTextures[o] = null;
                this.emptyTextures = {};
                var s = new ts(i.createTexture());
                (i.bindTexture(i.TEXTURE_2D, s.texture), i.texImage2D(i.TEXTURE_2D, 0, i.RGBA, 1, 1, 0, i.RGBA, i.UNSIGNED_BYTE, new Uint8Array(4)), (this.emptyTextures[i.TEXTURE_2D] = s), (this.emptyTextures[i.TEXTURE_CUBE_MAP] = new ts(i.createTexture())), i.bindTexture(i.TEXTURE_CUBE_MAP, this.emptyTextures[i.TEXTURE_CUBE_MAP].texture));
                for (o = 0; o < 6; o++) i.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X + o, 0, i.RGBA, 1, 1, 0, i.RGBA, i.UNSIGNED_BYTE, null);
                (i.texParameteri(i.TEXTURE_CUBE_MAP, i.TEXTURE_MAG_FILTER, i.LINEAR), i.texParameteri(i.TEXTURE_CUBE_MAP, i.TEXTURE_MIN_FILTER, i.LINEAR));
                for (o = 0; o < this.boundTextures.length; o++) this.bind(null, o);
            }),
            (rs.prototype.bind = function (t, e) {
                void 0 === e && (e = 0);
                var r,
                    i = this.gl;
                (t = null == t ? void 0 : t.castToBaseTexture()) && t.valid && !t.parentTextureArray ? ((t.touched = this.renderer.textureGC.count), (r = t._glTextures[this.CONTEXT_UID] || this.initTexture(t)), this.boundTextures[e] !== t && (this.currentLocation !== e && ((this.currentLocation = e), i.activeTexture(i.TEXTURE0 + e)), i.bindTexture(t.target, r.texture)), r.dirtyId !== t.dirtyId && (this.currentLocation !== e && ((this.currentLocation = e), i.activeTexture(i.TEXTURE0 + e)), this.updateTexture(t)), (this.boundTextures[e] = t)) : (this.currentLocation !== e && ((this.currentLocation = e), i.activeTexture(i.TEXTURE0 + e)), i.bindTexture(i.TEXTURE_2D, this.emptyTextures[i.TEXTURE_2D].texture), (this.boundTextures[e] = null));
            }),
            (rs.prototype.reset = function () {
                ((this._unknownBoundTextures = !0), (this.hasIntegerTextures = !1), (this.currentLocation = -1));
                for (var t = 0; t < this.boundTextures.length; t++) this.boundTextures[t] = this.unknownTexture;
            }),
            (rs.prototype.unbind = function (t) {
                var e = this.gl,
                    r = this.boundTextures;
                if (this._unknownBoundTextures) {
                    this._unknownBoundTextures = !1;
                    for (var i = 0; i < r.length; i++) r[i] === this.unknownTexture && this.bind(null, i);
                }
                for (i = 0; i < r.length; i++) r[i] === t && (this.currentLocation !== i && (e.activeTexture(e.TEXTURE0 + i), (this.currentLocation = i)), e.bindTexture(t.target, this.emptyTextures[t.target].texture), (r[i] = null));
            }),
            (rs.prototype.ensureSamplerType = function (t) {
                var e = this.boundTextures,
                    r = this.hasIntegerTextures,
                    i = this.CONTEXT_UID;
                if (r)
                    for (var n = t - 1; 0 <= n; --n) {
                        var o = e[n];
                        o && o._glTextures[i].samplerType !== $.SAMPLER_TYPES.FLOAT && this.renderer.texture.unbind(o);
                    }
            }),
            (rs.prototype.initTexture = function (t) {
                var e = new ts(this.gl.createTexture());
                return ((e.dirtyId = -1), (t._glTextures[this.CONTEXT_UID] = e), this.managedTextures.push(t), t.on('dispose', this.destroyTexture, this), e);
            }),
            (rs.prototype.initTextureType = function (t, e) {
                var r;
                ((e.internalFormat = null !== (r = null === (r = this.internalFormats[t.type]) || void 0 === r ? void 0 : r[t.format]) && void 0 !== r ? r : t.format), 2 === this.webGLVersion && t.type === $.TYPES.HALF_FLOAT ? (e.type = this.gl.HALF_FLOAT) : (e.type = t.type));
            }),
            (rs.prototype.updateTexture = function (t) {
                var e,
                    r,
                    i,
                    n = t._glTextures[this.CONTEXT_UID];
                n && ((i = this.renderer), this.initTextureType(t, n), t.resource && t.resource.upload(i, t, n) ? n.samplerType !== $.SAMPLER_TYPES.FLOAT && (this.hasIntegerTextures = !0) : ((e = t.realWidth), (r = t.realHeight), (i = i.gl), (n.width !== e || n.height !== r || n.dirtyId < 0) && ((n.width = e), (n.height = r), i.texImage2D(t.target, 0, n.internalFormat, e, r, 0, t.format, n.type, null))), t.dirtyStyleId !== n.dirtyStyleId && this.updateTextureStyle(t), (n.dirtyId = t.dirtyId));
            }),
            (rs.prototype.destroyTexture = function (t, e) {
                var r = this.gl;
                (t = t.castToBaseTexture())._glTextures[this.CONTEXT_UID] && (this.unbind(t), r.deleteTexture(t._glTextures[this.CONTEXT_UID].texture), t.off('dispose', this.destroyTexture, this), delete t._glTextures[this.CONTEXT_UID], e || (-1 !== (t = this.managedTextures.indexOf(t)) && ie(this.managedTextures, t, 1)));
            }),
            (rs.prototype.updateTextureStyle = function (t) {
                var e = t._glTextures[this.CONTEXT_UID];
                e && ((t.mipmap !== $.MIPMAP_MODES.POW2 && 2 === this.webGLVersion) || t.isPowerOfTwo ? (e.mipmap = 1 <= t.mipmap) : (e.mipmap = !1), 2 === this.webGLVersion || t.isPowerOfTwo ? (e.wrapMode = t.wrapMode) : (e.wrapMode = $.WRAP_MODES.CLAMP), (t.resource && t.resource.style(this.renderer, t, e)) || this.setStyle(t, e), (e.dirtyStyleId = t.dirtyStyleId));
            }),
            (rs.prototype.setStyle = function (t, e) {
                var r,
                    i = this.gl;
                (e.mipmap && t.mipmap !== $.MIPMAP_MODES.ON_MANUAL && i.generateMipmap(t.target), i.texParameteri(t.target, i.TEXTURE_WRAP_S, e.wrapMode), i.texParameteri(t.target, i.TEXTURE_WRAP_T, e.wrapMode), e.mipmap ? (i.texParameteri(t.target, i.TEXTURE_MIN_FILTER, t.scaleMode === $.SCALE_MODES.LINEAR ? i.LINEAR_MIPMAP_LINEAR : i.NEAREST_MIPMAP_NEAREST), (r = this.renderer.context.extensions.anisotropicFiltering) && 0 < t.anisotropicLevel && t.scaleMode === $.SCALE_MODES.LINEAR && ((e = Math.min(t.anisotropicLevel, i.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT))), i.texParameterf(t.target, r.TEXTURE_MAX_ANISOTROPY_EXT, e))) : i.texParameteri(t.target, i.TEXTURE_MIN_FILTER, t.scaleMode === $.SCALE_MODES.LINEAR ? i.LINEAR : i.NEAREST), i.texParameteri(t.target, i.TEXTURE_MAG_FILTER, t.scaleMode === $.SCALE_MODES.LINEAR ? i.LINEAR : i.NEAREST));
            }),
            (rs.prototype.destroy = function () {
                this.renderer = null;
            }),
            rs);
    function rs(t) {
        ((this.renderer = t), (this.boundTextures = []), (this.currentLocation = -1), (this.managedTextures = []), (this._unknownBoundTextures = !1), (this.unknownTexture = new Zr()), (this.hasIntegerTextures = !1));
    }
    var is,
        ns = { __proto__: null, FilterSystem: En, BatchSystem: Tn, ContextSystem: Rn, FramebufferSystem: In, GeometrySystem: Pn, MaskSystem: yo, ScissorSystem: Ao, StencilSystem: Io, ProjectionSystem: No, RenderTextureSystem: wo, ShaderSystem: qo, StateSystem: Zo, TextureGCSystem: Jo, TextureSystem: es },
        os = new Be(),
        ss =
            (Xr(as, (is = H)),
            (as.prototype.initPlugins = function (t) {
                for (var e in t) this.plugins[e] = new t[e](this);
            }),
            Object.defineProperty(as.prototype, 'width', {
                get: function () {
                    return this.view.width;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(as.prototype, 'height', {
                get: function () {
                    return this.view.height;
                },
                enumerable: !1,
                configurable: !0,
            }),
            (as.prototype.resize = function (t, e) {
                ((this.view.width = Math.round(t * this.resolution)), (this.view.height = Math.round(e * this.resolution)));
                ((t = this.view.width / this.resolution), (e = this.view.height / this.resolution));
                ((this.screen.width = t), (this.screen.height = e), this.autoDensity && ((this.view.style.width = t + 'px'), (this.view.style.height = e + 'px')), this.emit('resize', t, e));
            }),
            (as.prototype.generateTexture = function (t, e, r, i) {
                (void 0 === e && (e = {}), 'number' == typeof e && (he('6.1.0', 'generateTexture options (scaleMode, resolution, region) are now object options.'), (e = { scaleMode: e, resolution: r, region: i })));
                ((r = e.region),
                    (e = (function (t, e) {
                        var r = {};
                        for (n in t) Object.prototype.hasOwnProperty.call(t, n) && e.indexOf(n) < 0 && (r[n] = t[n]);
                        if (null != t && 'function' == typeof Object.getOwnPropertySymbols) for (var i = 0, n = Object.getOwnPropertySymbols(t); i < n.length; i++) e.indexOf(n[i]) < 0 && (r[n[i]] = t[n[i]]);
                        return r;
                    })(e, ['region'])));
                (0 === (i = r || t.getLocalBounds(null, !0)).width && (i.width = 1), 0 === i.height && (i.height = 1));
                e = Hi.create(Hr({ width: i.width, height: i.height }, e));
                return ((os.tx = -i.x), (os.ty = -i.y), this.render(t, { renderTexture: e, clear: !1, transform: os, skipUpdateTransform: !!t.parent }), e);
            }),
            (as.prototype.destroy = function (t) {
                for (var e in this.plugins) (this.plugins[e].destroy(), (this.plugins[e] = null));
                t && this.view.parentNode && this.view.parentNode.removeChild(this.view);
                ((this.plugins = null), (this.type = $.RENDERER_TYPE.UNKNOWN), (this.view = null), (this.screen = null), (this._tempDisplayObjectParent = null), (this.options = null), (this._backgroundColorRgba = null), (this._backgroundColorString = null), (this._lastObjectRendered = null));
            }),
            Object.defineProperty(as.prototype, 'backgroundColor', {
                get: function () {
                    return this._backgroundColor;
                },
                set: function (t) {
                    ((this._backgroundColor = t), (this._backgroundColorString = Yt(t)), Ht(t, this._backgroundColorRgba));
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(as.prototype, 'backgroundAlpha', {
                get: function () {
                    return this._backgroundColorRgba[3];
                },
                set: function (t) {
                    this._backgroundColorRgba[3] = t;
                },
                enumerable: !1,
                configurable: !0,
            }),
            as);
    function as(t, e) {
        void 0 === t && (t = $.RENDERER_TYPE.UNKNOWN);
        var r = is.call(this) || this;
        return ((e = Object.assign({}, G.RENDER_OPTIONS, e)), (r.options = e), (r.type = t), (r.screen = new Se(0, 0, e.width, e.height)), (r.view = e.view || document.createElement('canvas')), (r.resolution = e.resolution || G.RESOLUTION), (r.useContextAlpha = e.useContextAlpha), (r.autoDensity = !!e.autoDensity), (r.preserveDrawingBuffer = e.preserveDrawingBuffer), (r.clearBeforeRender = e.clearBeforeRender), (r._backgroundColor = 0), (r._backgroundColorRgba = [0, 0, 0, 1]), (r._backgroundColorString = '#000000'), (r.backgroundColor = e.backgroundColor || r._backgroundColor), (r.backgroundAlpha = e.backgroundAlpha), void 0 !== e.transparent && (he('6.0.0', 'Option transparent is deprecated, please use backgroundAlpha instead.'), (r.useContextAlpha = e.transparent), (r.backgroundAlpha = e.transparent ? 0 : 1)), (r._lastObjectRendered = null), (r.plugins = {}), r);
    }
    var hs = function (t) {
            ((this.buffer = t || null), (this.updateID = -1), (this.byteLength = -1), (this.refCount = 0));
        },
        us =
            ((ls.prototype.destroy = function () {
                this.renderer = null;
            }),
            (ls.prototype.contextChange = function () {
                (this.disposeAll(!0), (this.gl = this.renderer.gl), (this.CONTEXT_UID = this.renderer.CONTEXT_UID));
            }),
            (ls.prototype.bind = function (t) {
                var e = this.gl,
                    r = this.CONTEXT_UID,
                    r = t._glBuffers[r] || this.createGLBuffer(t);
                e.bindBuffer(t.type, r.buffer);
            }),
            (ls.prototype.bindBufferBase = function (t, e) {
                var r = this.gl,
                    i = this.CONTEXT_UID;
                this.boundBufferBases[e] !== t && ((i = t._glBuffers[i] || this.createGLBuffer(t)), (this.boundBufferBases[e] = t), r.bindBufferBase(r.UNIFORM_BUFFER, e, i.buffer));
            }),
            (ls.prototype.bindBufferRange = function (t, e, r) {
                var i = this.gl,
                    n = this.CONTEXT_UID;
                r = r || 0;
                t = t._glBuffers[n] || this.createGLBuffer(t);
                i.bindBufferRange(i.UNIFORM_BUFFER, e || 0, t.buffer, 256 * r, 256);
            }),
            (ls.prototype.update = function (t) {
                var e = this.gl,
                    r = this.CONTEXT_UID,
                    i = t._glBuffers[r];
                t._updateID !== i.updateID && ((i.updateID = t._updateID), e.bindBuffer(t.type, i.buffer), i.byteLength >= t.data.byteLength ? e.bufferSubData(t.type, 0, t.data) : ((r = t.static ? e.STATIC_DRAW : e.DYNAMIC_DRAW), (i.byteLength = t.data.byteLength), e.bufferData(t.type, t.data, r)));
            }),
            (ls.prototype.dispose = function (t, e) {
                var r, i;
                this.managedBuffers[t.id] && (delete this.managedBuffers[t.id], (r = t._glBuffers[this.CONTEXT_UID]), (i = this.gl), t.disposeRunner.remove(this), r && (e || i.deleteBuffer(r.buffer), delete t._glBuffers[this.CONTEXT_UID]));
            }),
            (ls.prototype.disposeAll = function (t) {
                for (var e = Object.keys(this.managedBuffers), r = 0; r < e.length; r++) this.dispose(this.managedBuffers[e[r]], t);
            }),
            (ls.prototype.createGLBuffer = function (t) {
                var e = this.CONTEXT_UID,
                    r = this.gl;
                return ((t._glBuffers[e] = new hs(r.createBuffer())), (this.managedBuffers[t.id] = t).disposeRunner.add(this), t._glBuffers[e]);
            }),
            ls);
    function ls(t) {
        ((this.renderer = t), (this.managedBuffers = {}), (this.boundBufferBases = {}));
    }
    var cs,
        ds =
            (Xr(fs, (cs = ss)),
            (fs.create = function (t) {
                if (kt()) return new fs(t);
                throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.');
            }),
            (fs.prototype.contextChange = function () {
                var t,
                    e,
                    r = this.gl;
                (1 === this.context.webGLVersion ? ((e = r.getParameter(r.FRAMEBUFFER_BINDING)), r.bindFramebuffer(r.FRAMEBUFFER, null), (t = r.getParameter(r.SAMPLES)), r.bindFramebuffer(r.FRAMEBUFFER, e)) : ((e = r.getParameter(r.DRAW_FRAMEBUFFER_BINDING)), r.bindFramebuffer(r.DRAW_FRAMEBUFFER, null), (t = r.getParameter(r.SAMPLES)), r.bindFramebuffer(r.DRAW_FRAMEBUFFER, e)), t >= $.MSAA_QUALITY.HIGH ? (this.multisample = $.MSAA_QUALITY.HIGH) : t >= $.MSAA_QUALITY.MEDIUM ? (this.multisample = $.MSAA_QUALITY.MEDIUM) : t >= $.MSAA_QUALITY.LOW ? (this.multisample = $.MSAA_QUALITY.LOW) : (this.multisample = $.MSAA_QUALITY.NONE));
            }),
            (fs.prototype.addSystem = function (t, e) {
                var r,
                    i = new t(this);
                if (this[e]) throw new Error('Whoops! The name "' + e + '" is already in use');
                for (r in ((this[e] = i), this.runners)) this.runners[r].add(i);
                return this;
            }),
            (fs.prototype.render = function (t, e) {
                var r, i, n, o;
                (e && (o = e instanceof Hi ? (he('6.0.0', 'Renderer#render arguments changed, use options instead.'), (r = e), (i = arguments[2]), (n = arguments[3]), arguments[4]) : ((r = e.renderTexture), (i = e.clear), (n = e.transform), e.skipUpdateTransform)), (this.renderingToScreen = !r), this.runners.prerender.emit(), this.emit('prerender'), (this.projection.transform = n), this.context.isLost || (r || (this._lastObjectRendered = t), o || ((o = t.enableTempParent()), t.updateTransform(), t.disableTempParent(o)), this.renderTexture.bind(r), this.batch.currentRenderer.start(), (void 0 !== i ? i : this.clearBeforeRender) && this.renderTexture.clear(), t.render(this), this.batch.currentRenderer.flush(), r && r.baseTexture.update(), this.runners.postrender.emit(), (this.projection.transform = null), this.emit('postrender')));
            }),
            (fs.prototype.generateTexture = function (t, e, r, i) {
                void 0 === e && (e = {});
                i = cs.prototype.generateTexture.call(this, t, e, r, i);
                return (this.framebuffer.blit(), i);
            }),
            (fs.prototype.resize = function (t, e) {
                (cs.prototype.resize.call(this, t, e), this.runners.resize.emit(this.screen.height, this.screen.width));
            }),
            (fs.prototype.reset = function () {
                return (this.runners.reset.emit(), this);
            }),
            (fs.prototype.clear = function () {
                (this.renderTexture.bind(), this.renderTexture.clear());
            }),
            (fs.prototype.destroy = function (t) {
                for (var e in (this.runners.destroy.emit(), this.runners)) this.runners[e].destroy();
                (cs.prototype.destroy.call(this, t), (this.gl = null));
            }),
            Object.defineProperty(fs.prototype, 'extract', {
                get: function () {
                    return (he('6.0.0', 'Renderer#extract has been deprecated, please use Renderer#plugins.extract instead.'), this.plugins.extract);
                },
                enumerable: !1,
                configurable: !0,
            }),
            (fs.registerPlugin = function (t, e) {
                (fs.__plugins = fs.__plugins || {})[t] = e;
            }),
            fs);
    function fs(t) {
        var e = cs.call(this, $.RENDERER_TYPE.WEBGL, t) || this;
        return (
            (t = e.options),
            (e.gl = null),
            (e.CONTEXT_UID = 0),
            (e.runners = { destroy: new Fr('destroy'), contextChange: new Fr('contextChange'), reset: new Fr('reset'), update: new Fr('update'), postrender: new Fr('postrender'), prerender: new Fr('prerender'), resize: new Fr('resize') }),
            e.runners.contextChange.add(e),
            (e.globalUniforms = new cn({ projectionMatrix: new Be() }, !0)),
            e.addSystem(yo, 'mask').addSystem(Rn, 'context').addSystem(Zo, 'state').addSystem(qo, 'shader').addSystem(es, 'texture').addSystem(us, 'buffer').addSystem(Pn, 'geometry').addSystem(In, 'framebuffer').addSystem(Ao, 'scissor').addSystem(Io, 'stencil').addSystem(No, 'projection').addSystem(Jo, 'textureGC').addSystem(En, 'filter').addSystem(wo, 'renderTexture').addSystem(Tn, 'batch'),
            e.initPlugins(fs.__plugins),
            (e.multisample = void 0),
            t.context ? e.context.initFromContext(t.context) : e.context.initFromOptions({ alpha: !!e.useContextAlpha, antialias: t.antialias, premultipliedAlpha: e.useContextAlpha && 'notMultiplied' !== e.useContextAlpha, stencil: !0, preserveDrawingBuffer: t.preserveDrawingBuffer, powerPreference: e.options.powerPreference }),
            (e.renderingToScreen = !0),
            Gt(2 === e.context.webGLVersion ? 'WebGL 2' : 'WebGL 1'),
            e.resize(e.options.width, e.options.height),
            e
        );
    }
    function ps(t) {
        return ds.create(t);
    }
    ((_s.prototype.destroy = function () {
        this.renderer = null;
    }),
        (mt = _s));
    function _s(t) {
        (he('6.1.0', 'System class is deprecated, implemement ISystem interface instead.'), (this.renderer = t));
    }
    var ms = function () {
            ((this.texArray = null), (this.blend = 0), (this.type = $.DRAW_MODES.TRIANGLES), (this.start = 0), (this.size = 0), (this.data = null));
        },
        Es =
            ((vs.prototype.clear = function () {
                for (var t = 0; t < this.count; t++) this.elements[t] = null;
                this.count = 0;
            }),
            vs);
    function vs() {
        ((this.elements = []), (this.ids = []), (this.count = 0));
    }
    var ys =
        (Object.defineProperty(gs.prototype, 'int8View', {
            get: function () {
                return (this._int8View || (this._int8View = new Int8Array(this.rawBinaryData)), this._int8View);
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(gs.prototype, 'uint8View', {
            get: function () {
                return (this._uint8View || (this._uint8View = new Uint8Array(this.rawBinaryData)), this._uint8View);
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(gs.prototype, 'int16View', {
            get: function () {
                return (this._int16View || (this._int16View = new Int16Array(this.rawBinaryData)), this._int16View);
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(gs.prototype, 'uint16View', {
            get: function () {
                return (this._uint16View || (this._uint16View = new Uint16Array(this.rawBinaryData)), this._uint16View);
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(gs.prototype, 'int32View', {
            get: function () {
                return (this._int32View || (this._int32View = new Int32Array(this.rawBinaryData)), this._int32View);
            },
            enumerable: !1,
            configurable: !0,
        }),
        (gs.prototype.view = function (t) {
            return this[t + 'View'];
        }),
        (gs.prototype.destroy = function () {
            ((this.rawBinaryData = null), (this._int8View = null), (this._uint8View = null), (this._int16View = null), (this._uint16View = null), (this._int32View = null), (this.uint32View = null), (this.float32View = null));
        }),
        (gs.sizeOf = function (t) {
            switch (t) {
                case 'int8':
                case 'uint8':
                    return 1;
                case 'int16':
                case 'uint16':
                    return 2;
                case 'int32':
                case 'uint32':
                case 'float32':
                    return 4;
                default:
                    throw new Error(t + " isn't a valid view type");
            }
        }),
        gs);
    function gs(t) {
        ('number' == typeof t ? (this.rawBinaryData = new ArrayBuffer(t)) : t instanceof Uint8Array ? (this.rawBinaryData = t.buffer) : (this.rawBinaryData = t), (this.uint32View = new Uint32Array(this.rawBinaryData)), (this.float32View = new Float32Array(this.rawBinaryData)));
    }
    var Ts,
        bs =
            (Xr(xs, (Ts = yn)),
            (xs.prototype.contextChange = function () {
                var t = this.renderer.gl;
                (G.PREFER_ENV === $.ENV.WEBGL_LEGACY ? (this.MAX_TEXTURES = 1) : ((this.MAX_TEXTURES = Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS), G.SPRITE_MAX_TEXTURES)), (this.MAX_TEXTURES = to(this.MAX_TEXTURES, t))), (this._shader = this.shaderGenerator.generateShader(this.MAX_TEXTURES)));
                for (var e = 0; e < this._packedGeometryPoolSize; e++) this._packedGeometries[e] = new this.geometryClass();
                this.initFlushBuffers();
            }),
            (xs.prototype.initFlushBuffers = function () {
                for (var t = xs._drawCallPool, e = xs._textureArrayPool, r = this.size / 4, i = Math.floor(r / this.MAX_TEXTURES) + 1; t.length < r; ) t.push(new ms());
                for (; e.length < i; ) e.push(new Es());
                for (var n = 0; n < this.MAX_TEXTURES; n++) this._tempBoundTextures[n] = null;
            }),
            (xs.prototype.onPrerender = function () {
                this._flushId = 0;
            }),
            (xs.prototype.render = function (t) {
                t._texture.valid && (this._vertexCount + t.vertexData.length / 2 > this.size && this.flush(), (this._vertexCount += t.vertexData.length / 2), (this._indexCount += t.indices.length), (this._bufferedTextures[this._bufferSize] = t._texture.baseTexture), (this._bufferedElements[this._bufferSize++] = t));
            }),
            (xs.prototype.buildTexturesAndDrawCalls = function () {
                var t = this._bufferedTextures,
                    e = this.MAX_TEXTURES,
                    r = xs._textureArrayPool,
                    i = this.renderer.batch,
                    n = this._tempBoundTextures,
                    o = this.renderer.textureGC.count,
                    s = ++Zr._globalBatch,
                    a = 0,
                    h = r[0],
                    u = 0;
                i.copyBoundTextures(n, e);
                for (var l = 0; l < this._bufferSize; ++l) {
                    var c = t[l];
                    ((t[l] = null), c._batchEnabled !== s && (h.count >= e && (i.boundArray(h, n, s, e), this.buildDrawCalls(h, u, l), (u = l), (h = r[++a]), ++s), (c._batchEnabled = s), (c.touched = o), (h.elements[h.count++] = c)));
                }
                0 < h.count && (i.boundArray(h, n, s, e), this.buildDrawCalls(h, u, this._bufferSize), ++a, ++s);
                for (l = 0; l < n.length; l++) n[l] = null;
                Zr._globalBatch = s;
            }),
            (xs.prototype.buildDrawCalls = function (t, e, r) {
                var i = this._bufferedElements,
                    n = this._attributeBuffer,
                    o = this._indexBuffer,
                    s = this.vertexSize,
                    a = xs._drawCallPool,
                    h = this._dcIndex,
                    u = this._aIndex,
                    l = this._iIndex,
                    c = a[h];
                ((c.start = this._iIndex), (c.texArray = t));
                for (var d = e; d < r; ++d) {
                    var f = i[d],
                        p = f._texture.baseTexture,
                        p = Wt[p.alphaMode ? 1 : 0][f.blendMode];
                    ((i[d] = null), e < d && c.blend !== p && ((c.size = l - c.start), (e = d), ((c = a[++h]).texArray = t), (c.start = l)), this.packInterleavedGeometry(f, n, o, u, l), (u += (f.vertexData.length / 2) * s), (l += f.indices.length), (c.blend = p));
                }
                (e < r && ((c.size = l - c.start), ++h), (this._dcIndex = h), (this._aIndex = u), (this._iIndex = l));
            }),
            (xs.prototype.bindAndClearTexArray = function (t) {
                for (var e = this.renderer.texture, r = 0; r < t.count; r++) (e.bind(t.elements[r], t.ids[r]), (t.elements[r] = null));
                t.count = 0;
            }),
            (xs.prototype.updateGeometry = function () {
                var t = this._packedGeometries,
                    e = this._attributeBuffer,
                    r = this._indexBuffer;
                G.CAN_UPLOAD_SAME_BUFFER ? (t[this._flushId]._buffer.update(e.rawBinaryData), t[this._flushId]._indexBuffer.update(r), this.renderer.geometry.updateBuffers()) : (this._packedGeometryPoolSize <= this._flushId && (this._packedGeometryPoolSize++, (t[this._flushId] = new this.geometryClass())), t[this._flushId]._buffer.update(e.rawBinaryData), t[this._flushId]._indexBuffer.update(r), this.renderer.geometry.bind(t[this._flushId]), this.renderer.geometry.updateBuffers(), this._flushId++);
            }),
            (xs.prototype.drawBatches = function () {
                for (var t = this._dcIndex, e = this.renderer, r = e.gl, i = e.state, n = xs._drawCallPool, o = null, s = 0; s < t; s++) {
                    var a = n[s],
                        h = a.texArray,
                        u = a.type,
                        l = a.size,
                        c = a.start,
                        a = a.blend;
                    (o !== h && ((o = h), this.bindAndClearTexArray(h)), (this.state.blendMode = a), i.set(this.state), r.drawElements(u, l, r.UNSIGNED_SHORT, 2 * c));
                }
            }),
            (xs.prototype.flush = function () {
                0 !== this._vertexCount && ((this._attributeBuffer = this.getAttributeBuffer(this._vertexCount)), (this._indexBuffer = this.getIndexBuffer(this._indexCount)), (this._aIndex = 0), (this._iIndex = 0), (this._dcIndex = 0), this.buildTexturesAndDrawCalls(), this.updateGeometry(), this.drawBatches(), (this._bufferSize = 0), (this._vertexCount = 0), (this._indexCount = 0));
            }),
            (xs.prototype.start = function () {
                (this.renderer.state.set(this.state), this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES), this.renderer.shader.bind(this._shader), G.CAN_UPLOAD_SAME_BUFFER && this.renderer.geometry.bind(this._packedGeometries[this._flushId]));
            }),
            (xs.prototype.stop = function () {
                this.flush();
            }),
            (xs.prototype.destroy = function () {
                for (var t = 0; t < this._packedGeometryPoolSize; t++) this._packedGeometries[t] && this._packedGeometries[t].destroy();
                (this.renderer.off('prerender', this.onPrerender, this), (this._aBuffers = null), (this._iBuffers = null), (this._packedGeometries = null), (this._attributeBuffer = null), (this._indexBuffer = null), this._shader && (this._shader.destroy(), (this._shader = null)), Ts.prototype.destroy.call(this));
            }),
            (xs.prototype.getAttributeBuffer = function (t) {
                var e = te(Math.ceil(t / 8)),
                    t = re(e),
                    e = 8 * e;
                this._aBuffers.length <= t && (this._iBuffers.length = t + 1);
                t = this._aBuffers[e];
                return (t || (this._aBuffers[e] = t = new ys(e * this.vertexSize * 4)), t);
            }),
            (xs.prototype.getIndexBuffer = function (t) {
                var e = te(Math.ceil(t / 12)),
                    r = re(e),
                    t = 12 * e;
                this._iBuffers.length <= r && (this._iBuffers.length = r + 1);
                e = this._iBuffers[r];
                return (e || (this._iBuffers[r] = e = new Uint16Array(t)), e);
            }),
            (xs.prototype.packInterleavedGeometry = function (t, e, r, i, n) {
                for (var o = e.uint32View, s = e.float32View, a = i / this.vertexSize, h = t.uvs, u = t.indices, l = t.vertexData, c = t._texture.baseTexture._batchLocation, e = Math.min(t.worldAlpha, 1), d = e < 1 && t._texture.baseTexture.alphaMode ? Kt(t._tintRGB, e) : t._tintRGB + ((255 * e) << 24), f = 0; f < l.length; f += 2) ((s[i++] = l[f]), (s[i++] = l[f + 1]), (s[i++] = h[f]), (s[i++] = h[f + 1]), (o[i++] = d), (s[i++] = c));
                for (f = 0; f < u.length; f++) r[n++] = a + u[f];
            }),
            (xs._drawCallPool = []),
            (xs._textureArrayPool = []),
            xs);
    function xs(t) {
        var e = Ts.call(this, t) || this;
        return ((e.shaderGenerator = null), (e.geometryClass = null), (e.vertexSize = null), (e.state = ao.for2d()), (e.size = 4 * G.SPRITE_BATCH_SIZE), (e._vertexCount = 0), (e._indexCount = 0), (e._bufferedElements = []), (e._bufferedTextures = []), (e._bufferSize = 0), (e._shader = null), (e._packedGeometries = []), (e._packedGeometryPoolSize = 2), (e._flushId = 0), (e._aBuffers = {}), (e._iBuffers = {}), (e.MAX_TEXTURES = 1), e.renderer.on('prerender', e.onPrerender, e), t.runners.contextChange.add(e), (e._dcIndex = 0), (e._aIndex = 0), (e._iIndex = 0), (e._attributeBuffer = null), (e._indexBuffer = null), (e._tempBoundTextures = []), e);
    }
    var Rs =
        ((As.prototype.generateShader = function (t) {
            if (!this.programCache[t]) {
                for (var e = new Int32Array(t), r = 0; r < t; r++) e[r] = r;
                this.defaultGroupCache[t] = cn.from({ uSamplers: e }, !0);
                var i = this.fragTemplate;
                ((i = (i = i.replace(/%count%/gi, '' + t)).replace(/%forloop%/gi, this.generateSampleSrc(t))), (this.programCache[t] = new io(this.vertexSrc, i)));
            }
            i = { tint: new Float32Array([1, 1, 1, 1]), translationMatrix: new Be(), default: this.defaultGroupCache[t] };
            return new oo(this.programCache[t], i);
        }),
        (As.prototype.generateSampleSrc = function (t) {
            var e = '';
            ((e += '\n'), (e += '\n'));
            for (var r = 0; r < t; r++) (0 < r && (e += '\nelse '), r < t - 1 && (e += 'if(vTextureId < ' + r + '.5)'), (e += '\n{'), (e += '\n\tcolor = texture2D(uSamplers[' + r + '], vTextureCoord);'), (e += '\n}'));
            return ((e += '\n'), (e += '\n'));
        }),
        As);
    function As(t, e) {
        if (((this.vertexSrc = t), (this.fragTemplate = e), (this.programCache = {}), (this.defaultGroupCache = {}), e.indexOf('%count%') < 0)) throw new Error('Fragment template must contain "%count%".');
        if (e.indexOf('%forloop%') < 0) throw new Error('Fragment template must contain "%forloop%".');
    }
    var Ss,
        Os = (Xr(Is, (Ss = en)), Is);
    function Is(t) {
        void 0 === t && (t = !1);
        var e = Ss.call(this) || this;
        return ((e._buffer = new Ki(null, t, !1)), (e._indexBuffer = new Ki(null, t, !0)), e.addAttribute('aVertexPosition', e._buffer, 2, !1, $.TYPES.FLOAT).addAttribute('aTextureCoord', e._buffer, 2, !1, $.TYPES.FLOAT).addAttribute('aColor', e._buffer, 4, !0, $.TYPES.UNSIGNED_BYTE).addAttribute('aTextureId', e._buffer, 1, !0, $.TYPES.FLOAT).addIndex(e._indexBuffer), e);
    }
    var Ms = 'precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n',
        Ns = 'varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n',
        yt =
            ((Ps.create = function (t) {
                var e,
                    t = Object.assign({ vertex: Ms, fragment: Ns, geometryClass: Os, vertexSize: 6 }, t),
                    r = t.vertex,
                    i = t.fragment,
                    n = t.vertexSize,
                    o = t.geometryClass;
                return (Xr(s, (e = bs)), s);
                function s(t) {
                    t = e.call(this, t) || this;
                    return ((t.shaderGenerator = new Rs(r, i)), (t.geometryClass = o), (t.vertexSize = n), t);
                }
            }),
            Object.defineProperty(Ps, 'defaultVertexSrc', {
                get: function () {
                    return Ms;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Ps, 'defaultFragmentTemplate', {
                get: function () {
                    return Ns;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Ps);
    function Ps() {}
    var Et = yt.create(),
        Ds = {};
    for (Cs in Si)
        !(function (t) {
            Object.defineProperty(Ds, t, {
                get: function () {
                    return (he('6.0.0', 'PIXI.systems.' + t + ' has moved to PIXI.' + t), Si[t]);
                },
            });
        })(Cs);
    var Cs,
        ws = {};
    for (Cs in ns)
        !(function (t) {
            Object.defineProperty(ws, t, {
                get: function () {
                    return (he('6.0.0', 'PIXI.resources.' + t + ' has moved to PIXI.' + t), ns[t]);
                },
            });
        })(Cs);
    var Ls =
        ((Fs.registerPlugin = function (t) {
            Fs._plugins.push(t);
        }),
        (Fs.prototype.render = function () {
            this.renderer.render(this.stage);
        }),
        Object.defineProperty(Fs.prototype, 'view', {
            get: function () {
                return this.renderer.view;
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(Fs.prototype, 'screen', {
            get: function () {
                return this.renderer.screen;
            },
            enumerable: !1,
            configurable: !0,
        }),
        (Fs.prototype.destroy = function (t, e) {
            var r = this,
                i = Fs._plugins.slice(0);
            (i.reverse(),
                i.forEach(function (t) {
                    t.destroy.call(r);
                }),
                this.stage.destroy(e),
                (this.stage = null),
                this.renderer.destroy(t),
                (this.renderer = null));
        }),
        (Fs._plugins = []),
        Fs);
    function Fs(e) {
        var r = this;
        ((this.stage = new ur()),
            (e = Object.assign({ forceCanvas: !1 }, e)),
            (this.renderer = ps(e)),
            Fs._plugins.forEach(function (t) {
                t.init.call(r, e);
            }));
    }
    var Us =
        ((Bs.init = function (t) {
            var r = this;
            (Object.defineProperty(this, 'resizeTo', {
                set: function (t) {
                    (globalThis.removeEventListener('resize', this.queueResize), (this._resizeTo = t) && (globalThis.addEventListener('resize', this.queueResize), this.resize()));
                },
                get: function () {
                    return this._resizeTo;
                },
            }),
                (this.queueResize = function () {
                    r._resizeTo &&
                        (r.cancelResize(),
                        (r._resizeId = requestAnimationFrame(function () {
                            return r.resize();
                        })));
                }),
                (this.cancelResize = function () {
                    r._resizeId && (cancelAnimationFrame(r._resizeId), (r._resizeId = null));
                }),
                (this.resize = function () {
                    var t, e;
                    r._resizeTo && (r.cancelResize(), (e = r._resizeTo === globalThis.window ? ((t = globalThis.innerWidth), globalThis.innerHeight) : ((t = (e = r._resizeTo).clientWidth), e.clientHeight)), r.renderer.resize(t, e));
                }),
                (this._resizeId = null),
                (this._resizeTo = null),
                (this.resizeTo = t.resizeTo || null));
        }),
        (Bs.destroy = function () {
            (globalThis.removeEventListener('resize', this.queueResize), this.cancelResize(), (this.cancelResize = null), (this.queueResize = null), (this.resizeTo = null), (this.resize = null));
        }),
        Bs);
    function Bs() {}
    Ls.registerPlugin(Us);
    function Gs(t) {
        return void 0 !== t && 'MacIntel' === t.platform && 'number' == typeof t.maxTouchPoints && 1 < t.maxTouchPoints && 'undefined' == typeof MSStream;
    }
    var ks = /iPhone/i,
        Xs = /iPod/i,
        Hs = /iPad/i,
        Ys = /\biOS-universal(?:.+)Mac\b/i,
        js = /\bAndroid(?:.+)Mobile\b/i,
        Vs = /Android/i,
        Ws = /(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,
        zs = /Silk/i,
        qs = /Windows Phone/i,
        Ks = /\bWindows(?:.+)ARM\b/i,
        Zs = /BlackBerry/i,
        Qs = /BB10/i,
        Js = /Opera Mini/i,
        $s = /\b(CriOS|Chrome)(?:.+)Mobile/i,
        ta = /Mobile(?:.+)Firefox\b/i;
    var ea = (function (t) {
        var e = { userAgent: '', platform: '', maxTouchPoints: 0 };
        t || 'undefined' == typeof navigator ? ('string' == typeof t ? (e.userAgent = t) : t && t.userAgent && (e = { userAgent: t.userAgent, platform: t.platform, maxTouchPoints: t.maxTouchPoints || 0 })) : (e = { userAgent: navigator.userAgent, platform: navigator.platform, maxTouchPoints: navigator.maxTouchPoints || 0 });
        var r,
            i = e.userAgent;
        return (
            void 0 !== (t = i.split('[FBAN'))[1] && (i = t[0]),
            void 0 !== (t = i.split('Twitter'))[1] && (i = t[0]),
            ((i = {
                apple: {
                    phone:
                        (i =
                            ((r = i),
                            function (t) {
                                return t.test(r);
                            }))(ks) && !i(qs),
                    ipod: i(Xs),
                    tablet: !i(ks) && (i(Hs) || Gs(e)) && !i(qs),
                    universal: i(Ys),
                    device: (i(ks) || i(Xs) || i(Hs) || i(Ys) || Gs(e)) && !i(qs),
                },
                amazon: { phone: i(Ws), tablet: !i(Ws) && i(zs), device: i(Ws) || i(zs) },
                android: { phone: (!i(qs) && i(Ws)) || (!i(qs) && i(js)), tablet: !i(qs) && !i(Ws) && !i(js) && (i(zs) || i(Vs)), device: (!i(qs) && (i(Ws) || i(zs) || i(js) || i(Vs))) || i(/\bokhttp\b/i) },
                windows: { phone: i(qs), tablet: i(Ks), device: i(qs) || i(Ks) },
                other: { blackberry: i(Zs), blackberry10: i(Qs), opera: i(Js), firefox: i(ta), chrome: i($s), device: i(Zs) || i(Qs) || i(Js) || i(ta) || i($s) },
                any: !1,
                phone: !1,
                tablet: !1,
            }).any = i.apple.device || i.android.device || i.windows.device || i.other.device),
            (i.phone = i.apple.phone || i.android.phone || i.windows.phone),
            (i.tablet = i.apple.tablet || i.android.tablet || i.windows.tablet),
            i
        );
    })(globalThis.navigator);
    (((kl = {})[(kl.WEBGL_LEGACY = 0)] = 'WEBGL_LEGACY'),
        (kl[(kl.WEBGL = 1)] = 'WEBGL'),
        (kl[(kl.WEBGL2 = 2)] = 'WEBGL2'),
        ((oc = {})[(oc.UNKNOWN = 0)] = 'UNKNOWN'),
        (oc[(oc.WEBGL = 1)] = 'WEBGL'),
        (oc[(oc.CANVAS = 2)] = 'CANVAS'),
        ((uc = {})[(uc.COLOR = 16384)] = 'COLOR'),
        (uc[(uc.DEPTH = 256)] = 'DEPTH'),
        (uc[(uc.STENCIL = 1024)] = 'STENCIL'),
        ((Oc = {})[(Oc.NORMAL = 0)] = 'NORMAL'),
        (Oc[(Oc.ADD = 1)] = 'ADD'),
        (Oc[(Oc.MULTIPLY = 2)] = 'MULTIPLY'),
        (Oc[(Oc.SCREEN = 3)] = 'SCREEN'),
        (Oc[(Oc.OVERLAY = 4)] = 'OVERLAY'),
        (Oc[(Oc.DARKEN = 5)] = 'DARKEN'),
        (Oc[(Oc.LIGHTEN = 6)] = 'LIGHTEN'),
        (Oc[(Oc.COLOR_DODGE = 7)] = 'COLOR_DODGE'),
        (Oc[(Oc.COLOR_BURN = 8)] = 'COLOR_BURN'),
        (Oc[(Oc.HARD_LIGHT = 9)] = 'HARD_LIGHT'),
        (Oc[(Oc.SOFT_LIGHT = 10)] = 'SOFT_LIGHT'),
        (Oc[(Oc.DIFFERENCE = 11)] = 'DIFFERENCE'),
        (Oc[(Oc.EXCLUSION = 12)] = 'EXCLUSION'),
        (Oc[(Oc.HUE = 13)] = 'HUE'),
        (Oc[(Oc.SATURATION = 14)] = 'SATURATION'),
        (Oc[(Oc.COLOR = 15)] = 'COLOR'),
        (Oc[(Oc.LUMINOSITY = 16)] = 'LUMINOSITY'),
        (Oc[(Oc.NORMAL_NPM = 17)] = 'NORMAL_NPM'),
        (Oc[(Oc.ADD_NPM = 18)] = 'ADD_NPM'),
        (Oc[(Oc.SCREEN_NPM = 19)] = 'SCREEN_NPM'),
        (Oc[(Oc.NONE = 20)] = 'NONE'),
        (Oc[(Oc.SRC_OVER = 0)] = 'SRC_OVER'),
        (Oc[(Oc.SRC_IN = 21)] = 'SRC_IN'),
        (Oc[(Oc.SRC_OUT = 22)] = 'SRC_OUT'),
        (Oc[(Oc.SRC_ATOP = 23)] = 'SRC_ATOP'),
        (Oc[(Oc.DST_OVER = 24)] = 'DST_OVER'),
        (Oc[(Oc.DST_IN = 25)] = 'DST_IN'),
        (Oc[(Oc.DST_OUT = 26)] = 'DST_OUT'),
        (Oc[(Oc.DST_ATOP = 27)] = 'DST_ATOP'),
        (Oc[(Oc.ERASE = 26)] = 'ERASE'),
        (Oc[(Oc.SUBTRACT = 28)] = 'SUBTRACT'),
        (Oc[(Oc.XOR = 29)] = 'XOR'),
        ((Eh = {})[(Eh.POINTS = 0)] = 'POINTS'),
        (Eh[(Eh.LINES = 1)] = 'LINES'),
        (Eh[(Eh.LINE_LOOP = 2)] = 'LINE_LOOP'),
        (Eh[(Eh.LINE_STRIP = 3)] = 'LINE_STRIP'),
        (Eh[(Eh.TRIANGLES = 4)] = 'TRIANGLES'),
        (Eh[(Eh.TRIANGLE_STRIP = 5)] = 'TRIANGLE_STRIP'),
        (Eh[(Eh.TRIANGLE_FAN = 6)] = 'TRIANGLE_FAN'),
        ((bd = {})[(bd.RGBA = 6408)] = 'RGBA'),
        (bd[(bd.RGB = 6407)] = 'RGB'),
        (bd[(bd.RG = 33319)] = 'RG'),
        (bd[(bd.RED = 6403)] = 'RED'),
        (bd[(bd.RGBA_INTEGER = 36249)] = 'RGBA_INTEGER'),
        (bd[(bd.RGB_INTEGER = 36248)] = 'RGB_INTEGER'),
        (bd[(bd.RG_INTEGER = 33320)] = 'RG_INTEGER'),
        (bd[(bd.RED_INTEGER = 36244)] = 'RED_INTEGER'),
        (bd[(bd.ALPHA = 6406)] = 'ALPHA'),
        (bd[(bd.LUMINANCE = 6409)] = 'LUMINANCE'),
        (bd[(bd.LUMINANCE_ALPHA = 6410)] = 'LUMINANCE_ALPHA'),
        (bd[(bd.DEPTH_COMPONENT = 6402)] = 'DEPTH_COMPONENT'),
        (bd[(bd.DEPTH_STENCIL = 34041)] = 'DEPTH_STENCIL'),
        ((xd = {})[(xd.TEXTURE_2D = 3553)] = 'TEXTURE_2D'),
        (xd[(xd.TEXTURE_CUBE_MAP = 34067)] = 'TEXTURE_CUBE_MAP'),
        (xd[(xd.TEXTURE_2D_ARRAY = 35866)] = 'TEXTURE_2D_ARRAY'),
        (xd[(xd.TEXTURE_CUBE_MAP_POSITIVE_X = 34069)] = 'TEXTURE_CUBE_MAP_POSITIVE_X'),
        (xd[(xd.TEXTURE_CUBE_MAP_NEGATIVE_X = 34070)] = 'TEXTURE_CUBE_MAP_NEGATIVE_X'),
        (xd[(xd.TEXTURE_CUBE_MAP_POSITIVE_Y = 34071)] = 'TEXTURE_CUBE_MAP_POSITIVE_Y'),
        (xd[(xd.TEXTURE_CUBE_MAP_NEGATIVE_Y = 34072)] = 'TEXTURE_CUBE_MAP_NEGATIVE_Y'),
        (xd[(xd.TEXTURE_CUBE_MAP_POSITIVE_Z = 34073)] = 'TEXTURE_CUBE_MAP_POSITIVE_Z'),
        (xd[(xd.TEXTURE_CUBE_MAP_NEGATIVE_Z = 34074)] = 'TEXTURE_CUBE_MAP_NEGATIVE_Z'),
        ((Rd = {})[(Rd.UNSIGNED_BYTE = 5121)] = 'UNSIGNED_BYTE'),
        (Rd[(Rd.UNSIGNED_SHORT = 5123)] = 'UNSIGNED_SHORT'),
        (Rd[(Rd.UNSIGNED_SHORT_5_6_5 = 33635)] = 'UNSIGNED_SHORT_5_6_5'),
        (Rd[(Rd.UNSIGNED_SHORT_4_4_4_4 = 32819)] = 'UNSIGNED_SHORT_4_4_4_4'),
        (Rd[(Rd.UNSIGNED_SHORT_5_5_5_1 = 32820)] = 'UNSIGNED_SHORT_5_5_5_1'),
        (Rd[(Rd.UNSIGNED_INT = 5125)] = 'UNSIGNED_INT'),
        (Rd[(Rd.UNSIGNED_INT_10F_11F_11F_REV = 35899)] = 'UNSIGNED_INT_10F_11F_11F_REV'),
        (Rd[(Rd.UNSIGNED_INT_2_10_10_10_REV = 33640)] = 'UNSIGNED_INT_2_10_10_10_REV'),
        (Rd[(Rd.UNSIGNED_INT_24_8 = 34042)] = 'UNSIGNED_INT_24_8'),
        (Rd[(Rd.UNSIGNED_INT_5_9_9_9_REV = 35902)] = 'UNSIGNED_INT_5_9_9_9_REV'),
        (Rd[(Rd.BYTE = 5120)] = 'BYTE'),
        (Rd[(Rd.SHORT = 5122)] = 'SHORT'),
        (Rd[(Rd.INT = 5124)] = 'INT'),
        (Rd[(Rd.FLOAT = 5126)] = 'FLOAT'),
        (Rd[(Rd.FLOAT_32_UNSIGNED_INT_24_8_REV = 36269)] = 'FLOAT_32_UNSIGNED_INT_24_8_REV'),
        (Rd[(Rd.HALF_FLOAT = 36193)] = 'HALF_FLOAT'),
        ((wh = {})[(wh.FLOAT = 0)] = 'FLOAT'),
        (wh[(wh.INT = 1)] = 'INT'),
        (wh[(wh.UINT = 2)] = 'UINT'),
        ((Gh = Ml = Ml || {})[(Gh.NEAREST = 0)] = 'NEAREST'),
        (Gh[(Gh.LINEAR = 1)] = 'LINEAR'),
        ((j = Va = Va || {})[(j.CLAMP = 33071)] = 'CLAMP'),
        (j[(j.REPEAT = 10497)] = 'REPEAT'),
        (j[(j.MIRRORED_REPEAT = 33648)] = 'MIRRORED_REPEAT'),
        ((At = Al = Al || {})[(At.OFF = 0)] = 'OFF'),
        (At[(At.POW2 = 1)] = 'POW2'),
        (At[(At.ON = 2)] = 'ON'),
        (At[(At.ON_MANUAL = 3)] = 'ON_MANUAL'),
        ((vt = {})[(vt.NPM = 0)] = 'NPM'),
        (vt[(vt.UNPACK = 1)] = 'UNPACK'),
        (vt[(vt.PMA = 2)] = 'PMA'),
        (vt[(vt.NO_PREMULTIPLIED_ALPHA = 0)] = 'NO_PREMULTIPLIED_ALPHA'),
        (vt[(vt.PREMULTIPLY_ON_UPLOAD = 1)] = 'PREMULTIPLY_ON_UPLOAD'),
        (vt[(vt.PREMULTIPLY_ALPHA = 2)] = 'PREMULTIPLY_ALPHA'),
        (vt[(vt.PREMULTIPLIED_ALPHA = 2)] = 'PREMULTIPLIED_ALPHA'),
        ((gt = {})[(gt.NO = 0)] = 'NO'),
        (gt[(gt.YES = 1)] = 'YES'),
        (gt[(gt.AUTO = 2)] = 'AUTO'),
        (gt[(gt.BLEND = 0)] = 'BLEND'),
        (gt[(gt.CLEAR = 1)] = 'CLEAR'),
        (gt[(gt.BLIT = 2)] = 'BLIT'),
        ((eu = Ya = Ya || {})[(eu.AUTO = 0)] = 'AUTO'),
        (eu[(eu.MANUAL = 1)] = 'MANUAL'),
        ((kc = Ll = Ll || {}).LOW = 'lowp'),
        (kc.MEDIUM = 'mediump'),
        (kc.HIGH = 'highp'),
        ((Pu = {})[(Pu.NONE = 0)] = 'NONE'),
        (Pu[(Pu.SCISSOR = 1)] = 'SCISSOR'),
        (Pu[(Pu.STENCIL = 2)] = 'STENCIL'),
        (Pu[(Pu.SPRITE = 3)] = 'SPRITE'),
        ((ya = bl = bl || {})[(ya.NONE = 0)] = 'NONE'),
        (ya[(ya.LOW = 2)] = 'LOW'),
        (ya[(ya.MEDIUM = 4)] = 'MEDIUM'),
        (ya[(ya.HIGH = 8)] = 'HIGH'),
        ((ba = {})[(ba.ELEMENT_ARRAY_BUFFER = 34963)] = 'ELEMENT_ARRAY_BUFFER'),
        (ba[(ba.ARRAY_BUFFER = 34962)] = 'ARRAY_BUFFER'),
        (ba[(ba.UNIFORM_BUFFER = 35345)] = 'UNIFORM_BUFFER'));
    var ra,
        ia,
        na,
        oa = { MIPMAP_TEXTURES: Al.POW2, ANISOTROPIC_LEVEL: 0, RESOLUTION: 1, FILTER_RESOLUTION: 1, FILTER_MULTISAMPLE: bl.NONE, SPRITE_MAX_TEXTURES: ((ra = 32), (na = !0), (ea.tablet || ea.phone) && (ea.apple.device && (ia = navigator.userAgent.match(/OS (\d+)_(\d+)?/)) && parseInt(ia[1], 10) < 11 && (na = !1), ea.android.device && (ia = navigator.userAgent.match(/Android\s([0-9.]*)/)) && parseInt(ia[1], 10) < 7 && (na = !1)), na ? ra : 4), SPRITE_BATCH_SIZE: 4096, RENDER_OPTIONS: { view: null, antialias: !1, autoDensity: !1, backgroundColor: 0, backgroundAlpha: 1, useContextAlpha: !0, clearBeforeRender: !0, preserveDrawingBuffer: !1, width: 800, height: 600, legacy: !1 }, GC_MODE: Ya.AUTO, GC_MAX_IDLE: 3600, GC_MAX_CHECK_COUNT: 600, WRAP_MODE: Va.CLAMP, SCALE_MODE: Ml.LINEAR, PRECISION_VERTEX: Ll.HIGH, PRECISION_FRAGMENT: ea.apple.device ? Ll.HIGH : Ll.MEDIUM, CAN_UPLOAD_SAME_BUFFER: !ea.apple.device, CREATE_IMAGE_BITMAP: !1, ROUND_PIXELS: !1, SORTABLE_CHILDREN: !1 },
        sa =
            ((aa.prototype.isEmpty = function () {
                return this.minX > this.maxX || this.minY > this.maxY;
            }),
            (aa.prototype.clear = function () {
                ((this.minX = 1 / 0), (this.minY = 1 / 0), (this.maxX = -1 / 0), (this.maxY = -1 / 0));
            }),
            (aa.prototype.getRectangle = function (t) {
                return this.minX > this.maxX || this.minY > this.maxY ? Se.EMPTY : (((t = t || new Se(0, 0, 1, 1)).x = this.minX), (t.y = this.minY), (t.width = this.maxX - this.minX), (t.height = this.maxY - this.minY), t);
            }),
            (aa.prototype.addPoint = function (t) {
                ((this.minX = Math.min(this.minX, t.x)), (this.maxX = Math.max(this.maxX, t.x)), (this.minY = Math.min(this.minY, t.y)), (this.maxY = Math.max(this.maxY, t.y)));
            }),
            (aa.prototype.addPointMatrix = function (t, e) {
                var r = t.a,
                    i = t.b,
                    n = t.c,
                    o = t.d,
                    s = t.tx,
                    t = t.ty,
                    s = r * e.x + n * e.y + s,
                    t = i * e.x + o * e.y + t;
                ((this.minX = Math.min(this.minX, s)), (this.maxX = Math.max(this.maxX, s)), (this.minY = Math.min(this.minY, t)), (this.maxY = Math.max(this.maxY, t)));
            }),
            (aa.prototype.addQuad = function (t) {
                var e = this.minX,
                    r = this.minY,
                    i = this.maxX,
                    n = this.maxY,
                    o = t[0],
                    s = t[1],
                    e = o < e ? o : e,
                    r = s < r ? s : r,
                    i = i < o ? o : i,
                    n = n < s ? s : n;
                ((e = (o = t[2]) < e ? o : e), (r = (s = t[3]) < r ? s : r), (i = i < o ? o : i), (n = n < s ? s : n), (e = (o = t[4]) < e ? o : e), (r = (s = t[5]) < r ? s : r), (i = i < o ? o : i), (n = n < s ? s : n), (e = (o = t[6]) < e ? o : e), (r = (s = t[7]) < r ? s : r), (i = i < o ? o : i), (n = n < s ? s : n), (this.minX = e), (this.minY = r), (this.maxX = i), (this.maxY = n));
            }),
            (aa.prototype.addFrame = function (t, e, r, i, n) {
                this.addFrameMatrix(t.worldTransform, e, r, i, n);
            }),
            (aa.prototype.addFrameMatrix = function (t, e, r, i, n) {
                var o = t.a,
                    s = t.b,
                    a = t.c,
                    h = t.d,
                    u = t.tx,
                    l = t.ty,
                    c = o * e + a * r + u,
                    d = s * e + h * r + l,
                    f = c < (f = this.minX) ? c : f,
                    p = d < (p = this.minY) ? d : p,
                    _ = (_ = this.maxX) < c ? c : _,
                    t = (t = this.maxY) < d ? d : t;
                ((f = (c = o * i + a * r + u) < f ? c : f), (p = (d = s * i + h * r + l) < p ? d : p), (_ = _ < c ? c : _), (t = t < d ? d : t), (f = (c = o * e + a * n + u) < f ? c : f), (p = (d = s * e + h * n + l) < p ? d : p), (_ = _ < c ? c : _), (t = t < d ? d : t), (f = (c = o * i + a * n + u) < f ? c : f), (p = (d = s * i + h * n + l) < p ? d : p), (_ = _ < c ? c : _), (t = t < d ? d : t), (this.minX = f), (this.minY = p), (this.maxX = _), (this.maxY = t));
            }),
            (aa.prototype.addVertexData = function (t, e, r) {
                for (var i = this.minX, n = this.minY, o = this.maxX, s = this.maxY, a = e; a < r; a += 2) var h = t[a], u = t[a + 1], i = h < i ? h : i, n = u < n ? u : n, o = o < h ? h : o, s = s < u ? u : s;
                ((this.minX = i), (this.minY = n), (this.maxX = o), (this.maxY = s));
            }),
            (aa.prototype.addVertices = function (t, e, r, i) {
                this.addVerticesMatrix(t.worldTransform, e, r, i);
            }),
            (aa.prototype.addVerticesMatrix = function (t, e, r, i, n, o) {
                (void 0 === n && (n = 0), void 0 === o && (o = n));
                for (var s = t.a, a = t.b, h = t.c, u = t.d, l = t.tx, c = t.ty, d = this.minX, f = this.minY, p = this.maxX, _ = this.maxY, m = r; m < i; m += 2) var E = e[m], v = e[m + 1], y = s * E + h * v + l, E = u * v + a * E + c, d = Math.min(d, y - n), p = Math.max(p, y + n), f = Math.min(f, E - o), _ = Math.max(_, E + o);
                ((this.minX = d), (this.minY = f), (this.maxX = p), (this.maxY = _));
            }),
            (aa.prototype.addBounds = function (t) {
                var e = this.minX,
                    r = this.minY,
                    i = this.maxX,
                    n = this.maxY;
                ((this.minX = t.minX < e ? t.minX : e), (this.minY = t.minY < r ? t.minY : r), (this.maxX = t.maxX > i ? t.maxX : i), (this.maxY = t.maxY > n ? t.maxY : n));
            }),
            (aa.prototype.addBoundsMask = function (t, e) {
                var r,
                    i,
                    n = (t.minX > e.minX ? t : e).minX,
                    o = (t.minY > e.minY ? t : e).minY,
                    s = (t.maxX < e.maxX ? t : e).maxX,
                    a = (t.maxY < e.maxY ? t : e).maxY;
                n <= s && o <= a && ((r = this.minX), (i = this.minY), (t = this.maxX), (e = this.maxY), (this.minX = n < r ? n : r), (this.minY = o < i ? o : i), (this.maxX = t < s ? s : t), (this.maxY = e < a ? a : e));
            }),
            (aa.prototype.addBoundsMatrix = function (t, e) {
                this.addFrameMatrix(e, t.minX, t.minY, t.maxX, t.maxY);
            }),
            (aa.prototype.addBoundsArea = function (t, e) {
                var r,
                    i,
                    n = t.minX > e.x ? t.minX : e.x,
                    o = t.minY > e.y ? t.minY : e.y,
                    s = t.maxX < e.x + e.width ? t.maxX : e.x + e.width,
                    a = t.maxY < e.y + e.height ? t.maxY : e.y + e.height;
                n <= s && o <= a && ((r = this.minX), (i = this.minY), (t = this.maxX), (e = this.maxY), (this.minX = n < r ? n : r), (this.minY = o < i ? o : i), (this.maxX = t < s ? s : t), (this.maxY = e < a ? a : e));
            }),
            (aa.prototype.pad = function (t, e) {
                (void 0 === t && (t = 0), void 0 === e && (e = t), this.isEmpty() || ((this.minX -= t), (this.maxX += t), (this.minY -= e), (this.maxY += e)));
            }),
            (aa.prototype.addFramePad = function (t, e, r, i, n, o) {
                ((t -= n), (e -= o), (r += n), (i += o), (this.minX = this.minX < t ? this.minX : t), (this.maxX = this.maxX > r ? this.maxX : r), (this.minY = this.minY < e ? this.minY : e), (this.maxY = this.maxY > i ? this.maxY : i));
            }),
            aa);
    function aa() {
        ((this.minX = 1 / 0), (this.minY = 1 / 0), (this.maxX = -1 / 0), (this.maxY = -1 / 0), (this.rect = null), (this.updateID = -1));
    }
    var ha = function (t, e) {
        return (ha =
            Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array &&
                function (t, e) {
                    t.__proto__ = e;
                }) ||
            function (t, e) {
                for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r]);
            })(t, e);
    };
    function ua(t, e) {
        function r() {
            this.constructor = t;
        }
        (ha(t, e), (t.prototype = null === e ? Object.create(e) : ((r.prototype = e.prototype), new r())));
    }
    var la,
        ca =
            (ua(da, (la = H)),
            (da.mixin = function (t) {
                for (var e = Object.keys(t), r = 0; r < e.length; ++r) {
                    var i = e[r];
                    Object.defineProperty(da.prototype, i, Object.getOwnPropertyDescriptor(t, i));
                }
            }),
            Object.defineProperty(da.prototype, 'destroyed', {
                get: function () {
                    return this._destroyed;
                },
                enumerable: !1,
                configurable: !0,
            }),
            (da.prototype._recursivePostUpdateTransform = function () {
                this.parent ? (this.parent._recursivePostUpdateTransform(), this.transform.updateTransform(this.parent.transform)) : this.transform.updateTransform(this._tempDisplayObjectParent.transform);
            }),
            (da.prototype.updateTransform = function () {
                (this._boundsID++, this.transform.updateTransform(this.parent.transform), (this.worldAlpha = this.alpha * this.parent.worldAlpha));
            }),
            (da.prototype.getBounds = function (t, e) {
                return (t || (this.parent ? (this._recursivePostUpdateTransform(), this.updateTransform()) : ((this.parent = this._tempDisplayObjectParent), this.updateTransform(), (this.parent = null))), this._bounds.updateID !== this._boundsID && (this.calculateBounds(), (this._bounds.updateID = this._boundsID)), e || (this._boundsRect || (this._boundsRect = new Se()), (e = this._boundsRect)), this._bounds.getRectangle(e));
            }),
            (da.prototype.getLocalBounds = function (t) {
                (t || (this._localBoundsRect || (this._localBoundsRect = new Se()), (t = this._localBoundsRect)), this._localBounds || (this._localBounds = new sa()));
                var e = this.transform,
                    r = this.parent;
                ((this.parent = null), (this.transform = this._tempDisplayObjectParent.transform));
                var i = this._bounds,
                    n = this._boundsID;
                this._bounds = this._localBounds;
                t = this.getBounds(!1, t);
                return ((this.parent = r), (this.transform = e), (this._bounds = i), (this._bounds.updateID += this._boundsID - n), t);
            }),
            (da.prototype.toGlobal = function (t, e, r) {
                return (void 0 === r && (r = !1), r || (this._recursivePostUpdateTransform(), this.parent ? this.displayObjectUpdateTransform() : ((this.parent = this._tempDisplayObjectParent), this.displayObjectUpdateTransform(), (this.parent = null))), this.worldTransform.apply(t, e));
            }),
            (da.prototype.toLocal = function (t, e, r, i) {
                return (e && (t = e.toGlobal(t, r, i)), i || (this._recursivePostUpdateTransform(), this.parent ? this.displayObjectUpdateTransform() : ((this.parent = this._tempDisplayObjectParent), this.displayObjectUpdateTransform(), (this.parent = null))), this.worldTransform.applyInverse(t, r));
            }),
            (da.prototype.setParent = function (t) {
                if (!t || !t.addChild) throw new Error('setParent: Argument must be a Container');
                return (t.addChild(this), t);
            }),
            (da.prototype.setTransform = function (t, e, r, i, n, o, s, a, h) {
                return (void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === r && (r = 1), void 0 === i && (i = 1), void 0 === n && (n = 0), void 0 === o && (o = 0), void 0 === s && (s = 0), void 0 === a && (a = 0), void 0 === h && (h = 0), (this.position.x = t), (this.position.y = e), (this.scale.x = r || 1), (this.scale.y = i || 1), (this.rotation = n), (this.skew.x = o), (this.skew.y = s), (this.pivot.x = a), (this.pivot.y = h), this);
            }),
            (da.prototype.destroy = function (t) {
                (this.parent && this.parent.removeChild(this), (this._destroyed = !0), (this.transform = null), (this.parent = null), (this._bounds = null), (this.mask = null), (this.cullArea = null), (this.filters = null), (this.filterArea = null), (this.hitArea = null), (this.interactive = !1), (this.interactiveChildren = !1), this.emit('destroyed'), this.removeAllListeners());
            }),
            Object.defineProperty(da.prototype, '_tempDisplayObjectParent', {
                get: function () {
                    return (null === this.tempDisplayObjectParent && (this.tempDisplayObjectParent = new _a()), this.tempDisplayObjectParent);
                },
                enumerable: !1,
                configurable: !0,
            }),
            (da.prototype.enableTempParent = function () {
                var t = this.parent;
                return ((this.parent = this._tempDisplayObjectParent), t);
            }),
            (da.prototype.disableTempParent = function (t) {
                this.parent = t;
            }),
            Object.defineProperty(da.prototype, 'x', {
                get: function () {
                    return this.position.x;
                },
                set: function (t) {
                    this.transform.position.x = t;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(da.prototype, 'y', {
                get: function () {
                    return this.position.y;
                },
                set: function (t) {
                    this.transform.position.y = t;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(da.prototype, 'worldTransform', {
                get: function () {
                    return this.transform.worldTransform;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(da.prototype, 'localTransform', {
                get: function () {
                    return this.transform.localTransform;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(da.prototype, 'position', {
                get: function () {
                    return this.transform.position;
                },
                set: function (t) {
                    this.transform.position.copyFrom(t);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(da.prototype, 'scale', {
                get: function () {
                    return this.transform.scale;
                },
                set: function (t) {
                    this.transform.scale.copyFrom(t);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(da.prototype, 'pivot', {
                get: function () {
                    return this.transform.pivot;
                },
                set: function (t) {
                    this.transform.pivot.copyFrom(t);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(da.prototype, 'skew', {
                get: function () {
                    return this.transform.skew;
                },
                set: function (t) {
                    this.transform.skew.copyFrom(t);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(da.prototype, 'rotation', {
                get: function () {
                    return this.transform.rotation;
                },
                set: function (t) {
                    this.transform.rotation = t;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(da.prototype, 'angle', {
                get: function () {
                    return this.transform.rotation * Te;
                },
                set: function (t) {
                    this.transform.rotation = t * be;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(da.prototype, 'zIndex', {
                get: function () {
                    return this._zIndex;
                },
                set: function (t) {
                    ((this._zIndex = t), this.parent && (this.parent.sortDirty = !0));
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(da.prototype, 'worldVisible', {
                get: function () {
                    var t = this;
                    do {
                        if (!t.visible) return !1;
                    } while ((t = t.parent));
                    return !0;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(da.prototype, 'mask', {
                get: function () {
                    return this._mask;
                },
                set: function (t) {
                    var e;
                    this._mask !== t && (this._mask && ((e = this._mask.maskObject || this._mask)._maskRefCount--, 0 === e._maskRefCount && ((e.renderable = !0), (e.isMask = !1))), (this._mask = t), this._mask && (0 === (e = this._mask.maskObject || this._mask)._maskRefCount && ((e.renderable = !1), (e.isMask = !0)), e._maskRefCount++));
                },
                enumerable: !1,
                configurable: !0,
            }),
            da);
    function da() {
        var t = la.call(this) || this;
        return ((t.tempDisplayObjectParent = null), (t.transform = new qe()), (t.alpha = 1), (t.visible = !0), (t.renderable = !0), (t.cullable = !1), (t.cullArea = null), (t.parent = null), (t.worldAlpha = 1), (t._lastSortedIndex = 0), (t._zIndex = 0), (t.filterArea = null), (t.filters = null), (t._enabledFilters = null), (t._bounds = new sa()), (t._localBounds = null), (t._boundsID = 0), (t._boundsRect = null), (t._localBoundsRect = null), (t._mask = null), (t._maskRefCount = 0), (t._destroyed = !1), (t.isSprite = !1), (t.isMask = !1), t);
    }
    var fa,
        pa,
        _a = (ua(ma, (fa = ca)), ma);
    function ma() {
        var t = (null !== fa && fa.apply(this, arguments)) || this;
        return ((t.sortDirty = null), t);
    }
    function Ea(t, e) {
        return t.zIndex === e.zIndex ? t._lastSortedIndex - e._lastSortedIndex : t.zIndex - e.zIndex;
    }
    ((ca.prototype.displayObjectUpdateTransform = ca.prototype.updateTransform),
        ((To = {})[(To.WEBGL_LEGACY = 0)] = 'WEBGL_LEGACY'),
        (To[(To.WEBGL = 1)] = 'WEBGL'),
        (To[(To.WEBGL2 = 2)] = 'WEBGL2'),
        ((Us = {})[(Us.UNKNOWN = 0)] = 'UNKNOWN'),
        (Us[(Us.WEBGL = 1)] = 'WEBGL'),
        (Us[(Us.CANVAS = 2)] = 'CANVAS'),
        ((kl = {})[(kl.COLOR = 16384)] = 'COLOR'),
        (kl[(kl.DEPTH = 256)] = 'DEPTH'),
        (kl[(kl.STENCIL = 1024)] = 'STENCIL'),
        ((oc = {})[(oc.NORMAL = 0)] = 'NORMAL'),
        (oc[(oc.ADD = 1)] = 'ADD'),
        (oc[(oc.MULTIPLY = 2)] = 'MULTIPLY'),
        (oc[(oc.SCREEN = 3)] = 'SCREEN'),
        (oc[(oc.OVERLAY = 4)] = 'OVERLAY'),
        (oc[(oc.DARKEN = 5)] = 'DARKEN'),
        (oc[(oc.LIGHTEN = 6)] = 'LIGHTEN'),
        (oc[(oc.COLOR_DODGE = 7)] = 'COLOR_DODGE'),
        (oc[(oc.COLOR_BURN = 8)] = 'COLOR_BURN'),
        (oc[(oc.HARD_LIGHT = 9)] = 'HARD_LIGHT'),
        (oc[(oc.SOFT_LIGHT = 10)] = 'SOFT_LIGHT'),
        (oc[(oc.DIFFERENCE = 11)] = 'DIFFERENCE'),
        (oc[(oc.EXCLUSION = 12)] = 'EXCLUSION'),
        (oc[(oc.HUE = 13)] = 'HUE'),
        (oc[(oc.SATURATION = 14)] = 'SATURATION'),
        (oc[(oc.COLOR = 15)] = 'COLOR'),
        (oc[(oc.LUMINOSITY = 16)] = 'LUMINOSITY'),
        (oc[(oc.NORMAL_NPM = 17)] = 'NORMAL_NPM'),
        (oc[(oc.ADD_NPM = 18)] = 'ADD_NPM'),
        (oc[(oc.SCREEN_NPM = 19)] = 'SCREEN_NPM'),
        (oc[(oc.NONE = 20)] = 'NONE'),
        (oc[(oc.SRC_OVER = 0)] = 'SRC_OVER'),
        (oc[(oc.SRC_IN = 21)] = 'SRC_IN'),
        (oc[(oc.SRC_OUT = 22)] = 'SRC_OUT'),
        (oc[(oc.SRC_ATOP = 23)] = 'SRC_ATOP'),
        (oc[(oc.DST_OVER = 24)] = 'DST_OVER'),
        (oc[(oc.DST_IN = 25)] = 'DST_IN'),
        (oc[(oc.DST_OUT = 26)] = 'DST_OUT'),
        (oc[(oc.DST_ATOP = 27)] = 'DST_ATOP'),
        (oc[(oc.ERASE = 26)] = 'ERASE'),
        (oc[(oc.SUBTRACT = 28)] = 'SUBTRACT'),
        (oc[(oc.XOR = 29)] = 'XOR'),
        ((uc = {})[(uc.POINTS = 0)] = 'POINTS'),
        (uc[(uc.LINES = 1)] = 'LINES'),
        (uc[(uc.LINE_LOOP = 2)] = 'LINE_LOOP'),
        (uc[(uc.LINE_STRIP = 3)] = 'LINE_STRIP'),
        (uc[(uc.TRIANGLES = 4)] = 'TRIANGLES'),
        (uc[(uc.TRIANGLE_STRIP = 5)] = 'TRIANGLE_STRIP'),
        (uc[(uc.TRIANGLE_FAN = 6)] = 'TRIANGLE_FAN'),
        ((Oc = {})[(Oc.RGBA = 6408)] = 'RGBA'),
        (Oc[(Oc.RGB = 6407)] = 'RGB'),
        (Oc[(Oc.RG = 33319)] = 'RG'),
        (Oc[(Oc.RED = 6403)] = 'RED'),
        (Oc[(Oc.RGBA_INTEGER = 36249)] = 'RGBA_INTEGER'),
        (Oc[(Oc.RGB_INTEGER = 36248)] = 'RGB_INTEGER'),
        (Oc[(Oc.RG_INTEGER = 33320)] = 'RG_INTEGER'),
        (Oc[(Oc.RED_INTEGER = 36244)] = 'RED_INTEGER'),
        (Oc[(Oc.ALPHA = 6406)] = 'ALPHA'),
        (Oc[(Oc.LUMINANCE = 6409)] = 'LUMINANCE'),
        (Oc[(Oc.LUMINANCE_ALPHA = 6410)] = 'LUMINANCE_ALPHA'),
        (Oc[(Oc.DEPTH_COMPONENT = 6402)] = 'DEPTH_COMPONENT'),
        (Oc[(Oc.DEPTH_STENCIL = 34041)] = 'DEPTH_STENCIL'),
        ((Eh = {})[(Eh.TEXTURE_2D = 3553)] = 'TEXTURE_2D'),
        (Eh[(Eh.TEXTURE_CUBE_MAP = 34067)] = 'TEXTURE_CUBE_MAP'),
        (Eh[(Eh.TEXTURE_2D_ARRAY = 35866)] = 'TEXTURE_2D_ARRAY'),
        (Eh[(Eh.TEXTURE_CUBE_MAP_POSITIVE_X = 34069)] = 'TEXTURE_CUBE_MAP_POSITIVE_X'),
        (Eh[(Eh.TEXTURE_CUBE_MAP_NEGATIVE_X = 34070)] = 'TEXTURE_CUBE_MAP_NEGATIVE_X'),
        (Eh[(Eh.TEXTURE_CUBE_MAP_POSITIVE_Y = 34071)] = 'TEXTURE_CUBE_MAP_POSITIVE_Y'),
        (Eh[(Eh.TEXTURE_CUBE_MAP_NEGATIVE_Y = 34072)] = 'TEXTURE_CUBE_MAP_NEGATIVE_Y'),
        (Eh[(Eh.TEXTURE_CUBE_MAP_POSITIVE_Z = 34073)] = 'TEXTURE_CUBE_MAP_POSITIVE_Z'),
        (Eh[(Eh.TEXTURE_CUBE_MAP_NEGATIVE_Z = 34074)] = 'TEXTURE_CUBE_MAP_NEGATIVE_Z'),
        ((bd = {})[(bd.UNSIGNED_BYTE = 5121)] = 'UNSIGNED_BYTE'),
        (bd[(bd.UNSIGNED_SHORT = 5123)] = 'UNSIGNED_SHORT'),
        (bd[(bd.UNSIGNED_SHORT_5_6_5 = 33635)] = 'UNSIGNED_SHORT_5_6_5'),
        (bd[(bd.UNSIGNED_SHORT_4_4_4_4 = 32819)] = 'UNSIGNED_SHORT_4_4_4_4'),
        (bd[(bd.UNSIGNED_SHORT_5_5_5_1 = 32820)] = 'UNSIGNED_SHORT_5_5_5_1'),
        (bd[(bd.UNSIGNED_INT = 5125)] = 'UNSIGNED_INT'),
        (bd[(bd.UNSIGNED_INT_10F_11F_11F_REV = 35899)] = 'UNSIGNED_INT_10F_11F_11F_REV'),
        (bd[(bd.UNSIGNED_INT_2_10_10_10_REV = 33640)] = 'UNSIGNED_INT_2_10_10_10_REV'),
        (bd[(bd.UNSIGNED_INT_24_8 = 34042)] = 'UNSIGNED_INT_24_8'),
        (bd[(bd.UNSIGNED_INT_5_9_9_9_REV = 35902)] = 'UNSIGNED_INT_5_9_9_9_REV'),
        (bd[(bd.BYTE = 5120)] = 'BYTE'),
        (bd[(bd.SHORT = 5122)] = 'SHORT'),
        (bd[(bd.INT = 5124)] = 'INT'),
        (bd[(bd.FLOAT = 5126)] = 'FLOAT'),
        (bd[(bd.FLOAT_32_UNSIGNED_INT_24_8_REV = 36269)] = 'FLOAT_32_UNSIGNED_INT_24_8_REV'),
        (bd[(bd.HALF_FLOAT = 36193)] = 'HALF_FLOAT'),
        ((xd = {})[(xd.FLOAT = 0)] = 'FLOAT'),
        (xd[(xd.INT = 1)] = 'INT'),
        (xd[(xd.UINT = 2)] = 'UINT'),
        ((Rd = {})[(Rd.NEAREST = 0)] = 'NEAREST'),
        (Rd[(Rd.LINEAR = 1)] = 'LINEAR'),
        ((wh = {})[(wh.CLAMP = 33071)] = 'CLAMP'),
        (wh[(wh.REPEAT = 10497)] = 'REPEAT'),
        (wh[(wh.MIRRORED_REPEAT = 33648)] = 'MIRRORED_REPEAT'),
        ((Gh = {})[(Gh.OFF = 0)] = 'OFF'),
        (Gh[(Gh.POW2 = 1)] = 'POW2'),
        (Gh[(Gh.ON = 2)] = 'ON'),
        (Gh[(Gh.ON_MANUAL = 3)] = 'ON_MANUAL'),
        ((j = {})[(j.NPM = 0)] = 'NPM'),
        (j[(j.UNPACK = 1)] = 'UNPACK'),
        (j[(j.PMA = 2)] = 'PMA'),
        (j[(j.NO_PREMULTIPLIED_ALPHA = 0)] = 'NO_PREMULTIPLIED_ALPHA'),
        (j[(j.PREMULTIPLY_ON_UPLOAD = 1)] = 'PREMULTIPLY_ON_UPLOAD'),
        (j[(j.PREMULTIPLY_ALPHA = 2)] = 'PREMULTIPLY_ALPHA'),
        (j[(j.PREMULTIPLIED_ALPHA = 2)] = 'PREMULTIPLIED_ALPHA'),
        ((At = {})[(At.NO = 0)] = 'NO'),
        (At[(At.YES = 1)] = 'YES'),
        (At[(At.AUTO = 2)] = 'AUTO'),
        (At[(At.BLEND = 0)] = 'BLEND'),
        (At[(At.CLEAR = 1)] = 'CLEAR'),
        (At[(At.BLIT = 2)] = 'BLIT'),
        ((vt = {})[(vt.AUTO = 0)] = 'AUTO'),
        (vt[(vt.MANUAL = 1)] = 'MANUAL'),
        ((gt = {}).LOW = 'lowp'),
        (gt.MEDIUM = 'mediump'),
        (gt.HIGH = 'highp'),
        ((eu = pa = pa || {})[(eu.NONE = 0)] = 'NONE'),
        (eu[(eu.SCISSOR = 1)] = 'SCISSOR'),
        (eu[(eu.STENCIL = 2)] = 'STENCIL'),
        (eu[(eu.SPRITE = 3)] = 'SPRITE'),
        ((kc = {})[(kc.NONE = 0)] = 'NONE'),
        (kc[(kc.LOW = 2)] = 'LOW'),
        (kc[(kc.MEDIUM = 4)] = 'MEDIUM'),
        (kc[(kc.HIGH = 8)] = 'HIGH'),
        ((Pu = {})[(Pu.ELEMENT_ARRAY_BUFFER = 34963)] = 'ELEMENT_ARRAY_BUFFER'),
        (Pu[(Pu.ARRAY_BUFFER = 34962)] = 'ARRAY_BUFFER'),
        (Pu[(Pu.UNIFORM_BUFFER = 35345)] = 'UNIFORM_BUFFER'));
    var va,
        ya =
            (ua(ga, (va = ca)),
            (ga.prototype.onChildrenChange = function (t) {}),
            (ga.prototype.addChild = function () {
                for (var t = arguments, e = [], r = 0; r < arguments.length; r++) e[r] = t[r];
                if (1 < e.length) for (var i = 0; i < e.length; i++) this.addChild(e[i]);
                else {
                    var n = e[0];
                    (n.parent && n.parent.removeChild(n), ((n.parent = this).sortDirty = !0), (n.transform._parentID = -1), this.children.push(n), this._boundsID++, this.onChildrenChange(this.children.length - 1), this.emit('childAdded', n, this, this.children.length - 1), n.emit('added', this));
                }
                return e[0];
            }),
            (ga.prototype.addChildAt = function (t, e) {
                if (e < 0 || e > this.children.length) throw new Error(t + 'addChildAt: The index ' + e + ' supplied is out of bounds ' + this.children.length);
                return (t.parent && t.parent.removeChild(t), ((t.parent = this).sortDirty = !0), (t.transform._parentID = -1), this.children.splice(e, 0, t), this._boundsID++, this.onChildrenChange(e), t.emit('added', this), this.emit('childAdded', t, this, e), t);
            }),
            (ga.prototype.swapChildren = function (t, e) {
                var r, i;
                t !== e && ((r = this.getChildIndex(t)), (i = this.getChildIndex(e)), (this.children[r] = e), (this.children[i] = t), this.onChildrenChange(r < i ? r : i));
            }),
            (ga.prototype.getChildIndex = function (t) {
                t = this.children.indexOf(t);
                if (-1 === t) throw new Error('The supplied DisplayObject must be a child of the caller');
                return t;
            }),
            (ga.prototype.setChildIndex = function (t, e) {
                if (e < 0 || e >= this.children.length) throw new Error('The index ' + e + ' supplied is out of bounds ' + this.children.length);
                var r = this.getChildIndex(t);
                (ie(this.children, r, 1), this.children.splice(e, 0, t), this.onChildrenChange(e));
            }),
            (ga.prototype.getChildAt = function (t) {
                if (t < 0 || t >= this.children.length) throw new Error('getChildAt: Index (' + t + ') does not exist.');
                return this.children[t];
            }),
            (ga.prototype.removeChild = function () {
                for (var t = arguments, e = [], r = 0; r < arguments.length; r++) e[r] = t[r];
                if (1 < e.length) for (var i = 0; i < e.length; i++) this.removeChild(e[i]);
                else {
                    var n = e[0],
                        o = this.children.indexOf(n);
                    if (-1 === o) return null;
                    ((n.parent = null), (n.transform._parentID = -1), ie(this.children, o, 1), this._boundsID++, this.onChildrenChange(o), n.emit('removed', this), this.emit('childRemoved', n, this, o));
                }
                return e[0];
            }),
            (ga.prototype.removeChildAt = function (t) {
                var e = this.getChildAt(t);
                return ((e.parent = null), (e.transform._parentID = -1), ie(this.children, t, 1), this._boundsID++, this.onChildrenChange(t), e.emit('removed', this), this.emit('childRemoved', e, this, t), e);
            }),
            (ga.prototype.removeChildren = function (t, e) {
                (void 0 === t && (t = 0), void 0 === e && (e = this.children.length));
                var r,
                    i = e - t;
                if (0 < i && i <= e) {
                    r = this.children.splice(t, i);
                    for (var n = 0; n < r.length; ++n) ((r[n].parent = null), r[n].transform && (r[n].transform._parentID = -1));
                    (this._boundsID++, this.onChildrenChange(t));
                    for (n = 0; n < r.length; ++n) (r[n].emit('removed', this), this.emit('childRemoved', r[n], this, n));
                    return r;
                }
                if (0 == i && 0 === this.children.length) return [];
                throw new RangeError('removeChildren: numeric values are outside the acceptable range.');
            }),
            (ga.prototype.sortChildren = function () {
                for (var t = !1, e = 0, r = this.children.length; e < r; ++e) {
                    var i = this.children[e];
                    ((i._lastSortedIndex = e), t || 0 === i.zIndex || (t = !0));
                }
                (t && 1 < this.children.length && this.children.sort(Ea), (this.sortDirty = !1));
            }),
            (ga.prototype.updateTransform = function () {
                (this.sortableChildren && this.sortDirty && this.sortChildren(), this._boundsID++, this.transform.updateTransform(this.parent.transform), (this.worldAlpha = this.alpha * this.parent.worldAlpha));
                for (var t = 0, e = this.children.length; t < e; ++t) {
                    var r = this.children[t];
                    r.visible && r.updateTransform();
                }
            }),
            (ga.prototype.calculateBounds = function () {
                (this._bounds.clear(), this._calculateBounds());
                for (var t = 0; t < this.children.length; t++) {
                    var e,
                        r = this.children[t];
                    r.visible && r.renderable && (r.calculateBounds(), r._mask ? ((e = r._mask.maskObject || r._mask).calculateBounds(), this._bounds.addBoundsMask(r._bounds, e._bounds)) : r.filterArea ? this._bounds.addBoundsArea(r._bounds, r.filterArea) : this._bounds.addBounds(r._bounds));
                }
                this._bounds.updateID = this._boundsID;
            }),
            (ga.prototype.getLocalBounds = function (t, e) {
                void 0 === e && (e = !1);
                t = va.prototype.getLocalBounds.call(this, t);
                if (!e)
                    for (var r = 0, i = this.children.length; r < i; ++r) {
                        var n = this.children[r];
                        n.visible && n.updateTransform();
                    }
                return t;
            }),
            (ga.prototype._calculateBounds = function () {}),
            (ga.prototype._renderWithCulling = function (t) {
                var e,
                    r,
                    i = t.renderTexture.sourceFrame;
                if (0 < i.width && 0 < i.height) {
                    if ((this.cullArea ? ((e = this.cullArea), (r = this.worldTransform)) : this._render !== ga.prototype._render && (e = this.getBounds(!0)), e && i.intersects(e, r))) this._render(t);
                    else if (this.cullArea) return;
                    for (var n = 0, o = this.children.length; n < o; ++n) {
                        var s = this.children[n],
                            a = s.cullable;
                        ((s.cullable = a || !this.cullArea), s.render(t), (s.cullable = a));
                    }
                }
            }),
            (ga.prototype.render = function (t) {
                if (this.visible && !(this.worldAlpha <= 0) && this.renderable)
                    if (this._mask || (this.filters && this.filters.length)) this.renderAdvanced(t);
                    else if (this.cullable) this._renderWithCulling(t);
                    else {
                        this._render(t);
                        for (var e = 0, r = this.children.length; e < r; ++e) this.children[e].render(t);
                    }
            }),
            (ga.prototype.renderAdvanced = function (t) {
                var e = this.filters,
                    r = this._mask;
                if (e) {
                    this._enabledFilters || (this._enabledFilters = []);
                    for (var i = (this._enabledFilters.length = 0); i < e.length; i++) e[i].enabled && this._enabledFilters.push(e[i]);
                }
                var n = (e && this._enabledFilters && this._enabledFilters.length) || (r && (!r.isMaskData || (r.enabled && (r.autoDetect || r.type !== pa.NONE))));
                if ((n && t.batch.flush(), e && this._enabledFilters && this._enabledFilters.length && t.filter.push(this, this._enabledFilters), r && t.mask.push(this, this._mask), this.cullable)) this._renderWithCulling(t);
                else {
                    this._render(t);
                    for (var i = 0, o = this.children.length; i < o; ++i) this.children[i].render(t);
                }
                (n && t.batch.flush(), r && t.mask.pop(this), e && this._enabledFilters && this._enabledFilters.length && t.filter.pop());
            }),
            (ga.prototype._render = function (t) {}),
            (ga.prototype.destroy = function (t) {
                (va.prototype.destroy.call(this), (this.sortDirty = !1));
                var e = 'boolean' == typeof t ? t : t && t.children,
                    r = this.removeChildren(0, this.children.length);
                if (e) for (var i = 0; i < r.length; ++i) r[i].destroy(t);
            }),
            Object.defineProperty(ga.prototype, 'width', {
                get: function () {
                    return this.scale.x * this.getLocalBounds().width;
                },
                set: function (t) {
                    var e = this.getLocalBounds().width;
                    ((this.scale.x = 0 !== e ? t / e : 1), (this._width = t));
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(ga.prototype, 'height', {
                get: function () {
                    return this.scale.y * this.getLocalBounds().height;
                },
                set: function (t) {
                    var e = this.getLocalBounds().height;
                    ((this.scale.y = 0 !== e ? t / e : 1), (this._height = t));
                },
                enumerable: !1,
                configurable: !0,
            }),
            ga);
    function ga() {
        var t = va.call(this) || this;
        return ((t.children = []), (t.sortableChildren = oa.SORTABLE_CHILDREN), (t.sortDirty = !1), t);
    }
    ya.prototype.containerUpdateTransform = ya.prototype.updateTransform;
    var Ta = new Se(),
        ba =
            ((xa.prototype.image = function (t, e, r) {
                var i = new Image();
                return ((i.src = this.base64(t, e, r)), i);
            }),
            (xa.prototype.base64 = function (t, e, r) {
                return this.canvas(t).toDataURL(e, r);
            }),
            (xa.prototype.canvas = function (t) {
                var e,
                    r,
                    i,
                    n = this.renderer,
                    o = !1,
                    s = !1;
                (t && (t instanceof Hi ? (i = t) : ((i = this.renderer.generateTexture(t)), (s = !0))), i ? ((e = i.baseTexture.resolution), (r = i.frame), (o = !1), n.renderTexture.bind(i)) : ((e = this.renderer.resolution), (o = !0), ((r = Ta).width = this.renderer.width), (r.height = this.renderer.height), n.renderTexture.bind(null)));
                var a = Math.floor(r.width * e + 1e-4),
                    h = Math.floor(r.height * e + 1e-4),
                    u = new de(a, h, 1),
                    t = new Uint8Array(4 * a * h),
                    n = n.gl;
                n.readPixels(r.x * e, r.y * e, a, h, n.RGBA, n.UNSIGNED_BYTE, t);
                a = u.context.getImageData(0, 0, a, h);
                return (xa.arrayPostDivide(t, a.data), u.context.putImageData(a, 0, 0), o && ((o = new de(u.width, u.height, 1)).context.scale(1, -1), o.context.drawImage(u.canvas, 0, -h), u.destroy(), (u = o)), s && i.destroy(!0), u.canvas);
            }),
            (xa.prototype.pixels = function (t, e) {
                var r,
                    i,
                    n,
                    o = this.renderer,
                    s = !1;
                (t && (t instanceof Hi ? (n = t) : t instanceof ca && ((n = this.renderer.generateTexture(t)), (s = !0))), n ? ((i = ((r = (e || n.baseTexture).resolution), n.frame)), o.renderTexture.bind(n)) : (e ? ((r = e.resolution), ((i = Ta).width = e.width), (i.height = e.height)) : ((r = o.resolution), ((i = Ta).width = o.width), (i.height = o.height)), o.renderTexture.bind(null)));
                var a = i.width * r,
                    t = i.height * r,
                    e = new Uint8Array(4 * a * t),
                    o = o.gl;
                return (o.readPixels(i.x * r, i.y * r, a, t, o.RGBA, o.UNSIGNED_BYTE, e), s && n.destroy(!0), xa.arrayPostDivide(e, e), e);
            }),
            (xa.prototype.destroy = function () {
                this.renderer = null;
            }),
            (xa.arrayPostDivide = function (t, e) {
                for (var r = 0; r < t.length; r += 4) {
                    var i = (e[r + 3] = t[r + 3]);
                    0 !== i ? ((e[r] = Math.round(Math.min((255 * t[r]) / i, 255))), (e[r + 1] = Math.round(Math.min((255 * t[r + 1]) / i, 255))), (e[r + 2] = Math.round(Math.min((255 * t[r + 2]) / i, 255)))) : ((e[r] = t[r]), (e[r + 1] = t[r + 1]), (e[r + 2] = t[r + 2]));
                }
            }),
            xa);
    function xa(t) {
        this.renderer = t;
    }
    var Ra =
        ((Aa.prototype.detach = function () {
            return null !== this._owner && (this._owner.detach(this), !0);
        }),
        Aa);
    function Aa(t, e, r) {
        (void 0 === e && (e = !1), (this._fn = t), (this._once = e), (this._thisArg = r), (this._next = this._prev = this._owner = null));
    }
    function Sa(t, e) {
        return (t._head ? ((t._tail._next = e)._prev = t._tail) : (t._head = e), ((t._tail = e)._owner = t), e);
    }
    var Oa,
        Ia =
            ((Ma.prototype.handlers = function (t) {
                void 0 === t && (t = !1);
                var e = this._head;
                if (t) return !!e;
                for (var r = []; e; ) (r.push(e), (e = e._next));
                return r;
            }),
            (Ma.prototype.has = function (t) {
                if (!(t instanceof Ra)) throw new Error('MiniSignal#has(): First arg must be a SignalBinding object.');
                return t._owner === this;
            }),
            (Ma.prototype.dispatch = function () {
                for (var t = arguments, e = [], r = 0; r < arguments.length; r++) e[r] = t[r];
                var i = this._head;
                if (!i) return !1;
                for (; i; ) (i._once && this.detach(i), i._fn.apply(i._thisArg, e), (i = i._next));
                return !0;
            }),
            (Ma.prototype.add = function (t, e) {
                if ((void 0 === e && (e = null), 'function' != typeof t)) throw new Error('MiniSignal#add(): First arg must be a Function.');
                return Sa(this, new Ra(t, !1, e));
            }),
            (Ma.prototype.once = function (t, e) {
                if ((void 0 === e && (e = null), 'function' != typeof t)) throw new Error('MiniSignal#once(): First arg must be a Function.');
                return Sa(this, new Ra(t, !0, e));
            }),
            (Ma.prototype.detach = function (t) {
                if (!(t instanceof Ra)) throw new Error('MiniSignal#detach(): First arg must be a SignalBinding object.');
                return (t._owner !== this || (t._prev && (t._prev._next = t._next), t._next && (t._next._prev = t._prev), t === this._head ? ((this._head = t._next), null === t._next && (this._tail = null)) : t === this._tail && ((this._tail = t._prev), (this._tail._next = null)), (t._owner = null)), this);
            }),
            (Ma.prototype.detachAll = function () {
                var t = this._head;
                if (!t) return this;
                for (this._head = this._tail = null; t; ) ((t._owner = null), (t = t._next));
                return this;
            }),
            Ma);
    function Ma() {
        this._head = this._tail = void 0;
    }
    function Na(t, e) {
        e = e || {};
        for (var i = { key: ['source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'], q: { name: 'queryKey', parser: /(?:^|&)([^&=]*)=?([^&]*)/g }, parser: { strict: /^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/, loose: /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/ } }, r = i.parser[e.strictMode ? 'strict' : 'loose'].exec(t), n = {}, o = 14; o--; ) n[i.key[o]] = r[o] || '';
        return (
            (n[i.q.name] = {}),
            n[i.key[12]].replace(i.q.parser, function (t, e, r) {
                e && (n[i.q.name][e] = r);
            }),
            n
        );
    }
    var Pa = null;
    function Da() {}
    function Ca(t, e, r) {
        (e && 0 === e.indexOf('.') && (e = e.substring(1)), e && (t[e] = r));
    }
    function wa(t) {
        return t.toString().replace('object ', '');
    }
    function La(t, e, r) {
        if (((this._dequeue = Da), (this._onLoadBinding = null), (this._elementTimer = 0), (this._boundComplete = null), (this._boundOnError = null), (this._boundOnProgress = null), (this._boundOnTimeout = null), (this._boundXhrOnError = null), (this._boundXhrOnTimeout = null), (this._boundXhrOnAbort = null), (this._boundXhrOnLoad = null), 'string' != typeof t || 'string' != typeof e)) throw new Error('Both name and url are required for constructing a resource.');
        ((r = r || {}),
            (this._flags = 0),
            this._setFlag(La.STATUS_FLAGS.DATA_URL, 0 === e.indexOf('data:')),
            (this.name = t),
            (this.url = e),
            (this.extension = this._getExtension()),
            (this.data = null),
            (this.crossOrigin = !0 === r.crossOrigin ? 'anonymous' : r.crossOrigin),
            (this.timeout = r.timeout || 0),
            (this.loadType = r.loadType || this._determineLoadType()),
            (this.xhrType = r.xhrType),
            (this.metadata = r.metadata || {}),
            (this.error = null),
            (this.xhr = null),
            (this.children = []),
            (this.type = La.TYPE.UNKNOWN),
            (this.progressChunk = 0),
            (this._dequeue = Da),
            (this._onLoadBinding = null),
            (this._elementTimer = 0),
            (this._boundComplete = this.complete.bind(this)),
            (this._boundOnError = this._onError.bind(this)),
            (this._boundOnProgress = this._onProgress.bind(this)),
            (this._boundOnTimeout = this._onTimeout.bind(this)),
            (this._boundXhrOnError = this._xhrOnError.bind(this)),
            (this._boundXhrOnTimeout = this._xhrOnTimeout.bind(this)),
            (this._boundXhrOnAbort = this._xhrOnAbort.bind(this)),
            (this._boundXhrOnLoad = this._xhrOnLoad.bind(this)),
            (this.onStart = new Ia()),
            (this.onProgress = new Ia()),
            (this.onComplete = new Ia()),
            (this.onAfterMiddleware = new Ia()));
    }
    function Fa() {}
    (($.LoaderResource =
        ((La.setExtensionLoadType = function (t, e) {
            Ca(La._loadTypeMap, t, e);
        }),
        (La.setExtensionXhrType = function (t, e) {
            Ca(La._xhrTypeMap, t, e);
        }),
        Object.defineProperty(La.prototype, 'isDataUrl', {
            get: function () {
                return this._hasFlag(La.STATUS_FLAGS.DATA_URL);
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(La.prototype, 'isComplete', {
            get: function () {
                return this._hasFlag(La.STATUS_FLAGS.COMPLETE);
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(La.prototype, 'isLoading', {
            get: function () {
                return this._hasFlag(La.STATUS_FLAGS.LOADING);
            },
            enumerable: !1,
            configurable: !0,
        }),
        (La.prototype.complete = function () {
            (this._clearEvents(), this._finish());
        }),
        (La.prototype.abort = function (t) {
            if (!this.error) {
                if (((this.error = new Error(t)), this._clearEvents(), this.xhr)) this.xhr.abort();
                else if (this.xdr) this.xdr.abort();
                else if (this.data)
                    if (this.data.src) this.data.src = La.EMPTY_GIF;
                    else for (; this.data.firstChild; ) this.data.removeChild(this.data.firstChild);
                this._finish();
            }
        }),
        (La.prototype.load = function (t) {
            var e = this;
            if (!this.isLoading)
                if (this.isComplete)
                    t &&
                        setTimeout(function () {
                            return t(e);
                        }, 1);
                else
                    switch ((t && this.onComplete.once(t), this._setFlag(La.STATUS_FLAGS.LOADING, !0), this.onStart.dispatch(this), (!1 !== this.crossOrigin && 'string' == typeof this.crossOrigin) || (this.crossOrigin = this._determineCrossOrigin(this.url)), this.loadType)) {
                        case La.LOAD_TYPE.IMAGE:
                            ((this.type = La.TYPE.IMAGE), this._loadElement('image'));
                            break;
                        case La.LOAD_TYPE.AUDIO:
                            ((this.type = La.TYPE.AUDIO), this._loadSourceElement('audio'));
                            break;
                        case La.LOAD_TYPE.VIDEO:
                            ((this.type = La.TYPE.VIDEO), this._loadSourceElement('video'));
                            break;
                        case La.LOAD_TYPE.XHR:
                        default:
                            (void 0 === Oa && (Oa = !(!globalThis.XDomainRequest || 'withCredentials' in new XMLHttpRequest())), Oa && this.crossOrigin ? this._loadXdr() : this._loadXhr());
                    }
        }),
        (La.prototype._hasFlag = function (t) {
            return 0 != (this._flags & t);
        }),
        (La.prototype._setFlag = function (t, e) {
            this._flags = e ? this._flags | t : this._flags & ~t;
        }),
        (La.prototype._clearEvents = function () {
            (clearTimeout(this._elementTimer), this.data && this.data.removeEventListener && (this.data.removeEventListener('error', this._boundOnError, !1), this.data.removeEventListener('load', this._boundComplete, !1), this.data.removeEventListener('progress', this._boundOnProgress, !1), this.data.removeEventListener('canplaythrough', this._boundComplete, !1)), this.xhr && (this.xhr.removeEventListener ? (this.xhr.removeEventListener('error', this._boundXhrOnError, !1), this.xhr.removeEventListener('timeout', this._boundXhrOnTimeout, !1), this.xhr.removeEventListener('abort', this._boundXhrOnAbort, !1), this.xhr.removeEventListener('progress', this._boundOnProgress, !1), this.xhr.removeEventListener('load', this._boundXhrOnLoad, !1)) : ((this.xhr.onerror = null), (this.xhr.ontimeout = null), (this.xhr.onprogress = null), (this.xhr.onload = null))));
        }),
        (La.prototype._finish = function () {
            if (this.isComplete) throw new Error('Complete called again for an already completed resource.');
            (this._setFlag(La.STATUS_FLAGS.COMPLETE, !0), this._setFlag(La.STATUS_FLAGS.LOADING, !1), this.onComplete.dispatch(this));
        }),
        (La.prototype._loadElement = function (t) {
            (this.metadata.loadElement ? (this.data = this.metadata.loadElement) : 'image' === t && void 0 !== globalThis.Image ? (this.data = new Image()) : (this.data = document.createElement(t)), this.crossOrigin && (this.data.crossOrigin = this.crossOrigin), this.metadata.skipSource || (this.data.src = this.url), this.data.addEventListener('error', this._boundOnError, !1), this.data.addEventListener('load', this._boundComplete, !1), this.data.addEventListener('progress', this._boundOnProgress, !1), this.timeout && (this._elementTimer = setTimeout(this._boundOnTimeout, this.timeout)));
        }),
        (La.prototype._loadSourceElement = function (t) {
            if ((this.metadata.loadElement ? (this.data = this.metadata.loadElement) : 'audio' === t && void 0 !== globalThis.Audio ? (this.data = new Audio()) : (this.data = document.createElement(t)), null !== this.data)) {
                if ((this.crossOrigin && (this.data.crossOrigin = this.crossOrigin), !this.metadata.skipSource))
                    if (navigator.isCocoonJS) this.data.src = Array.isArray(this.url) ? this.url[0] : this.url;
                    else if (Array.isArray(this.url)) for (var e = this.metadata.mimeType, r = 0; r < this.url.length; ++r) this.data.appendChild(this._createSource(t, this.url[r], Array.isArray(e) ? e[r] : e));
                    else {
                        e = this.metadata.mimeType;
                        this.data.appendChild(this._createSource(t, this.url, Array.isArray(e) ? e[0] : e));
                    }
                (this.data.addEventListener('error', this._boundOnError, !1), this.data.addEventListener('load', this._boundComplete, !1), this.data.addEventListener('progress', this._boundOnProgress, !1), this.data.addEventListener('canplaythrough', this._boundComplete, !1), this.data.load(), this.timeout && (this._elementTimer = setTimeout(this._boundOnTimeout, this.timeout)));
            } else this.abort('Unsupported element: ' + t);
        }),
        (La.prototype._loadXhr = function () {
            'string' != typeof this.xhrType && (this.xhrType = this._determineXhrType());
            var t = (this.xhr = new XMLHttpRequest());
            ('use-credentials' === this.crossOrigin && (t.withCredentials = !0), t.open('GET', this.url, !0), (t.timeout = this.timeout), this.xhrType === La.XHR_RESPONSE_TYPE.JSON || this.xhrType === La.XHR_RESPONSE_TYPE.DOCUMENT ? (t.responseType = La.XHR_RESPONSE_TYPE.TEXT) : (t.responseType = this.xhrType), t.addEventListener('error', this._boundXhrOnError, !1), t.addEventListener('timeout', this._boundXhrOnTimeout, !1), t.addEventListener('abort', this._boundXhrOnAbort, !1), t.addEventListener('progress', this._boundOnProgress, !1), t.addEventListener('load', this._boundXhrOnLoad, !1), t.send());
        }),
        (La.prototype._loadXdr = function () {
            'string' != typeof this.xhrType && (this.xhrType = this._determineXhrType());
            var t = (this.xhr = new globalThis.XDomainRequest());
            ((t.timeout = this.timeout || 5e3),
                (t.onerror = this._boundXhrOnError),
                (t.ontimeout = this._boundXhrOnTimeout),
                (t.onprogress = this._boundOnProgress),
                (t.onload = this._boundXhrOnLoad),
                t.open('GET', this.url, !0),
                setTimeout(function () {
                    return t.send();
                }, 1));
        }),
        (La.prototype._createSource = function (t, e, r) {
            r = r || t + '/' + this._getExtension(e);
            t = document.createElement('source');
            return ((t.src = e), (t.type = r), t);
        }),
        (La.prototype._onError = function (t) {
            this.abort('Failed to load element using: ' + t.target.nodeName);
        }),
        (La.prototype._onProgress = function (t) {
            t && t.lengthComputable && this.onProgress.dispatch(this, t.loaded / t.total);
        }),
        (La.prototype._onTimeout = function () {
            this.abort('Load timed out.');
        }),
        (La.prototype._xhrOnError = function () {
            var t = this.xhr;
            this.abort(wa(t) + ' Request failed. Status: ' + t.status + ', text: "' + t.statusText + '"');
        }),
        (La.prototype._xhrOnTimeout = function () {
            var t = this.xhr;
            this.abort(wa(t) + ' Request timed out.');
        }),
        (La.prototype._xhrOnAbort = function () {
            var t = this.xhr;
            this.abort(wa(t) + ' Request was aborted by the user.');
        }),
        (La.prototype._xhrOnLoad = function () {
            var t,
                e = this.xhr,
                r = '',
                i = void 0 === e.status ? 200 : e.status;
            if ((('' !== e.responseType && 'text' !== e.responseType && void 0 !== e.responseType) || (r = e.responseText), 0 === i && (0 < r.length || e.responseType === La.XHR_RESPONSE_TYPE.BUFFER) ? (i = 200) : 1223 === i && (i = 204), 2 == ((i / 100) | 0))) {
                if (this.xhrType === La.XHR_RESPONSE_TYPE.TEXT) ((this.data = r), (this.type = La.TYPE.TEXT));
                else if (this.xhrType === La.XHR_RESPONSE_TYPE.JSON)
                    try {
                        ((this.data = JSON.parse(r)), (this.type = La.TYPE.JSON));
                    } catch (t) {
                        return void this.abort('Error trying to parse loaded json: ' + t);
                    }
                else if (this.xhrType === La.XHR_RESPONSE_TYPE.DOCUMENT)
                    try {
                        (globalThis.DOMParser ? ((t = new DOMParser()), (this.data = t.parseFromString(r, 'text/xml'))) : (((t = document.createElement('div')).innerHTML = r), (this.data = t)), (this.type = La.TYPE.XML));
                    } catch (t) {
                        return void this.abort('Error trying to parse loaded xml: ' + t);
                    }
                else this.data = e.response || r;
                this.complete();
            } else this.abort('[' + e.status + '] ' + e.statusText + ': ' + e.responseURL);
        }),
        (La.prototype._determineCrossOrigin = function (t, e) {
            if (0 === t.indexOf('data:')) return '';
            if (globalThis.origin !== globalThis.location.origin) return 'anonymous';
            ((e = e || globalThis.location), ((Pa = Pa || document.createElement('a')).href = t));
            var r = Na(Pa.href, { strictMode: !0 }),
                i = (!r.port && '' === e.port) || r.port === e.port,
                t = r.protocol ? r.protocol + ':' : '';
            return r.host === e.hostname && i && t === e.protocol ? '' : 'anonymous';
        }),
        (La.prototype._determineXhrType = function () {
            return La._xhrTypeMap[this.extension] || La.XHR_RESPONSE_TYPE.TEXT;
        }),
        (La.prototype._determineLoadType = function () {
            return La._loadTypeMap[this.extension] || La.LOAD_TYPE.XHR;
        }),
        (La.prototype._getExtension = function (t) {
            void 0 === t && (t = this.url);
            var e, r;
            return (this.isDataUrl ? ((r = t.indexOf('/')), t.substring(r + 1, t.indexOf(';', r))) : ((e = t.indexOf('?')), (r = t.indexOf('#')), (r = Math.min(-1 < e ? e : t.length, -1 < r ? r : t.length)), (t = t.substring(0, r)).substring(t.lastIndexOf('.') + 1))).toLowerCase();
        }),
        (La.prototype._getMimeFromXhrType = function (t) {
            switch (t) {
                case La.XHR_RESPONSE_TYPE.BUFFER:
                    return 'application/octet-binary';
                case La.XHR_RESPONSE_TYPE.BLOB:
                    return 'application/blob';
                case La.XHR_RESPONSE_TYPE.DOCUMENT:
                    return 'application/xml';
                case La.XHR_RESPONSE_TYPE.JSON:
                    return 'application/json';
                case La.XHR_RESPONSE_TYPE.DEFAULT:
                case La.XHR_RESPONSE_TYPE.TEXT:
                default:
                    return 'text/plain';
            }
        }),
        La)),
        (Al = $.LoaderResource || ($.LoaderResource = {})),
        ((bl = Al.STATUS_FLAGS || (Al.STATUS_FLAGS = {}))[(bl.NONE = 0)] = 'NONE'),
        (bl[(bl.DATA_URL = 1)] = 'DATA_URL'),
        (bl[(bl.COMPLETE = 2)] = 'COMPLETE'),
        (bl[(bl.LOADING = 4)] = 'LOADING'),
        ((bl = Al.TYPE || (Al.TYPE = {}))[(bl.UNKNOWN = 0)] = 'UNKNOWN'),
        (bl[(bl.JSON = 1)] = 'JSON'),
        (bl[(bl.XML = 2)] = 'XML'),
        (bl[(bl.IMAGE = 3)] = 'IMAGE'),
        (bl[(bl.AUDIO = 4)] = 'AUDIO'),
        (bl[(bl.VIDEO = 5)] = 'VIDEO'),
        (bl[(bl.TEXT = 6)] = 'TEXT'),
        ((bl = Al.LOAD_TYPE || (Al.LOAD_TYPE = {}))[(bl.XHR = 1)] = 'XHR'),
        (bl[(bl.IMAGE = 2)] = 'IMAGE'),
        (bl[(bl.AUDIO = 3)] = 'AUDIO'),
        (bl[(bl.VIDEO = 4)] = 'VIDEO'),
        ((bl = Al.XHR_RESPONSE_TYPE || (Al.XHR_RESPONSE_TYPE = {})).DEFAULT = 'text'),
        (bl.BUFFER = 'arraybuffer'),
        (bl.BLOB = 'blob'),
        (bl.DOCUMENT = 'document'),
        (bl.JSON = 'json'),
        (bl.TEXT = 'text'),
        (Al._loadTypeMap = { gif: Al.LOAD_TYPE.IMAGE, png: Al.LOAD_TYPE.IMAGE, bmp: Al.LOAD_TYPE.IMAGE, jpg: Al.LOAD_TYPE.IMAGE, jpeg: Al.LOAD_TYPE.IMAGE, tif: Al.LOAD_TYPE.IMAGE, tiff: Al.LOAD_TYPE.IMAGE, webp: Al.LOAD_TYPE.IMAGE, tga: Al.LOAD_TYPE.IMAGE, svg: Al.LOAD_TYPE.IMAGE, 'svg+xml': Al.LOAD_TYPE.IMAGE, mp3: Al.LOAD_TYPE.AUDIO, ogg: Al.LOAD_TYPE.AUDIO, wav: Al.LOAD_TYPE.AUDIO, mp4: Al.LOAD_TYPE.VIDEO, webm: Al.LOAD_TYPE.VIDEO }),
        (Al._xhrTypeMap = { xhtml: Al.XHR_RESPONSE_TYPE.DOCUMENT, html: Al.XHR_RESPONSE_TYPE.DOCUMENT, htm: Al.XHR_RESPONSE_TYPE.DOCUMENT, xml: Al.XHR_RESPONSE_TYPE.DOCUMENT, tmx: Al.XHR_RESPONSE_TYPE.DOCUMENT, svg: Al.XHR_RESPONSE_TYPE.DOCUMENT, tsx: Al.XHR_RESPONSE_TYPE.DOCUMENT, gif: Al.XHR_RESPONSE_TYPE.BLOB, png: Al.XHR_RESPONSE_TYPE.BLOB, bmp: Al.XHR_RESPONSE_TYPE.BLOB, jpg: Al.XHR_RESPONSE_TYPE.BLOB, jpeg: Al.XHR_RESPONSE_TYPE.BLOB, tif: Al.XHR_RESPONSE_TYPE.BLOB, tiff: Al.XHR_RESPONSE_TYPE.BLOB, webp: Al.XHR_RESPONSE_TYPE.BLOB, tga: Al.XHR_RESPONSE_TYPE.BLOB, json: Al.XHR_RESPONSE_TYPE.JSON, text: Al.XHR_RESPONSE_TYPE.TEXT, txt: Al.XHR_RESPONSE_TYPE.TEXT, ttf: Al.XHR_RESPONSE_TYPE.BUFFER, otf: Al.XHR_RESPONSE_TYPE.BUFFER }),
        (Al.EMPTY_GIF = 'data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=='));
    var Ua = function (t, e) {
            ((this.data = t), (this.callback = e));
        },
        Ba =
            ((Ga.prototype._next = function (i) {
                var n = this;
                return function () {
                    for (var t = arguments, e = [], r = 0; r < arguments.length; r++) e[r] = t[r];
                    (--n.workers, i.callback.apply(i, e), null != e[0] && n.error(e[0], i.data), n.workers <= n.concurrency - n.buffer && n.unsaturated(), n.idle() && n.drain(), n.process());
                };
            }),
            (Ga.prototype.push = function (t, e) {
                this._insert(t, !1, e);
            }),
            (Ga.prototype.kill = function () {
                ((this.workers = 0), (this.drain = Fa), (this.started = !1), (this._tasks = []));
            }),
            (Ga.prototype.unshift = function (t, e) {
                this._insert(t, !0, e);
            }),
            (Ga.prototype.length = function () {
                return this._tasks.length;
            }),
            (Ga.prototype.running = function () {
                return this.workers;
            }),
            (Ga.prototype.idle = function () {
                return this._tasks.length + this.workers === 0;
            }),
            (Ga.prototype.pause = function () {
                !0 !== this.paused && (this.paused = !0);
            }),
            (Ga.prototype.resume = function () {
                if (!1 !== this.paused) {
                    this.paused = !1;
                    for (var t = 1; t <= this.concurrency; t++) this.process();
                }
            }),
            (Ga.eachSeries = function (r, i, n, o) {
                var s = 0,
                    a = r.length;
                !(function t(e) {
                    e || s === a
                        ? n && n(e)
                        : o
                          ? setTimeout(function () {
                                i(r[s++], t);
                            }, 1)
                          : i(r[s++], t);
                })();
            }),
            (Ga.queue = function (t, e) {
                return new Ga(t, e);
            }),
            Ga);
    function Ga(t, e) {
        var i = this;
        if (
            (void 0 === e && (e = 1),
            (this.workers = 0),
            (this.saturated = Fa),
            (this.unsaturated = Fa),
            (this.empty = Fa),
            (this.drain = Fa),
            (this.error = Fa),
            (this.started = !1),
            (this.paused = !1),
            (this._tasks = []),
            (this._insert = function (t, e, r) {
                if (r && 'function' != typeof r) throw new Error('task callback must be a function');
                ((i.started = !0),
                    null == t && i.idle()
                        ? setTimeout(function () {
                              return i.drain();
                          }, 1)
                        : ((r = new Ua(t, 'function' == typeof r ? r : Fa)), e ? i._tasks.unshift(r) : i._tasks.push(r), setTimeout(i.process, 1)));
            }),
            (this.process = function () {
                for (; !i.paused && i.workers < i.concurrency && i._tasks.length; ) {
                    var t = i._tasks.shift();
                    (0 === i._tasks.length && i.empty(),
                        (i.workers += 1),
                        i.workers === i.concurrency && i.saturated(),
                        i._worker(
                            t.data,
                            (function (n) {
                                return function () {
                                    for (var t = arguments, e = [], r = 0; r < arguments.length; r++) e[r] = t[r];
                                    if (null === n) throw new Error('Callback was already called.');
                                    var i = n;
                                    ((n = null), i.apply(this, e));
                                };
                            })(i._next(t))
                        ));
                }
            }),
            (this._worker = t),
            0 === e)
        )
            throw new Error('Concurrency must not be zero');
        ((this.concurrency = e), (this.buffer = e / 4));
    }
    var ka = /(#[\w-]+)?$/,
        Xa =
            ((Ha.prototype._add = function (t, e, r, i) {
                if (this.loading && (!r || !r.parentResource)) throw new Error('Cannot add resources while the loader is running.');
                if (this.resources[t]) throw new Error('Resource named "' + t + '" already exists.');
                if (((e = this._prepareUrl(e)), (this.resources[t] = new $.LoaderResource(t, e, r)), 'function' == typeof i && this.resources[t].onAfterMiddleware.once(i), this.loading)) {
                    for (var n = r.parentResource, o = [], s = 0; s < n.children.length; ++s) n.children[s].isComplete || o.push(n.children[s]);
                    var a = (n.progressChunk * (o.length + 1)) / (o.length + 2);
                    (n.children.push(this.resources[t]), (n.progressChunk = a));
                    for (s = 0; s < o.length; ++s) o[s].progressChunk = a;
                    this.resources[t].progressChunk = a;
                }
                return (this._queue.push(this.resources[t]), this);
            }),
            (Ha.prototype.pre = function (t) {
                return (this._beforeMiddleware.push(t), this);
            }),
            (Ha.prototype.use = function (t) {
                return (this._afterMiddleware.push(t), this);
            }),
            (Ha.prototype.reset = function () {
                for (var t in ((this.progress = 0), (this.loading = !1), this._queue.kill(), this._queue.pause(), this.resources)) {
                    var e = this.resources[t];
                    (e._onLoadBinding && e._onLoadBinding.detach(), e.isLoading && e.abort('loader reset'));
                }
                return ((this.resources = {}), this);
            }),
            (Ha.prototype.load = function (t) {
                if (('function' == typeof t && this.onComplete.once(t), this.loading)) return this;
                if (this._queue.idle()) (this._onStart(), this._onComplete());
                else {
                    for (var e = 100 / this._queue._tasks.length, r = 0; r < this._queue._tasks.length; ++r) this._queue._tasks[r].data.progressChunk = e;
                    (this._onStart(), this._queue.resume());
                }
                return this;
            }),
            Object.defineProperty(Ha.prototype, 'concurrency', {
                get: function () {
                    return this._queue.concurrency;
                },
                set: function (t) {
                    this._queue.concurrency = t;
                },
                enumerable: !1,
                configurable: !0,
            }),
            (Ha.prototype._prepareUrl = function (t) {
                var e = Na(t, { strictMode: !0 });
                return ((e = e.protocol || !e.path || 0 === t.indexOf('//') ? t : this.baseUrl.length && this.baseUrl.lastIndexOf('/') !== this.baseUrl.length - 1 && '/' !== t.charAt(0) ? this.baseUrl + '/' + t : this.baseUrl + t), this.defaultQueryString && ((t = ka.exec(e)[0]), -1 !== (e = e.slice(0, e.length - t.length)).indexOf('?') ? (e += '&' + this.defaultQueryString) : (e += '?' + this.defaultQueryString), (e += t)), e);
            }),
            (Ha.prototype._loadResource = function (r, t) {
                var i = this;
                ((r._dequeue = t),
                    Ba.eachSeries(
                        this._beforeMiddleware,
                        function (t, e) {
                            t.call(i, r, function () {
                                e(r.isComplete ? {} : null);
                            });
                        },
                        function () {
                            r.isComplete ? i._onLoad(r) : ((r._onLoadBinding = r.onComplete.once(i._onLoad, i)), r.load());
                        },
                        !0
                    ));
            }),
            (Ha.prototype._onStart = function () {
                ((this.progress = 0), (this.loading = !0), this.onStart.dispatch(this));
            }),
            (Ha.prototype._onComplete = function () {
                ((this.progress = 100), (this.loading = !1), this.onComplete.dispatch(this, this.resources));
            }),
            (Ha.prototype._onLoad = function (r) {
                var i = this;
                ((r._onLoadBinding = null),
                    this._resourcesParsing.push(r),
                    r._dequeue(),
                    Ba.eachSeries(
                        this._afterMiddleware,
                        function (t, e) {
                            t.call(i, r, e);
                        },
                        function () {
                            (r.onAfterMiddleware.dispatch(r), (i.progress = Math.min(100, i.progress + r.progressChunk)), i.onProgress.dispatch(i, r), r.error ? i.onError.dispatch(r.error, i, r) : i.onLoad.dispatch(i, r), i._resourcesParsing.splice(i._resourcesParsing.indexOf(r), 1), i._queue.idle() && 0 === i._resourcesParsing.length && i._onComplete());
                        },
                        !0
                    ));
            }),
            (Ha.prototype.destroy = function () {
                this._protected || this.reset();
            }),
            Object.defineProperty(Ha, 'shared', {
                get: function () {
                    var t = Ha._shared;
                    return (t || (((t = new Ha())._protected = !0), (Ha._shared = t)), t);
                },
                enumerable: !1,
                configurable: !0,
            }),
            (Ha.registerPlugin = function (t) {
                return (Ha._plugins.push(t), t.add && t.add(), Ha);
            }),
            (Ha._plugins = []),
            Ha);
    function Ha(t, e) {
        var r = this;
        (void 0 === t && (t = ''),
            void 0 === e && (e = 10),
            (this.progress = 0),
            (this.loading = !1),
            (this.defaultQueryString = ''),
            (this._beforeMiddleware = []),
            (this._afterMiddleware = []),
            (this._resourcesParsing = []),
            (this._boundLoadResource = function (t, e) {
                return r._loadResource(t, e);
            }),
            (this.resources = {}),
            (this.baseUrl = t),
            (this._beforeMiddleware = []),
            (this._afterMiddleware = []),
            (this._resourcesParsing = []),
            (this._boundLoadResource = function (t, e) {
                return r._loadResource(t, e);
            }),
            (this._queue = Ba.queue(this._boundLoadResource, e)),
            this._queue.pause(),
            (this.resources = {}),
            (this.onProgress = new Ia()),
            (this.onError = new Ia()),
            (this.onLoad = new Ia()),
            (this.onStart = new Ia()),
            (this.onComplete = new Ia()));
        for (var i = 0; i < Ha._plugins.length; ++i) {
            var n = Ha._plugins[i],
                o = n.pre,
                n = n.use;
            (o && this.pre(o), n && this.use(n));
        }
        this._protected = !1;
    }
    Xa.prototype.add = function (t, e, r, i) {
        if (Array.isArray(t)) {
            for (var n = 0; n < t.length; ++n) this.add(t[n]);
            return this;
        }
        if (('object' == typeof t && ((r = t), (i = e || r.callback || r.onComplete), (e = r.url), (t = r.name || r.key || r.url)), 'string' != typeof e && ((i = r), (r = e), (e = t)), 'string' != typeof e)) throw new Error('No url passed to add resource to loader.');
        return ('function' == typeof r && ((i = r), (r = null)), this._add(t, e, r, i));
    };
    var Ya =
        ((ja.init = function (t) {
            ((t = Object.assign({ sharedLoader: !1 }, t)), (this.loader = t.sharedLoader ? Xa.shared : new Xa()));
        }),
        (ja.destroy = function () {
            this.loader && (this.loader.destroy(), (this.loader = null));
        }),
        ja);
    function ja() {}
    var Va =
        ((Wa.add = function () {
            ($.LoaderResource.setExtensionLoadType('svg', $.LoaderResource.LOAD_TYPE.XHR), $.LoaderResource.setExtensionXhrType('svg', $.LoaderResource.XHR_RESPONSE_TYPE.TEXT));
        }),
        (Wa.use = function (e, r) {
            var t, i, n, o;
            !e.data || (e.type !== $.LoaderResource.TYPE.IMAGE && 'svg' !== e.extension)
                ? r()
                : ((t = e.data),
                  (i = e.url),
                  (n = e.name),
                  (o = e.metadata),
                  Gi.fromLoader(t, i, n, o)
                      .then(function (t) {
                          ((e.texture = t), r());
                      })
                      .catch(r));
        }),
        Wa);
    function Wa() {}
    var za = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';
    (Xa.registerPlugin({
        use: function (t, e) {
            if (t.data) {
                if (t.xhr && t.xhrType === $.LoaderResource.XHR_RESPONSE_TYPE.BLOB)
                    if (self.Blob && 'string' != typeof t.data) {
                        if (0 === t.data.type.indexOf('image')) {
                            var r = globalThis.URL || globalThis.webkitURL,
                                i = r.createObjectURL(t.data);
                            return (
                                (t.blob = t.data),
                                (t.data = new Image()),
                                (t.data.src = i),
                                (t.type = $.LoaderResource.TYPE.IMAGE),
                                void (t.data.onload = function () {
                                    (r.revokeObjectURL(i), (t.data.onload = null), e());
                                })
                            );
                        }
                    } else {
                        var n = t.xhr.getResponseHeader('content-type');
                        if (n && 0 === n.indexOf('image'))
                            return (
                                (t.data = new Image()),
                                (t.data.src =
                                    'data:' +
                                    n +
                                    ';base64,' +
                                    (function (t) {
                                        for (var e = '', r = 0; r < t.length; ) {
                                            for (var i = [0, 0, 0], n = [0, 0, 0, 0], o = 0; o < i.length; ++o) r < t.length ? (i[o] = 255 & t.charCodeAt(r++)) : (i[o] = 0);
                                            switch (((n[0] = i[0] >> 2), (n[1] = ((3 & i[0]) << 4) | (i[1] >> 4)), (n[2] = ((15 & i[1]) << 2) | (i[2] >> 6)), (n[3] = 63 & i[2]), r - (t.length - 1))) {
                                                case 2:
                                                    ((n[3] = 64), (n[2] = 64));
                                                    break;
                                                case 1:
                                                    n[3] = 64;
                                            }
                                            for (o = 0; o < n.length; ++o) e += za.charAt(n[o]);
                                        }
                                        return e;
                                    })(t.xhr.responseText)),
                                (t.type = $.LoaderResource.TYPE.IMAGE),
                                void (t.data.onload = function () {
                                    ((t.data.onload = null), e());
                                })
                            );
                    }
                e();
            } else e();
        },
    }),
        Xa.registerPlugin(Va),
        ($.INTERNAL_FORMATS = void 0),
        ((Ml = $.INTERNAL_FORMATS || ($.INTERNAL_FORMATS = {}))[(Ml.COMPRESSED_RGB_S3TC_DXT1_EXT = 33776)] = 'COMPRESSED_RGB_S3TC_DXT1_EXT'),
        (Ml[(Ml.COMPRESSED_RGBA_S3TC_DXT1_EXT = 33777)] = 'COMPRESSED_RGBA_S3TC_DXT1_EXT'),
        (Ml[(Ml.COMPRESSED_RGBA_S3TC_DXT3_EXT = 33778)] = 'COMPRESSED_RGBA_S3TC_DXT3_EXT'),
        (Ml[(Ml.COMPRESSED_RGBA_S3TC_DXT5_EXT = 33779)] = 'COMPRESSED_RGBA_S3TC_DXT5_EXT'),
        (Ml[(Ml.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT = 35917)] = 'COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT'),
        (Ml[(Ml.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT = 35918)] = 'COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT'),
        (Ml[(Ml.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT = 35919)] = 'COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT'),
        (Ml[(Ml.COMPRESSED_SRGB_S3TC_DXT1_EXT = 35916)] = 'COMPRESSED_SRGB_S3TC_DXT1_EXT'),
        (Ml[(Ml.COMPRESSED_R11_EAC = 37488)] = 'COMPRESSED_R11_EAC'),
        (Ml[(Ml.COMPRESSED_SIGNED_R11_EAC = 37489)] = 'COMPRESSED_SIGNED_R11_EAC'),
        (Ml[(Ml.COMPRESSED_RG11_EAC = 37490)] = 'COMPRESSED_RG11_EAC'),
        (Ml[(Ml.COMPRESSED_SIGNED_RG11_EAC = 37491)] = 'COMPRESSED_SIGNED_RG11_EAC'),
        (Ml[(Ml.COMPRESSED_RGB8_ETC2 = 37492)] = 'COMPRESSED_RGB8_ETC2'),
        (Ml[(Ml.COMPRESSED_RGBA8_ETC2_EAC = 37496)] = 'COMPRESSED_RGBA8_ETC2_EAC'),
        (Ml[(Ml.COMPRESSED_SRGB8_ETC2 = 37493)] = 'COMPRESSED_SRGB8_ETC2'),
        (Ml[(Ml.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC = 37497)] = 'COMPRESSED_SRGB8_ALPHA8_ETC2_EAC'),
        (Ml[(Ml.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2 = 37494)] = 'COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2'),
        (Ml[(Ml.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2 = 37495)] = 'COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2'),
        (Ml[(Ml.COMPRESSED_RGB_PVRTC_4BPPV1_IMG = 35840)] = 'COMPRESSED_RGB_PVRTC_4BPPV1_IMG'),
        (Ml[(Ml.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG = 35842)] = 'COMPRESSED_RGBA_PVRTC_4BPPV1_IMG'),
        (Ml[(Ml.COMPRESSED_RGB_PVRTC_2BPPV1_IMG = 35841)] = 'COMPRESSED_RGB_PVRTC_2BPPV1_IMG'),
        (Ml[(Ml.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG = 35843)] = 'COMPRESSED_RGBA_PVRTC_2BPPV1_IMG'),
        (Ml[(Ml.COMPRESSED_RGB_ETC1_WEBGL = 36196)] = 'COMPRESSED_RGB_ETC1_WEBGL'),
        (Ml[(Ml.COMPRESSED_RGB_ATC_WEBGL = 35986)] = 'COMPRESSED_RGB_ATC_WEBGL'),
        (Ml[(Ml.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL = 35986)] = 'COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL'),
        (Ml[(Ml.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL = 34798)] = 'COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL'));
    var qa =
            (((Ll = {})[$.INTERNAL_FORMATS.COMPRESSED_RGB_S3TC_DXT1_EXT] = 0.5),
            (Ll[$.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT] = 0.5),
            (Ll[$.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT] = 1),
            (Ll[$.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT] = 1),
            (Ll[$.INTERNAL_FORMATS.COMPRESSED_SRGB_S3TC_DXT1_EXT] = 0.5),
            (Ll[$.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT] = 0.5),
            (Ll[$.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT] = 1),
            (Ll[$.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT] = 1),
            (Ll[$.INTERNAL_FORMATS.COMPRESSED_R11_EAC] = 0.5),
            (Ll[$.INTERNAL_FORMATS.COMPRESSED_SIGNED_R11_EAC] = 0.5),
            (Ll[$.INTERNAL_FORMATS.COMPRESSED_RG11_EAC] = 1),
            (Ll[$.INTERNAL_FORMATS.COMPRESSED_SIGNED_RG11_EAC] = 1),
            (Ll[$.INTERNAL_FORMATS.COMPRESSED_RGB8_ETC2] = 0.5),
            (Ll[$.INTERNAL_FORMATS.COMPRESSED_RGBA8_ETC2_EAC] = 1),
            (Ll[$.INTERNAL_FORMATS.COMPRESSED_SRGB8_ETC2] = 0.5),
            (Ll[$.INTERNAL_FORMATS.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC] = 1),
            (Ll[$.INTERNAL_FORMATS.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2] = 0.5),
            (Ll[$.INTERNAL_FORMATS.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2] = 0.5),
            (Ll[$.INTERNAL_FORMATS.COMPRESSED_RGB_PVRTC_4BPPV1_IMG] = 0.5),
            (Ll[$.INTERNAL_FORMATS.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG] = 0.5),
            (Ll[$.INTERNAL_FORMATS.COMPRESSED_RGB_PVRTC_2BPPV1_IMG] = 0.25),
            (Ll[$.INTERNAL_FORMATS.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG] = 0.25),
            (Ll[$.INTERNAL_FORMATS.COMPRESSED_RGB_ETC1_WEBGL] = 0.5),
            (Ll[$.INTERNAL_FORMATS.COMPRESSED_RGB_ATC_WEBGL] = 0.5),
            (Ll[$.INTERNAL_FORMATS.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL] = 1),
            (Ll[$.INTERNAL_FORMATS.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL] = 1),
            Ll),
        Ka = function (t, e) {
            return (Ka =
                Object.setPrototypeOf ||
                ({ __proto__: [] } instanceof Array &&
                    function (t, e) {
                        t.__proto__ = e;
                    }) ||
                function (t, e) {
                    for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r]);
                })(t, e);
        };
    function Za(t, e) {
        function r() {
            this.constructor = t;
        }
        (Ka(t, e), (t.prototype = null === e ? Object.create(e) : ((r.prototype = e.prototype), new r())));
    }
    function Qa(r, i) {
        var n,
            o,
            s,
            a = {
                label: 0,
                sent: function () {
                    if (1 & s[0]) throw s[1];
                    return s[1];
                },
                trys: [],
                ops: [],
            },
            t = { next: e(0), throw: e(1), return: e(2) };
        return (
            'function' == typeof Symbol &&
                (t[Symbol.iterator] = function () {
                    return this;
                }),
            t
        );
        function e(e) {
            return function (t) {
                return (function (e) {
                    if (n) throw new TypeError('Generator is already executing.');
                    for (; a; )
                        try {
                            if (((n = 1), o && (s = 2 & e[0] ? o.return : e[0] ? o.throw || ((s = o.return) && s.call(o), 0) : o.next) && !(s = s.call(o, e[1])).done)) return s;
                            switch (((o = 0), s && (e = [2 & e[0], s.value]), e[0])) {
                                case 0:
                                case 1:
                                    s = e;
                                    break;
                                case 4:
                                    return (a.label++, { value: e[1], done: !1 });
                                case 5:
                                    (a.label++, (o = e[1]), (e = [0]));
                                    continue;
                                case 7:
                                    ((e = a.ops.pop()), a.trys.pop());
                                    continue;
                                default:
                                    if (!(s = 0 < (s = a.trys).length && s[s.length - 1]) && (6 === e[0] || 2 === e[0])) {
                                        a = 0;
                                        continue;
                                    }
                                    if (3 === e[0] && (!s || (e[1] > s[0] && e[1] < s[3]))) {
                                        a.label = e[1];
                                        break;
                                    }
                                    if (6 === e[0] && a.label < s[1]) {
                                        ((a.label = s[1]), (s = e));
                                        break;
                                    }
                                    if (s && a.label < s[2]) {
                                        ((a.label = s[2]), a.ops.push(e));
                                        break;
                                    }
                                    (s[2] && a.ops.pop(), a.trys.pop());
                                    continue;
                            }
                            e = i.call(r, a);
                        } catch (t) {
                            ((e = [6, t]), (o = 0));
                        } finally {
                            n = s = 0;
                        }
                    if (5 & e[0]) throw e[1];
                    return { value: e[0] ? e[1] : void 0, done: !0 };
                })([e, t]);
            };
        }
    }
    var Ja,
        To =
            (Za($a, (Ja = Wr)),
            ($a.prototype.onBlobLoaded = function (t) {}),
            ($a.prototype.load = function () {
                return (
                    (o = this),
                    (s = void 0),
                    (a = Promise),
                    (h = function () {
                        var e;
                        return Qa(this, function (t) {
                            switch (t.label) {
                                case 0:
                                    return [4, fetch(this.origin)];
                                case 1:
                                    return [4, t.sent().blob()];
                                case 2:
                                    return [4, t.sent().arrayBuffer()];
                                case 3:
                                    return ((e = t.sent()), (this.data = new Uint32Array(e)), (this.buffer = new ys(e)), (this.loaded = !0), this.onBlobLoaded(e), this.update(), [2, this]);
                            }
                        });
                    }),
                    new (a = a || Promise)(function (t, e) {
                        function r(t) {
                            try {
                                n(h.next(t));
                            } catch (t) {
                                e(t);
                            }
                        }
                        function i(t) {
                            try {
                                n(h.throw(t));
                            } catch (t) {
                                e(t);
                            }
                        }
                        function n(e) {
                            e.done
                                ? t(e.value)
                                : new a(function (t) {
                                      t(e.value);
                                  }).then(r, i);
                        }
                        n((h = h.apply(o, s || [])).next());
                    })
                );
                var o, s, a, h;
            }),
            $a);
    function $a(t, e) {
        void 0 === e && (e = { width: 1, height: 1, autoLoad: !0 });
        var r,
            i = this,
            t = 'string' == typeof t ? ((r = t), new Uint8Array()) : ((r = null), t);
        return (((i = Ja.call(this, t, e) || this).origin = r), (i.buffer = t ? new ys(t) : null), i.origin && !1 !== e.autoLoad && i.load(), t && t.length && ((i.loaded = !0), i.onBlobLoaded(i.buffer.rawBinaryData)), i);
    }
    var th,
        eh =
            (Za(rh, (th = To)),
            (rh.prototype.upload = function (t, e, r) {
                var i = t.gl;
                if (!t.context.extensions[this._extension]) throw new Error(this._extension + ' textures are not supported on the current machine');
                if (!this._levelBuffers) return !1;
                for (var n = 0, o = this.levels; n < o; n++) {
                    var s = this._levelBuffers[n],
                        a = s.levelID,
                        h = s.levelWidth,
                        u = s.levelHeight,
                        s = s.levelBuffer;
                    i.compressedTexImage2D(i.TEXTURE_2D, a, this.format, h, u, 0, s);
                }
                return !0;
            }),
            (rh.prototype.onBlobLoaded = function () {
                this._levelBuffers = rh._createLevelBuffers(this.buffer.uint8View, this.format, this.levels, 4, 4, this.width, this.height);
            }),
            (rh._formatToExtension = function (t) {
                if (33776 <= t && t <= 33779) return 's3tc';
                if (37488 <= t && t <= 37497) return 'etc';
                if (35840 <= t && t <= 35843) return 'pvrtc';
                if (36196 <= t) return 'etc1';
                if (35986 <= t && t <= 34798) return 'atc';
                throw new Error('Invalid (compressed) texture format given!');
            }),
            (rh._createLevelBuffers = function (t, e, r, i, n, o, s) {
                for (var a = new Array(r), h = t.byteOffset, u = o, l = s, c = (u + i - 1) & ~(i - 1), d = (l + n - 1) & ~(n - 1), f = c * d * qa[e], p = 0; p < r; p++) ((a[p] = { levelID: p, levelWidth: 1 < r ? u : c, levelHeight: 1 < r ? l : d, levelBuffer: new Uint8Array(t.buffer, h, f) }), (h += f), (f = (c = ((u = u >> 1 || 1) + i - 1) & ~(i - 1)) * (d = ((l = l >> 1 || 1) + n - 1) & ~(n - 1)) * qa[e]));
                return a;
            }),
            rh);
    function rh(t, e) {
        var r = th.call(this, t, e) || this;
        return ((r.format = e.format), (r.levels = e.levels || 1), (r._width = e.width), (r._height = e.height), (r._extension = rh._formatToExtension(r.format)), (e.levelBuffers || r.buffer) && (r._levelBuffers = e.levelBuffers || rh._createLevelBuffers(t instanceof Uint8Array ? t : r.buffer.uint8View, r.format, r.levels, 4, 4, r.width, r.height)), r);
    }
    ((ih.use = function (r, i) {
        var t = r.data;
        if (r.type === $.LoaderResource.TYPE.JSON && t && t.cacheID && t.textures) {
            for (var e, n, o = t.textures, s = void 0, a = void 0, h = 0, u = o.length; h < u; h++) {
                var l = o[h],
                    c = l.src,
                    l = l.format;
                if ((l || (a = c), ih.textureFormats[l])) {
                    s = c;
                    break;
                }
            }
            (s = s || a)
                ? s !== r.url
                    ? ((e = { crossOrigin: r.crossOrigin, metadata: r.metadata.imageMetadata, parentResource: r }),
                      (n = Lt.resolve(r.url.replace(this.baseUrl, ''), s)),
                      (t = t.cacheID),
                      this.add(t, n, e, function (t) {
                          var e;
                          t.error ? i(t.error) : ((e = void 0 === (e = t.texture) ? null : e), (t = void 0 === (t = t.textures) ? {} : t), Object.assign(r, { texture: e, textures: t }), i());
                      }))
                    : i(new Error("URL of compressed texture cannot be the same as the manifest's URL"))
                : i(new Error('Cannot load compressed-textures in ' + r.url + ', make sure you provide a fallback'));
        } else i();
    }),
        Object.defineProperty(ih, 'textureExtensions', {
            get: function () {
                if (!ih._textureExtensions) {
                    var t = document.createElement('canvas').getContext('webgl');
                    if (!t) return (console.warn('WebGL not available for compressed textures. Silently failing.'), {});
                    t = { s3tc: t.getExtension('WEBGL_compressed_texture_s3tc'), s3tc_sRGB: t.getExtension('WEBGL_compressed_texture_s3tc_srgb'), etc: t.getExtension('WEBGL_compressed_texture_etc'), etc1: t.getExtension('WEBGL_compressed_texture_etc1'), pvrtc: t.getExtension('WEBGL_compressed_texture_pvrtc') || t.getExtension('WEBKIT_WEBGL_compressed_texture_pvrtc'), atc: t.getExtension('WEBGL_compressed_texture_atc'), astc: t.getExtension('WEBGL_compressed_texture_astc') };
                    ih._textureExtensions = t;
                }
                return ih._textureExtensions;
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(ih, 'textureFormats', {
            get: function () {
                if (!ih._textureFormats) {
                    var t,
                        e = ih.textureExtensions;
                    for (t in ((ih._textureFormats = {}), e)) {
                        var r = e[t];
                        r && Object.assign(ih._textureFormats, Object.getPrototypeOf(r));
                    }
                }
                return ih._textureFormats;
            },
            enumerable: !1,
            configurable: !0,
        }),
        (Us = ih));
    function ih() {}
    function nh(n, t, e) {
        var o = { textures: {}, texture: null };
        return (
            t &&
                t
                    .map(function (t) {
                        return new Gi(new Zr(t, Object.assign({ mipmap: $.MIPMAP_MODES.OFF, alphaMode: $.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA }, e)));
                    })
                    .forEach(function (t, e) {
                        var r = t.baseTexture,
                            i = n + '-' + (e + 1);
                        (Zr.addToCache(r, i), Gi.addToCache(t, i), 0 === e && (Zr.addToCache(r, n), Gi.addToCache(t, n), (o.texture = t)), (o.textures[i] = t));
                    }),
            o
        );
    }
    $.LoaderResource.setExtensionXhrType('dds', $.LoaderResource.XHR_RESPONSE_TYPE.BUFFER);
    var oh,
        sh = 3,
        ah = 4,
        hh = 7,
        uh = 19,
        lh = 2,
        ch = 0,
        dh = 1,
        fh = 2,
        ph = 3;
    (((kl = Rc = Rc || {})[(kl.DXGI_FORMAT_UNKNOWN = 0)] = 'DXGI_FORMAT_UNKNOWN'),
        (kl[(kl.DXGI_FORMAT_R32G32B32A32_TYPELESS = 1)] = 'DXGI_FORMAT_R32G32B32A32_TYPELESS'),
        (kl[(kl.DXGI_FORMAT_R32G32B32A32_FLOAT = 2)] = 'DXGI_FORMAT_R32G32B32A32_FLOAT'),
        (kl[(kl.DXGI_FORMAT_R32G32B32A32_UINT = 3)] = 'DXGI_FORMAT_R32G32B32A32_UINT'),
        (kl[(kl.DXGI_FORMAT_R32G32B32A32_SINT = 4)] = 'DXGI_FORMAT_R32G32B32A32_SINT'),
        (kl[(kl.DXGI_FORMAT_R32G32B32_TYPELESS = 5)] = 'DXGI_FORMAT_R32G32B32_TYPELESS'),
        (kl[(kl.DXGI_FORMAT_R32G32B32_FLOAT = 6)] = 'DXGI_FORMAT_R32G32B32_FLOAT'),
        (kl[(kl.DXGI_FORMAT_R32G32B32_UINT = 7)] = 'DXGI_FORMAT_R32G32B32_UINT'),
        (kl[(kl.DXGI_FORMAT_R32G32B32_SINT = 8)] = 'DXGI_FORMAT_R32G32B32_SINT'),
        (kl[(kl.DXGI_FORMAT_R16G16B16A16_TYPELESS = 9)] = 'DXGI_FORMAT_R16G16B16A16_TYPELESS'),
        (kl[(kl.DXGI_FORMAT_R16G16B16A16_FLOAT = 10)] = 'DXGI_FORMAT_R16G16B16A16_FLOAT'),
        (kl[(kl.DXGI_FORMAT_R16G16B16A16_UNORM = 11)] = 'DXGI_FORMAT_R16G16B16A16_UNORM'),
        (kl[(kl.DXGI_FORMAT_R16G16B16A16_UINT = 12)] = 'DXGI_FORMAT_R16G16B16A16_UINT'),
        (kl[(kl.DXGI_FORMAT_R16G16B16A16_SNORM = 13)] = 'DXGI_FORMAT_R16G16B16A16_SNORM'),
        (kl[(kl.DXGI_FORMAT_R16G16B16A16_SINT = 14)] = 'DXGI_FORMAT_R16G16B16A16_SINT'),
        (kl[(kl.DXGI_FORMAT_R32G32_TYPELESS = 15)] = 'DXGI_FORMAT_R32G32_TYPELESS'),
        (kl[(kl.DXGI_FORMAT_R32G32_FLOAT = 16)] = 'DXGI_FORMAT_R32G32_FLOAT'),
        (kl[(kl.DXGI_FORMAT_R32G32_UINT = 17)] = 'DXGI_FORMAT_R32G32_UINT'),
        (kl[(kl.DXGI_FORMAT_R32G32_SINT = 18)] = 'DXGI_FORMAT_R32G32_SINT'),
        (kl[(kl.DXGI_FORMAT_R32G8X24_TYPELESS = 19)] = 'DXGI_FORMAT_R32G8X24_TYPELESS'),
        (kl[(kl.DXGI_FORMAT_D32_FLOAT_S8X24_UINT = 20)] = 'DXGI_FORMAT_D32_FLOAT_S8X24_UINT'),
        (kl[(kl.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS = 21)] = 'DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS'),
        (kl[(kl.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT = 22)] = 'DXGI_FORMAT_X32_TYPELESS_G8X24_UINT'),
        (kl[(kl.DXGI_FORMAT_R10G10B10A2_TYPELESS = 23)] = 'DXGI_FORMAT_R10G10B10A2_TYPELESS'),
        (kl[(kl.DXGI_FORMAT_R10G10B10A2_UNORM = 24)] = 'DXGI_FORMAT_R10G10B10A2_UNORM'),
        (kl[(kl.DXGI_FORMAT_R10G10B10A2_UINT = 25)] = 'DXGI_FORMAT_R10G10B10A2_UINT'),
        (kl[(kl.DXGI_FORMAT_R11G11B10_FLOAT = 26)] = 'DXGI_FORMAT_R11G11B10_FLOAT'),
        (kl[(kl.DXGI_FORMAT_R8G8B8A8_TYPELESS = 27)] = 'DXGI_FORMAT_R8G8B8A8_TYPELESS'),
        (kl[(kl.DXGI_FORMAT_R8G8B8A8_UNORM = 28)] = 'DXGI_FORMAT_R8G8B8A8_UNORM'),
        (kl[(kl.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB = 29)] = 'DXGI_FORMAT_R8G8B8A8_UNORM_SRGB'),
        (kl[(kl.DXGI_FORMAT_R8G8B8A8_UINT = 30)] = 'DXGI_FORMAT_R8G8B8A8_UINT'),
        (kl[(kl.DXGI_FORMAT_R8G8B8A8_SNORM = 31)] = 'DXGI_FORMAT_R8G8B8A8_SNORM'),
        (kl[(kl.DXGI_FORMAT_R8G8B8A8_SINT = 32)] = 'DXGI_FORMAT_R8G8B8A8_SINT'),
        (kl[(kl.DXGI_FORMAT_R16G16_TYPELESS = 33)] = 'DXGI_FORMAT_R16G16_TYPELESS'),
        (kl[(kl.DXGI_FORMAT_R16G16_FLOAT = 34)] = 'DXGI_FORMAT_R16G16_FLOAT'),
        (kl[(kl.DXGI_FORMAT_R16G16_UNORM = 35)] = 'DXGI_FORMAT_R16G16_UNORM'),
        (kl[(kl.DXGI_FORMAT_R16G16_UINT = 36)] = 'DXGI_FORMAT_R16G16_UINT'),
        (kl[(kl.DXGI_FORMAT_R16G16_SNORM = 37)] = 'DXGI_FORMAT_R16G16_SNORM'),
        (kl[(kl.DXGI_FORMAT_R16G16_SINT = 38)] = 'DXGI_FORMAT_R16G16_SINT'),
        (kl[(kl.DXGI_FORMAT_R32_TYPELESS = 39)] = 'DXGI_FORMAT_R32_TYPELESS'),
        (kl[(kl.DXGI_FORMAT_D32_FLOAT = 40)] = 'DXGI_FORMAT_D32_FLOAT'),
        (kl[(kl.DXGI_FORMAT_R32_FLOAT = 41)] = 'DXGI_FORMAT_R32_FLOAT'),
        (kl[(kl.DXGI_FORMAT_R32_UINT = 42)] = 'DXGI_FORMAT_R32_UINT'),
        (kl[(kl.DXGI_FORMAT_R32_SINT = 43)] = 'DXGI_FORMAT_R32_SINT'),
        (kl[(kl.DXGI_FORMAT_R24G8_TYPELESS = 44)] = 'DXGI_FORMAT_R24G8_TYPELESS'),
        (kl[(kl.DXGI_FORMAT_D24_UNORM_S8_UINT = 45)] = 'DXGI_FORMAT_D24_UNORM_S8_UINT'),
        (kl[(kl.DXGI_FORMAT_R24_UNORM_X8_TYPELESS = 46)] = 'DXGI_FORMAT_R24_UNORM_X8_TYPELESS'),
        (kl[(kl.DXGI_FORMAT_X24_TYPELESS_G8_UINT = 47)] = 'DXGI_FORMAT_X24_TYPELESS_G8_UINT'),
        (kl[(kl.DXGI_FORMAT_R8G8_TYPELESS = 48)] = 'DXGI_FORMAT_R8G8_TYPELESS'),
        (kl[(kl.DXGI_FORMAT_R8G8_UNORM = 49)] = 'DXGI_FORMAT_R8G8_UNORM'),
        (kl[(kl.DXGI_FORMAT_R8G8_UINT = 50)] = 'DXGI_FORMAT_R8G8_UINT'),
        (kl[(kl.DXGI_FORMAT_R8G8_SNORM = 51)] = 'DXGI_FORMAT_R8G8_SNORM'),
        (kl[(kl.DXGI_FORMAT_R8G8_SINT = 52)] = 'DXGI_FORMAT_R8G8_SINT'),
        (kl[(kl.DXGI_FORMAT_R16_TYPELESS = 53)] = 'DXGI_FORMAT_R16_TYPELESS'),
        (kl[(kl.DXGI_FORMAT_R16_FLOAT = 54)] = 'DXGI_FORMAT_R16_FLOAT'),
        (kl[(kl.DXGI_FORMAT_D16_UNORM = 55)] = 'DXGI_FORMAT_D16_UNORM'),
        (kl[(kl.DXGI_FORMAT_R16_UNORM = 56)] = 'DXGI_FORMAT_R16_UNORM'),
        (kl[(kl.DXGI_FORMAT_R16_UINT = 57)] = 'DXGI_FORMAT_R16_UINT'),
        (kl[(kl.DXGI_FORMAT_R16_SNORM = 58)] = 'DXGI_FORMAT_R16_SNORM'),
        (kl[(kl.DXGI_FORMAT_R16_SINT = 59)] = 'DXGI_FORMAT_R16_SINT'),
        (kl[(kl.DXGI_FORMAT_R8_TYPELESS = 60)] = 'DXGI_FORMAT_R8_TYPELESS'),
        (kl[(kl.DXGI_FORMAT_R8_UNORM = 61)] = 'DXGI_FORMAT_R8_UNORM'),
        (kl[(kl.DXGI_FORMAT_R8_UINT = 62)] = 'DXGI_FORMAT_R8_UINT'),
        (kl[(kl.DXGI_FORMAT_R8_SNORM = 63)] = 'DXGI_FORMAT_R8_SNORM'),
        (kl[(kl.DXGI_FORMAT_R8_SINT = 64)] = 'DXGI_FORMAT_R8_SINT'),
        (kl[(kl.DXGI_FORMAT_A8_UNORM = 65)] = 'DXGI_FORMAT_A8_UNORM'),
        (kl[(kl.DXGI_FORMAT_R1_UNORM = 66)] = 'DXGI_FORMAT_R1_UNORM'),
        (kl[(kl.DXGI_FORMAT_R9G9B9E5_SHAREDEXP = 67)] = 'DXGI_FORMAT_R9G9B9E5_SHAREDEXP'),
        (kl[(kl.DXGI_FORMAT_R8G8_B8G8_UNORM = 68)] = 'DXGI_FORMAT_R8G8_B8G8_UNORM'),
        (kl[(kl.DXGI_FORMAT_G8R8_G8B8_UNORM = 69)] = 'DXGI_FORMAT_G8R8_G8B8_UNORM'),
        (kl[(kl.DXGI_FORMAT_BC1_TYPELESS = 70)] = 'DXGI_FORMAT_BC1_TYPELESS'),
        (kl[(kl.DXGI_FORMAT_BC1_UNORM = 71)] = 'DXGI_FORMAT_BC1_UNORM'),
        (kl[(kl.DXGI_FORMAT_BC1_UNORM_SRGB = 72)] = 'DXGI_FORMAT_BC1_UNORM_SRGB'),
        (kl[(kl.DXGI_FORMAT_BC2_TYPELESS = 73)] = 'DXGI_FORMAT_BC2_TYPELESS'),
        (kl[(kl.DXGI_FORMAT_BC2_UNORM = 74)] = 'DXGI_FORMAT_BC2_UNORM'),
        (kl[(kl.DXGI_FORMAT_BC2_UNORM_SRGB = 75)] = 'DXGI_FORMAT_BC2_UNORM_SRGB'),
        (kl[(kl.DXGI_FORMAT_BC3_TYPELESS = 76)] = 'DXGI_FORMAT_BC3_TYPELESS'),
        (kl[(kl.DXGI_FORMAT_BC3_UNORM = 77)] = 'DXGI_FORMAT_BC3_UNORM'),
        (kl[(kl.DXGI_FORMAT_BC3_UNORM_SRGB = 78)] = 'DXGI_FORMAT_BC3_UNORM_SRGB'),
        (kl[(kl.DXGI_FORMAT_BC4_TYPELESS = 79)] = 'DXGI_FORMAT_BC4_TYPELESS'),
        (kl[(kl.DXGI_FORMAT_BC4_UNORM = 80)] = 'DXGI_FORMAT_BC4_UNORM'),
        (kl[(kl.DXGI_FORMAT_BC4_SNORM = 81)] = 'DXGI_FORMAT_BC4_SNORM'),
        (kl[(kl.DXGI_FORMAT_BC5_TYPELESS = 82)] = 'DXGI_FORMAT_BC5_TYPELESS'),
        (kl[(kl.DXGI_FORMAT_BC5_UNORM = 83)] = 'DXGI_FORMAT_BC5_UNORM'),
        (kl[(kl.DXGI_FORMAT_BC5_SNORM = 84)] = 'DXGI_FORMAT_BC5_SNORM'),
        (kl[(kl.DXGI_FORMAT_B5G6R5_UNORM = 85)] = 'DXGI_FORMAT_B5G6R5_UNORM'),
        (kl[(kl.DXGI_FORMAT_B5G5R5A1_UNORM = 86)] = 'DXGI_FORMAT_B5G5R5A1_UNORM'),
        (kl[(kl.DXGI_FORMAT_B8G8R8A8_UNORM = 87)] = 'DXGI_FORMAT_B8G8R8A8_UNORM'),
        (kl[(kl.DXGI_FORMAT_B8G8R8X8_UNORM = 88)] = 'DXGI_FORMAT_B8G8R8X8_UNORM'),
        (kl[(kl.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM = 89)] = 'DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM'),
        (kl[(kl.DXGI_FORMAT_B8G8R8A8_TYPELESS = 90)] = 'DXGI_FORMAT_B8G8R8A8_TYPELESS'),
        (kl[(kl.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB = 91)] = 'DXGI_FORMAT_B8G8R8A8_UNORM_SRGB'),
        (kl[(kl.DXGI_FORMAT_B8G8R8X8_TYPELESS = 92)] = 'DXGI_FORMAT_B8G8R8X8_TYPELESS'),
        (kl[(kl.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB = 93)] = 'DXGI_FORMAT_B8G8R8X8_UNORM_SRGB'),
        (kl[(kl.DXGI_FORMAT_BC6H_TYPELESS = 94)] = 'DXGI_FORMAT_BC6H_TYPELESS'),
        (kl[(kl.DXGI_FORMAT_BC6H_UF16 = 95)] = 'DXGI_FORMAT_BC6H_UF16'),
        (kl[(kl.DXGI_FORMAT_BC6H_SF16 = 96)] = 'DXGI_FORMAT_BC6H_SF16'),
        (kl[(kl.DXGI_FORMAT_BC7_TYPELESS = 97)] = 'DXGI_FORMAT_BC7_TYPELESS'),
        (kl[(kl.DXGI_FORMAT_BC7_UNORM = 98)] = 'DXGI_FORMAT_BC7_UNORM'),
        (kl[(kl.DXGI_FORMAT_BC7_UNORM_SRGB = 99)] = 'DXGI_FORMAT_BC7_UNORM_SRGB'),
        (kl[(kl.DXGI_FORMAT_AYUV = 100)] = 'DXGI_FORMAT_AYUV'),
        (kl[(kl.DXGI_FORMAT_Y410 = 101)] = 'DXGI_FORMAT_Y410'),
        (kl[(kl.DXGI_FORMAT_Y416 = 102)] = 'DXGI_FORMAT_Y416'),
        (kl[(kl.DXGI_FORMAT_NV12 = 103)] = 'DXGI_FORMAT_NV12'),
        (kl[(kl.DXGI_FORMAT_P010 = 104)] = 'DXGI_FORMAT_P010'),
        (kl[(kl.DXGI_FORMAT_P016 = 105)] = 'DXGI_FORMAT_P016'),
        (kl[(kl.DXGI_FORMAT_420_OPAQUE = 106)] = 'DXGI_FORMAT_420_OPAQUE'),
        (kl[(kl.DXGI_FORMAT_YUY2 = 107)] = 'DXGI_FORMAT_YUY2'),
        (kl[(kl.DXGI_FORMAT_Y210 = 108)] = 'DXGI_FORMAT_Y210'),
        (kl[(kl.DXGI_FORMAT_Y216 = 109)] = 'DXGI_FORMAT_Y216'),
        (kl[(kl.DXGI_FORMAT_NV11 = 110)] = 'DXGI_FORMAT_NV11'),
        (kl[(kl.DXGI_FORMAT_AI44 = 111)] = 'DXGI_FORMAT_AI44'),
        (kl[(kl.DXGI_FORMAT_IA44 = 112)] = 'DXGI_FORMAT_IA44'),
        (kl[(kl.DXGI_FORMAT_P8 = 113)] = 'DXGI_FORMAT_P8'),
        (kl[(kl.DXGI_FORMAT_A8P8 = 114)] = 'DXGI_FORMAT_A8P8'),
        (kl[(kl.DXGI_FORMAT_B4G4R4A4_UNORM = 115)] = 'DXGI_FORMAT_B4G4R4A4_UNORM'),
        (kl[(kl.DXGI_FORMAT_P208 = 116)] = 'DXGI_FORMAT_P208'),
        (kl[(kl.DXGI_FORMAT_V208 = 117)] = 'DXGI_FORMAT_V208'),
        (kl[(kl.DXGI_FORMAT_V408 = 118)] = 'DXGI_FORMAT_V408'),
        (kl[(kl.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE = 119)] = 'DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE'),
        (kl[(kl.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE = 120)] = 'DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE'),
        (kl[(kl.DXGI_FORMAT_FORCE_UINT = 121)] = 'DXGI_FORMAT_FORCE_UINT'),
        ((oc = oh = oh || {})[(oc.DDS_DIMENSION_TEXTURE1D = 2)] = 'DDS_DIMENSION_TEXTURE1D'),
        (oc[(oc.DDS_DIMENSION_TEXTURE2D = 3)] = 'DDS_DIMENSION_TEXTURE2D'),
        (oc[(oc.DDS_DIMENSION_TEXTURE3D = 6)] = 'DDS_DIMENSION_TEXTURE3D'));
    var _h = (((uc = {})[827611204] = $.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT), (uc[861165636] = $.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT), (uc[894720068] = $.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT), uc),
        mh = (((Oc = {})[Rc.DXGI_FORMAT_BC1_TYPELESS] = $.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT), (Oc[Rc.DXGI_FORMAT_BC1_UNORM] = $.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT), (Oc[Rc.DXGI_FORMAT_BC2_TYPELESS] = $.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT), (Oc[Rc.DXGI_FORMAT_BC2_UNORM] = $.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT), (Oc[Rc.DXGI_FORMAT_BC3_TYPELESS] = $.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT), (Oc[Rc.DXGI_FORMAT_BC3_UNORM] = $.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT), (Oc[Rc.DXGI_FORMAT_BC1_UNORM_SRGB] = $.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT), (Oc[Rc.DXGI_FORMAT_BC2_UNORM_SRGB] = $.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT), (Oc[Rc.DXGI_FORMAT_BC3_UNORM_SRGB] = $.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT), Oc),
        Eh =
            ((vh.use = function (t, e) {
                if ('dds' === t.extension && t.data)
                    try {
                        Object.assign(t, nh(t.name || t.url, vh.parse(t.data), t.metadata));
                    } catch (t) {
                        return void e(t);
                    }
                e();
            }),
            (vh.parse = function (t) {
                var e = new Uint32Array(t);
                if (542327876 !== e[0]) throw new Error('Invalid DDS file magic word');
                var r = new Uint32Array(t, 0, 124 / Uint32Array.BYTES_PER_ELEMENT),
                    i = r[sh],
                    n = r[ah],
                    o = r[hh],
                    s = new Uint32Array(t, uh * Uint32Array.BYTES_PER_ELEMENT, 32 / Uint32Array.BYTES_PER_ELEMENT),
                    r = s[1];
                if (4 & r) {
                    s = s[lh];
                    if (808540228 !== s) {
                        var a = _h[s],
                            h = new Uint8Array(t, 128);
                        return [new eh(h, { format: a, width: n, height: i, levels: o })];
                    }
                    var s = new Uint32Array(e.buffer, 128, 20 / Uint32Array.BYTES_PER_ELEMENT),
                        h = s[ch],
                        a = s[dh],
                        e = s[fh],
                        u = s[ph],
                        l = mh[h];
                    if (void 0 === l) throw new Error('DDSLoader cannot parse texture data with DXGI format ' + h);
                    if (4 === e) throw new Error('DDSLoader does not support cubemap textures');
                    if (a === oh.DDS_DIMENSION_TEXTURE3D) throw new Error('DDSLoader does not supported 3D texture data');
                    var c = new Array();
                    if (1 === u) c.push(new Uint8Array(t, 148));
                    else {
                        for (var d = qa[l], f = 0, p = n, _ = i, m = 0; m < o; m++) ((f += Math.max(1, (p + 3) & -4) * Math.max(1, (_ + 3) & -4) * d), (p >>>= 1), (_ >>>= 1));
                        for (var E = 148, m = 0; m < u; m++) (c.push(new Uint8Array(t, E, f)), (E += f));
                    }
                    return c.map(function (t) {
                        return new eh(t, { format: l, width: n, height: i, levels: o });
                    });
                }
                if (64 & r) throw new Error('DDSLoader does not support uncompressed texture data.');
                if (512 & r) throw new Error('DDSLoader does not supported YUV uncompressed texture data.');
                if (131072 & r) throw new Error('DDSLoader does not support single-channel (lumninance) texture data!');
                if (2 & r) throw new Error('DDSLoader does not support single-channel (alpha) texture data!');
                throw new Error('DDSLoader failed to load a texture file due to an unknown reason!');
            }),
            vh);
    function vh() {}
    $.LoaderResource.setExtensionXhrType('ktx', $.LoaderResource.XHR_RESPONSE_TYPE.BUFFER);
    var yh = [171, 75, 84, 88, 32, 49, 49, 187, 13, 10, 26, 10],
        gh = 12,
        Th = 16,
        bh = 24,
        xh = 28,
        Rh = 36,
        Ah = 40,
        Sh = 44,
        Oh = 48,
        Ih = 52,
        Mh = 56,
        Nh = 60,
        Ph = (((bd = {})[$.TYPES.UNSIGNED_BYTE] = 1), (bd[$.TYPES.UNSIGNED_SHORT] = 2), (bd[$.TYPES.INT] = 4), (bd[$.TYPES.UNSIGNED_INT] = 4), (bd[$.TYPES.FLOAT] = 4), (bd[$.TYPES.HALF_FLOAT] = 8), bd),
        Dh = (((xd = {})[$.FORMATS.RGBA] = 4), (xd[$.FORMATS.RGB] = 3), (xd[$.FORMATS.RG] = 2), (xd[$.FORMATS.RED] = 1), (xd[$.FORMATS.LUMINANCE] = 1), (xd[$.FORMATS.LUMINANCE_ALPHA] = 2), (xd[$.FORMATS.ALPHA] = 1), xd),
        Ch = (((Rd = {})[$.TYPES.UNSIGNED_SHORT_4_4_4_4] = 2), (Rd[$.TYPES.UNSIGNED_SHORT_5_5_5_1] = 2), (Rd[$.TYPES.UNSIGNED_SHORT_5_6_5] = 2), Rd),
        wh =
            ((Lh.use = function (t, e) {
                if ('ktx' === t.extension && t.data)
                    try {
                        var i,
                            n = t.name || t.url,
                            r = Lh.parse(n, t.data),
                            o = r.compressed,
                            s = r.uncompressed,
                            a = r.kvData;
                        if (o) {
                            var h = nh(n, o, t.metadata);
                            if (a && h.textures) for (var u in h.textures) h.textures[u].baseTexture.ktxKeyValueData = a;
                            Object.assign(t, h);
                        } else
                            s &&
                                ((i = {}),
                                s.forEach(function (t, e) {
                                    var r = new Gi(new Zr(t.resource, { mipmap: $.MIPMAP_MODES.OFF, alphaMode: $.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA, type: t.type, format: t.format })),
                                        t = n + '-' + (e + 1);
                                    (a && (r.baseTexture.ktxKeyValueData = a), Zr.addToCache(r.baseTexture, t), Gi.addToCache(r, t), 0 === e && ((i[n] = r), Zr.addToCache(r.baseTexture, n), Gi.addToCache(r, n)), (i[t] = r));
                                }),
                                Object.assign(t, { textures: i }));
                    } catch (t) {
                        return void e(t);
                    }
                e();
            }),
            (Lh.parse = function (t, e) {
                var r = new DataView(e);
                if (!Lh.validate(t, r)) return null;
                var i = 67305985 === r.getUint32(gh, !0),
                    n = r.getUint32(Th, i),
                    o = r.getUint32(bh, i),
                    s = r.getUint32(xh, i),
                    a = r.getUint32(Rh, i),
                    h = r.getUint32(Ah, i) || 1,
                    u = r.getUint32(Sh, i) || 1,
                    l = r.getUint32(Oh, i) || 1,
                    c = r.getUint32(Ih, i),
                    d = r.getUint32(Mh, i),
                    f = r.getUint32(Nh, i);
                if (0 === h || 1 !== u) throw new Error('Only 2D textures are supported');
                if (1 !== c) throw new Error('CubeTextures are not supported by KTXLoader yet!');
                if (1 !== l) throw new Error('WebGL does not support array textures');
                var p = (a + 3) & -4,
                    t = (h + 3) & -4,
                    _ = new Array(l),
                    u = 0 === n ? p * t : a * h,
                    m = 0 !== n ? (Ph[n] ? Ph[n] * Dh[o] : Ch[n]) : qa[s];
                if (void 0 === m) throw new Error('Unable to resolve the pixel format stored in the *.ktx file!');
                for (var c = Lh.loadKeyValueData ? Lh.parseKvData(r, f, i) : null, E = u * m, v = a, y = h, g = p, T = t, b = 64 + f, x = 0; x < d; x++) {
                    for (var R = r.getUint32(b, i), A = b + 4, S = 0; S < l; S++) (((_[S] || (_[S] = new Array(d)))[x] = { levelID: x, levelWidth: 1 < d || 0 !== n ? v : g, levelHeight: 1 < d || 0 !== n ? y : T, levelBuffer: new Uint8Array(e, A, E) }), (A += E));
                    ((b = (b += R + 4) % 4 != 0 ? b + 4 - (b % 4) : b), (E = (g = ((v = v >> 1 || 1) + 4 - 1) & -4) * (T = ((y = y >> 1 || 1) + 4 - 1) & -4) * m));
                }
                return 0 !== n
                    ? {
                          uncompressed: _.map(function (t) {
                              var e = t[0].levelBuffer,
                                  r = !1;
                              return (n === $.TYPES.FLOAT ? (e = new Float32Array(t[0].levelBuffer.buffer, t[0].levelBuffer.byteOffset, t[0].levelBuffer.byteLength / 4)) : n === $.TYPES.UNSIGNED_INT ? ((r = !0), (e = new Uint32Array(t[0].levelBuffer.buffer, t[0].levelBuffer.byteOffset, t[0].levelBuffer.byteLength / 4))) : n === $.TYPES.INT && ((r = !0), (e = new Int32Array(t[0].levelBuffer.buffer, t[0].levelBuffer.byteOffset, t[0].levelBuffer.byteLength / 4))), { resource: new Wr(e, { width: t[0].levelWidth, height: t[0].levelHeight }), type: n, format: r ? Lh.convertFormatToInteger(o) : o });
                          }),
                          kvData: c,
                      }
                    : {
                          compressed: _.map(function (t) {
                              return new eh(null, { format: s, width: a, height: h, levels: d, levelBuffers: t });
                          }),
                          kvData: c,
                      };
            }),
            (Lh.validate = function (t, e) {
                for (var r = 0; r < yh.length; r++) if (e.getUint8(r) !== yh[r]) return (console.error(t + ' is not a valid *.ktx file!'), !1);
                return !0;
            }),
            (Lh.convertFormatToInteger = function (t) {
                switch (t) {
                    case $.FORMATS.RGBA:
                        return $.FORMATS.RGBA_INTEGER;
                    case $.FORMATS.RGB:
                        return $.FORMATS.RGB_INTEGER;
                    case $.FORMATS.RG:
                        return $.FORMATS.RG_INTEGER;
                    case $.FORMATS.RED:
                        return $.FORMATS.RED_INTEGER;
                    default:
                        return t;
                }
            }),
            (Lh.parseKvData = function (t, e, r) {
                for (var i = new Map(), n = 0; n < e; ) {
                    var o = t.getUint32(64 + n, r),
                        s = 64 + n + 4,
                        a = 3 - ((o + 3) % 4);
                    if (0 === o || e - n < o) {
                        console.error('KTXLoader: keyAndValueByteSize out of bounds');
                        break;
                    }
                    for (var h = 0; h < o && 0 !== t.getUint8(s + h); h++);
                    if (-1 === h) {
                        console.error('KTXLoader: Failed to find null byte terminating kvData key');
                        break;
                    }
                    var u = new TextDecoder().decode(new Uint8Array(t.buffer, s, h)),
                        l = new DataView(t.buffer, s + h + 1, o - h - 1);
                    (i.set(u, l), (n += 4 + o + a));
                }
                return i;
            }),
            (Lh.loadKeyValueData = !1),
            Lh);
    function Lh() {}
    var Fh = function (t, e) {
        return (Fh =
            Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array &&
                function (t, e) {
                    t.__proto__ = e;
                }) ||
            function (t, e) {
                for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r]);
            })(t, e);
    };
    function Uh(t, e) {
        function r() {
            this.constructor = t;
        }
        (Fh(t, e), (t.prototype = null === e ? Object.create(e) : ((r.prototype = e.prototype), new r())));
    }
    var Bh,
        Gh =
            (Uh(kh, (Bh = ur)),
            (kh.prototype.setProperties = function (t) {
                t && ((this._properties[0] = 'vertices' in t || 'scale' in t ? !!t.vertices || !!t.scale : this._properties[0]), (this._properties[1] = 'position' in t ? !!t.position : this._properties[1]), (this._properties[2] = 'rotation' in t ? !!t.rotation : this._properties[2]), (this._properties[3] = 'uvs' in t ? !!t.uvs : this._properties[3]), (this._properties[4] = 'tint' in t || 'alpha' in t ? !!t.tint || !!t.alpha : this._properties[4]));
            }),
            (kh.prototype.updateTransform = function () {
                this.displayObjectUpdateTransform();
            }),
            Object.defineProperty(kh.prototype, 'tint', {
                get: function () {
                    return this._tint;
                },
                set: function (t) {
                    Ht((this._tint = t), this.tintRgb);
                },
                enumerable: !1,
                configurable: !0,
            }),
            (kh.prototype.render = function (t) {
                var e = this;
                this.visible &&
                    !(this.worldAlpha <= 0) &&
                    this.children.length &&
                    this.renderable &&
                    (this.baseTexture ||
                        ((this.baseTexture = this.children[0]._texture.baseTexture),
                        this.baseTexture.valid ||
                            this.baseTexture.once('update', function () {
                                return e.onChildrenChange(0);
                            })),
                    t.batch.setObjectRenderer(t.plugins.particle),
                    t.plugins.particle.render(this));
            }),
            (kh.prototype.onChildrenChange = function (t) {
                for (var e = Math.floor(t / this._batchSize); this._bufferUpdateIDs.length < e; ) this._bufferUpdateIDs.push(0);
                this._bufferUpdateIDs[e] = ++this._updateID;
            }),
            (kh.prototype.dispose = function () {
                if (this._buffers) {
                    for (var t = 0; t < this._buffers.length; ++t) this._buffers[t].destroy();
                    this._buffers = null;
                }
            }),
            (kh.prototype.destroy = function (t) {
                (Bh.prototype.destroy.call(this, t), this.dispose(), (this._properties = null), (this._buffers = null), (this._bufferUpdateIDs = null));
            }),
            kh);
    function kh(t, e, r, i) {
        (void 0 === t && (t = 1500), void 0 === r && (r = 16384), void 0 === i && (i = !1));
        var n = Bh.call(this) || this;
        return (16384 < r && (r = 16384), (n._properties = [!1, !0, !1, !1, !1]), (n._maxSize = t), (n._batchSize = r), (n._buffers = null), (n._bufferUpdateIDs = []), (n._updateID = 0), (n.interactiveChildren = !1), (n.blendMode = $.BLEND_MODES.NORMAL), (n.autoResize = i), (n.roundPixels = !0), (n.baseTexture = null), n.setProperties(e), (n._tint = 0), (n.tintRgb = new Float32Array(4)), (n.tint = 16777215), n);
    }
    var Xh =
        ((Hh.prototype.initBuffers = function () {
            var t = this.geometry,
                e = 0;
            ((this.indexBuffer = new Ki(Qt(this.size), !0, !0)), t.addIndex(this.indexBuffer));
            for (var r = (this.dynamicStride = 0); r < this.dynamicProperties.length; ++r) (((o = this.dynamicProperties[r]).offset = e), (e += o.size), (this.dynamicStride += o.size));
            var i = new ArrayBuffer(this.size * this.dynamicStride * 4 * 4);
            ((this.dynamicData = new Float32Array(i)), (this.dynamicDataUint32 = new Uint32Array(i)), (this.dynamicBuffer = new Ki(this.dynamicData, !1, !1)));
            for (var n = 0, r = (this.staticStride = 0); r < this.staticProperties.length; ++r) (((o = this.staticProperties[r]).offset = n), (n += o.size), (this.staticStride += o.size));
            i = new ArrayBuffer(this.size * this.staticStride * 4 * 4);
            ((this.staticData = new Float32Array(i)), (this.staticDataUint32 = new Uint32Array(i)), (this.staticBuffer = new Ki(this.staticData, !0, !1)));
            for (r = 0; r < this.dynamicProperties.length; ++r) {
                var o = this.dynamicProperties[r];
                t.addAttribute(o.attributeName, this.dynamicBuffer, 0, o.type === $.TYPES.UNSIGNED_BYTE, o.type, 4 * this.dynamicStride, 4 * o.offset);
            }
            for (r = 0; r < this.staticProperties.length; ++r) {
                o = this.staticProperties[r];
                t.addAttribute(o.attributeName, this.staticBuffer, 0, o.type === $.TYPES.UNSIGNED_BYTE, o.type, 4 * this.staticStride, 4 * o.offset);
            }
        }),
        (Hh.prototype.uploadDynamic = function (t, e, r) {
            for (var i = 0; i < this.dynamicProperties.length; i++) {
                var n = this.dynamicProperties[i];
                n.uploadFunction(t, e, r, n.type === $.TYPES.UNSIGNED_BYTE ? this.dynamicDataUint32 : this.dynamicData, this.dynamicStride, n.offset);
            }
            this.dynamicBuffer._updateID++;
        }),
        (Hh.prototype.uploadStatic = function (t, e, r) {
            for (var i = 0; i < this.staticProperties.length; i++) {
                var n = this.staticProperties[i];
                n.uploadFunction(t, e, r, n.type === $.TYPES.UNSIGNED_BYTE ? this.staticDataUint32 : this.staticData, this.staticStride, n.offset);
            }
            this.staticBuffer._updateID++;
        }),
        (Hh.prototype.destroy = function () {
            ((this.indexBuffer = null), (this.dynamicProperties = null), (this.dynamicBuffer = null), (this.dynamicData = null), (this.dynamicDataUint32 = null), (this.staticProperties = null), (this.staticBuffer = null), (this.staticData = null), (this.staticDataUint32 = null), this.geometry.destroy());
        }),
        Hh);
    function Hh(t, e, r) {
        ((this.geometry = new en()), (this.indexBuffer = null), (this.size = r), (this.dynamicProperties = []), (this.staticProperties = []));
        for (var i = 0; i < t.length; ++i) {
            var n = { attributeName: (n = t[i]).attributeName, size: n.size, uploadFunction: n.uploadFunction, type: n.type || $.TYPES.FLOAT, offset: n.offset };
            (e[i] ? this.dynamicProperties : this.staticProperties).push(n);
        }
        ((this.staticStride = 0), (this.staticBuffer = null), (this.staticData = null), (this.staticDataUint32 = null), (this.dynamicStride = 0), (this.dynamicBuffer = null), (this.dynamicData = null), (this.dynamicDataUint32 = null), (this._updateID = 0), this.initBuffers());
    }
    var Yh,
        j =
            (Uh(jh, (Yh = yn)),
            (jh.prototype.render = function (t) {
                var e = t.children,
                    r = t._maxSize,
                    i = t._batchSize,
                    n = this.renderer,
                    o = e.length;
                if (0 !== o) {
                    r < o && !t.autoResize && (o = r);
                    var s = (s = t._buffers) || (t._buffers = this.generateBuffers(t)),
                        a = e[0]._texture.baseTexture;
                    ((this.state.blendMode = zt(t.blendMode, a.alphaMode)), n.state.set(this.state));
                    var h = n.gl,
                        r = t.worldTransform.copyTo(this.tempMatrix);
                    (r.prepend(n.globalUniforms.uniforms.projectionMatrix), (this.shader.uniforms.translationMatrix = r.toArray(!0)), (this.shader.uniforms.uColor = qt(t.tintRgb, t.worldAlpha, this.shader.uniforms.uColor, a.alphaMode)), (this.shader.uniforms.uSampler = a), this.renderer.shader.bind(this.shader));
                    for (var u = !1, l = 0, c = 0; l < o; l += i, c += 1) {
                        var d = o - l;
                        (i < d && (d = i), c >= s.length && s.push(this._generateOneMoreBuffer(t)));
                        var f = s[c];
                        f.uploadDynamic(e, l, d);
                        var p = t._bufferUpdateIDs[c] || 0;
                        ((u = u || f._updateID < p) && ((f._updateID = t._updateID), f.uploadStatic(e, l, d)), n.geometry.bind(f.geometry), h.drawElements(h.TRIANGLES, 6 * d, h.UNSIGNED_SHORT, 0));
                    }
                }
            }),
            (jh.prototype.generateBuffers = function (t) {
                for (var e = [], r = t._maxSize, i = t._batchSize, n = t._properties, o = 0; o < r; o += i) e.push(new Xh(this.properties, n, i));
                return e;
            }),
            (jh.prototype._generateOneMoreBuffer = function (t) {
                var e = t._batchSize,
                    t = t._properties;
                return new Xh(this.properties, t, e);
            }),
            (jh.prototype.uploadVertices = function (t, e, r, i, n, o) {
                for (var s = 0, a = 0, h = 0, u = 0, l = 0; l < r; ++l) {
                    var c = t[e + l],
                        d = c._texture,
                        f = c.scale.x,
                        p = c.scale.y,
                        _ = d.trim,
                        d = d.orig;
                    (_ ? ((s = (a = _.x - c.anchor.x * d.width) + _.width), (h = (u = _.y - c.anchor.y * d.height) + _.height)) : ((s = d.width * (1 - c.anchor.x)), (a = d.width * -c.anchor.x), (h = d.height * (1 - c.anchor.y)), (u = d.height * -c.anchor.y)), (i[o] = a * f), (i[o + 1] = u * p), (i[o + n] = s * f), (i[o + n + 1] = u * p), (i[o + 2 * n] = s * f), (i[o + 2 * n + 1] = h * p), (i[o + 3 * n] = a * f), (i[o + 3 * n + 1] = h * p), (o += 4 * n));
                }
            }),
            (jh.prototype.uploadPosition = function (t, e, r, i, n, o) {
                for (var s = 0; s < r; s++) {
                    var a = t[e + s].position;
                    ((i[o] = a.x), (i[o + 1] = a.y), (i[o + n] = a.x), (i[o + n + 1] = a.y), (i[o + 2 * n] = a.x), (i[o + 2 * n + 1] = a.y), (i[o + 3 * n] = a.x), (i[o + 3 * n + 1] = a.y), (o += 4 * n));
                }
            }),
            (jh.prototype.uploadRotation = function (t, e, r, i, n, o) {
                for (var s = 0; s < r; s++) {
                    var a = t[e + s].rotation;
                    ((i[o] = a), (i[o + n] = a), (i[o + 2 * n] = a), (i[o + 3 * n] = a), (o += 4 * n));
                }
            }),
            (jh.prototype.uploadUvs = function (t, e, r, i, n, o) {
                for (var s = 0; s < r; ++s) {
                    var a = t[e + s]._texture._uvs;
                    (a ? ((i[o] = a.x0), (i[o + 1] = a.y0), (i[o + n] = a.x1), (i[o + n + 1] = a.y1), (i[o + 2 * n] = a.x2), (i[o + 2 * n + 1] = a.y2), (i[o + 3 * n] = a.x3), (i[o + 3 * n + 1] = a.y3)) : ((i[o] = 0), (i[o + 1] = 0), (i[o + n] = 0), (i[o + n + 1] = 0), (i[o + 2 * n] = 0), (i[o + 2 * n + 1] = 0), (i[o + 3 * n] = 0), (i[o + 3 * n + 1] = 0)), (o += 4 * n));
                }
            }),
            (jh.prototype.uploadTint = function (t, e, r, i, n, o) {
                for (var s = 0; s < r; ++s) {
                    var a = t[e + s],
                        h = 0 < a._texture.baseTexture.alphaMode,
                        u = a.alpha,
                        u = u < 1 && h ? Kt(a._tintRGB, u) : a._tintRGB + ((255 * u) << 24);
                    ((i[o] = u), (i[o + n] = u), (i[o + 2 * n] = u), (i[o + 3 * n] = u), (o += 4 * n));
                }
            }),
            (jh.prototype.destroy = function () {
                (Yh.prototype.destroy.call(this), this.shader && (this.shader.destroy(), (this.shader = null)), (this.tempMatrix = null));
            }),
            jh);
    function jh(t) {
        t = Yh.call(this, t) || this;
        return (
            (t.shader = null),
            (t.properties = null),
            (t.tempMatrix = new Be()),
            (t.properties = [
                { attributeName: 'aVertexPosition', size: 2, uploadFunction: t.uploadVertices, offset: 0 },
                { attributeName: 'aPositionCoord', size: 2, uploadFunction: t.uploadPosition, offset: 0 },
                { attributeName: 'aRotation', size: 1, uploadFunction: t.uploadRotation, offset: 0 },
                { attributeName: 'aTextureCoord', size: 2, uploadFunction: t.uploadUvs, offset: 0 },
                { attributeName: 'aColor', size: 1, type: $.TYPES.UNSIGNED_BYTE, uploadFunction: t.uploadTint, offset: 0 },
            ]),
            (t.shader = oo.from('attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n', 'varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}', {})),
            (t.state = ao.for2d()),
            t
        );
    }
    (($.LINE_JOIN = void 0), ((At = $.LINE_JOIN || ($.LINE_JOIN = {})).MITER = 'miter'), (At.BEVEL = 'bevel'), (At.ROUND = 'round'), ($.LINE_CAP = void 0), ((vt = $.LINE_CAP || ($.LINE_CAP = {})).BUTT = 'butt'), (vt.ROUND = 'round'), (vt.SQUARE = 'square'));
    var Vh = {
            adaptive: !0,
            maxLength: 10,
            minSegments: 8,
            maxSegments: 2048,
            epsilon: 1e-4,
            _segmentsCount: function (t, e) {
                if ((void 0 === e && (e = 20), !this.adaptive || !t || isNaN(t))) return e;
                t = Math.ceil(t / this.maxLength);
                return (t < this.minSegments ? (t = this.minSegments) : t > this.maxSegments && (t = this.maxSegments), t);
            },
        },
        Wh =
            ((zh.prototype.clone = function () {
                var t = new zh();
                return ((t.color = this.color), (t.alpha = this.alpha), (t.texture = this.texture), (t.matrix = this.matrix), (t.visible = this.visible), t);
            }),
            (zh.prototype.reset = function () {
                ((this.color = 16777215), (this.alpha = 1), (this.texture = Gi.WHITE), (this.matrix = null), (this.visible = !1));
            }),
            (zh.prototype.destroy = function () {
                ((this.texture = null), (this.matrix = null));
            }),
            zh);
    function zh() {
        ((this.color = 16777215), (this.alpha = 1), (this.texture = Gi.WHITE), (this.matrix = null), (this.visible = !1), this.reset());
    }
    var qh = function (t, e) {
        return (qh =
            Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array &&
                function (t, e) {
                    t.__proto__ = e;
                }) ||
            function (t, e) {
                for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r]);
            })(t, e);
    };
    function Kh(t, e) {
        function r() {
            this.constructor = t;
        }
        (qh(t, e), (t.prototype = null === e ? Object.create(e) : ((r.prototype = e.prototype), new r())));
    }
    function Zh(t, e) {
        void 0 === e && (e = !1);
        var r = t.length;
        if (!(r < 6)) {
            for (var i = 0, n = 0, o = t[r - 2], s = t[r - 1]; n < r; n += 2) {
                var a = t[n],
                    h = t[n + 1];
                ((i += (a - o) * (h + s)), (o = a), (s = h));
            }
            if ((!e && 0 < i) || (e && i <= 0))
                for (e = r / 2, n = e + (e % 2); n < r; n += 2) {
                    var u = r - n - 2,
                        l = r - n - 1,
                        c = n,
                        d = n + 1,
                        f = [t[c], t[u]];
                    ((t[u] = f[0]), (t[c] = f[1]), (f = [t[d], t[l]]), (t[l] = f[0]), (t[d] = f[1]));
                }
        }
    }
    var Qh = {
            build: function (t) {
                t.points = t.shape.points.slice();
            },
            triangulate: function (t, e) {
                var r = t.points,
                    i = t.holes,
                    n = e.points,
                    o = e.indices;
                if (6 <= r.length) {
                    Zh(r, !1);
                    for (var s = [], a = 0; a < i.length; a++) {
                        var h = i[a];
                        (Zh(h.points, !0), s.push(r.length / 2), (r = r.concat(h.points)));
                    }
                    var u = Y(r, s, 2);
                    if (u) {
                        for (var l = n.length / 2, a = 0; a < u.length; a += 3) (o.push(u[a] + l), o.push(u[a + 1] + l), o.push(u[a + 2] + l));
                        for (a = 0; a < r.length; a++) n.push(r[a]);
                    }
                }
            },
        },
        Jh = {
            build: function (t) {
                var e,
                    r,
                    i,
                    n,
                    o,
                    s,
                    a,
                    h,
                    u = t.points;
                if ((t.type === $.SHAPES.CIRC ? ((n = (i = t.shape).x), (o = i.y), (s = r = i.radius), (a = e = 0)) : t.type === $.SHAPES.ELIP ? ((n = (h = t.shape).x), (o = h.y), (s = h.width), (r = h.height), (a = e = 0)) : ((t = (h = t.shape).width / 2), (c = h.height / 2), (n = h.x + t), (o = h.y + c), (a = t - (s = r = Math.max(0, Math.min(h.radius, Math.min(t, c))))), (e = c - r)), 0 <= s && 0 <= r && 0 <= a && 0 <= e)) {
                    var l = Math.ceil(2.3 * Math.sqrt(s + r)),
                        c = 8 * l + (a ? 4 : 0) + (e ? 4 : 0);
                    if (0 != (u.length = c)) {
                        if (0 === l) return ((u.length = 8), (u[0] = u[6] = n + a), (u[1] = u[3] = o + e), (u[2] = u[4] = n - a), void (u[5] = u[7] = o - e));
                        var d = 0,
                            f = 4 * l + (a ? 2 : 0) + 2,
                            p = f,
                            _ = c,
                            m = n + (b = a + s),
                            E = n - b,
                            v = o + (x = e);
                        ((u[d++] = m), (u[d++] = v), (u[--f] = v), (u[--f] = E), e && ((T = o - x), (u[p++] = E), (u[p++] = T), (u[--_] = T), (u[--_] = m)));
                        for (var y = 1; y < l; y++) {
                            var g = (Math.PI / 2) * (y / l),
                                m = n + (b = a + Math.cos(g) * s),
                                E = n - b,
                                v = o + (x = e + Math.sin(g) * r),
                                T = o - x;
                            ((u[d++] = m), (u[d++] = v), (u[--f] = v), (u[--f] = E), (u[p++] = E), (u[p++] = T), (u[--_] = T), (u[--_] = m));
                        }
                        var b,
                            x,
                            m = n + (b = a),
                            E = n - b,
                            v = o + (x = e + r),
                            T = o - x;
                        ((u[d++] = m), (u[d++] = v), (u[--_] = T), (u[--_] = m), a && ((u[d++] = E), (u[d++] = v), (u[--_] = T), (u[--_] = E)));
                    }
                } else u.length = 0;
            },
            triangulate: function (t, e) {
                var r,
                    i,
                    n = t.points,
                    o = e.points,
                    s = e.indices,
                    a = o.length / 2,
                    h = a;
                i = t.type !== $.SHAPES.RREC ? ((r = (i = t.shape).x), i.y) : ((r = (u = t.shape).x + u.width / 2), u.y + u.height / 2);
                var u = t.matrix;
                (o.push(t.matrix ? u.a * r + u.c * i + u.tx : r, t.matrix ? u.b * r + u.d * i + u.ty : i), a++, o.push(n[0], n[1]));
                for (var l = 2; l < n.length; l += 2) (o.push(n[l], n[l + 1]), s.push(a++, h, a));
                s.push(h + 1, h, a);
            },
        },
        gt = {
            build: function (t) {
                var e = t.shape,
                    r = e.x,
                    i = e.y,
                    n = e.width,
                    e = e.height,
                    t = t.points;
                ((t.length = 0), t.push(r, i, r + n, i, r + n, i + e, r, i + e));
            },
            triangulate: function (t, e) {
                var r = t.points,
                    i = e.points,
                    t = i.length / 2;
                (i.push(r[0], r[1], r[2], r[3], r[6], r[7], r[4], r[5]), e.indices.push(t, 1 + t, 2 + t, 1 + t, 2 + t, 3 + t));
            },
        };
    function $h(t, e, r) {
        return t + (e - t) * r;
    }
    function tu(t, e, r, i, n, o, s) {
        void 0 === s && (s = []);
        for (var a, h, u, l, c, d, f, p = s, _ = 0; _ <= 20; ++_) ((a = $h(t, r, (f = _ / 20))), (h = $h(e, i, f)), (u = $h(r, n, f)), (l = $h(i, o, f)), (c = $h(a, u, f)), (d = $h(h, l, f)), (0 === _ && p[p.length - 2] === c && p[p.length - 1] === d) || p.push(c, d));
        return p;
    }
    var eu = {
        build: function (t) {
            var e, r, i, n, o;
            Mu.nextRoundedRectBehavior ? Jh.build(t) : ((o = t.shape), (e = t.points), (r = o.x), (i = o.y), (n = o.width), (t = o.height), (o = Math.max(0, Math.min(o.radius, Math.min(n, t) / 2))), (e.length = 0), o ? (tu(r, i + o, r, i, r + o, i, e), tu(r + n - o, i, r + n, i, r + n, i + o, e), tu(r + n, i + t - o, r + n, i + t, r + n - o, i + t, e), tu(r + o, i + t, r, i + t, r, i + t - o, e)) : e.push(r, i, r + n, i, r + n, i + t, r, i + t));
        },
        triangulate: function (t, e) {
            if (Mu.nextRoundedRectBehavior) Jh.triangulate(t, e);
            else {
                for (var r = t.points, i = e.points, n = e.indices, o = i.length / 2, s = Y(r, null, 2), a = 0, h = s.length; a < h; a += 3) (n.push(s[a] + o), n.push(s[a + 1] + o), n.push(s[a + 2] + o));
                for (a = 0, h = r.length; a < h; a++) i.push(r[a], r[++a]);
            }
        },
    };
    function ru(t, e, r, i, n, o, s, a) {
        var h = s ? ((u = i), -r) : ((u = -i), r),
            s = t - r * n + u,
            n = e - i * n + h,
            u = t + r * o + u,
            h = e + i * o + h;
        return (a.push(s, n), a.push(u, h), 2);
    }
    function iu(t, e, r, i, n, o, s, a) {
        var h = r - t,
            u = i - e,
            l = Math.atan2(h, u),
            c = Math.atan2(n - t, o - e);
        a && l < c ? (l += 2 * Math.PI) : !a && c < l && (c += 2 * Math.PI);
        var d = l,
            c = c - l,
            l = Math.abs(c),
            f = Math.sqrt(h * h + u * u),
            p = 1 + (((15 * l * Math.sqrt(f)) / Math.PI) >> 0),
            _ = c / p;
        if (((d += _), a)) {
            (s.push(t, e), s.push(r, i));
            for (var m = 1, E = d; m < p; m++, E += _) (s.push(t, e), s.push(t + Math.sin(E) * f, e + Math.cos(E) * f));
            (s.push(t, e), s.push(n, o));
        } else {
            (s.push(r, i), s.push(t, e));
            for (m = 1, E = d; m < p; m++, E += _) (s.push(t + Math.sin(E) * f, e + Math.cos(E) * f), s.push(t, e));
            (s.push(n, o), s.push(t, e));
        }
        return 2 * p;
    }
    function nu(h, t) {
        h.lineStyle.native
            ? (function (t) {
                  var e = 0,
                      r = h.shape,
                      i = h.points || r.points,
                      r = r.type !== $.SHAPES.POLY || r.closeStroke;
                  if (0 !== i.length) {
                      var n = t.points,
                          o = t.indices,
                          s = i.length / 2,
                          t = n.length / 2,
                          a = t;
                      for (n.push(i[0], i[1]), e = 1; e < s; e++) (n.push(i[2 * e], i[2 * e + 1]), o.push(a, a + 1), a++);
                      r && o.push(a, t);
                  }
              })(t)
            : (function (t, e) {
                  var r = t.shape,
                      i = t.points || r.points.slice(),
                      n = e.closePointEps;
                  if (0 !== i.length) {
                      var o = t.lineStyle,
                          s = new xe(i[0], i[1]),
                          t = new xe(i[i.length - 2], i[i.length - 1]),
                          r = r.type !== $.SHAPES.POLY || r.closeStroke,
                          n = Math.abs(s.x - t.x) < n && Math.abs(s.y - t.y) < n;
                      r && ((i = i.slice()), n && (i.pop(), i.pop(), t.set(i[i.length - 2], i[i.length - 1])), (n = 0.5 * (s.x + t.x)), (A = 0.5 * (t.y + s.y)), i.unshift(n, A), i.push(n, A));
                      var a,
                          h,
                          u = e.points,
                          l = i.length / 2,
                          c = i.length,
                          d = u.length / 2,
                          f = o.width / 2,
                          p = f * f,
                          _ = o.miterLimit * o.miterLimit,
                          m = i[0],
                          E = i[1],
                          v = i[2],
                          y = i[3],
                          g = 0,
                          T = 0,
                          b = -(E - y),
                          x = m - v,
                          R = Math.sqrt(b * b + x * x);
                      ((b /= R), (x /= R), (b *= f), (x *= f));
                      var A = o.alignment,
                          S = 2 * (1 - A),
                          O = 2 * A;
                      (r || (o.cap === $.LINE_CAP.ROUND ? (c += iu(m - b * (S - O) * 0.5, E - x * (S - O) * 0.5, m - b * S, E - x * S, m + b * O, E + x * O, u, !0) + 2) : o.cap === $.LINE_CAP.SQUARE && (c += ru(m, E, b, x, S, O, !0, u))), u.push(m - b * S, E - x * S), u.push(m + b * O, E + x * O));
                      for (var I = 1; I < l - 1; ++I) {
                          ((m = i[2 * (I - 1)]), (E = i[2 * (I - 1) + 1]), (v = i[2 * I]), (y = i[2 * I + 1]), (g = i[2 * (I + 1)]), (T = i[2 * (I + 1) + 1]), (b = -(E - y)), (x = m - v), (b /= R = Math.sqrt(b * b + x * x)), (x /= R), (b *= f), (x *= f), (a = -(y - T)), (h = v - g), (a /= R = Math.sqrt(a * a + h * h)), (h /= R), (a *= f), (h *= f));
                          var M,
                              N,
                              P,
                              D,
                              C,
                              w,
                              L = v - m,
                              F = E - y,
                              U = v - g,
                              B = T - y,
                              G = F * U - B * L,
                              k = G < 0;
                          Math.abs(G) < 0.1
                              ? (u.push(v - b * S, y - x * S), u.push(v + b * O, y + x * O))
                              : ((P = v + ((M = (L * (w = (-a + g) * (-h + y) - (-a + v) * (-h + T)) - U * (C = (-b + m) * (-x + y) - (-b + v) * (-x + E))) / G) - v) * S),
                                (D = y + ((N = (B * C - F * w) / G) - y) * S),
                                (C = v - (M - v) * O),
                                (w = y - (N - y) * O),
                                (G = k ? S : O),
                                (N = (M - v) * (M - v) + (N - y) * (N - y)) <= Math.min(L * L + F * F, U * U + B * B) + G * G * p
                                    ? o.join === $.LINE_JOIN.BEVEL || _ < N / p
                                        ? (k ? (u.push(P, D), u.push(v + b * O, y + x * O), u.push(P, D), u.push(v + a * O, y + h * O)) : (u.push(v - b * S, y - x * S), u.push(C, w), u.push(v - a * S, y - h * S), u.push(C, w)), (c += 2))
                                        : o.join === $.LINE_JOIN.ROUND
                                          ? k
                                              ? (u.push(P, D), u.push(v + b * O, y + x * O), (c += iu(v, y, v + b * O, y + x * O, v + a * O, y + h * O, u, !0) + 4), u.push(P, D), u.push(v + a * O, y + h * O))
                                              : (u.push(v - b * S, y - x * S), u.push(C, w), (c += iu(v, y, v - b * S, y - x * S, v - a * S, y - h * S, u, !1) + 4), u.push(v - a * S, y - h * S), u.push(C, w))
                                          : (u.push(P, D), u.push(C, w))
                                    : (u.push(v - b * S, y - x * S), u.push(v + b * O, y + x * O), o.join === $.LINE_JOIN.ROUND ? (c += k ? iu(v, y, v + b * O, y + x * O, v + a * O, y + h * O, u, !0) + 2 : iu(v, y, v - b * S, y - x * S, v - a * S, y - h * S, u, !1) + 2) : o.join === $.LINE_JOIN.MITER && N / p <= _ && (k ? (u.push(C, w), u.push(C, w)) : (u.push(P, D), u.push(P, D)), (c += 2)), u.push(v - a * S, y - h * S), u.push(v + a * O, y + h * O), (c += 2)));
                      }
                      ((m = i[2 * (l - 2)]), (E = i[2 * (l - 2) + 1]), (v = i[2 * (l - 1)]), (b = -(E - (y = i[2 * (l - 1) + 1]))), (x = m - v), (b /= R = Math.sqrt(b * b + x * x)), (x /= R), (b *= f), (x *= f), u.push(v - b * S, y - x * S), u.push(v + b * O, y + x * O), r || (o.cap === $.LINE_CAP.ROUND ? (c += iu(v - b * (S - O) * 0.5, y - x * (S - O) * 0.5, v - b * S, y - x * S, v + b * O, y + x * O, u, !1) + 2) : o.cap === $.LINE_CAP.SQUARE && (c += ru(v, y, b, x, S, O, !1, u))));
                      for (var X = e.indices, H = Vh.epsilon * Vh.epsilon, I = d; I < c + d - 2; ++I) ((m = u[2 * I]), (E = u[2 * I + 1]), (v = u[2 * (I + 1)]), (y = u[2 * (I + 1) + 1]), (g = u[2 * (I + 2)]), (T = u[2 * (I + 2) + 1]), Math.abs(m * (y - T) + v * (T - E) + g * (E - y)) < H || X.push(I, I + 1, I + 2));
                  }
              })(h, t);
    }
    var ou =
        ((su.curveTo = function (t, e, r, i, n, o) {
            var s = o[o.length - 2],
                a = o[o.length - 1] - e,
                h = s - t,
                u = i - e,
                l = r - t,
                c = Math.abs(a * l - h * u);
            if (c < 1e-8 || 0 === n) return ((o[o.length - 2] === t && o[o.length - 1] === e) || o.push(t, e), null);
            var d = a * a + h * h,
                f = u * u + l * l,
                s = a * u + h * l,
                i = (n * Math.sqrt(d)) / c,
                r = (n * Math.sqrt(f)) / c,
                o = (i * s) / d,
                c = (r * s) / f,
                d = i * l + r * h,
                s = i * u + r * a,
                f = h * (r + o),
                r = a * (r + o),
                o = l * (i + c),
                c = u * (i + c);
            return { cx: d + t, cy: s + e, radius: n, startAngle: Math.atan2(r - s, f - d), endAngle: Math.atan2(c - s, o - d), anticlockwise: l * a < h * u };
        }),
        (su.arc = function (t, e, r, i, n, o, s, a, h) {
            for (var u = s - o, s = Vh._segmentsCount(Math.abs(u) * n, 40 * Math.ceil(Math.abs(u) / ge)), l = u / (2 * s), c = 2 * l, d = Math.cos(l), f = Math.sin(l), p = s - 1, _ = (p % 1) / p, m = 0; m <= p; ++m) {
                var E = l + o + c * (m + _ * m),
                    v = Math.cos(E),
                    E = -Math.sin(E);
                h.push((d * v + f * E) * n + r, (d * -E + f * v) * n + i);
            }
        }),
        su);
    function su() {}
    var au =
        ((hu.curveLength = function (t, e, r, i, n, o, s, a) {
            for (var h, u, l, c, d, f, p, _, m, E, v = 0, y = t, g = e, T = 1; T <= 10; ++T) ((m = y - (p = (f = (d = (c = 1 - (h = T / 10)) * c) * c) * t + 3 * d * h * r + 3 * c * (u = h * h) * n + (l = u * h) * s)), (E = g - (_ = f * e + 3 * d * h * i + 3 * c * u * o + l * a)), (y = p), (g = _), (v += Math.sqrt(m * m + E * E)));
            return v;
        }),
        (hu.curveTo = function (t, e, r, i, n, o, s) {
            var a = s[s.length - 2],
                h = s[s.length - 1];
            s.length -= 2;
            var u,
                l,
                c,
                d,
                f,
                p = Vh._segmentsCount(hu.curveLength(a, h, t, e, r, i, n, o));
            s.push(a, h);
            for (var _, m = 1; m <= p; ++m) ((c = (l = (u = 1 - (_ = m / p)) * u) * u), (f = (d = _ * _) * _), s.push(c * a + 3 * l * _ * t + 3 * u * d * r + f * n, c * h + 3 * l * _ * e + 3 * u * d * i + f * o));
        }),
        hu);
    function hu() {}
    var uu =
        ((lu.curveLength = function (t, e, r, i, n, o) {
            var s = t - 2 * r + n,
                a = e - 2 * i + o,
                n = 2 * r - 2 * t,
                o = 2 * i - 2 * e,
                r = 4 * (s * s + a * a),
                t = 4 * (s * n + a * o),
                i = n * n + o * o,
                e = 2 * Math.sqrt(r + t + i),
                s = Math.sqrt(r),
                a = 2 * r * s,
                n = 2 * Math.sqrt(i),
                o = t / s;
            return (a * e + s * t * (e - n) + (4 * i * r - t * t) * Math.log((2 * s + o + e) / (o + n))) / (4 * a);
        }),
        (lu.curveTo = function (t, e, r, i, n) {
            for (var o = n[n.length - 2], s = n[n.length - 1], a = Vh._segmentsCount(lu.curveLength(o, s, t, e, r, i)), h = 1; h <= a; ++h) {
                var u = h / a,
                    l = o + (t - o) * u,
                    c = s + (e - s) * u;
                n.push(l + (t + (r - t) * u - l) * u, c + (e + (i - e) * u - c) * u);
            }
        }),
        lu);
    function lu() {}
    var cu =
        ((du.prototype.begin = function (t, e, r) {
            (this.reset(), (this.style = t), (this.start = e), (this.attribStart = r));
        }),
        (du.prototype.end = function (t, e) {
            ((this.attribSize = e - this.attribStart), (this.size = t - this.start));
        }),
        (du.prototype.reset = function () {
            ((this.style = null), (this.size = 0), (this.start = 0), (this.attribStart = 0), (this.attribSize = 0));
        }),
        du);
    function du() {
        this.reset();
    }
    var fu = (((kc = {})[$.SHAPES.POLY] = Qh), (kc[$.SHAPES.CIRC] = Jh), (kc[$.SHAPES.ELIP] = Jh), (kc[$.SHAPES.RECT] = gt), (kc[$.SHAPES.RREC] = eu), kc),
        pu = [],
        _u = [],
        mu =
            ((Eu.prototype.clone = function () {
                return new Eu(this.shape, this.fillStyle, this.lineStyle, this.matrix);
            }),
            (Eu.prototype.destroy = function () {
                ((this.shape = null), (this.holes.length = 0), (this.holes = null), (this.points.length = 0), (this.points = null), (this.lineStyle = null), (this.fillStyle = null));
            }),
            Eu);
    function Eu(t, e, r, i) {
        (void 0 === e && (e = null), void 0 === r && (r = null), void 0 === i && (i = null), (this.points = []), (this.holes = []), (this.shape = t), (this.lineStyle = r), (this.fillStyle = e), (this.matrix = i), (this.type = t.type));
    }
    var vu,
        yu = new xe(),
        gu = new Ze(),
        Tu =
            (Kh(bu, (vu = Os)),
            Object.defineProperty(bu.prototype, 'bounds', {
                get: function () {
                    return (this.boundsDirty !== this.dirty && ((this.boundsDirty = this.dirty), this.calculateBounds()), this._bounds);
                },
                enumerable: !1,
                configurable: !0,
            }),
            (bu.prototype.invalidate = function () {
                ((this.boundsDirty = -1), this.dirty++, this.batchDirty++, (this.shapeIndex = 0), (this.points.length = 0), (this.colors.length = 0), (this.uvs.length = 0), (this.indices.length = 0));
                for (var t = (this.textureIds.length = 0); t < this.drawCalls.length; t++) (this.drawCalls[t].texArray.clear(), _u.push(this.drawCalls[t]));
                for (t = this.drawCalls.length = 0; t < this.batches.length; t++) {
                    var e = this.batches[t];
                    (e.reset(), pu.push(e));
                }
                this.batches.length = 0;
            }),
            (bu.prototype.clear = function () {
                return (0 < this.graphicsData.length && (this.invalidate(), this.clearDirty++, (this.graphicsData.length = 0)), this);
            }),
            (bu.prototype.drawShape = function (t, e, r, i) {
                (void 0 === e && (e = null), void 0 === r && (r = null), void 0 === i && (i = null));
                i = new mu(t, e, r, i);
                return (this.graphicsData.push(i), this.dirty++, this);
            }),
            (bu.prototype.drawHole = function (t, e) {
                if ((void 0 === e && (e = null), !this.graphicsData.length)) return null;
                ((t = new mu(t, null, null, e)), (e = this.graphicsData[this.graphicsData.length - 1]));
                return ((t.lineStyle = e.lineStyle), e.holes.push(t), this.dirty++, this);
            }),
            (bu.prototype.destroy = function () {
                vu.prototype.destroy.call(this);
                for (var t = 0; t < this.graphicsData.length; ++t) this.graphicsData[t].destroy();
                ((this.points.length = 0), (this.points = null), (this.colors.length = 0), (this.colors = null), (this.uvs.length = 0), (this.uvs = null), (this.indices.length = 0), (this.indices = null), this.indexBuffer.destroy(), (this.indexBuffer = null), (this.graphicsData.length = 0), (this.graphicsData = null), (this.drawCalls.length = 0), (this.drawCalls = null), (this.batches.length = 0), (this.batches = null), (this._bounds = null));
            }),
            (bu.prototype.containsPoint = function (t) {
                for (var e = this.graphicsData, r = 0; r < e.length; ++r) {
                    var i = e[r];
                    if (i.fillStyle.visible && i.shape && (i.matrix ? i.matrix.applyInverse(t, yu) : yu.copyFrom(t), i.shape.contains(yu.x, yu.y))) {
                        var n = !1;
                        if (i.holes)
                            for (var o = 0; o < i.holes.length; o++)
                                if (i.holes[o].shape.contains(yu.x, yu.y)) {
                                    n = !0;
                                    break;
                                }
                        if (!n) return !0;
                    }
                }
                return !1;
            }),
            (bu.prototype.updateBatches = function (t) {
                if (this.graphicsData.length) {
                    if (this.validateBatching()) {
                        this.cacheDirty = this.dirty;
                        var e = this.uvs,
                            r = this.graphicsData,
                            i = null,
                            n = null;
                        0 < this.batches.length && (n = (i = this.batches[this.batches.length - 1]).style);
                        for (var o = this.shapeIndex; o < r.length; o++) {
                            this.shapeIndex++;
                            var s = r[o],
                                a = s.fillStyle,
                                h = s.lineStyle;
                            (fu[s.type].build(s), s.matrix && this.transformPoints(s.points, s.matrix), (a.visible || h.visible) && this.processHoles(s.holes));
                            for (var u = 0; u < 2; u++) {
                                var l,
                                    c,
                                    d,
                                    f = 0 === u ? a : h;
                                f.visible && ((d = f.texture.baseTexture), (l = this.indices.length), (c = this.points.length / 2), (d.wrapMode = $.WRAP_MODES.REPEAT), 0 === u ? this.processFill(s) : this.processLine(s), 0 != (d = this.points.length / 2 - c) && (i && !this._compareStyles(n, f) && (i.end(l, c), (i = null)), i || ((i = pu.pop() || new cu()).begin(f, l, c), this.batches.push(i), (n = f)), this.addUvs(this.points, e, f.texture, c, d, f.matrix)));
                            }
                        }
                        var p = this.indices.length,
                            _ = this.points.length / 2;
                        (i && i.end(p, _), 0 !== this.batches.length ? (this.indicesUint16 && this.indices.length === this.indicesUint16.length ? this.indicesUint16.set(this.indices) : ((t = 65535 < _ && t), (this.indicesUint16 = new (t ? Uint32Array : Uint16Array)(this.indices))), (this.batchable = this.isBatchable()), this.batchable ? this.packBatches() : this.buildDrawCalls()) : (this.batchable = !0));
                    }
                } else this.batchable = !0;
            }),
            (bu.prototype._compareStyles = function (t, e) {
                return !(!t || !e) && t.texture.baseTexture === e.texture.baseTexture && t.color + t.alpha === e.color + e.alpha && !!t.native == !!e.native;
            }),
            (bu.prototype.validateBatching = function () {
                if (this.dirty === this.cacheDirty || !this.graphicsData.length) return !1;
                for (var t = 0, e = this.graphicsData.length; t < e; t++) {
                    var r = this.graphicsData[t],
                        i = r.fillStyle,
                        r = r.lineStyle;
                    if (i && !i.texture.baseTexture.valid) return !1;
                    if (r && !r.texture.baseTexture.valid) return !1;
                }
                return !0;
            }),
            (bu.prototype.packBatches = function () {
                (this.batchDirty++, (this.uvsFloat32 = new Float32Array(this.uvs)));
                for (var t = this.batches, e = 0, r = t.length; e < r; e++)
                    for (var i = t[e], n = 0; n < i.size; n++) {
                        var o = i.start + n;
                        this.indicesUint16[o] = this.indicesUint16[o] - i.attribStart;
                    }
            }),
            (bu.prototype.isBatchable = function () {
                if (131070 < this.points.length) return !1;
                for (var t = this.batches, e = 0; e < t.length; e++) if (t[e].style.native) return !1;
                return this.points.length < 2 * bu.BATCHABLE_SIZE;
            }),
            (bu.prototype.buildDrawCalls = function () {
                for (var t = ++Zr._globalBatch, e = 0; e < this.drawCalls.length; e++) (this.drawCalls[e].texArray.clear(), _u.push(this.drawCalls[e]));
                this.drawCalls.length = 0;
                var r = this.colors,
                    i = this.textureIds,
                    n = _u.pop();
                (n || ((n = new ms()).texArray = new Es()), (n.texArray.count = 0), (n.start = 0), (n.size = 0), (n.type = $.DRAW_MODES.TRIANGLES));
                var o,
                    s = 0,
                    a = null,
                    h = !1,
                    u = $.DRAW_MODES.TRIANGLES,
                    l = 0;
                this.drawCalls.push(n);
                for (e = 0; e < this.batches.length; e++) {
                    var c = this.batches[e],
                        d = c.style,
                        f = d.texture.baseTexture;
                    (h !== !!d.native && ((u = (h = !!d.native) ? $.DRAW_MODES.LINES : $.DRAW_MODES.TRIANGLES), (a = null), (s = 8), t++), a !== f && (a = f)._batchEnabled !== t && (8 === s && (t++, (s = 0) < n.size && ((n = _u.pop()) || ((n = new ms()).texArray = new Es()), this.drawCalls.push(n)), (n.start = l), (n.size = 0), (n.texArray.count = 0), (n.type = u)), (f.touched = 1), (f._batchEnabled = t), (f._batchLocation = s), (f.wrapMode = $.WRAP_MODES.REPEAT), (n.texArray.elements[n.texArray.count++] = f), s++), (n.size += c.size), (l += c.size), (o = f._batchLocation), this.addColors(r, d.color, d.alpha, c.attribSize, c.attribStart), this.addTextureIds(i, o, c.attribSize, c.attribStart));
                }
                ((Zr._globalBatch = t), this.packAttributes());
            }),
            (bu.prototype.packAttributes = function () {
                for (var t = this.points, e = this.uvs, r = this.colors, i = this.textureIds, n = new ArrayBuffer(3 * t.length * 4), o = new Float32Array(n), s = new Uint32Array(n), a = 0, h = 0; h < t.length / 2; h++) ((o[a++] = t[2 * h]), (o[a++] = t[2 * h + 1]), (o[a++] = e[2 * h]), (o[a++] = e[2 * h + 1]), (s[a++] = r[h]), (o[a++] = i[h]));
                (this._buffer.update(n), this._indexBuffer.update(this.indicesUint16));
            }),
            (bu.prototype.processFill = function (t) {
                (t.holes.length ? Qh : fu[t.type]).triangulate(t, this);
            }),
            (bu.prototype.processLine = function (t) {
                nu(t, this);
                for (var e = 0; e < t.holes.length; e++) nu(t.holes[e], this);
            }),
            (bu.prototype.processHoles = function (t) {
                for (var e = 0; e < t.length; e++) {
                    var r = t[e];
                    (fu[r.type].build(r), r.matrix && this.transformPoints(r.points, r.matrix));
                }
            }),
            (bu.prototype.calculateBounds = function () {
                var t = this._bounds,
                    e = gu,
                    r = Be.IDENTITY;
                (this._bounds.clear(), e.clear());
                for (var i = 0; i < this.graphicsData.length; i++) {
                    var n = this.graphicsData[i],
                        o = n.shape,
                        s = n.type,
                        a = n.lineStyle,
                        h = n.matrix || Be.IDENTITY,
                        u = 0;
                    (a && a.visible && ((u = a.width), s !== $.SHAPES.POLY || n.fillStyle.visible ? (u *= Math.max(0, a.alignment)) : (u *= Math.max(a.alignment, 1 - a.alignment))), r !== h && (e.isEmpty() || (t.addBoundsMatrix(e, r), e.clear()), (r = h)), s === $.SHAPES.RECT || s === $.SHAPES.RREC ? e.addFramePad(o.x, o.y, o.x + o.width, o.y + o.height, u, u) : s === $.SHAPES.CIRC ? e.addFramePad(o.x, o.y, o.x, o.y, o.radius + u, o.radius + u) : s === $.SHAPES.ELIP ? e.addFramePad(o.x, o.y, o.x, o.y, o.width + u, o.height + u) : t.addVerticesMatrix(r, o.points, 0, o.points.length, u, u));
                }
                (e.isEmpty() || t.addBoundsMatrix(e, r), t.pad(this.boundsPadding, this.boundsPadding));
            }),
            (bu.prototype.transformPoints = function (t, e) {
                for (var r = 0; r < t.length / 2; r++) {
                    var i = t[2 * r],
                        n = t[2 * r + 1];
                    ((t[2 * r] = e.a * i + e.c * n + e.tx), (t[2 * r + 1] = e.b * i + e.d * n + e.ty));
                }
            }),
            (bu.prototype.addColors = function (t, e, r, i, n) {
                void 0 === n && (n = 0);
                var o = Kt((e >> 16) + (65280 & e) + ((255 & e) << 16), r);
                t.length = Math.max(t.length, n + i);
                for (var s = 0; s < i; s++) t[n + s] = o;
            }),
            (bu.prototype.addTextureIds = function (t, e, r, i) {
                (void 0 === i && (i = 0), (t.length = Math.max(t.length, i + r)));
                for (var n = 0; n < r; n++) t[i + n] = e;
            }),
            (bu.prototype.addUvs = function (t, e, r, i, n, o) {
                void 0 === o && (o = null);
                for (var s = 0, a = e.length, h = r.frame; s < n; ) {
                    var u,
                        l = t[2 * (i + s)],
                        c = t[2 * (i + s) + 1];
                    (o && ((u = o.a * l + o.c * c + o.tx), (c = o.b * l + o.d * c + o.ty), (l = u)), s++, e.push(l / h.width, c / h.height));
                }
                var d = r.baseTexture;
                (h.width < d.width || h.height < d.height) && this.adjustUvs(e, r, a, n);
            }),
            (bu.prototype.adjustUvs = function (t, e, r, i) {
                for (var n = e.baseTexture, o = r + 2 * i, e = e.frame, s = e.width / n.width, a = e.height / n.height, h = e.x / e.width, u = e.y / e.height, l = Math.floor(t[r] + 1e-6), c = Math.floor(t[r + 1] + 1e-6), d = r + 2; d < o; d += 2) ((l = Math.min(l, Math.floor(t[d] + 1e-6))), (c = Math.min(c, Math.floor(t[d + 1] + 1e-6))));
                ((h -= l), (u -= c));
                for (d = r; d < o; d += 2) ((t[d] = (t[d] + h) * s), (t[d + 1] = (t[d + 1] + u) * a));
            }),
            (bu.BATCHABLE_SIZE = 100),
            bu);
    function bu() {
        var t = vu.call(this) || this;
        return ((t.closePointEps = 1e-4), (t.boundsPadding = 0), (t.uvsFloat32 = null), (t.indicesUint16 = null), (t.batchable = !1), (t.points = []), (t.colors = []), (t.uvs = []), (t.indices = []), (t.textureIds = []), (t.graphicsData = []), (t.drawCalls = []), (t.batchDirty = -1), (t.batches = []), (t.dirty = 0), (t.cacheDirty = -1), (t.clearDirty = 0), (t.shapeIndex = 0), (t._bounds = new Ze()), (t.boundsDirty = -1), t);
    }
    var xu,
        Ru =
            (Kh(Au, (xu = Wh)),
            (Au.prototype.clone = function () {
                var t = new Au();
                return ((t.color = this.color), (t.alpha = this.alpha), (t.texture = this.texture), (t.matrix = this.matrix), (t.visible = this.visible), (t.width = this.width), (t.alignment = this.alignment), (t.native = this.native), (t.cap = this.cap), (t.join = this.join), (t.miterLimit = this.miterLimit), t);
            }),
            (Au.prototype.reset = function () {
                (xu.prototype.reset.call(this), (this.color = 0), (this.alignment = 0.5), (this.width = 0), (this.native = !1));
            }),
            Au);
    function Au() {
        var t = (null !== xu && xu.apply(this, arguments)) || this;
        return ((t.width = 0), (t.alignment = 0.5), (t.native = !1), (t.cap = $.LINE_CAP.BUTT), (t.join = $.LINE_JOIN.MITER), (t.miterLimit = 10), t);
    }
    var Su,
        Ou = new Float32Array(3),
        Iu = {},
        Mu =
            (Kh(Nu, (Su = ur)),
            Object.defineProperty(Nu.prototype, 'geometry', {
                get: function () {
                    return this._geometry;
                },
                enumerable: !1,
                configurable: !0,
            }),
            (Nu.prototype.clone = function () {
                return (this.finishPoly(), new Nu(this._geometry));
            }),
            Object.defineProperty(Nu.prototype, 'blendMode', {
                get: function () {
                    return this.state.blendMode;
                },
                set: function (t) {
                    this.state.blendMode = t;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Nu.prototype, 'tint', {
                get: function () {
                    return this._tint;
                },
                set: function (t) {
                    this._tint = t;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Nu.prototype, 'fill', {
                get: function () {
                    return this._fillStyle;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Nu.prototype, 'line', {
                get: function () {
                    return this._lineStyle;
                },
                enumerable: !1,
                configurable: !0,
            }),
            (Nu.prototype.lineStyle = function (t, e, r, i, n) {
                return (void 0 === t && (t = null), void 0 === e && (e = 0), void 0 === r && (r = 1), void 0 === i && (i = 0.5), void 0 === n && (n = !1), 'number' == typeof t && (t = { width: t, color: e, alpha: r, alignment: i, native: n }), this.lineTextureStyle(t));
            }),
            (Nu.prototype.lineTextureStyle = function (t) {
                ((t = Object.assign({ width: 0, texture: Gi.WHITE, color: t && t.texture ? 16777215 : 0, alpha: 1, matrix: null, alignment: 0.5, native: !1, cap: $.LINE_CAP.BUTT, join: $.LINE_JOIN.MITER, miterLimit: 10 }, t)), this.currentPath && this.startPoly());
                var e = 0 < t.width && 0 < t.alpha;
                return (e ? (t.matrix && ((t.matrix = t.matrix.clone()), t.matrix.invert()), Object.assign(this._lineStyle, { visible: e }, t)) : this._lineStyle.reset(), this);
            }),
            (Nu.prototype.startPoly = function () {
                var t, e;
                this.currentPath ? ((t = this.currentPath.points), 2 < (e = this.currentPath.points.length) && (this.drawShape(this.currentPath), (this.currentPath = new De()), (this.currentPath.closeStroke = !1), this.currentPath.points.push(t[e - 2], t[e - 1]))) : ((this.currentPath = new De()), (this.currentPath.closeStroke = !1));
            }),
            (Nu.prototype.finishPoly = function () {
                this.currentPath && (2 < this.currentPath.points.length ? (this.drawShape(this.currentPath), (this.currentPath = null)) : (this.currentPath.points.length = 0));
            }),
            (Nu.prototype.moveTo = function (t, e) {
                return (this.startPoly(), (this.currentPath.points[0] = t), (this.currentPath.points[1] = e), this);
            }),
            (Nu.prototype.lineTo = function (t, e) {
                this.currentPath || this.moveTo(0, 0);
                var r = this.currentPath.points,
                    i = r[r.length - 2],
                    n = r[r.length - 1];
                return ((i === t && n === e) || r.push(t, e), this);
            }),
            (Nu.prototype._initCurve = function (t, e) {
                (void 0 === t && (t = 0), void 0 === e && (e = 0), this.currentPath ? 0 === this.currentPath.points.length && (this.currentPath.points = [t, e]) : this.moveTo(t, e));
            }),
            (Nu.prototype.quadraticCurveTo = function (t, e, r, i) {
                this._initCurve();
                var n = this.currentPath.points;
                return (0 === n.length && this.moveTo(0, 0), uu.curveTo(t, e, r, i, n), this);
            }),
            (Nu.prototype.bezierCurveTo = function (t, e, r, i, n, o) {
                return (this._initCurve(), au.curveTo(t, e, r, i, n, o, this.currentPath.points), this);
            }),
            (Nu.prototype.arcTo = function (t, e, r, i, n) {
                this._initCurve(t, e);
                var o = this.currentPath.points,
                    t = ou.curveTo(t, e, r, i, n, o);
                return (t && ((e = t.cx), (r = t.cy), (i = t.radius), (n = t.startAngle), (o = t.endAngle), (t = t.anticlockwise), this.arc(e, r, i, n, o, t)), this);
            }),
            (Nu.prototype.arc = function (t, e, r, i, n, o) {
                if ((void 0 === o && (o = !1), i === n)) return this;
                if ((!o && n <= i ? (n += ge) : o && i <= n && (i += ge), 0 == n - i)) return this;
                var s,
                    a,
                    h = t + Math.cos(i) * r,
                    u = e + Math.sin(i) * r,
                    l = this._geometry.closePointEps,
                    c = this.currentPath ? this.currentPath.points : null;
                return (c ? ((s = Math.abs(c[c.length - 2] - h)), (a = Math.abs(c[c.length - 1] - u)), (s < l && a < l) || c.push(h, u)) : (this.moveTo(h, u), (c = this.currentPath.points)), ou.arc(h, u, t, e, r, i, n, o, c), this);
            }),
            (Nu.prototype.beginFill = function (t, e) {
                return (void 0 === t && (t = 0), void 0 === e && (e = 1), this.beginTextureFill({ texture: Gi.WHITE, color: t, alpha: e }));
            }),
            (Nu.prototype.beginTextureFill = function (t) {
                ((t = Object.assign({ texture: Gi.WHITE, color: 16777215, alpha: 1, matrix: null }, t)), this.currentPath && this.startPoly());
                var e = 0 < t.alpha;
                return (e ? (t.matrix && ((t.matrix = t.matrix.clone()), t.matrix.invert()), Object.assign(this._fillStyle, { visible: e }, t)) : this._fillStyle.reset(), this);
            }),
            (Nu.prototype.endFill = function () {
                return (this.finishPoly(), this._fillStyle.reset(), this);
            }),
            (Nu.prototype.drawRect = function (t, e, r, i) {
                return this.drawShape(new Se(t, e, r, i));
            }),
            (Nu.prototype.drawRoundedRect = function (t, e, r, i, n) {
                return this.drawShape(new we(t, e, r, i, n));
            }),
            (Nu.prototype.drawCircle = function (t, e, r) {
                return this.drawShape(new Ie(t, e, r));
            }),
            (Nu.prototype.drawEllipse = function (t, e, r, i) {
                return this.drawShape(new Ne(t, e, r, i));
            }),
            (Nu.prototype.drawPolygon = function () {
                for (var t = arguments, e = [], r = 0; r < arguments.length; r++) e[r] = t[r];
                var i = !0,
                    n = e[0],
                    n = n.points ? ((i = n.closeStroke), n.points) : Array.isArray(e[0]) ? e[0] : e,
                    n = new De(n);
                return ((n.closeStroke = i), this.drawShape(n), this);
            }),
            (Nu.prototype.drawShape = function (t) {
                return (this._holeMode ? this._geometry.drawHole(t, this._matrix) : this._geometry.drawShape(t, this._fillStyle.clone(), this._lineStyle.clone(), this._matrix), this);
            }),
            (Nu.prototype.clear = function () {
                return (this._geometry.clear(), this._lineStyle.reset(), this._fillStyle.reset(), this._boundsID++, (this._matrix = null), (this._holeMode = !1), (this.currentPath = null), this);
            }),
            (Nu.prototype.isFastRect = function () {
                var t = this._geometry.graphicsData;
                return !(1 !== t.length || t[0].shape.type !== $.SHAPES.RECT || t[0].matrix || t[0].holes.length || (t[0].lineStyle.visible && t[0].lineStyle.width));
            }),
            (Nu.prototype._render = function (t) {
                this.finishPoly();
                var e = this._geometry,
                    r = t.context.supports.uint32Indices;
                (e.updateBatches(r), e.batchable ? (this.batchDirty !== e.batchDirty && this._populateBatches(), this._renderBatched(t)) : (t.batch.flush(), this._renderDirect(t)));
            }),
            (Nu.prototype._populateBatches = function () {
                var t = this._geometry,
                    e = this.blendMode,
                    r = t.batches.length;
                ((this.batchTint = -1), (this._transformID = -1), (this.batchDirty = t.batchDirty), (this.batches.length = r), (this.vertexData = new Float32Array(t.points)));
                for (var i = 0; i < r; i++) {
                    var n = t.batches[i],
                        o = n.style.color,
                        s = new Float32Array(this.vertexData.buffer, 4 * n.attribStart * 2, 2 * n.attribSize),
                        a = new Float32Array(t.uvsFloat32.buffer, 4 * n.attribStart * 2, 2 * n.attribSize),
                        n = { vertexData: s, blendMode: e, indices: new Uint16Array(t.indicesUint16.buffer, 2 * n.start, n.size), uvs: a, _batchRGB: Ht(o), _tintRGB: o, _texture: n.style.texture, alpha: n.style.alpha, worldAlpha: 1 };
                    this.batches[i] = n;
                }
            }),
            (Nu.prototype._renderBatched = function (t) {
                if (this.batches.length) {
                    (t.batch.setObjectRenderer(t.plugins[this.pluginName]), this.calculateVertices(), this.calculateTints());
                    for (var e = 0, r = this.batches.length; e < r; e++) {
                        var i = this.batches[e];
                        ((i.worldAlpha = this.worldAlpha * i.alpha), t.plugins[this.pluginName].render(i));
                    }
                }
            }),
            (Nu.prototype._renderDirect = function (t) {
                var e = this._resolveDirectShader(t),
                    r = this._geometry,
                    i = this.tint,
                    n = this.worldAlpha,
                    o = e.uniforms,
                    s = r.drawCalls;
                ((o.translationMatrix = this.transform.worldTransform), (o.tint[0] = (((i >> 16) & 255) / 255) * n), (o.tint[1] = (((i >> 8) & 255) / 255) * n), (o.tint[2] = ((255 & i) / 255) * n), (o.tint[3] = n), t.shader.bind(e), t.geometry.bind(r, e), t.state.set(this.state));
                for (var a = 0, h = s.length; a < h; a++) this._renderDrawCallDirect(t, r.drawCalls[a]);
            }),
            (Nu.prototype._renderDrawCallDirect = function (t, e) {
                for (var r = e.texArray, i = e.type, n = e.size, e = e.start, o = r.count, s = 0; s < o; s++) t.texture.bind(r.elements[s], s);
                t.geometry.draw(i, n, e);
            }),
            (Nu.prototype._resolveDirectShader = function (t) {
                var e = this.shader,
                    r = this.pluginName;
                if (!e) {
                    if (!Iu[r]) {
                        for (var i = t.plugins[r].MAX_TEXTURES, n = new Int32Array(i), o = 0; o < i; o++) n[o] = o;
                        var s = { tint: new Float32Array([1, 1, 1, 1]), translationMatrix: new Be(), default: cn.from({ uSamplers: n }, !0) },
                            t = t.plugins[r]._shader.program;
                        Iu[r] = new oo(t, s);
                    }
                    e = Iu[r];
                }
                return e;
            }),
            (Nu.prototype._calculateBounds = function () {
                this.finishPoly();
                var t,
                    e,
                    r,
                    i = this._geometry;
                i.graphicsData.length && ((t = (r = i.bounds).minX), (e = r.minY), (i = r.maxX), (r = r.maxY), this._bounds.addFrame(this.transform, t, e, i, r));
            }),
            (Nu.prototype.containsPoint = function (t) {
                return (this.worldTransform.applyInverse(t, Nu._TEMP_POINT), this._geometry.containsPoint(Nu._TEMP_POINT));
            }),
            (Nu.prototype.calculateTints = function () {
                if (this.batchTint !== this.tint) {
                    this.batchTint = this.tint;
                    for (var t = Ht(this.tint, Ou), e = 0; e < this.batches.length; e++) {
                        var r = this.batches[e],
                            i = r._batchRGB,
                            i = ((t[0] * i[0] * 255) << 16) + ((t[1] * i[1] * 255) << 8) + (0 | (t[2] * i[2] * 255));
                        r._tintRGB = (i >> 16) + (65280 & i) + ((255 & i) << 16);
                    }
                }
            }),
            (Nu.prototype.calculateVertices = function () {
                var t = this.transform._worldID;
                if (this._transformID !== t) {
                    this._transformID = t;
                    for (var t = this.transform.worldTransform, e = t.a, r = t.b, i = t.c, n = t.d, o = t.tx, s = t.ty, a = this._geometry.points, h = this.vertexData, u = 0, l = 0; l < a.length; l += 2) {
                        var c = a[l],
                            d = a[l + 1];
                        ((h[u++] = e * c + i * d + o), (h[u++] = n * d + r * c + s));
                    }
                }
            }),
            (Nu.prototype.closePath = function () {
                var t = this.currentPath;
                return (t && ((t.closeStroke = !0), this.finishPoly()), this);
            }),
            (Nu.prototype.setMatrix = function (t) {
                return ((this._matrix = t), this);
            }),
            (Nu.prototype.beginHole = function () {
                return (this.finishPoly(), (this._holeMode = !0), this);
            }),
            (Nu.prototype.endHole = function () {
                return (this.finishPoly(), (this._holeMode = !1), this);
            }),
            (Nu.prototype.destroy = function (t) {
                (this._geometry.refCount--, 0 === this._geometry.refCount && this._geometry.dispose(), (this._matrix = null), (this.currentPath = null), this._lineStyle.destroy(), (this._lineStyle = null), this._fillStyle.destroy(), (this._fillStyle = null), (this._geometry = null), (this.shader = null), (this.vertexData = null), (this.batches.length = 0), (this.batches = null), Su.prototype.destroy.call(this, t));
            }),
            (Nu.nextRoundedRectBehavior = !1),
            (Nu._TEMP_POINT = new xe()),
            Nu);
    function Nu(t) {
        void 0 === t && (t = null);
        var e = Su.call(this) || this;
        return ((e.shader = null), (e.pluginName = 'batch'), (e.currentPath = null), (e.batches = []), (e.batchTint = -1), (e.batchDirty = -1), (e.vertexData = null), (e._fillStyle = new Wh()), (e._lineStyle = new Ru()), (e._matrix = null), (e._holeMode = !1), (e.state = ao.for2d()), (e._geometry = t || new Tu()), e._geometry.refCount++, (e._transformID = -1), (e.tint = 16777215), (e.blendMode = $.BLEND_MODES.NORMAL), e);
    }
    var Pu = { buildPoly: Qh, buildCircle: Jh, buildRectangle: gt, buildRoundedRectangle: eu, buildLine: nu, ArcUtils: ou, BezierUtils: au, QuadraticUtils: uu, BatchPart: cu, FILL_COMMANDS: fu, BATCH_POOL: pu, DRAW_CALL_POOL: _u },
        Du = function (t, e) {
            return (Du =
                Object.setPrototypeOf ||
                ({ __proto__: [] } instanceof Array &&
                    function (t, e) {
                        t.__proto__ = e;
                    }) ||
                function (t, e) {
                    for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r]);
                })(t, e);
        };
    var Cu,
        wu,
        Lu,
        Fu = new xe(),
        Uu = new Uint16Array([0, 1, 2, 0, 2, 3]),
        Bu =
            (Du((wu = ku), (Lu = Cu = ur)),
            (wu.prototype = null === Lu ? Object.create(Lu) : ((Gu.prototype = Lu.prototype), new Gu())),
            (ku.prototype._onTextureUpdate = function () {
                ((this._textureID = -1), (this._textureTrimmedID = -1), (this._cachedTint = 16777215), this._width && (this.scale.x = (ne(this.scale.x) * this._width) / this._texture.orig.width), this._height && (this.scale.y = (ne(this.scale.y) * this._height) / this._texture.orig.height));
            }),
            (ku.prototype._onAnchorUpdate = function () {
                ((this._transformID = -1), (this._transformTrimmedID = -1));
            }),
            (ku.prototype.calculateVertices = function () {
                var t = this._texture;
                if (this._transformID !== this.transform._worldID || this._textureID !== t._updateID) {
                    (this._textureID !== t._updateID && (this.uvs = this._texture._uvs.uvsFloat32), (this._transformID = this.transform._worldID), (this._textureID = t._updateID));
                    var e = this.transform.worldTransform,
                        r = e.a,
                        i = e.b,
                        n = e.c,
                        o = e.d,
                        s = e.tx,
                        a = e.ty,
                        h = this.vertexData,
                        u = t.trim,
                        l = t.orig,
                        c = this._anchor,
                        d = 0,
                        f = 0,
                        e = 0,
                        t = 0,
                        e = u ? ((d = (f = u.x - c._x * l.width) + u.width), (t = u.y - c._y * l.height) + u.height) : ((d = (f = -c._x * l.width) + l.width), (t = -c._y * l.height) + l.height);
                    if (((h[0] = r * f + n * t + s), (h[1] = o * t + i * f + a), (h[2] = r * d + n * t + s), (h[3] = o * t + i * d + a), (h[4] = r * d + n * e + s), (h[5] = o * e + i * d + a), (h[6] = r * f + n * e + s), (h[7] = o * e + i * f + a), this._roundPixels)) for (var p = G.RESOLUTION, _ = 0; _ < h.length; ++_) h[_] = Math.round(((h[_] * p) | 0) / p);
                }
            }),
            (ku.prototype.calculateTrimmedVertices = function () {
                if (this.vertexTrimmedData) {
                    if (this._transformTrimmedID === this.transform._worldID && this._textureTrimmedID === this._texture._updateID) return;
                } else this.vertexTrimmedData = new Float32Array(8);
                ((this._transformTrimmedID = this.transform._worldID), (this._textureTrimmedID = this._texture._updateID));
                var t = this._texture,
                    e = this.vertexTrimmedData,
                    r = t.orig,
                    i = this._anchor,
                    n = this.transform.worldTransform,
                    o = n.a,
                    s = n.b,
                    a = n.c,
                    h = n.d,
                    u = n.tx,
                    l = n.ty,
                    t = -i._x * r.width,
                    n = t + r.width,
                    i = -i._y * r.height,
                    r = i + r.height;
                ((e[0] = o * t + a * i + u), (e[1] = h * i + s * t + l), (e[2] = o * n + a * i + u), (e[3] = h * i + s * n + l), (e[4] = o * n + a * r + u), (e[5] = h * r + s * n + l), (e[6] = o * t + a * r + u), (e[7] = h * r + s * t + l));
            }),
            (ku.prototype._render = function (t) {
                (this.calculateVertices(), t.batch.setObjectRenderer(t.plugins[this.pluginName]), t.plugins[this.pluginName].render(this));
            }),
            (ku.prototype._calculateBounds = function () {
                var t = this._texture.trim,
                    e = this._texture.orig;
                !t || (t.width === e.width && t.height === e.height) ? (this.calculateVertices(), this._bounds.addQuad(this.vertexData)) : (this.calculateTrimmedVertices(), this._bounds.addQuad(this.vertexTrimmedData));
            }),
            (ku.prototype.getLocalBounds = function (t) {
                return 0 === this.children.length ? (this._localBounds || (this._localBounds = new Ze()), (this._localBounds.minX = this._texture.orig.width * -this._anchor._x), (this._localBounds.minY = this._texture.orig.height * -this._anchor._y), (this._localBounds.maxX = this._texture.orig.width * (1 - this._anchor._x)), (this._localBounds.maxY = this._texture.orig.height * (1 - this._anchor._y)), t || (this._localBoundsRect || (this._localBoundsRect = new Se()), (t = this._localBoundsRect)), this._localBounds.getRectangle(t)) : Cu.prototype.getLocalBounds.call(this, t);
            }),
            (ku.prototype.containsPoint = function (t) {
                this.worldTransform.applyInverse(t, Fu);
                var e = this._texture.orig.width,
                    r = this._texture.orig.height,
                    i = -e * this.anchor.x,
                    t = 0;
                return Fu.x >= i && Fu.x < i + e && ((t = -r * this.anchor.y), Fu.y >= t && Fu.y < t + r);
            }),
            (ku.prototype.destroy = function (t) {
                (Cu.prototype.destroy.call(this, t), this._texture.off('update', this._onTextureUpdate, this), (this._anchor = null), ('boolean' == typeof t ? t : t && t.texture) && ((t = 'boolean' == typeof t ? t : t && t.baseTexture), this._texture.destroy(!!t)), (this._texture = null));
            }),
            (ku.from = function (t, e) {
                return new ku(t instanceof Gi ? t : Gi.from(t, e));
            }),
            Object.defineProperty(ku.prototype, 'roundPixels', {
                get: function () {
                    return this._roundPixels;
                },
                set: function (t) {
                    (this._roundPixels !== t && (this._transformID = -1), (this._roundPixels = t));
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(ku.prototype, 'width', {
                get: function () {
                    return Math.abs(this.scale.x) * this._texture.orig.width;
                },
                set: function (t) {
                    var e = ne(this.scale.x) || 1;
                    ((this.scale.x = (e * t) / this._texture.orig.width), (this._width = t));
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(ku.prototype, 'height', {
                get: function () {
                    return Math.abs(this.scale.y) * this._texture.orig.height;
                },
                set: function (t) {
                    var e = ne(this.scale.y) || 1;
                    ((this.scale.y = (e * t) / this._texture.orig.height), (this._height = t));
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(ku.prototype, 'anchor', {
                get: function () {
                    return this._anchor;
                },
                set: function (t) {
                    this._anchor.copyFrom(t);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(ku.prototype, 'tint', {
                get: function () {
                    return this._tint;
                },
                set: function (t) {
                    ((this._tint = t), (this._tintRGB = (t >> 16) + (65280 & t) + ((255 & t) << 16)));
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(ku.prototype, 'texture', {
                get: function () {
                    return this._texture;
                },
                set: function (t) {
                    this._texture !== t && (this._texture && this._texture.off('update', this._onTextureUpdate, this), (this._texture = t || Gi.EMPTY), (this._cachedTint = 16777215), (this._textureID = -1), (this._textureTrimmedID = -1), t && (t.baseTexture.valid ? this._onTextureUpdate() : t.once('update', this._onTextureUpdate, this)));
                },
                enumerable: !1,
                configurable: !0,
            }),
            ku);
    function Gu() {
        this.constructor = wu;
    }
    function ku(t) {
        var e = Cu.call(this) || this;
        return ((e._anchor = new Fe(e._onAnchorUpdate, e, t ? t.defaultAnchor.x : 0, t ? t.defaultAnchor.y : 0)), (e._texture = null), (e._width = 0), (e._height = 0), (e._tint = null), (e._tintRGB = null), (e.tint = 16777215), (e.blendMode = $.BLEND_MODES.NORMAL), (e._cachedTint = 16777215), (e.uvs = null), (e.texture = t || Gi.EMPTY), (e.vertexData = new Float32Array(8)), (e.vertexTrimmedData = null), (e._transformID = -1), (e._textureID = -1), (e._transformTrimmedID = -1), (e._textureTrimmedID = -1), (e.indices = Uu), (e.pluginName = 'batch'), (e.isSprite = !0), (e._roundPixels = G.ROUND_PIXELS), e);
    }
    var Xu = function (t, e) {
        return (Xu =
            Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array &&
                function (t, e) {
                    t.__proto__ = e;
                }) ||
            function (t, e) {
                for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r]);
            })(t, e);
    };
    (($.TEXT_GRADIENT = void 0), ((ya = $.TEXT_GRADIENT || ($.TEXT_GRADIENT = {}))[(ya.LINEAR_VERTICAL = 0)] = 'LINEAR_VERTICAL'));
    var Hu = { align: 'left', breakWords: !(ya[(ya.LINEAR_HORIZONTAL = 1)] = 'LINEAR_HORIZONTAL'), dropShadow: !1, dropShadowAlpha: 1, dropShadowAngle: Math.PI / 6, dropShadowBlur: 0, dropShadowColor: 'black', dropShadowDistance: 5, fill: 'black', fillGradientType: $.TEXT_GRADIENT.LINEAR_VERTICAL, fillGradientStops: [], fontFamily: 'Arial', fontSize: 26, fontStyle: 'normal', fontVariant: 'normal', fontWeight: 'normal', letterSpacing: 0, lineHeight: 0, lineJoin: 'miter', miterLimit: 10, padding: 0, stroke: 'black', strokeThickness: 0, textBaseline: 'alphabetic', trim: !1, whiteSpace: 'pre', wordWrap: !1, wordWrapWidth: 100, leading: 0 },
        Yu = ['serif', 'sans-serif', 'monospace', 'cursive', 'fantasy', 'system-ui'],
        ju =
            ((Vu.prototype.clone = function () {
                var t = {};
                return (qu(t, this, Hu), new Vu(t));
            }),
            (Vu.prototype.reset = function () {
                qu(this, Hu, Hu);
            }),
            Object.defineProperty(Vu.prototype, 'align', {
                get: function () {
                    return this._align;
                },
                set: function (t) {
                    this._align !== t && ((this._align = t), this.styleID++);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Vu.prototype, 'breakWords', {
                get: function () {
                    return this._breakWords;
                },
                set: function (t) {
                    this._breakWords !== t && ((this._breakWords = t), this.styleID++);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Vu.prototype, 'dropShadow', {
                get: function () {
                    return this._dropShadow;
                },
                set: function (t) {
                    this._dropShadow !== t && ((this._dropShadow = t), this.styleID++);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Vu.prototype, 'dropShadowAlpha', {
                get: function () {
                    return this._dropShadowAlpha;
                },
                set: function (t) {
                    this._dropShadowAlpha !== t && ((this._dropShadowAlpha = t), this.styleID++);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Vu.prototype, 'dropShadowAngle', {
                get: function () {
                    return this._dropShadowAngle;
                },
                set: function (t) {
                    this._dropShadowAngle !== t && ((this._dropShadowAngle = t), this.styleID++);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Vu.prototype, 'dropShadowBlur', {
                get: function () {
                    return this._dropShadowBlur;
                },
                set: function (t) {
                    this._dropShadowBlur !== t && ((this._dropShadowBlur = t), this.styleID++);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Vu.prototype, 'dropShadowColor', {
                get: function () {
                    return this._dropShadowColor;
                },
                set: function (t) {
                    t = zu(t);
                    this._dropShadowColor !== t && ((this._dropShadowColor = t), this.styleID++);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Vu.prototype, 'dropShadowDistance', {
                get: function () {
                    return this._dropShadowDistance;
                },
                set: function (t) {
                    this._dropShadowDistance !== t && ((this._dropShadowDistance = t), this.styleID++);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Vu.prototype, 'fill', {
                get: function () {
                    return this._fill;
                },
                set: function (t) {
                    t = zu(t);
                    this._fill !== t && ((this._fill = t), this.styleID++);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Vu.prototype, 'fillGradientType', {
                get: function () {
                    return this._fillGradientType;
                },
                set: function (t) {
                    this._fillGradientType !== t && ((this._fillGradientType = t), this.styleID++);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Vu.prototype, 'fillGradientStops', {
                get: function () {
                    return this._fillGradientStops;
                },
                set: function (t) {
                    !(function (t, e) {
                        if (!Array.isArray(t) || !Array.isArray(e)) return !1;
                        if (t.length !== e.length) return !1;
                        for (var r = 0; r < t.length; ++r) if (t[r] !== e[r]) return !1;
                        return !0;
                    })(this._fillGradientStops, t) && ((this._fillGradientStops = t), this.styleID++);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Vu.prototype, 'fontFamily', {
                get: function () {
                    return this._fontFamily;
                },
                set: function (t) {
                    this.fontFamily !== t && ((this._fontFamily = t), this.styleID++);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Vu.prototype, 'fontSize', {
                get: function () {
                    return this._fontSize;
                },
                set: function (t) {
                    this._fontSize !== t && ((this._fontSize = t), this.styleID++);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Vu.prototype, 'fontStyle', {
                get: function () {
                    return this._fontStyle;
                },
                set: function (t) {
                    this._fontStyle !== t && ((this._fontStyle = t), this.styleID++);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Vu.prototype, 'fontVariant', {
                get: function () {
                    return this._fontVariant;
                },
                set: function (t) {
                    this._fontVariant !== t && ((this._fontVariant = t), this.styleID++);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Vu.prototype, 'fontWeight', {
                get: function () {
                    return this._fontWeight;
                },
                set: function (t) {
                    this._fontWeight !== t && ((this._fontWeight = t), this.styleID++);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Vu.prototype, 'letterSpacing', {
                get: function () {
                    return this._letterSpacing;
                },
                set: function (t) {
                    this._letterSpacing !== t && ((this._letterSpacing = t), this.styleID++);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Vu.prototype, 'lineHeight', {
                get: function () {
                    return this._lineHeight;
                },
                set: function (t) {
                    this._lineHeight !== t && ((this._lineHeight = t), this.styleID++);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Vu.prototype, 'leading', {
                get: function () {
                    return this._leading;
                },
                set: function (t) {
                    this._leading !== t && ((this._leading = t), this.styleID++);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Vu.prototype, 'lineJoin', {
                get: function () {
                    return this._lineJoin;
                },
                set: function (t) {
                    this._lineJoin !== t && ((this._lineJoin = t), this.styleID++);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Vu.prototype, 'miterLimit', {
                get: function () {
                    return this._miterLimit;
                },
                set: function (t) {
                    this._miterLimit !== t && ((this._miterLimit = t), this.styleID++);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Vu.prototype, 'padding', {
                get: function () {
                    return this._padding;
                },
                set: function (t) {
                    this._padding !== t && ((this._padding = t), this.styleID++);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Vu.prototype, 'stroke', {
                get: function () {
                    return this._stroke;
                },
                set: function (t) {
                    t = zu(t);
                    this._stroke !== t && ((this._stroke = t), this.styleID++);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Vu.prototype, 'strokeThickness', {
                get: function () {
                    return this._strokeThickness;
                },
                set: function (t) {
                    this._strokeThickness !== t && ((this._strokeThickness = t), this.styleID++);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Vu.prototype, 'textBaseline', {
                get: function () {
                    return this._textBaseline;
                },
                set: function (t) {
                    this._textBaseline !== t && ((this._textBaseline = t), this.styleID++);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Vu.prototype, 'trim', {
                get: function () {
                    return this._trim;
                },
                set: function (t) {
                    this._trim !== t && ((this._trim = t), this.styleID++);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Vu.prototype, 'whiteSpace', {
                get: function () {
                    return this._whiteSpace;
                },
                set: function (t) {
                    this._whiteSpace !== t && ((this._whiteSpace = t), this.styleID++);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Vu.prototype, 'wordWrap', {
                get: function () {
                    return this._wordWrap;
                },
                set: function (t) {
                    this._wordWrap !== t && ((this._wordWrap = t), this.styleID++);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Vu.prototype, 'wordWrapWidth', {
                get: function () {
                    return this._wordWrapWidth;
                },
                set: function (t) {
                    this._wordWrapWidth !== t && ((this._wordWrapWidth = t), this.styleID++);
                },
                enumerable: !1,
                configurable: !0,
            }),
            (Vu.prototype.toFontString = function () {
                var t = 'number' == typeof this.fontSize ? this.fontSize + 'px' : this.fontSize,
                    e = this.fontFamily;
                Array.isArray(this.fontFamily) || (e = this.fontFamily.split(','));
                for (var r = e.length - 1; 0 <= r; r--) {
                    var i = e[r].trim();
                    (!/([\"\'])[^\'\"]+\1/.test(i) && Yu.indexOf(i) < 0 && (i = '"' + i + '"'), (e[r] = i));
                }
                return this.fontStyle + ' ' + this.fontVariant + ' ' + this.fontWeight + ' ' + t + ' ' + e.join(',');
            }),
            Vu);
    function Vu(t) {
        ((this.styleID = 0), this.reset(), qu(this, t, t));
    }
    function Wu(t) {
        return 'number' == typeof t ? Yt(t) : ('string' == typeof t && 0 === t.indexOf('0x') && (t = t.replace('0x', '#')), t);
    }
    function zu(t) {
        if (Array.isArray(t)) {
            for (var e = 0; e < t.length; ++e) t[e] = Wu(t[e]);
            return t;
        }
        return Wu(t);
    }
    function qu(t, e, r) {
        for (var i in r) Array.isArray(e[i]) ? (t[i] = e[i].slice()) : (t[i] = e[i]);
    }
    var Ku =
        ((Zu.measureText = function (t, e, r, i) {
            (void 0 === i && (i = Zu._canvas), (r = null == r ? e.wordWrap : r));
            var n = e.toFontString(),
                o = Zu.measureFont(n);
            0 === o.fontSize && ((o.fontSize = e.fontSize), (o.ascent = e.fontSize));
            var s = i.getContext('2d');
            s.font = n;
            for (var a = (r ? Zu.wordWrap(t, e, i) : t).split(/(?:\r\n|\r|\n)/), h = new Array(a.length), u = 0, l = 0; l < a.length; l++) {
                var c = s.measureText(a[l]).width + (a[l].length - 1) * e.letterSpacing;
                ((h[l] = c), (u = Math.max(u, c)));
            }
            n = u + e.strokeThickness;
            e.dropShadow && (n += e.dropShadowDistance);
            ((r = e.lineHeight || o.fontSize + e.strokeThickness), (i = Math.max(r, o.fontSize + e.strokeThickness) + (a.length - 1) * (r + e.leading)));
            return (e.dropShadow && (i += e.dropShadowDistance), new Zu(t, e, n, i, a, h, r + e.leading, u, o));
        }),
        (Zu.wordWrap = function (t, e, r) {
            void 0 === r && (r = Zu._canvas);
            for (var i = r.getContext('2d'), n = 0, o = '', s = '', a = Object.create(null), h = e.letterSpacing, r = e.whiteSpace, u = Zu.collapseSpaces(r), l = Zu.collapseNewlines(r), c = !u, d = e.wordWrapWidth + h, f = Zu.tokenize(t), p = 0; p < f.length; p++) {
                var _ = f[p];
                if (Zu.isNewline(_)) {
                    if (!l) {
                        ((s += Zu.addLine(o)), (c = !u), (o = ''), (n = 0));
                        continue;
                    }
                    _ = ' ';
                }
                if (u) {
                    var m = Zu.isBreakingSpace(_),
                        E = Zu.isBreakingSpace(o[o.length - 1]);
                    if (m && E) continue;
                }
                m = Zu.getFromCache(_, h, a, i);
                if (d < m)
                    if (('' !== o && ((s += Zu.addLine(o)), (o = ''), (n = 0)), Zu.canBreakWords(_, e.breakWords)))
                        for (var v = Zu.wordWrapSplit(_), y = 0; y < v.length; y++) {
                            for (var g = v[y], T = 1; v[y + T]; ) {
                                var b = v[y + T],
                                    x = g[g.length - 1];
                                if (Zu.canBreakChars(x, b, _, y, e.breakWords)) break;
                                ((g += b), T++);
                            }
                            y += g.length - 1;
                            var R = Zu.getFromCache(g, h, a, i);
                            (d < R + n && ((s += Zu.addLine(o)), (c = !1), (o = ''), (n = 0)), (o += g), (n += R));
                        }
                    else {
                        0 < o.length && ((s += Zu.addLine(o)), (o = ''), (n = 0));
                        E = p === f.length - 1;
                        ((s += Zu.addLine(_, !E)), (c = !1), (o = ''), (n = 0));
                    }
                else (d < m + n && ((c = !1), (s += Zu.addLine(o)), (o = ''), (n = 0)), (0 < o.length || !Zu.isBreakingSpace(_) || c) && ((o += _), (n += m)));
            }
            return (s += Zu.addLine(o, !1));
        }),
        (Zu.addLine = function (t, e) {
            return (void 0 === e && (e = !0), (t = Zu.trimRight(t)), (t = e ? t + '\n' : t));
        }),
        (Zu.getFromCache = function (t, e, r, i) {
            var n = r[t];
            return ('number' != typeof n && ((e = t.length * e), (n = i.measureText(t).width + e), (r[t] = n)), n);
        }),
        (Zu.collapseSpaces = function (t) {
            return 'normal' === t || 'pre-line' === t;
        }),
        (Zu.collapseNewlines = function (t) {
            return 'normal' === t;
        }),
        (Zu.trimRight = function (t) {
            if ('string' != typeof t) return '';
            for (var e = t.length - 1; 0 <= e; e--) {
                var r = t[e];
                if (!Zu.isBreakingSpace(r)) break;
                t = t.slice(0, -1);
            }
            return t;
        }),
        (Zu.isNewline = function (t) {
            return 'string' == typeof t && 0 <= Zu._newlines.indexOf(t.charCodeAt(0));
        }),
        (Zu.isBreakingSpace = function (t, e) {
            return 'string' == typeof t && 0 <= Zu._breakingSpaces.indexOf(t.charCodeAt(0));
        }),
        (Zu.tokenize = function (t) {
            var e = [],
                r = '';
            if ('string' != typeof t) return e;
            for (var i = 0; i < t.length; i++) {
                var n = t[i],
                    o = t[i + 1];
                Zu.isBreakingSpace(n, o) || Zu.isNewline(n) ? ('' !== r && (e.push(r), (r = '')), e.push(n)) : (r += n);
            }
            return ('' !== r && e.push(r), e);
        }),
        (Zu.canBreakWords = function (t, e) {
            return e;
        }),
        (Zu.canBreakChars = function (t, e, r, i, n) {
            return !0;
        }),
        (Zu.wordWrapSplit = function (t) {
            return t.split('');
        }),
        (Zu.measureFont = function (t) {
            if (Zu._fonts[t]) return Zu._fonts[t];
            var e = { ascent: 0, descent: 0, fontSize: 0 },
                r = Zu._canvas,
                i = Zu._context;
            i.font = t;
            var n = Zu.METRICS_STRING + Zu.BASELINE_SYMBOL,
                o = Math.ceil(i.measureText(n).width),
                s = Math.ceil(i.measureText(Zu.BASELINE_SYMBOL).width),
                a = Math.ceil(Zu.HEIGHT_MULTIPLIER * s),
                s = (s * Zu.BASELINE_MULTIPLIER) | 0;
            ((r.width = o), (r.height = a), (i.fillStyle = '#f00'), i.fillRect(0, 0, o, a), (i.font = t), (i.textBaseline = 'alphabetic'), (i.fillStyle = '#000'), i.fillText(n, 0, s));
            for (var h = i.getImageData(0, 0, o, a).data, i = h.length, u = 4 * o, l = 0, c = 0, d = !1, l = 0; l < s; ++l) {
                for (var f = 0; f < u; f += 4)
                    if (255 !== h[c + f]) {
                        d = !0;
                        break;
                    }
                if (d) break;
                c += u;
            }
            for (e.ascent = s - l, c = i - u, d = !1, l = a; s < l; --l) {
                for (f = 0; f < u; f += 4)
                    if (255 !== h[c + f]) {
                        d = !0;
                        break;
                    }
                if (d) break;
                c -= u;
            }
            return ((e.descent = l - s), (e.fontSize = e.ascent + e.descent), (Zu._fonts[t] = e));
        }),
        (Zu.clearMetrics = function (t) {
            (void 0 === t && (t = ''), t ? delete Zu._fonts[t] : (Zu._fonts = {}));
        }),
        Object.defineProperty(Zu, '_canvas', {
            get: function () {
                if (!Zu.__canvas) {
                    var e = void 0;
                    try {
                        var t = new OffscreenCanvas(0, 0),
                            r = t.getContext('2d');
                        if (r && r.measureText) return (Zu.__canvas = t);
                        e = document.createElement('canvas');
                    } catch (t) {
                        e = document.createElement('canvas');
                    }
                    ((e.width = e.height = 10), (Zu.__canvas = e));
                }
                return Zu.__canvas;
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(Zu, '_context', {
            get: function () {
                return (Zu.__context || (Zu.__context = Zu._canvas.getContext('2d')), Zu.__context);
            },
            enumerable: !1,
            configurable: !0,
        }),
        Zu);
    function Zu(t, e, r, i, n, o, s, a, h) {
        ((this.text = t), (this.style = e), (this.width = r), (this.height = i), (this.lines = n), (this.lineWidths = o), (this.lineHeight = s), (this.maxLineWidth = a), (this.fontProperties = h));
    }
    ((Ku._fonts = {}), (Ku.METRICS_STRING = '|q'), (Ku.BASELINE_SYMBOL = 'M'), (Ku.BASELINE_MULTIPLIER = 1.4), (Ku.HEIGHT_MULTIPLIER = 2), (Ku._newlines = [10, 13]));
    var Qu,
        Ju,
        $u,
        tl = { texture: !0, children: !(Ku._breakingSpaces = [9, 32, 8192, 8193, 8194, 8195, 8196, 8197, 8198, 8200, 8201, 8202, 8287, 12288]), baseTexture: !0 },
        el =
            (Xu((Ju = il), ($u = Qu = Bu)),
            (Ju.prototype = null === $u ? Object.create($u) : ((rl.prototype = $u.prototype), new rl())),
            (il.prototype.updateText = function (t) {
                var e = this._style;
                if ((this.localStyleID !== e.styleID && ((this.dirty = !0), (this.localStyleID = e.styleID)), this.dirty || !t)) {
                    this._font = this._style.toFontString();
                    var r,
                        i,
                        n = this.context,
                        o = Ku.measureText(this._text || ' ', this._style, this._style.wordWrap, this.canvas),
                        t = o.width,
                        s = o.height,
                        a = o.lines,
                        h = o.lineHeight,
                        u = o.lineWidths,
                        l = o.maxLineWidth,
                        c = o.fontProperties;
                    ((this.canvas.width = Math.ceil(Math.ceil(Math.max(1, t) + 2 * e.padding) * this._resolution)), (this.canvas.height = Math.ceil(Math.ceil(Math.max(1, s) + 2 * e.padding) * this._resolution)), n.scale(this._resolution, this._resolution), n.clearRect(0, 0, this.canvas.width, this.canvas.height), (n.font = this._font), (n.lineWidth = e.strokeThickness), (n.textBaseline = e.textBaseline), (n.lineJoin = e.lineJoin), (n.miterLimit = e.miterLimit));
                    for (var d = e.dropShadow ? 2 : 1, f = 0; f < d; ++f) {
                        var p,
                            _,
                            m = e.dropShadow && 0 === f,
                            E = m ? Math.ceil(Math.max(1, s) + 2 * e.padding) : 0,
                            v = E * this._resolution;
                        m ? ((n.fillStyle = 'black'), (n.strokeStyle = 'black'), (p = Ht('number' == typeof (_ = e.dropShadowColor) ? _ : jt(_))), (m = e.dropShadowBlur * this._resolution), (_ = e.dropShadowDistance * this._resolution), (n.shadowColor = 'rgba(' + 255 * p[0] + ',' + 255 * p[1] + ',' + 255 * p[2] + ',' + e.dropShadowAlpha + ')'), (n.shadowBlur = m), (n.shadowOffsetX = Math.cos(e.dropShadowAngle) * _), (n.shadowOffsetY = Math.sin(e.dropShadowAngle) * _ + v)) : ((n.fillStyle = this._generateFillStyle(e, a, o)), (n.strokeStyle = e.stroke), (n.shadowColor = 'black'), (n.shadowBlur = 0), (n.shadowOffsetX = 0), (n.shadowOffsetY = 0));
                        var y = (h - c.fontSize) / 2;
                        (!il.nextLineHeightBehavior || h - c.fontSize < 0) && (y = 0);
                        for (var g = 0; g < a.length; g++) ((r = e.strokeThickness / 2), (i = e.strokeThickness / 2 + g * h + c.ascent + y), 'right' === e.align ? (r += l - u[g]) : 'center' === e.align && (r += (l - u[g]) / 2), e.stroke && e.strokeThickness && this.drawLetterSpacing(a[g], r + e.padding, i + e.padding - E, !0), e.fill && this.drawLetterSpacing(a[g], r + e.padding, i + e.padding - E));
                    }
                    this.updateTexture();
                }
            }),
            (il.prototype.drawLetterSpacing = function (t, e, r, i) {
                void 0 === i && (i = !1);
                var n = this._style.letterSpacing,
                    o = il.experimentalLetterSpacing && ('letterSpacing' in CanvasRenderingContext2D.prototype || 'textLetterSpacing' in CanvasRenderingContext2D.prototype);
                if (0 === n || o) return (o && ((this.context.letterSpacing = n), (this.context.textLetterSpacing = n)), void (i ? this.context.strokeText(t, e, r) : this.context.fillText(t, e, r)));
                for (var s, a = e, h = Array.from ? Array.from(t) : t.split(''), u = this.context.measureText(t).width, l = 0; l < h.length; ++l) {
                    var c = h[l];
                    i ? this.context.strokeText(c, a, r) : this.context.fillText(c, a, r);
                    for (var d = '', f = l + 1; f < h.length; ++f) d += h[f];
                    ((a += u - (s = this.context.measureText(d).width) + n), (u = s));
                }
            }),
            (il.prototype.updateTexture = function () {
                var t = this.canvas;
                !this._style.trim || ((i = pe(t)).data && ((t.width = i.width), (t.height = i.height), this.context.putImageData(i.data, 0, 0)));
                var e = this._texture,
                    r = this._style,
                    i = r.trim ? 0 : r.padding,
                    r = e.baseTexture;
                ((e.trim.width = e._frame.width = t.width / this._resolution), (e.trim.height = e._frame.height = t.height / this._resolution), (e.trim.x = -i), (e.trim.y = -i), (e.orig.width = e._frame.width - 2 * i), (e.orig.height = e._frame.height - 2 * i), this._onTextureUpdate(), r.setRealSize(t.width, t.height, this._resolution), e.updateUvs(), (this.dirty = !1));
            }),
            (il.prototype._render = function (t) {
                (this._autoResolution && this._resolution !== t.resolution && ((this._resolution = t.resolution), (this.dirty = !0)), this.updateText(!0), Qu.prototype._render.call(this, t));
            }),
            (il.prototype.updateTransform = function () {
                (this.updateText(!0), Qu.prototype.updateTransform.call(this));
            }),
            (il.prototype.getBounds = function (t, e) {
                return (this.updateText(!0), -1 === this._textureID && (t = !1), Qu.prototype.getBounds.call(this, t, e));
            }),
            (il.prototype.getLocalBounds = function (t) {
                return (this.updateText(!0), Qu.prototype.getLocalBounds.call(this, t));
            }),
            (il.prototype._calculateBounds = function () {
                (this.calculateVertices(), this._bounds.addQuad(this.vertexData));
            }),
            (il.prototype._generateFillStyle = function (t, e, r) {
                var i,
                    n = t.fill;
                if (!Array.isArray(n)) return n;
                if (1 === n.length) return n[0];
                var o = t.dropShadow ? t.dropShadowDistance : 0,
                    s = t.padding || 0,
                    a = this.canvas.width / this._resolution - o - 2 * s,
                    h = this.canvas.height / this._resolution - o - 2 * s,
                    u = n.slice(),
                    l = t.fillGradientStops.slice();
                if (!l.length) for (var c = u.length + 1, d = 1; d < c; ++d) l.push(d / c);
                if ((u.unshift(n[0]), l.unshift(0), u.push(n[n.length - 1]), l.push(1), t.fillGradientType === $.TEXT_GRADIENT.LINEAR_VERTICAL)) {
                    i = this.context.createLinearGradient(a / 2, s, a / 2, h + s);
                    for (var f = r.fontProperties.fontSize + t.strokeThickness, d = 0; d < e.length; d++) {
                        var p = r.lineHeight * (d - 1) + f,
                            _ = r.lineHeight * d,
                            m = _;
                        0 < d && _ < p && (m = (_ + p) / 2);
                        var E = _ + f,
                            p = r.lineHeight * (d + 1),
                            _ = E;
                        d + 1 < e.length && p < E && (_ = (E + p) / 2);
                        for (var v = (_ - m) / h, y = 0; y < u.length; y++) {
                            var g = 0,
                                g = 'number' == typeof l[y] ? l[y] : y / u.length,
                                g = Math.min(1, Math.max(0, m / h + g * v)),
                                g = Number(g.toFixed(5));
                            i.addColorStop(g, u[y]);
                        }
                    }
                } else {
                    i = this.context.createLinearGradient(s, h / 2, a + s, h / 2);
                    for (var T = u.length + 1, b = 1, d = 0; d < u.length; d++) {
                        var x = void 0,
                            x = 'number' == typeof l[d] ? l[d] : b / T;
                        (i.addColorStop(x, u[d]), b++);
                    }
                }
                return i;
            }),
            (il.prototype.destroy = function (t) {
                ('boolean' == typeof t && (t = { children: t }), (t = Object.assign({}, tl, t)), Qu.prototype.destroy.call(this, t), this._ownCanvas && (this.canvas.height = this.canvas.width = 0), (this.context = null), (this.canvas = null), (this._style = null));
            }),
            Object.defineProperty(il.prototype, 'width', {
                get: function () {
                    return (this.updateText(!0), Math.abs(this.scale.x) * this._texture.orig.width);
                },
                set: function (t) {
                    this.updateText(!0);
                    var e = ne(this.scale.x) || 1;
                    ((this.scale.x = (e * t) / this._texture.orig.width), (this._width = t));
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(il.prototype, 'height', {
                get: function () {
                    return (this.updateText(!0), Math.abs(this.scale.y) * this._texture.orig.height);
                },
                set: function (t) {
                    this.updateText(!0);
                    var e = ne(this.scale.y) || 1;
                    ((this.scale.y = (e * t) / this._texture.orig.height), (this._height = t));
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(il.prototype, 'style', {
                get: function () {
                    return this._style;
                },
                set: function (t) {
                    ((t = t || {}), (this._style = t instanceof ju ? t : new ju(t)), (this.localStyleID = -1), (this.dirty = !0));
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(il.prototype, 'text', {
                get: function () {
                    return this._text;
                },
                set: function (t) {
                    ((t = String(null == t ? '' : t)), this._text !== t && ((this._text = t), (this.dirty = !0)));
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(il.prototype, 'resolution', {
                get: function () {
                    return this._resolution;
                },
                set: function (t) {
                    ((this._autoResolution = !1), this._resolution !== t && ((this._resolution = t), (this.dirty = !0)));
                },
                enumerable: !1,
                configurable: !0,
            }),
            (il.nextLineHeightBehavior = !1),
            (il.experimentalLetterSpacing = !1),
            il);
    function rl() {
        this.constructor = Ju;
    }
    function il(t, e, r) {
        var i = this,
            n = !1;
        (r || ((r = document.createElement('canvas')), (n = !0)), (r.width = 3), (r.height = 3));
        var o = Gi.from(r);
        return ((o.orig = new Se()), (o.trim = new Se()), ((i = Qu.call(this, o) || this)._ownCanvas = n), (i.canvas = r), (i.context = i.canvas.getContext('2d')), (i._resolution = G.RESOLUTION), (i._autoResolution = !0), (i._text = null), (i._style = null), (i._styleListener = null), (i._font = ''), (i.text = t), (i.style = e), (i.localStyleID = -1), i);
    }
    G.UPLOADS_PER_FRAME = 4;
    var nl = function (t, e) {
        return (nl =
            Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array &&
                function (t, e) {
                    t.__proto__ = e;
                }) ||
            function (t, e) {
                for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r]);
            })(t, e);
    };
    var ol =
        ((sl.prototype.beginFrame = function () {
            this.itemsLeft = this.maxItemsPerFrame;
        }),
        (sl.prototype.allowedToUpload = function () {
            return 0 < this.itemsLeft--;
        }),
        sl);
    function sl(t) {
        ((this.maxItemsPerFrame = t), (this.itemsLeft = 0));
    }
    function al(t, e) {
        var r = !1;
        if (t && t._textures && t._textures.length) for (var i, n = 0; n < t._textures.length; n++) t._textures[n] instanceof Gi && ((i = t._textures[n].baseTexture), -1 === e.indexOf(i) && (e.push(i), (r = !0)));
        return r;
    }
    function hl(t, e) {
        if (t.baseTexture instanceof Zr) {
            t = t.baseTexture;
            return (-1 === e.indexOf(t) && e.push(t), !0);
        }
        return !1;
    }
    function ul(t, e) {
        if (t._texture && t._texture instanceof Gi) {
            t = t._texture.baseTexture;
            return (-1 === e.indexOf(t) && e.push(t), !0);
        }
        return !1;
    }
    function ll(t, e) {
        return e instanceof el && (e.updateText(!0), !0);
    }
    function cl(t, e) {
        if (e instanceof ju) {
            e = e.toFontString();
            return (Ku.measureFont(e), !0);
        }
        return !1;
    }
    function dl(t, e) {
        if (t instanceof el) {
            (-1 === e.indexOf(t.style) && e.push(t.style), -1 === e.indexOf(t) && e.push(t));
            t = t._texture.baseTexture;
            return (-1 === e.indexOf(t) && e.push(t), !0);
        }
        return !1;
    }
    function fl(t, e) {
        return t instanceof ju && (-1 === e.indexOf(t) && e.push(t), !0);
    }
    var pl =
        ((_l.prototype.upload = function (t, e) {
            ('function' == typeof t && ((e = t), (t = null)), t && this.add(t), this.queue.length ? (e && this.completes.push(e), this.ticking || ((this.ticking = !0), mr.system.addOnce(this.tick, this, $.UPDATE_PRIORITY.UTILITY))) : e && e());
        }),
        (_l.prototype.tick = function () {
            setTimeout(this.delayedTick, 0);
        }),
        (_l.prototype.prepareItems = function () {
            for (this.limiter.beginFrame(); this.queue.length && this.limiter.allowedToUpload(); ) {
                var t = this.queue[0],
                    e = !1;
                if (t && !t._destroyed)
                    for (var r = 0, i = this.uploadHooks.length; r < i; r++)
                        if (this.uploadHooks[r](this.uploadHookHelper, t)) {
                            (this.queue.shift(), (e = !0));
                            break;
                        }
                e || this.queue.shift();
            }
            if (this.queue.length) mr.system.addOnce(this.tick, this, $.UPDATE_PRIORITY.UTILITY);
            else {
                this.ticking = !1;
                for (var n = this.completes.slice(0), r = (this.completes.length = 0), i = n.length; r < i; r++) n[r]();
            }
        }),
        (_l.prototype.registerFindHook = function (t) {
            return (t && this.addHooks.push(t), this);
        }),
        (_l.prototype.registerUploadHook = function (t) {
            return (t && this.uploadHooks.push(t), this);
        }),
        (_l.prototype.add = function (t) {
            for (var e = 0, r = this.addHooks.length; e < r && !this.addHooks[e](t, this.queue); e++);
            if (t instanceof ur) for (e = t.children.length - 1; 0 <= e; e--) this.add(t.children[e]);
            return this;
        }),
        (_l.prototype.destroy = function () {
            (this.ticking && mr.system.remove(this.tick, this), (this.ticking = !1), (this.addHooks = null), (this.uploadHooks = null), (this.renderer = null), (this.completes = null), (this.queue = null), (this.limiter = null), (this.uploadHookHelper = null));
        }),
        _l);
    function _l(t) {
        var e = this;
        ((this.limiter = new ol(G.UPLOADS_PER_FRAME)),
            (this.renderer = t),
            (this.uploadHookHelper = null),
            (this.queue = []),
            (this.addHooks = []),
            (this.uploadHooks = []),
            (this.completes = []),
            (this.ticking = !1),
            (this.delayedTick = function () {
                e.queue && e.prepareItems();
            }),
            this.registerFindHook(dl),
            this.registerFindHook(fl),
            this.registerFindHook(al),
            this.registerFindHook(hl),
            this.registerFindHook(ul),
            this.registerUploadHook(ll),
            this.registerUploadHook(cl));
    }
    function ml(t, e) {
        return e instanceof Zr && (e._glTextures[t.CONTEXT_UID] || t.texture.bind(e), !0);
    }
    function El(t, e) {
        if (!(e instanceof Mu)) return !1;
        var r = e.geometry;
        (e.finishPoly(), r.updateBatches());
        for (var i = r.batches, n = 0; n < i.length; n++) {
            var o = i[n].style.texture;
            o && ml(t, o.baseTexture);
        }
        return (r.batchable || t.geometry.bind(r, e._resolveDirectShader(t)), !0);
    }
    function vl(t, e) {
        return t instanceof Mu && (e.push(t), !0);
    }
    var yl,
        gl,
        Tl,
        bl = (nl((gl = Rl), (Tl = yl = pl)), (gl.prototype = null === Tl ? Object.create(Tl) : ((xl.prototype = Tl.prototype), new xl())), Rl);
    function xl() {
        this.constructor = gl;
    }
    function Rl(t) {
        t = yl.call(this, t) || this;
        return ((t.uploadHookHelper = t.renderer), t.registerFindHook(vl), t.registerUploadHook(ml), t.registerUploadHook(El), t);
    }
    var Al =
        ((Sl.prototype.beginFrame = function () {
            this.frameStart = Date.now();
        }),
        (Sl.prototype.allowedToUpload = function () {
            return Date.now() - this.frameStart < this.maxMilliseconds;
        }),
        Sl);
    function Sl(t) {
        ((this.maxMilliseconds = t), (this.frameStart = 0));
    }
    var Ol =
        ((Il.prototype._updateResolution = function (t) {
            void 0 === t && (t = null);
            var e = this.data.meta.scale,
                t = ve(t, null);
            return (null === t && (t = void 0 !== e ? parseFloat(e) : 1), 1 !== t && this.baseTexture.setResolution(t), t);
        }),
        (Il.prototype.parse = function (t) {
            ((this._batchIndex = 0), (this._callback = t), this._frameKeys.length <= Il.BATCH_SIZE ? (this._processFrames(0), this._processAnimations(), this._parseComplete()) : this._nextBatch());
        }),
        (Il.prototype._processFrames = function (t) {
            for (var e = t, r = Il.BATCH_SIZE; e - t < r && e < this._frameKeys.length; ) {
                var i,
                    n,
                    o,
                    s = this._frameKeys[e],
                    a = this._frames[s],
                    h = a.frame;
                (h && ((i = o = null), (n = !1 !== a.trimmed && a.sourceSize ? a.sourceSize : a.frame), (n = new Se(0, 0, Math.floor(n.w) / this.resolution, Math.floor(n.h) / this.resolution)), (o = a.rotated ? new Se(Math.floor(h.x) / this.resolution, Math.floor(h.y) / this.resolution, Math.floor(h.h) / this.resolution, Math.floor(h.w) / this.resolution) : new Se(Math.floor(h.x) / this.resolution, Math.floor(h.y) / this.resolution, Math.floor(h.w) / this.resolution, Math.floor(h.h) / this.resolution)), !1 !== a.trimmed && a.spriteSourceSize && (i = new Se(Math.floor(a.spriteSourceSize.x) / this.resolution, Math.floor(a.spriteSourceSize.y) / this.resolution, Math.floor(h.w) / this.resolution, Math.floor(h.h) / this.resolution)), (this.textures[s] = new Gi(this.baseTexture, o, n, i, a.rotated ? 2 : 0, a.anchor))), e++);
            }
        }),
        (Il.prototype._processAnimations = function () {
            var t,
                e = this.data.animations || {};
            for (t in e) {
                this.animations[t] = [];
                for (var r = 0; r < e[t].length; r++) {
                    var i = e[t][r];
                    this.animations[t].push(this.textures[i]);
                }
            }
        }),
        (Il.prototype._parseComplete = function () {
            var t = this._callback;
            ((this._callback = null), (this._batchIndex = 0), t.call(this, this.textures));
        }),
        (Il.prototype._nextBatch = function () {
            var t = this;
            (this._processFrames(this._batchIndex * Il.BATCH_SIZE),
                this._batchIndex++,
                setTimeout(function () {
                    t._batchIndex * Il.BATCH_SIZE < t._frameKeys.length ? t._nextBatch() : (t._processAnimations(), t._parseComplete());
                }, 0));
        }),
        (Il.prototype.destroy = function (t) {
            for (var e in (void 0 === t && (t = !1), this.textures)) this.textures[e].destroy();
            ((this._frames = null), (this._frameKeys = null), (this.data = null), (this.textures = null), t && (null !== (t = this._texture) && void 0 !== t && t.destroy(), this.baseTexture.destroy()), (this._texture = null), (this.baseTexture = null));
        }),
        (Il.BATCH_SIZE = 1e3),
        Il);
    function Il(t, e, r) {
        (void 0 === r && (r = null), (this._texture = t instanceof Gi ? t : null), (this.baseTexture = t instanceof Zr ? t : this._texture.baseTexture), (this.textures = {}), (this.animations = {}), (this.data = e));
        e = this.baseTexture.resource;
        ((this.resolution = this._updateResolution(r || (e ? e.url : null))), (this._frames = this.data.frames), (this._frameKeys = Object.keys(this._frames)), (this._batchIndex = 0), (this._callback = null));
    }
    var Ml =
        ((Nl.use = function (i, r) {
            var n = this,
                t = i.name + '_image';
            if (i.data && i.type === $.LoaderResource.TYPE.JSON && i.data.frames && !n.resources[t]) {
                var e = null === (a = null === (e = i.data) || void 0 === e ? void 0 : e.meta) || void 0 === a ? void 0 : a.related_multi_packs;
                if (Array.isArray(e))
                    for (var o = 0, s = e; o < s.length; o++)
                        !(function (t) {
                            var e, r;
                            'string' == typeof t &&
                                ((e = t.replace('.json', '')),
                                (r = Lt.resolve(i.url.replace(n.baseUrl, ''), t)),
                                n.resources[e] ||
                                    Object.values(n.resources).some(function (t) {
                                        return Lt.format(Lt.parse(t.url)) === r;
                                    }) ||
                                    ((t = { crossOrigin: i.crossOrigin, loadType: $.LoaderResource.LOAD_TYPE.XHR, xhrType: $.LoaderResource.XHR_RESPONSE_TYPE.JSON, parentResource: i, metadata: i.metadata }), n.add(e, r, t)));
                        })(s[o]);
                var a = { crossOrigin: i.crossOrigin, metadata: i.metadata.imageMetadata, parentResource: i },
                    e = Nl.getResourcePath(i, n.baseUrl);
                n.add(t, e, a, function (t) {
                    var e;
                    t.error
                        ? r(t.error)
                        : (e = new Ol(t.texture, i.data, i.url)).parse(function () {
                              ((i.spritesheet = e), (i.textures = e.textures), r());
                          });
                });
            } else r();
        }),
        (Nl.getResourcePath = function (t, e) {
            return t.isDataUrl ? t.data.meta.image : Lt.resolve(t.url.replace(e, ''), t.data.meta.image);
        }),
        Nl);
    function Nl() {}
    var Pl = function (t, e) {
        return (Pl =
            Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array &&
                function (t, e) {
                    t.__proto__ = e;
                }) ||
            function (t, e) {
                for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r]);
            })(t, e);
    };
    function Dl(t, e) {
        function r() {
            this.constructor = t;
        }
        (Pl(t, e), (t.prototype = null === e ? Object.create(e) : ((r.prototype = e.prototype), new r())));
    }
    var Cl,
        wl = new xe(),
        Ll =
            (Dl(Fl, (Cl = Bu)),
            Object.defineProperty(Fl.prototype, 'clampMargin', {
                get: function () {
                    return this.uvMatrix.clampMargin;
                },
                set: function (t) {
                    ((this.uvMatrix.clampMargin = t), this.uvMatrix.update(!0));
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Fl.prototype, 'tileScale', {
                get: function () {
                    return this.tileTransform.scale;
                },
                set: function (t) {
                    this.tileTransform.scale.copyFrom(t);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Fl.prototype, 'tilePosition', {
                get: function () {
                    return this.tileTransform.position;
                },
                set: function (t) {
                    this.tileTransform.position.copyFrom(t);
                },
                enumerable: !1,
                configurable: !0,
            }),
            (Fl.prototype._onTextureUpdate = function () {
                (this.uvMatrix && (this.uvMatrix.texture = this._texture), (this._cachedTint = 16777215));
            }),
            (Fl.prototype._render = function (t) {
                var e = this._texture;
                e && e.valid && (this.tileTransform.updateLocalTransform(), this.uvMatrix.update(), t.batch.setObjectRenderer(t.plugins[this.pluginName]), t.plugins[this.pluginName].render(this));
            }),
            (Fl.prototype._calculateBounds = function () {
                var t = this._width * -this._anchor._x,
                    e = this._height * -this._anchor._y,
                    r = this._width * (1 - this._anchor._x),
                    i = this._height * (1 - this._anchor._y);
                this._bounds.addFrame(this.transform, t, e, r, i);
            }),
            (Fl.prototype.getLocalBounds = function (t) {
                return 0 === this.children.length ? ((this._bounds.minX = this._width * -this._anchor._x), (this._bounds.minY = this._height * -this._anchor._y), (this._bounds.maxX = this._width * (1 - this._anchor._x)), (this._bounds.maxY = this._height * (1 - this._anchor._y)), t || (this._localBoundsRect || (this._localBoundsRect = new Se()), (t = this._localBoundsRect)), this._bounds.getRectangle(t)) : Cl.prototype.getLocalBounds.call(this, t);
            }),
            (Fl.prototype.containsPoint = function (t) {
                this.worldTransform.applyInverse(t, wl);
                var e = this._width,
                    r = this._height,
                    t = -e * this.anchor._x;
                if (wl.x >= t && wl.x < t + e) {
                    e = -r * this.anchor._y;
                    if (wl.y >= e && wl.y < e + r) return !0;
                }
                return !1;
            }),
            (Fl.prototype.destroy = function (t) {
                (Cl.prototype.destroy.call(this, t), (this.tileTransform = null), (this.uvMatrix = null));
            }),
            (Fl.from = function (t, e) {
                return new Fl(t instanceof Gi ? t : Gi.from(t, e), e.width, e.height);
            }),
            Object.defineProperty(Fl.prototype, 'width', {
                get: function () {
                    return this._width;
                },
                set: function (t) {
                    this._width = t;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Fl.prototype, 'height', {
                get: function () {
                    return this._height;
                },
                set: function (t) {
                    this._height = t;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Fl);
    function Fl(t, e, r) {
        (void 0 === e && (e = 100), void 0 === r && (r = 100));
        var i = Cl.call(this, t) || this;
        return ((i.tileTransform = new qe()), (i._width = e), (i._height = r), (i.uvMatrix = i.texture.uvMatrix || new po(t)), (i.pluginName = 'tilingSprite'), (i.uvRespectAnchor = !1), i);
    }
    var Ul,
        Bl = '#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n',
        Gl = new Be(),
        kl =
            (Dl(Xl, (Ul = yn)),
            (Xl.prototype.contextChange = function () {
                var t = this.renderer,
                    e = { globals: t.globalUniforms };
                ((this.simpleShader = oo.from(Bl, '#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n', e)),
                    (this.shader =
                        1 < t.context.webGLVersion
                            ? oo.from(
                                  '#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n',
                                  '#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n',
                                  e
                              )
                            : oo.from(Bl, '#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n', e)));
            }),
            (Xl.prototype.render = function (t) {
                var e = this.renderer,
                    r = this.quad,
                    i = r.vertices;
                ((i[0] = i[6] = t._width * -t.anchor.x), (i[1] = i[3] = t._height * -t.anchor.y), (i[2] = i[4] = t._width * (1 - t.anchor.x)), (i[5] = i[7] = t._height * (1 - t.anchor.y)));
                var n = t.uvRespectAnchor ? t.anchor.x : 0,
                    o = t.uvRespectAnchor ? t.anchor.y : 0;
                (((i = r.uvs)[0] = i[6] = -n), (i[1] = i[3] = -o), (i[2] = i[4] = 1 - n), (i[5] = i[7] = 1 - o), r.invalidate());
                var s = t._texture,
                    a = s.baseTexture,
                    h = t.tileTransform.localTransform,
                    u = t.uvMatrix,
                    l = a.isPowerOfTwo && s.frame.width === a.width && s.frame.height === a.height;
                l && (a._glTextures[e.CONTEXT_UID] ? (l = a.wrapMode !== $.WRAP_MODES.CLAMP) : a.wrapMode === $.WRAP_MODES.CLAMP && (a.wrapMode = $.WRAP_MODES.REPEAT));
                var c = l ? this.simpleShader : this.shader,
                    d = s.width,
                    n = s.height,
                    i = t._width,
                    o = t._height;
                (Gl.set((h.a * d) / i, (h.b * d) / o, (h.c * n) / i, (h.d * n) / o, h.tx / i, h.ty / o), Gl.invert(), l ? Gl.prepend(u.mapCoord) : ((c.uniforms.uMapCoord = u.mapCoord.toArray(!0)), (c.uniforms.uClampFrame = u.uClampFrame), (c.uniforms.uClampOffset = u.uClampOffset)), (c.uniforms.uTransform = Gl.toArray(!0)), (c.uniforms.uColor = Zt(t.tint, t.worldAlpha, c.uniforms.uColor, a.alphaMode)), (c.uniforms.translationMatrix = t.transform.worldTransform.toArray(!0)), (c.uniforms.uSampler = s), e.shader.bind(c), e.geometry.bind(r), (this.state.blendMode = zt(t.blendMode, a.alphaMode)), e.state.set(this.state), e.geometry.draw(this.renderer.gl.TRIANGLES, 6, 0));
            }),
            Xl);
    function Xl(t) {
        var e = Ul.call(this, t) || this;
        return (t.runners.contextChange.add(e), (e.quad = new hn()), (e.state = ao.for2d()), e);
    }
    var Hl = function (t, e) {
        return (Hl =
            Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array &&
                function (t, e) {
                    t.__proto__ = e;
                }) ||
            function (t, e) {
                for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r]);
            })(t, e);
    };
    function Yl(t, e) {
        function r() {
            this.constructor = t;
        }
        (Hl(t, e), (t.prototype = null === e ? Object.create(e) : ((r.prototype = e.prototype), new r())));
    }
    var jl =
        ((Vl.prototype.update = function (t) {
            (!t && this._bufferUpdateId === this.uvBuffer._updateID && this._textureUpdateId === this.uvMatrix._updateID) || ((this._bufferUpdateId = this.uvBuffer._updateID), (this._textureUpdateId = this.uvMatrix._updateID), (t = this.uvBuffer.data), (this.data && this.data.length === t.length) || (this.data = new Float32Array(t.length)), this.uvMatrix.multiplyUvs(t, this.data), this._updateID++);
        }),
        Vl);
    function Vl(t, e) {
        ((this.uvBuffer = t), (this.uvMatrix = e), (this.data = null), (this._bufferUpdateId = -1), (this._textureUpdateId = -1), (this._updateID = 0));
    }
    var Wl,
        zl = new xe(),
        ql = new De(),
        Kl =
            (Yl(Zl, (Wl = ur)),
            Object.defineProperty(Zl.prototype, 'geometry', {
                get: function () {
                    return this._geometry;
                },
                set: function (t) {
                    this._geometry !== t && (this._geometry && (this._geometry.refCount--, 0 === this._geometry.refCount && this._geometry.dispose()), (this._geometry = t), this._geometry && this._geometry.refCount++, (this.vertexDirty = -1));
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Zl.prototype, 'uvBuffer', {
                get: function () {
                    return this.geometry.buffers[1];
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Zl.prototype, 'verticesBuffer', {
                get: function () {
                    return this.geometry.buffers[0];
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Zl.prototype, 'material', {
                get: function () {
                    return this.shader;
                },
                set: function (t) {
                    this.shader = t;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Zl.prototype, 'blendMode', {
                get: function () {
                    return this.state.blendMode;
                },
                set: function (t) {
                    this.state.blendMode = t;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Zl.prototype, 'roundPixels', {
                get: function () {
                    return this._roundPixels;
                },
                set: function (t) {
                    (this._roundPixels !== t && (this._transformID = -1), (this._roundPixels = t));
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Zl.prototype, 'tint', {
                get: function () {
                    return 'tint' in this.shader ? this.shader.tint : null;
                },
                set: function (t) {
                    this.shader.tint = t;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Zl.prototype, 'texture', {
                get: function () {
                    return 'texture' in this.shader ? this.shader.texture : null;
                },
                set: function (t) {
                    this.shader.texture = t;
                },
                enumerable: !1,
                configurable: !0,
            }),
            (Zl.prototype._render = function (t) {
                var e = this.geometry.buffers[0].data;
                this.shader.batchable && this.drawMode === $.DRAW_MODES.TRIANGLES && e.length < 2 * Zl.BATCHABLE_SIZE ? this._renderToBatch(t) : this._renderDefault(t);
            }),
            (Zl.prototype._renderDefault = function (t) {
                var e = this.shader;
                ((e.alpha = this.worldAlpha), e.update && e.update(), t.batch.flush(), (e.uniforms.translationMatrix = this.transform.worldTransform.toArray(!0)), t.shader.bind(e), t.state.set(this.state), t.geometry.bind(this.geometry, e), t.geometry.draw(this.drawMode, this.size, this.start, this.geometry.instanceCount));
            }),
            (Zl.prototype._renderToBatch = function (t) {
                var e = this.geometry,
                    r = this.shader;
                (r.uvMatrix && (r.uvMatrix.update(), this.calculateUvs()), this.calculateVertices(), (this.indices = e.indexBuffer.data), (this._tintRGB = r._tintRGB), (this._texture = r.texture));
                r = this.material.pluginName;
                (t.batch.setObjectRenderer(t.plugins[r]), t.plugins[r].render(this));
            }),
            (Zl.prototype.calculateVertices = function () {
                var t = this.geometry.buffers[0],
                    e = t.data,
                    r = t._updateID;
                if (r !== this.vertexDirty || this._transformID !== this.transform._worldID) {
                    ((this._transformID = this.transform._worldID), this.vertexData.length !== e.length && (this.vertexData = new Float32Array(e.length)));
                    for (var t = this.transform.worldTransform, i = t.a, n = t.b, o = t.c, s = t.d, a = t.tx, h = t.ty, u = this.vertexData, l = 0; l < u.length / 2; l++) {
                        var c = e[2 * l],
                            d = e[2 * l + 1];
                        ((u[2 * l] = i * c + o * d + a), (u[2 * l + 1] = n * c + s * d + h));
                    }
                    if (this._roundPixels) for (var f = G.RESOLUTION, l = 0; l < u.length; ++l) u[l] = Math.round(((u[l] * f) | 0) / f);
                    this.vertexDirty = r;
                }
            }),
            (Zl.prototype.calculateUvs = function () {
                var t = this.geometry.buffers[1],
                    e = this.shader;
                e.uvMatrix.isSimple ? (this.uvs = t.data) : (this.batchUvs || (this.batchUvs = new jl(t, e.uvMatrix)), this.batchUvs.update(), (this.uvs = this.batchUvs.data));
            }),
            (Zl.prototype._calculateBounds = function () {
                (this.calculateVertices(), this._bounds.addVertexData(this.vertexData, 0, this.vertexData.length));
            }),
            (Zl.prototype.containsPoint = function (t) {
                if (!this.getBounds().contains(t.x, t.y)) return !1;
                this.worldTransform.applyInverse(t, zl);
                for (var e = this.geometry.getBuffer('aVertexPosition').data, r = ql.points, i = this.geometry.getIndex().data, n = i.length, o = 4 === this.drawMode ? 3 : 1, s = 0; s + 2 < n; s += o) {
                    var a = 2 * i[s],
                        h = 2 * i[s + 1],
                        u = 2 * i[s + 2];
                    if (((r[0] = e[a]), (r[1] = e[1 + a]), (r[2] = e[h]), (r[3] = e[1 + h]), (r[4] = e[u]), (r[5] = e[1 + u]), ql.contains(zl.x, zl.y))) return !0;
                }
                return !1;
            }),
            (Zl.prototype.destroy = function (t) {
                (Wl.prototype.destroy.call(this, t), this._cachedTexture && (this._cachedTexture.destroy(), (this._cachedTexture = null)), (this.geometry = null), (this.shader = null), (this.state = null), (this.uvs = null), (this.indices = null), (this.vertexData = null));
            }),
            (Zl.BATCHABLE_SIZE = 100),
            Zl);
    function Zl(t, e, r, i) {
        void 0 === i && (i = $.DRAW_MODES.TRIANGLES);
        var n = Wl.call(this) || this;
        return ((n.geometry = t), (n.shader = e), (n.state = r || ao.for2d()), (n.drawMode = i), (n.start = 0), (n.size = 0), (n.uvs = null), (n.indices = null), (n.vertexData = new Float32Array(1)), (n.vertexDirty = -1), (n._transformID = -1), (n._roundPixels = G.ROUND_PIXELS), (n.batchUvs = null), n);
    }
    var Ql,
        Jl =
            (Yl($l, (Ql = oo)),
            Object.defineProperty($l.prototype, 'texture', {
                get: function () {
                    return this.uniforms.uSampler;
                },
                set: function (t) {
                    this.uniforms.uSampler !== t && (!this.uniforms.uSampler.baseTexture.alphaMode != !t.baseTexture.alphaMode && (this._colorDirty = !0), (this.uniforms.uSampler = t), (this.uvMatrix.texture = t));
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty($l.prototype, 'alpha', {
                get: function () {
                    return this._alpha;
                },
                set: function (t) {
                    t !== this._alpha && ((this._alpha = t), (this._colorDirty = !0));
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty($l.prototype, 'tint', {
                get: function () {
                    return this._tint;
                },
                set: function (t) {
                    t !== this._tint && ((this._tint = t), (this._tintRGB = (t >> 16) + (65280 & t) + ((255 & t) << 16)), (this._colorDirty = !0));
                },
                enumerable: !1,
                configurable: !0,
            }),
            ($l.prototype.update = function () {
                var t;
                (this._colorDirty && ((this._colorDirty = !1), (t = this.texture.baseTexture), Zt(this._tint, this._alpha, this.uniforms.uColor, t.alphaMode)), this.uvMatrix.update() && (this.uniforms.uTextureMatrix = this.uvMatrix.mapCoord));
            }),
            $l);
    function $l(t, e) {
        var r = this,
            i = { uSampler: t, alpha: 1, uTextureMatrix: Be.IDENTITY, uColor: new Float32Array([1, 1, 1, 1]) };
        return ((e = Object.assign({ tint: 16777215, alpha: 1, pluginName: 'batch' }, e)).uniforms && Object.assign(i, e.uniforms), ((r = Ql.call(this, e.program || io.from('attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n', 'varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n'), i) || this)._colorDirty = !1), (r.uvMatrix = new po(t)), (r.batchable = void 0 === e.program), (r.pluginName = e.pluginName), (r.tint = e.tint), (r.alpha = e.alpha), r);
    }
    var tc,
        ec =
            (Yl(rc, (tc = en)),
            Object.defineProperty(rc.prototype, 'vertexDirtyId', {
                get: function () {
                    return this.buffers[0]._updateID;
                },
                enumerable: !1,
                configurable: !0,
            }),
            rc);
    function rc(t, e, r) {
        var i = tc.call(this) || this,
            t = new Ki(t),
            e = new Ki(e, !0),
            r = new Ki(r, !0, !0);
        return (i.addAttribute('aVertexPosition', t, 2, !1, $.TYPES.FLOAT).addAttribute('aTextureCoord', e, 2, !1, $.TYPES.FLOAT).addIndex(r), (i._updateId = -1), i);
    }
    var ic = function (t, e) {
        return (ic =
            Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array &&
                function (t, e) {
                    t.__proto__ = e;
                }) ||
            function (t, e) {
                for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r]);
            })(t, e);
    };
    var nc = function () {
            ((this.info = []), (this.common = []), (this.page = []), (this.char = []), (this.kerning = []), (this.distanceField = []));
        },
        oc =
            ((sc.test = function (t) {
                return 'string' == typeof t && 0 === t.indexOf('info face=');
            }),
            (sc.parse = function (t) {
                var e,
                    r = t.match(/^[a-z]+\s+.+$/gm),
                    i = { info: [], common: [], page: [], char: [], chars: [], kerning: [], kernings: [], distanceField: [] };
                for (e in r) {
                    var n,
                        o = r[e].match(/^[a-z]+/gm)[0],
                        s = r[e].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),
                        a = {};
                    for (n in s) {
                        var h = s[n].split('='),
                            u = h[0],
                            l = h[1].replace(/"/gm, ''),
                            h = parseFloat(l),
                            h = isNaN(h) ? l : h;
                        a[u] = h;
                    }
                    i[o].push(a);
                }
                var c = new nc();
                return (
                    i.info.forEach(function (t) {
                        return c.info.push({ face: t.face, size: parseInt(t.size, 10) });
                    }),
                    i.common.forEach(function (t) {
                        return c.common.push({ lineHeight: parseInt(t.lineHeight, 10) });
                    }),
                    i.page.forEach(function (t) {
                        return c.page.push({ id: parseInt(t.id, 10), file: t.file });
                    }),
                    i.char.forEach(function (t) {
                        return c.char.push({ id: parseInt(t.id, 10), page: parseInt(t.page, 10), x: parseInt(t.x, 10), y: parseInt(t.y, 10), width: parseInt(t.width, 10), height: parseInt(t.height, 10), xoffset: parseInt(t.xoffset, 10), yoffset: parseInt(t.yoffset, 10), xadvance: parseInt(t.xadvance, 10) });
                    }),
                    i.kerning.forEach(function (t) {
                        return c.kerning.push({ first: parseInt(t.first, 10), second: parseInt(t.second, 10), amount: parseInt(t.amount, 10) });
                    }),
                    i.distanceField.forEach(function (t) {
                        return c.distanceField.push({ distanceRange: parseInt(t.distanceRange, 10), fieldType: t.fieldType });
                    }),
                    c
                );
            }),
            sc);
    function sc() {}
    var ac =
        ((hc.test = function (t) {
            return t instanceof XMLDocument && t.getElementsByTagName('page').length && null !== t.getElementsByTagName('info')[0].getAttribute('face');
        }),
        (hc.parse = function (t) {
            for (var e = new nc(), r = t.getElementsByTagName('info'), i = t.getElementsByTagName('common'), n = t.getElementsByTagName('page'), o = t.getElementsByTagName('char'), s = t.getElementsByTagName('kerning'), a = t.getElementsByTagName('distanceField'), h = 0; h < r.length; h++) e.info.push({ face: r[h].getAttribute('face'), size: parseInt(r[h].getAttribute('size'), 10) });
            for (h = 0; h < i.length; h++) e.common.push({ lineHeight: parseInt(i[h].getAttribute('lineHeight'), 10) });
            for (h = 0; h < n.length; h++) e.page.push({ id: parseInt(n[h].getAttribute('id'), 10) || 0, file: n[h].getAttribute('file') });
            for (h = 0; h < o.length; h++) {
                var u = o[h];
                e.char.push({ id: parseInt(u.getAttribute('id'), 10), page: parseInt(u.getAttribute('page'), 10) || 0, x: parseInt(u.getAttribute('x'), 10), y: parseInt(u.getAttribute('y'), 10), width: parseInt(u.getAttribute('width'), 10), height: parseInt(u.getAttribute('height'), 10), xoffset: parseInt(u.getAttribute('xoffset'), 10), yoffset: parseInt(u.getAttribute('yoffset'), 10), xadvance: parseInt(u.getAttribute('xadvance'), 10) });
            }
            for (h = 0; h < s.length; h++) e.kerning.push({ first: parseInt(s[h].getAttribute('first'), 10), second: parseInt(s[h].getAttribute('second'), 10), amount: parseInt(s[h].getAttribute('amount'), 10) });
            for (h = 0; h < a.length; h++) e.distanceField.push({ fieldType: a[h].getAttribute('fieldType'), distanceRange: parseInt(a[h].getAttribute('distanceRange'), 10) });
            return e;
        }),
        hc);
    function hc() {}
    var uc =
        ((lc.test = function (t) {
            if ('string' == typeof t && -1 < t.indexOf('<font>')) {
                t = new globalThis.DOMParser().parseFromString(t, 'text/xml');
                return ac.test(t);
            }
            return !1;
        }),
        (lc.parse = function (t) {
            t = new globalThis.DOMParser().parseFromString(t, 'text/xml');
            return ac.parse(t);
        }),
        lc);
    function lc() {}
    var cc = [oc, ac, uc];
    function dc(t) {
        for (var e = 0; e < cc.length; e++) if (cc[e].test(t)) return cc[e];
        return null;
    }
    function fc(t, e, r, i, n, o, s) {
        var a = r.text,
            h = r.fontProperties;
        (e.translate(i, n), e.scale(o, o));
        var u = s.strokeThickness / 2,
            i = -s.strokeThickness / 2;
        ((e.font = s.toFontString()),
            (e.lineWidth = s.strokeThickness),
            (e.textBaseline = s.textBaseline),
            (e.lineJoin = s.lineJoin),
            (e.miterLimit = s.miterLimit),
            (e.fillStyle = (function (t, e, r, i, n, o) {
                var s,
                    a = r.fill;
                if (!Array.isArray(a)) return a;
                if (1 === a.length) return a[0];
                var h = r.dropShadow ? r.dropShadowDistance : 0,
                    u = r.padding || 0,
                    l = t.width / i - h - 2 * u,
                    c = t.height / i - h - 2 * u,
                    d = a.slice(),
                    f = r.fillGradientStops.slice();
                if (!f.length) for (var p = d.length + 1, _ = 1; _ < p; ++_) f.push(_ / p);
                if ((d.unshift(a[0]), f.unshift(0), d.push(a[a.length - 1]), f.push(1), r.fillGradientType === $.TEXT_GRADIENT.LINEAR_VERTICAL)) {
                    s = e.createLinearGradient(l / 2, u, l / 2, c + u);
                    for (var m = 0, E = (o.fontProperties.fontSize + r.strokeThickness) / c, _ = 0; _ < n.length; _++)
                        for (var v = o.lineHeight * _, y = 0; y < d.length; y++) {
                            var g = v / c + ('number' == typeof f[y] ? f[y] : y / d.length) * E,
                                g = Math.max(m, g),
                                g = Math.min(g, 1);
                            (s.addColorStop(g, d[y]), (m = g));
                        }
                } else {
                    s = e.createLinearGradient(u, c / 2, l + u, c / 2);
                    for (var T = d.length + 1, b = 1, _ = 0; _ < d.length; _++) {
                        var x = void 0,
                            x = 'number' == typeof f[_] ? f[_] : b / T;
                        (s.addColorStop(x, d[_]), b++);
                    }
                }
                return s;
            })(t, e, s, o, [a], r)),
            (e.strokeStyle = s.stroke),
            s.dropShadow ? ((t = Ht('number' == typeof (n = s.dropShadowColor) ? n : jt(n))), (n = s.dropShadowBlur * o), (o = s.dropShadowDistance * o), (e.shadowColor = 'rgba(' + 255 * t[0] + ',' + 255 * t[1] + ',' + 255 * t[2] + ',' + s.dropShadowAlpha + ')'), (e.shadowBlur = n), (e.shadowOffsetX = Math.cos(s.dropShadowAngle) * o), (e.shadowOffsetY = Math.sin(s.dropShadowAngle) * o)) : ((e.shadowColor = 'black'), (e.shadowBlur = 0), (e.shadowOffsetX = 0), (e.shadowOffsetY = 0)),
            s.stroke && s.strokeThickness && e.strokeText(a, u, i + r.lineHeight - h.descent),
            s.fill && e.fillText(a, u, i + r.lineHeight - h.descent),
            e.setTransform(1, 0, 0, 1, 0, 0),
            (e.fillStyle = 'rgba(0, 0, 0, 0)'));
    }
    function pc(t) {
        return Array.from ? Array.from(t) : t.split('');
    }
    function _c(t) {
        return t.codePointAt ? t.codePointAt(0) : t.charCodeAt(0);
    }
    var mc =
        ((Ec.prototype.destroy = function () {
            for (var t in this.chars) (this.chars[t].texture.destroy(), (this.chars[t].texture = null));
            for (var t in this.pageTextures) (this._ownsTextures && this.pageTextures[t].destroy(!0), (this.pageTextures[t] = null));
            ((this.chars = null), (this.pageTextures = null));
        }),
        (Ec.install = function (t, e, r) {
            var i;
            if (t instanceof nc) i = t;
            else {
                var n = dc(t);
                if (!n) throw new Error('Unrecognized data format for font.');
                i = n.parse(t);
            }
            e instanceof Gi && (e = [e]);
            r = new Ec(i, e, r);
            return (Ec.available[r.font] = r);
        }),
        (Ec.uninstall = function (t) {
            var e = Ec.available[t];
            if (!e) throw new Error("No font found named '" + t + "'");
            (e.destroy(), delete Ec.available[t]);
        }),
        (Ec.from = function (t, e, r) {
            if (!t) throw new Error('[BitmapFont] Property `name` is required.');
            var i = Object.assign({}, Ec.defaultOptions, r),
                r = i.chars,
                n = i.padding,
                o = i.resolution,
                s = i.textureWidth,
                a = i.textureHeight,
                h = (function (t) {
                    'string' == typeof t && (t = [t]);
                    for (var e = [], r = 0, i = t.length; r < i; r++) {
                        var n = t[r];
                        if (Array.isArray(n)) {
                            if (2 !== n.length) throw new Error('[BitmapFont]: Invalid character range length, expecting 2 got ' + n.length + '.');
                            var o = n[0].charCodeAt(0),
                                s = n[1].charCodeAt(0);
                            if (s < o) throw new Error('[BitmapFont]: Invalid character range.');
                            for (var a = o, h = s; a <= h; a++) e.push(String.fromCharCode(a));
                        } else e.push.apply(e, pc(n));
                    }
                    if (0 === e.length) throw new Error('[BitmapFont]: Empty set when resolving characters.');
                    return e;
                })(r),
                u = e instanceof ju ? e : new ju(e),
                l = s,
                c = new nc();
            ((c.info[0] = { face: u.fontFamily, size: u.fontSize }), (c.common[0] = { lineHeight: u.fontSize }));
            for (var d, f, p, _ = 0, m = 0, E = 0, v = [], y = 0; y < h.length; y++) {
                d || (((d = document.createElement('canvas')).width = s), (d.height = a), (f = d.getContext('2d')), (p = new Zr(d, { resolution: o })), v.push(new Gi(p)), c.page.push({ id: v.length - 1, file: '' }));
                var g = Ku.measureText(h[y], u, !1, d),
                    T = g.width,
                    b = Math.ceil(g.height),
                    x = Math.ceil(('italic' === u.fontStyle ? 2 : 1) * T);
                if (a - b * o <= m) {
                    if (0 === m) throw new Error('[BitmapFont] textureHeight ' + a + 'px is too small for ' + u.fontSize + 'px fonts');
                    (--y, (p = f = d = null), (E = _ = m = 0));
                } else {
                    E = Math.max(b + g.fontProperties.descent, E);
                    l <= x * o + _ ? (--y, (m += E * o), (m = Math.ceil(m)), (E = _ = 0)) : (fc(d, f, g, _, m, o, u), (g = _c(g.text)), c.char.push({ id: g, page: v.length - 1, x: _ / o, y: m / o, width: x, height: b, xoffset: 0, yoffset: 0, xadvance: Math.ceil(T - (u.dropShadow ? u.dropShadowDistance : 0) - (u.stroke ? u.strokeThickness : 0)) }), (_ += (x + 2 * n) * o), (_ = Math.ceil(_)));
                }
            }
            for (var y = 0, R = h.length; y < R; y++)
                for (var A = h[y], S = 0; S < R; S++) {
                    var O = h[S],
                        I = f.measureText(A).width,
                        M = f.measureText(O).width,
                        M = f.measureText(A + O).width - (I + M);
                    M && c.kerning.push({ first: _c(A), second: _c(O), amount: M });
                }
            e = new Ec(c, v, !0);
            return (void 0 !== Ec.available[t] && Ec.uninstall(t), (Ec.available[t] = e));
        }),
        (Ec.ALPHA = [['a', 'z'], ['A', 'Z'], ' ']),
        (Ec.NUMERIC = [['0', '9']]),
        (Ec.ALPHANUMERIC = [['a', 'z'], ['A', 'Z'], ['0', '9'], ' ']),
        (Ec.ASCII = [[' ', '~']]),
        (Ec.defaultOptions = { resolution: 1, textureWidth: 512, textureHeight: 512, padding: 4, chars: Ec.ALPHANUMERIC }),
        (Ec.available = {}),
        Ec);
    function Ec(t, e, r) {
        var i = t.info[0],
            n = t.common[0],
            o = t.page[0],
            s = t.distanceField[0],
            a = ve(o.file),
            h = {};
        ((this._ownsTextures = r), (this.font = i.face), (this.size = i.size), (this.lineHeight = n.lineHeight / a), (this.chars = {}), (this.pageTextures = h));
        for (var u = 0; u < t.page.length; u++) {
            var l = t.page[u],
                c = l.id,
                l = l.file;
            ((h[c] = e instanceof Array ? e[u] : e[l]), null != s && s.fieldType && 'none' !== s.fieldType && (h[c].baseTexture.alphaMode = $.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA));
        }
        for (u = 0; u < t.char.length; u++) {
            var d = t.char[u],
                c = d.id,
                f = d.page,
                p = t.char[u],
                _ = p.x,
                m = p.y,
                E = p.width,
                v = p.height,
                y = p.xoffset,
                d = p.yoffset,
                p = p.xadvance;
            ((m /= a), (E /= a), (v /= a), (y /= a), (d /= a), (p /= a));
            v = new Se((_ /= a) + h[f].frame.x / a, m + h[f].frame.y / a, E, v);
            this.chars[c] = { xOffset: y, yOffset: d, xAdvance: p, kerning: {}, texture: new Gi(h[f].baseTexture, v), page: f };
        }
        for (u = 0; u < t.kerning.length; u++) {
            var g = t.kerning[u],
                T = g.first,
                b = g.second,
                g = g.amount;
            ((T /= a), (b /= a), (g /= a), this.chars[b] && (this.chars[b].kerning[T] = g));
        }
        ((this.distanceFieldRange = null == s ? void 0 : s.distanceRange), (this.distanceFieldType = null !== (n = null === (n = null == s ? void 0 : s.fieldType) || void 0 === n ? void 0 : n.toLowerCase()) && void 0 !== n ? n : 'none'));
    }
    var vc,
        yc,
        gc,
        Tc = [],
        bc = [],
        xc = [],
        Rc =
            (ic((yc = Sc), (gc = vc = ur)),
            (yc.prototype = null === gc ? Object.create(gc) : ((Ac.prototype = gc.prototype), new Ac())),
            (Sc.prototype.updateText = function () {
                for (var t = mc.available[this._fontName], e = this._fontSize / t.size, r = new xe(), i = [], n = [], o = [], s = pc(this._text.replace(/(?:\r\n|\r)/g, '\n') || ' '), a = (this._maxWidth * t.size) / this._fontSize, h = 'none' === t.distanceFieldType ? Tc : bc, u = null, l = 0, c = 0, d = 0, f = -1, p = 0, _ = 0, m = 0, E = 0, v = 0; v < s.length; v++) {
                    var y,
                        g,
                        T = _c((U = s[v]));
                    (/(?:\s)/.test(U) && ((f = v), (p = l), E++), '\r' !== U && '\n' !== U ? (y = t.chars[T]) && (u && y.kerning[u] && (r.x += y.kerning[u]), ((g = xc.pop() || { texture: Gi.EMPTY, line: 0, charCode: 0, prevSpaces: 0, position: new xe() }).texture = y.texture), (g.line = d), (g.charCode = T), (g.position.x = r.x + y.xOffset + this._letterSpacing / 2), (g.position.y = r.y + y.yOffset), (g.prevSpaces = E), i.push(g), (l = g.position.x + Math.max(y.xAdvance, y.texture.orig.width)), (r.x += y.xAdvance + this._letterSpacing), (m = Math.max(m, y.yOffset + y.texture.height)), (u = T), -1 !== f && 0 < a && r.x > a && (ie(i, 1 + f - ++_, 1 + v - f), (v = f), (f = -1), n.push(p), o.push(0 < i.length ? i[i.length - 1].prevSpaces : 0), (c = Math.max(c, p)), d++, (r.x = 0), (r.y += t.lineHeight), (u = null), (E = 0))) : (n.push(l), o.push(-1), (c = Math.max(c, l)), ++d, ++_, (r.x = 0), (r.y += t.lineHeight), (u = null), (E = 0)));
                }
                var b = s[s.length - 1];
                '\r' !== b && '\n' !== b && (/(?:\s)/.test(b) && (l = p), n.push(l), (c = Math.max(c, l)), o.push(-1));
                for (var x = [], v = 0; v <= d; v++) {
                    var R = 0;
                    ('right' === this._align ? (R = c - n[v]) : 'center' === this._align ? (R = (c - n[v]) / 2) : 'justify' === this._align && (R = o[v] < 0 ? 0 : (c - n[v]) / o[v]), x.push(R));
                }
                for (var A = i.length, S = {}, O = [], I = this._activePagesMeshData, v = 0; v < I.length; v++) h.push(I[v]);
                for (v = 0; v < A; v++) {
                    var M,
                        N,
                        P,
                        D = (G = i[v].texture).baseTexture.uid;
                    (S[D] ||
                        ((V = h.pop()) ||
                            ((M = new ec()),
                            (N = P = void 0),
                            (N =
                                'none' === t.distanceFieldType
                                    ? ((P = new Jl(Gi.EMPTY)), $.BLEND_MODES.NORMAL)
                                    : ((P = new Jl(Gi.EMPTY, {
                                          program: io.from(
                                              '// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n',
                                              '// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r\n\r\n}\r\n'
                                          ),
                                          uniforms: { uFWidth: 0 },
                                      })),
                                      $.BLEND_MODES.NORMAL_NPM)),
                            ((P = new Kl(M, P)).blendMode = N),
                            (V = { index: 0, indexCount: 0, vertexCount: 0, uvsCount: 0, total: 0, mesh: P, vertices: null, uvs: null, indices: null })),
                        (V.index = 0),
                        (V.indexCount = 0),
                        (V.vertexCount = 0),
                        (V.uvsCount = 0),
                        (V.total = 0),
                        ((P = this._textureCache)[D] = P[D] || new Gi(G.baseTexture)),
                        (V.mesh.texture = P[D]),
                        (V.mesh.tint = this._tint),
                        O.push(V),
                        (S[D] = V)),
                        S[D].total++);
                }
                for (v = 0; v < I.length; v++) -1 === O.indexOf(I[v]) && this.removeChild(I[v].mesh);
                for (v = 0; v < O.length; v++) O[v].mesh.parent !== this && this.addChild(O[v].mesh);
                for (v in ((this._activePagesMeshData = O), S)) {
                    var C = (V = S[v]).total;
                    if (!((null === (w = V.indices) || void 0 === w ? void 0 : w.length) > 6 * C) || V.vertices.length < 2 * Kl.BATCHABLE_SIZE) ((V.vertices = new Float32Array(8 * C)), (V.uvs = new Float32Array(8 * C)), (V.indices = new Uint16Array(6 * C)));
                    else for (var w = V.total, L = V.vertices, F = 4 * w * 2; F < L.length; F++) L[F] = 0;
                    V.mesh.size = 6 * C;
                }
                for (v = 0; v < A; v++) {
                    var U,
                        B = (U = i[v]).position.x + x[U.line] * ('justify' === this._align ? U.prevSpaces : 1);
                    this._roundPixels && (B = Math.round(B));
                    var G,
                        k = B * e,
                        X = U.position.y * e,
                        H = S[(G = U.texture).baseTexture.uid],
                        Y = G.frame,
                        j = G._uvs,
                        B = H.index++;
                    ((H.indices[6 * B + 0] = 0 + 4 * B), (H.indices[6 * B + 1] = 1 + 4 * B), (H.indices[6 * B + 2] = 2 + 4 * B), (H.indices[6 * B + 3] = 0 + 4 * B), (H.indices[6 * B + 4] = 2 + 4 * B), (H.indices[6 * B + 5] = 3 + 4 * B), (H.vertices[8 * B + 0] = k), (H.vertices[8 * B + 1] = X), (H.vertices[8 * B + 2] = k + Y.width * e), (H.vertices[8 * B + 3] = X), (H.vertices[8 * B + 4] = k + Y.width * e), (H.vertices[8 * B + 5] = X + Y.height * e), (H.vertices[8 * B + 6] = k), (H.vertices[8 * B + 7] = X + Y.height * e), (H.uvs[8 * B + 0] = j.x0), (H.uvs[8 * B + 1] = j.y0), (H.uvs[8 * B + 2] = j.x1), (H.uvs[8 * B + 3] = j.y1), (H.uvs[8 * B + 4] = j.x2), (H.uvs[8 * B + 5] = j.y2), (H.uvs[8 * B + 6] = j.x3), (H.uvs[8 * B + 7] = j.y3));
                }
                for (v in ((this._textWidth = c * e), (this._textHeight = (r.y + t.lineHeight) * e), S)) {
                    var V = S[v];
                    if (0 !== this.anchor.x || 0 !== this.anchor.y) for (var W = 0, z = this._textWidth * this.anchor.x, q = this._textHeight * this.anchor.y, K = 0; K < V.total; K++) ((V.vertices[W++] -= z), (V.vertices[W++] -= q), (V.vertices[W++] -= z), (V.vertices[W++] -= q), (V.vertices[W++] -= z), (V.vertices[W++] -= q), (V.vertices[W++] -= z), (V.vertices[W++] -= q));
                    this._maxLineHeight = m * e;
                    var Z = V.mesh.geometry.getBuffer('aVertexPosition'),
                        Q = V.mesh.geometry.getBuffer('aTextureCoord'),
                        J = V.mesh.geometry.getIndex();
                    ((Z.data = V.vertices), (Q.data = V.uvs), (J.data = V.indices), Z.update(), Q.update(), J.update());
                }
                for (v = 0; v < i.length; v++) xc.push(i[v]);
            }),
            (Sc.prototype.updateTransform = function () {
                (this.validate(), this.containerUpdateTransform());
            }),
            (Sc.prototype._render = function (t) {
                this._autoResolution && this._resolution !== t.resolution && ((this._resolution = t.resolution), (this.dirty = !0));
                var e = mc.available[this._fontName],
                    r = e.distanceFieldRange,
                    i = e.distanceFieldType,
                    n = e.size;
                if ('none' !== i) for (var o = this.worldTransform, s = o.a, e = o.b, i = o.c, o = o.d, e = Math.sqrt(s * s + e * e), o = Math.sqrt(i * i + o * o), a = (Math.abs(e) + Math.abs(o)) / 2, h = this._fontSize / n, u = 0, l = this._activePagesMeshData; u < l.length; u++) l[u].mesh.shader.uniforms.uFWidth = a * r * h * this._resolution;
                vc.prototype._render.call(this, t);
            }),
            (Sc.prototype.getLocalBounds = function () {
                return (this.validate(), vc.prototype.getLocalBounds.call(this));
            }),
            (Sc.prototype.validate = function () {
                this.dirty && (this.updateText(), (this.dirty = !1));
            }),
            Object.defineProperty(Sc.prototype, 'tint', {
                get: function () {
                    return this._tint;
                },
                set: function (t) {
                    if (this._tint !== t) {
                        this._tint = t;
                        for (var e = 0; e < this._activePagesMeshData.length; e++) this._activePagesMeshData[e].mesh.tint = t;
                    }
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Sc.prototype, 'align', {
                get: function () {
                    return this._align;
                },
                set: function (t) {
                    this._align !== t && ((this._align = t), (this.dirty = !0));
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Sc.prototype, 'fontName', {
                get: function () {
                    return this._fontName;
                },
                set: function (t) {
                    if (!mc.available[t]) throw new Error('Missing BitmapFont "' + t + '"');
                    this._fontName !== t && ((this._fontName = t), (this.dirty = !0));
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Sc.prototype, 'fontSize', {
                get: function () {
                    return this._fontSize;
                },
                set: function (t) {
                    this._fontSize !== t && ((this._fontSize = t), (this.dirty = !0));
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Sc.prototype, 'anchor', {
                get: function () {
                    return this._anchor;
                },
                set: function (t) {
                    'number' == typeof t ? this._anchor.set(t) : this._anchor.copyFrom(t);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Sc.prototype, 'text', {
                get: function () {
                    return this._text;
                },
                set: function (t) {
                    ((t = String(null == t ? '' : t)), this._text !== t && ((this._text = t), (this.dirty = !0)));
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Sc.prototype, 'maxWidth', {
                get: function () {
                    return this._maxWidth;
                },
                set: function (t) {
                    this._maxWidth !== t && ((this._maxWidth = t), (this.dirty = !0));
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Sc.prototype, 'maxLineHeight', {
                get: function () {
                    return (this.validate(), this._maxLineHeight);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Sc.prototype, 'textWidth', {
                get: function () {
                    return (this.validate(), this._textWidth);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Sc.prototype, 'letterSpacing', {
                get: function () {
                    return this._letterSpacing;
                },
                set: function (t) {
                    this._letterSpacing !== t && ((this._letterSpacing = t), (this.dirty = !0));
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Sc.prototype, 'roundPixels', {
                get: function () {
                    return this._roundPixels;
                },
                set: function (t) {
                    t !== this._roundPixels && ((this._roundPixels = t), (this.dirty = !0));
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Sc.prototype, 'textHeight', {
                get: function () {
                    return (this.validate(), this._textHeight);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Sc.prototype, 'resolution', {
                get: function () {
                    return this._resolution;
                },
                set: function (t) {
                    ((this._autoResolution = !1), this._resolution !== t && ((this._resolution = t), (this.dirty = !0)));
                },
                enumerable: !1,
                configurable: !0,
            }),
            (Sc.prototype.destroy = function (t) {
                var e,
                    r = this._textureCache;
                for (e in r) (r[e].destroy(), delete r[e]);
                ((this._textureCache = null), vc.prototype.destroy.call(this, t));
            }),
            (Sc.styleDefaults = { align: 'left', tint: 16777215, maxWidth: 0, letterSpacing: 0 }),
            Sc);
    function Ac() {
        this.constructor = yc;
    }
    function Sc(t, e) {
        void 0 === e && (e = {});
        var r = vc.call(this) || this;
        r._tint = 16777215;
        var i = Object.assign({}, Sc.styleDefaults, e),
            n = i.align,
            o = i.tint,
            s = i.maxWidth,
            a = i.letterSpacing,
            e = i.fontName,
            i = i.fontSize;
        if (!mc.available[e]) throw new Error('Missing BitmapFont "' + e + '"');
        return (
            (r._activePagesMeshData = []),
            (r._textWidth = 0),
            (r._textHeight = 0),
            (r._align = n),
            (r._tint = o),
            (r._fontName = e),
            (r._fontSize = i || mc.available[e].size),
            (r.text = t),
            (r._maxWidth = s),
            (r._maxLineHeight = 0),
            (r._letterSpacing = a),
            (r._anchor = new Fe(
                function () {
                    r.dirty = !0;
                },
                r,
                0,
                0
            )),
            (r._roundPixels = G.ROUND_PIXELS),
            (r.dirty = !0),
            (r._resolution = G.RESOLUTION),
            (r._autoResolution = !0),
            (r._textureCache = {}),
            r
        );
    }
    var Oc =
        ((Ic.add = function () {
            $.LoaderResource.setExtensionXhrType('fnt', $.LoaderResource.XHR_RESPONSE_TYPE.TEXT);
        }),
        (Ic.use = function (e, r) {
            var t = dc(e.data);
            if (t)
                for (
                    var i = Ic.getBaseUrl(this, e),
                        n = t.parse(e.data),
                        o = {},
                        s = function (t) {
                            ((o[t.metadata.pageFile] = t.texture), Object.keys(o).length === n.page.length && ((e.bitmapFont = mc.install(n, o, !0)), r()));
                        },
                        a = 0;
                    a < n.page.length;
                    ++a
                ) {
                    var h,
                        u,
                        l = n.page[a].file,
                        c = i + l,
                        d = !1;
                    for (h in this.resources) {
                        var f = this.resources[h];
                        if (f.url === c) {
                            ((f.metadata.pageFile = l), f.texture ? s(f) : f.onAfterMiddleware.add(s), (d = !0));
                            break;
                        }
                    }
                    d || ((u = { crossOrigin: e.crossOrigin, loadType: $.LoaderResource.LOAD_TYPE.IMAGE, metadata: Object.assign({ pageFile: l }, e.metadata.imageMetadata), parentResource: e }), this.add(c, u, s));
                }
            else r();
        }),
        (Ic.getBaseUrl = function (t, e) {
            var r = e.isDataUrl ? '' : Ic.dirname(e.url);
            return (e.isDataUrl && ('.' === r && (r = ''), t.baseUrl && r && '/' === t.baseUrl.charAt(t.baseUrl.length - 1) && (r += '/')), (r = r.replace(t.baseUrl, '')) && '/' !== r.charAt(r.length - 1) && (r += '/'), r);
        }),
        (Ic.dirname = function (t) {
            var e = t
                .replace(/\\/g, '/')
                .replace(/\/$/, '')
                .replace(/\/[^\/]*$/, '');
            return e === t ? '.' : '' === e ? '/' : e;
        }),
        Ic);
    function Ic() {}
    ['varying vec2 vBlurTexCoords[%size%];', 'uniform sampler2D uSampler;', 'void main(void)', '{', '    gl_FragColor = vec4(0.0);', '    %blur%', '}'].join('\n');
    (((bd = {})[(bd.WEBGL_LEGACY = 0)] = 'WEBGL_LEGACY'),
        (bd[(bd.WEBGL = 1)] = 'WEBGL'),
        (bd[(bd.WEBGL2 = 2)] = 'WEBGL2'),
        ((xd = {})[(xd.UNKNOWN = 0)] = 'UNKNOWN'),
        (xd[(xd.WEBGL = 1)] = 'WEBGL'),
        (xd[(xd.CANVAS = 2)] = 'CANVAS'),
        ((Rd = {})[(Rd.COLOR = 16384)] = 'COLOR'),
        (Rd[(Rd.DEPTH = 256)] = 'DEPTH'),
        (Rd[(Rd.STENCIL = 1024)] = 'STENCIL'),
        ((At = {})[(At.NORMAL = 0)] = 'NORMAL'),
        (At[(At.ADD = 1)] = 'ADD'),
        (At[(At.MULTIPLY = 2)] = 'MULTIPLY'),
        (At[(At.SCREEN = 3)] = 'SCREEN'),
        (At[(At.OVERLAY = 4)] = 'OVERLAY'),
        (At[(At.DARKEN = 5)] = 'DARKEN'),
        (At[(At.LIGHTEN = 6)] = 'LIGHTEN'),
        (At[(At.COLOR_DODGE = 7)] = 'COLOR_DODGE'),
        (At[(At.COLOR_BURN = 8)] = 'COLOR_BURN'),
        (At[(At.HARD_LIGHT = 9)] = 'HARD_LIGHT'),
        (At[(At.SOFT_LIGHT = 10)] = 'SOFT_LIGHT'),
        (At[(At.DIFFERENCE = 11)] = 'DIFFERENCE'),
        (At[(At.EXCLUSION = 12)] = 'EXCLUSION'),
        (At[(At.HUE = 13)] = 'HUE'),
        (At[(At.SATURATION = 14)] = 'SATURATION'),
        (At[(At.COLOR = 15)] = 'COLOR'),
        (At[(At.LUMINOSITY = 16)] = 'LUMINOSITY'),
        (At[(At.NORMAL_NPM = 17)] = 'NORMAL_NPM'),
        (At[(At.ADD_NPM = 18)] = 'ADD_NPM'),
        (At[(At.SCREEN_NPM = 19)] = 'SCREEN_NPM'),
        (At[(At.NONE = 20)] = 'NONE'),
        (At[(At.SRC_OVER = 0)] = 'SRC_OVER'),
        (At[(At.SRC_IN = 21)] = 'SRC_IN'),
        (At[(At.SRC_OUT = 22)] = 'SRC_OUT'),
        (At[(At.SRC_ATOP = 23)] = 'SRC_ATOP'),
        (At[(At.DST_OVER = 24)] = 'DST_OVER'),
        (At[(At.DST_IN = 25)] = 'DST_IN'),
        (At[(At.DST_OUT = 26)] = 'DST_OUT'),
        (At[(At.DST_ATOP = 27)] = 'DST_ATOP'),
        (At[(At.ERASE = 26)] = 'ERASE'),
        (At[(At.SUBTRACT = 28)] = 'SUBTRACT'),
        (At[(At.XOR = 29)] = 'XOR'),
        ((vt = {})[(vt.POINTS = 0)] = 'POINTS'),
        (vt[(vt.LINES = 1)] = 'LINES'),
        (vt[(vt.LINE_LOOP = 2)] = 'LINE_LOOP'),
        (vt[(vt.LINE_STRIP = 3)] = 'LINE_STRIP'),
        (vt[(vt.TRIANGLES = 4)] = 'TRIANGLES'),
        (vt[(vt.TRIANGLE_STRIP = 5)] = 'TRIANGLE_STRIP'),
        (vt[(vt.TRIANGLE_FAN = 6)] = 'TRIANGLE_FAN'),
        ((kc = {})[(kc.RGBA = 6408)] = 'RGBA'),
        (kc[(kc.RGB = 6407)] = 'RGB'),
        (kc[(kc.RG = 33319)] = 'RG'),
        (kc[(kc.RED = 6403)] = 'RED'),
        (kc[(kc.RGBA_INTEGER = 36249)] = 'RGBA_INTEGER'),
        (kc[(kc.RGB_INTEGER = 36248)] = 'RGB_INTEGER'),
        (kc[(kc.RG_INTEGER = 33320)] = 'RG_INTEGER'),
        (kc[(kc.RED_INTEGER = 36244)] = 'RED_INTEGER'),
        (kc[(kc.ALPHA = 6406)] = 'ALPHA'),
        (kc[(kc.LUMINANCE = 6409)] = 'LUMINANCE'),
        (kc[(kc.LUMINANCE_ALPHA = 6410)] = 'LUMINANCE_ALPHA'),
        (kc[(kc.DEPTH_COMPONENT = 6402)] = 'DEPTH_COMPONENT'),
        (kc[(kc.DEPTH_STENCIL = 34041)] = 'DEPTH_STENCIL'),
        ((gt = {})[(gt.TEXTURE_2D = 3553)] = 'TEXTURE_2D'),
        (gt[(gt.TEXTURE_CUBE_MAP = 34067)] = 'TEXTURE_CUBE_MAP'),
        (gt[(gt.TEXTURE_2D_ARRAY = 35866)] = 'TEXTURE_2D_ARRAY'),
        (gt[(gt.TEXTURE_CUBE_MAP_POSITIVE_X = 34069)] = 'TEXTURE_CUBE_MAP_POSITIVE_X'),
        (gt[(gt.TEXTURE_CUBE_MAP_NEGATIVE_X = 34070)] = 'TEXTURE_CUBE_MAP_NEGATIVE_X'),
        (gt[(gt.TEXTURE_CUBE_MAP_POSITIVE_Y = 34071)] = 'TEXTURE_CUBE_MAP_POSITIVE_Y'),
        (gt[(gt.TEXTURE_CUBE_MAP_NEGATIVE_Y = 34072)] = 'TEXTURE_CUBE_MAP_NEGATIVE_Y'),
        (gt[(gt.TEXTURE_CUBE_MAP_POSITIVE_Z = 34073)] = 'TEXTURE_CUBE_MAP_POSITIVE_Z'),
        (gt[(gt.TEXTURE_CUBE_MAP_NEGATIVE_Z = 34074)] = 'TEXTURE_CUBE_MAP_NEGATIVE_Z'),
        ((eu = {})[(eu.UNSIGNED_BYTE = 5121)] = 'UNSIGNED_BYTE'),
        (eu[(eu.UNSIGNED_SHORT = 5123)] = 'UNSIGNED_SHORT'),
        (eu[(eu.UNSIGNED_SHORT_5_6_5 = 33635)] = 'UNSIGNED_SHORT_5_6_5'),
        (eu[(eu.UNSIGNED_SHORT_4_4_4_4 = 32819)] = 'UNSIGNED_SHORT_4_4_4_4'),
        (eu[(eu.UNSIGNED_SHORT_5_5_5_1 = 32820)] = 'UNSIGNED_SHORT_5_5_5_1'),
        (eu[(eu.UNSIGNED_INT = 5125)] = 'UNSIGNED_INT'),
        (eu[(eu.UNSIGNED_INT_10F_11F_11F_REV = 35899)] = 'UNSIGNED_INT_10F_11F_11F_REV'),
        (eu[(eu.UNSIGNED_INT_2_10_10_10_REV = 33640)] = 'UNSIGNED_INT_2_10_10_10_REV'),
        (eu[(eu.UNSIGNED_INT_24_8 = 34042)] = 'UNSIGNED_INT_24_8'),
        (eu[(eu.UNSIGNED_INT_5_9_9_9_REV = 35902)] = 'UNSIGNED_INT_5_9_9_9_REV'),
        (eu[(eu.BYTE = 5120)] = 'BYTE'),
        (eu[(eu.SHORT = 5122)] = 'SHORT'),
        (eu[(eu.INT = 5124)] = 'INT'),
        (eu[(eu.FLOAT = 5126)] = 'FLOAT'),
        (eu[(eu.FLOAT_32_UNSIGNED_INT_24_8_REV = 36269)] = 'FLOAT_32_UNSIGNED_INT_24_8_REV'),
        (eu[(eu.HALF_FLOAT = 36193)] = 'HALF_FLOAT'),
        ((ya = {})[(ya.FLOAT = 0)] = 'FLOAT'),
        (ya[(ya.INT = 1)] = 'INT'),
        (ya[(ya.UINT = 2)] = 'UINT'),
        ((oc = {})[(oc.NEAREST = 0)] = 'NEAREST'),
        (oc[(oc.LINEAR = 1)] = 'LINEAR'),
        ((uc = {})[(uc.CLAMP = 33071)] = 'CLAMP'),
        (uc[(uc.REPEAT = 10497)] = 'REPEAT'),
        (uc[(uc.MIRRORED_REPEAT = 33648)] = 'MIRRORED_REPEAT'),
        ((bd = {})[(bd.OFF = 0)] = 'OFF'),
        (bd[(bd.POW2 = 1)] = 'POW2'),
        (bd[(bd.ON = 2)] = 'ON'),
        (bd[(bd.ON_MANUAL = 3)] = 'ON_MANUAL'),
        ((xd = {})[(xd.NPM = 0)] = 'NPM'),
        (xd[(xd.UNPACK = 1)] = 'UNPACK'),
        (xd[(xd.PMA = 2)] = 'PMA'),
        (xd[(xd.NO_PREMULTIPLIED_ALPHA = 0)] = 'NO_PREMULTIPLIED_ALPHA'),
        (xd[(xd.PREMULTIPLY_ON_UPLOAD = 1)] = 'PREMULTIPLY_ON_UPLOAD'),
        (xd[(xd.PREMULTIPLY_ALPHA = 2)] = 'PREMULTIPLY_ALPHA'),
        (xd[(xd.PREMULTIPLIED_ALPHA = 2)] = 'PREMULTIPLIED_ALPHA'),
        ((Rd = {})[(Rd.NO = 0)] = 'NO'),
        (Rd[(Rd.YES = 1)] = 'YES'),
        (Rd[(Rd.AUTO = 2)] = 'AUTO'),
        (Rd[(Rd.BLEND = 0)] = 'BLEND'),
        (Rd[(Rd.CLEAR = 1)] = 'CLEAR'),
        (Rd[(Rd.BLIT = 2)] = 'BLIT'),
        ((At = {})[(At.AUTO = 0)] = 'AUTO'),
        (At[(At.MANUAL = 1)] = 'MANUAL'),
        ((vt = {}).LOW = 'lowp'),
        (vt.MEDIUM = 'mediump'),
        (vt.HIGH = 'highp'),
        ((kc = {})[(kc.NONE = 0)] = 'NONE'),
        (kc[(kc.SCISSOR = 1)] = 'SCISSOR'),
        (kc[(kc.STENCIL = 2)] = 'STENCIL'),
        (kc[(kc.SPRITE = 3)] = 'SPRITE'),
        ((gt = {})[(gt.NONE = 0)] = 'NONE'),
        (gt[(gt.LOW = 2)] = 'LOW'),
        (gt[(gt.MEDIUM = 4)] = 'MEDIUM'),
        (gt[(gt.HIGH = 8)] = 'HIGH'),
        ((eu = {})[(eu.ELEMENT_ARRAY_BUFFER = 34963)] = 'ELEMENT_ARRAY_BUFFER'),
        (eu[(eu.ARRAY_BUFFER = 34962)] = 'ARRAY_BUFFER'),
        (eu[(eu.UNIFORM_BUFFER = 35345)] = 'UNIFORM_BUFFER'));
    (((ya = {})[(ya.WEBGL_LEGACY = 0)] = 'WEBGL_LEGACY'),
        (ya[(ya.WEBGL = 1)] = 'WEBGL'),
        (ya[(ya.WEBGL2 = 2)] = 'WEBGL2'),
        ((oc = {})[(oc.UNKNOWN = 0)] = 'UNKNOWN'),
        (oc[(oc.WEBGL = 1)] = 'WEBGL'),
        (oc[(oc.CANVAS = 2)] = 'CANVAS'),
        ((uc = {})[(uc.COLOR = 16384)] = 'COLOR'),
        (uc[(uc.DEPTH = 256)] = 'DEPTH'),
        (uc[(uc.STENCIL = 1024)] = 'STENCIL'),
        ((bd = {})[(bd.NORMAL = 0)] = 'NORMAL'),
        (bd[(bd.ADD = 1)] = 'ADD'),
        (bd[(bd.MULTIPLY = 2)] = 'MULTIPLY'),
        (bd[(bd.SCREEN = 3)] = 'SCREEN'),
        (bd[(bd.OVERLAY = 4)] = 'OVERLAY'),
        (bd[(bd.DARKEN = 5)] = 'DARKEN'),
        (bd[(bd.LIGHTEN = 6)] = 'LIGHTEN'),
        (bd[(bd.COLOR_DODGE = 7)] = 'COLOR_DODGE'),
        (bd[(bd.COLOR_BURN = 8)] = 'COLOR_BURN'),
        (bd[(bd.HARD_LIGHT = 9)] = 'HARD_LIGHT'),
        (bd[(bd.SOFT_LIGHT = 10)] = 'SOFT_LIGHT'),
        (bd[(bd.DIFFERENCE = 11)] = 'DIFFERENCE'),
        (bd[(bd.EXCLUSION = 12)] = 'EXCLUSION'),
        (bd[(bd.HUE = 13)] = 'HUE'),
        (bd[(bd.SATURATION = 14)] = 'SATURATION'),
        (bd[(bd.COLOR = 15)] = 'COLOR'),
        (bd[(bd.LUMINOSITY = 16)] = 'LUMINOSITY'),
        (bd[(bd.NORMAL_NPM = 17)] = 'NORMAL_NPM'),
        (bd[(bd.ADD_NPM = 18)] = 'ADD_NPM'),
        (bd[(bd.SCREEN_NPM = 19)] = 'SCREEN_NPM'),
        (bd[(bd.NONE = 20)] = 'NONE'),
        (bd[(bd.SRC_OVER = 0)] = 'SRC_OVER'),
        (bd[(bd.SRC_IN = 21)] = 'SRC_IN'),
        (bd[(bd.SRC_OUT = 22)] = 'SRC_OUT'),
        (bd[(bd.SRC_ATOP = 23)] = 'SRC_ATOP'),
        (bd[(bd.DST_OVER = 24)] = 'DST_OVER'),
        (bd[(bd.DST_IN = 25)] = 'DST_IN'),
        (bd[(bd.DST_OUT = 26)] = 'DST_OUT'),
        (bd[(bd.DST_ATOP = 27)] = 'DST_ATOP'),
        (bd[(bd.ERASE = 26)] = 'ERASE'),
        (bd[(bd.SUBTRACT = 28)] = 'SUBTRACT'),
        (bd[(bd.XOR = 29)] = 'XOR'),
        ((xd = {})[(xd.POINTS = 0)] = 'POINTS'),
        (xd[(xd.LINES = 1)] = 'LINES'),
        (xd[(xd.LINE_LOOP = 2)] = 'LINE_LOOP'),
        (xd[(xd.LINE_STRIP = 3)] = 'LINE_STRIP'),
        (xd[(xd.TRIANGLES = 4)] = 'TRIANGLES'),
        (xd[(xd.TRIANGLE_STRIP = 5)] = 'TRIANGLE_STRIP'),
        (xd[(xd.TRIANGLE_FAN = 6)] = 'TRIANGLE_FAN'),
        ((Rd = {})[(Rd.RGBA = 6408)] = 'RGBA'),
        (Rd[(Rd.RGB = 6407)] = 'RGB'),
        (Rd[(Rd.RG = 33319)] = 'RG'),
        (Rd[(Rd.RED = 6403)] = 'RED'),
        (Rd[(Rd.RGBA_INTEGER = 36249)] = 'RGBA_INTEGER'),
        (Rd[(Rd.RGB_INTEGER = 36248)] = 'RGB_INTEGER'),
        (Rd[(Rd.RG_INTEGER = 33320)] = 'RG_INTEGER'),
        (Rd[(Rd.RED_INTEGER = 36244)] = 'RED_INTEGER'),
        (Rd[(Rd.ALPHA = 6406)] = 'ALPHA'),
        (Rd[(Rd.LUMINANCE = 6409)] = 'LUMINANCE'),
        (Rd[(Rd.LUMINANCE_ALPHA = 6410)] = 'LUMINANCE_ALPHA'),
        (Rd[(Rd.DEPTH_COMPONENT = 6402)] = 'DEPTH_COMPONENT'),
        (Rd[(Rd.DEPTH_STENCIL = 34041)] = 'DEPTH_STENCIL'),
        ((At = {})[(At.TEXTURE_2D = 3553)] = 'TEXTURE_2D'),
        (At[(At.TEXTURE_CUBE_MAP = 34067)] = 'TEXTURE_CUBE_MAP'),
        (At[(At.TEXTURE_2D_ARRAY = 35866)] = 'TEXTURE_2D_ARRAY'),
        (At[(At.TEXTURE_CUBE_MAP_POSITIVE_X = 34069)] = 'TEXTURE_CUBE_MAP_POSITIVE_X'),
        (At[(At.TEXTURE_CUBE_MAP_NEGATIVE_X = 34070)] = 'TEXTURE_CUBE_MAP_NEGATIVE_X'),
        (At[(At.TEXTURE_CUBE_MAP_POSITIVE_Y = 34071)] = 'TEXTURE_CUBE_MAP_POSITIVE_Y'),
        (At[(At.TEXTURE_CUBE_MAP_NEGATIVE_Y = 34072)] = 'TEXTURE_CUBE_MAP_NEGATIVE_Y'),
        (At[(At.TEXTURE_CUBE_MAP_POSITIVE_Z = 34073)] = 'TEXTURE_CUBE_MAP_POSITIVE_Z'),
        (At[(At.TEXTURE_CUBE_MAP_NEGATIVE_Z = 34074)] = 'TEXTURE_CUBE_MAP_NEGATIVE_Z'),
        ((vt = {})[(vt.UNSIGNED_BYTE = 5121)] = 'UNSIGNED_BYTE'),
        (vt[(vt.UNSIGNED_SHORT = 5123)] = 'UNSIGNED_SHORT'),
        (vt[(vt.UNSIGNED_SHORT_5_6_5 = 33635)] = 'UNSIGNED_SHORT_5_6_5'),
        (vt[(vt.UNSIGNED_SHORT_4_4_4_4 = 32819)] = 'UNSIGNED_SHORT_4_4_4_4'),
        (vt[(vt.UNSIGNED_SHORT_5_5_5_1 = 32820)] = 'UNSIGNED_SHORT_5_5_5_1'),
        (vt[(vt.UNSIGNED_INT = 5125)] = 'UNSIGNED_INT'),
        (vt[(vt.UNSIGNED_INT_10F_11F_11F_REV = 35899)] = 'UNSIGNED_INT_10F_11F_11F_REV'),
        (vt[(vt.UNSIGNED_INT_2_10_10_10_REV = 33640)] = 'UNSIGNED_INT_2_10_10_10_REV'),
        (vt[(vt.UNSIGNED_INT_24_8 = 34042)] = 'UNSIGNED_INT_24_8'),
        (vt[(vt.UNSIGNED_INT_5_9_9_9_REV = 35902)] = 'UNSIGNED_INT_5_9_9_9_REV'),
        (vt[(vt.BYTE = 5120)] = 'BYTE'),
        (vt[(vt.SHORT = 5122)] = 'SHORT'),
        (vt[(vt.INT = 5124)] = 'INT'),
        (vt[(vt.FLOAT = 5126)] = 'FLOAT'),
        (vt[(vt.FLOAT_32_UNSIGNED_INT_24_8_REV = 36269)] = 'FLOAT_32_UNSIGNED_INT_24_8_REV'),
        (vt[(vt.HALF_FLOAT = 36193)] = 'HALF_FLOAT'),
        ((kc = {})[(kc.FLOAT = 0)] = 'FLOAT'),
        (kc[(kc.INT = 1)] = 'INT'),
        (kc[(kc.UINT = 2)] = 'UINT'),
        ((gt = {})[(gt.NEAREST = 0)] = 'NEAREST'),
        (gt[(gt.LINEAR = 1)] = 'LINEAR'),
        ((eu = {})[(eu.CLAMP = 33071)] = 'CLAMP'),
        (eu[(eu.REPEAT = 10497)] = 'REPEAT'),
        (eu[(eu.MIRRORED_REPEAT = 33648)] = 'MIRRORED_REPEAT'),
        ((ya = {})[(ya.OFF = 0)] = 'OFF'),
        (ya[(ya.POW2 = 1)] = 'POW2'),
        (ya[(ya.ON = 2)] = 'ON'),
        (ya[(ya.ON_MANUAL = 3)] = 'ON_MANUAL'),
        ((oc = {})[(oc.NPM = 0)] = 'NPM'),
        (oc[(oc.UNPACK = 1)] = 'UNPACK'),
        (oc[(oc.PMA = 2)] = 'PMA'),
        (oc[(oc.NO_PREMULTIPLIED_ALPHA = 0)] = 'NO_PREMULTIPLIED_ALPHA'),
        (oc[(oc.PREMULTIPLY_ON_UPLOAD = 1)] = 'PREMULTIPLY_ON_UPLOAD'),
        (oc[(oc.PREMULTIPLY_ALPHA = 2)] = 'PREMULTIPLY_ALPHA'),
        (oc[(oc.PREMULTIPLIED_ALPHA = 2)] = 'PREMULTIPLIED_ALPHA'),
        ((uc = {})[(uc.NO = 0)] = 'NO'),
        (uc[(uc.YES = 1)] = 'YES'),
        (uc[(uc.AUTO = 2)] = 'AUTO'),
        (uc[(uc.BLEND = 0)] = 'BLEND'),
        (uc[(uc.CLEAR = 1)] = 'CLEAR'),
        (uc[(uc.BLIT = 2)] = 'BLIT'),
        ((bd = {})[(bd.AUTO = 0)] = 'AUTO'),
        (bd[(bd.MANUAL = 1)] = 'MANUAL'),
        ((xd = {}).LOW = 'lowp'),
        (xd.MEDIUM = 'mediump'),
        (xd.HIGH = 'highp'),
        ((Rd = {})[(Rd.NONE = 0)] = 'NONE'),
        (Rd[(Rd.SCISSOR = 1)] = 'SCISSOR'),
        (Rd[(Rd.STENCIL = 2)] = 'STENCIL'),
        (Rd[(Rd.SPRITE = 3)] = 'SPRITE'),
        ((At = lp = lp || {})[(At.NONE = 0)] = 'NONE'),
        (At[(At.LOW = 2)] = 'LOW'),
        (At[(At.MEDIUM = 4)] = 'MEDIUM'),
        (At[(At.HIGH = 8)] = 'HIGH'),
        ((vt = {})[(vt.ELEMENT_ARRAY_BUFFER = 34963)] = 'ELEMENT_ARRAY_BUFFER'),
        (vt[(vt.ARRAY_BUFFER = 34962)] = 'ARRAY_BUFFER'),
        (vt[(vt.UNIFORM_BUFFER = 35345)] = 'UNIFORM_BUFFER'));
    var Mc = new Be();
    ((er.prototype._cacheAsBitmap = !1), (er.prototype._cacheData = null), (er.prototype._cacheAsBitmapResolution = null), (er.prototype._cacheAsBitmapMultisample = lp.NONE));
    var Nc = function () {
        ((this.textureCacheId = null), (this.originalRender = null), (this.originalRenderCanvas = null), (this.originalCalculateBounds = null), (this.originalGetLocalBounds = null), (this.originalUpdateTransform = null), (this.originalDestroy = null), (this.originalMask = null), (this.originalFilterArea = null), (this.originalContainsPoint = null), (this.sprite = null));
    };
    (Object.defineProperties(er.prototype, {
        cacheAsBitmapResolution: {
            get: function () {
                return this._cacheAsBitmapResolution;
            },
            set: function (t) {
                t !== this._cacheAsBitmapResolution && ((this._cacheAsBitmapResolution = t), this.cacheAsBitmap && ((this.cacheAsBitmap = !1), (this.cacheAsBitmap = !0)));
            },
        },
        cacheAsBitmapMultisample: {
            get: function () {
                return this._cacheAsBitmapMultisample;
            },
            set: function (t) {
                t !== this._cacheAsBitmapMultisample && ((this._cacheAsBitmapMultisample = t), this.cacheAsBitmap && ((this.cacheAsBitmap = !1), (this.cacheAsBitmap = !0)));
            },
        },
        cacheAsBitmap: {
            get: function () {
                return this._cacheAsBitmap;
            },
            set: function (t) {
                var e;
                this._cacheAsBitmap !== t &&
                    ((this._cacheAsBitmap = t)
                        ? (this._cacheData || (this._cacheData = new Nc()), ((e = this._cacheData).originalRender = this.render), (e.originalRenderCanvas = this.renderCanvas), (e.originalUpdateTransform = this.updateTransform), (e.originalCalculateBounds = this.calculateBounds), (e.originalGetLocalBounds = this.getLocalBounds), (e.originalDestroy = this.destroy), (e.originalContainsPoint = this.containsPoint), (e.originalMask = this._mask), (e.originalFilterArea = this.filterArea), (this.render = this._renderCached), (this.renderCanvas = this._renderCachedCanvas), (this.destroy = this._cacheAsBitmapDestroy))
                        : ((e = this._cacheData).sprite && this._destroyCachedDisplayObject(), (this.render = e.originalRender), (this.renderCanvas = e.originalRenderCanvas), (this.calculateBounds = e.originalCalculateBounds), (this.getLocalBounds = e.originalGetLocalBounds), (this.destroy = e.originalDestroy), (this.updateTransform = e.originalUpdateTransform), (this.containsPoint = e.originalContainsPoint), (this._mask = e.originalMask), (this.filterArea = e.originalFilterArea)));
            },
        },
    }),
        (er.prototype._renderCached = function (t) {
            !this.visible || this.worldAlpha <= 0 || !this.renderable || (this._initCachedDisplayObject(t), (this._cacheData.sprite.transform._worldID = this.transform._worldID), (this._cacheData.sprite.worldAlpha = this.worldAlpha), this._cacheData.sprite._render(t));
        }),
        (er.prototype._initCachedDisplayObject = function (t) {
            var e, r, i, n, o, s, a, h;
            (this._cacheData && this._cacheData.sprite) ||
                ((e = this.alpha),
                (this.alpha = 1),
                t.batch.flush(),
                (r = this.getLocalBounds(null, !0).clone()),
                this.filters && this.filters.length && ((h = this.filters[0].padding), r.pad(h)),
                r.ceil(G.RESOLUTION),
                (i = t.renderTexture.current),
                (n = t.renderTexture.sourceFrame.clone()),
                (o = t.renderTexture.destinationFrame.clone()),
                (s = t.projection.transform),
                (h = Hi.create({ width: r.width, height: r.height, resolution: this.cacheAsBitmapResolution || t.resolution, multisample: null !== (a = this.cacheAsBitmapMultisample) && void 0 !== a ? a : t.multisample })),
                (a = 'cacheAsBitmap_' + ++oe),
                (this._cacheData.textureCacheId = a),
                Zr.addToCache(h.baseTexture, a),
                Gi.addToCache(h, a),
                (a = this.transform.localTransform.copyTo(Mc).invert().translate(-r.x, -r.y)),
                (this.render = this._cacheData.originalRender),
                t.render(this, { renderTexture: h, clear: !0, transform: a, skipUpdateTransform: !1 }),
                t.framebuffer.blit(),
                (t.projection.transform = s),
                t.renderTexture.bind(i, n, o),
                (this.render = this._renderCached),
                (this.updateTransform = this.displayObjectUpdateTransform),
                (this.calculateBounds = this._calculateCachedBounds),
                (this.getLocalBounds = this._getCachedLocalBounds),
                (this._mask = null),
                (this.filterArea = null),
                (this.alpha = e),
                ((h = new Bu(h)).transform.worldTransform = this.transform.worldTransform),
                (h.anchor.x = -(r.x / r.width)),
                (h.anchor.y = -(r.y / r.height)),
                (h.alpha = e),
                (h._bounds = this._bounds),
                (this._cacheData.sprite = h),
                (this.transform._parentID = -1),
                this.parent ? this.updateTransform() : (this.enableTempParent(), this.updateTransform(), this.disableTempParent(null)),
                (this.containsPoint = h.containsPoint.bind(h)));
        }),
        (er.prototype._renderCachedCanvas = function (t) {
            !this.visible || this.worldAlpha <= 0 || !this.renderable || (this._initCachedDisplayObjectCanvas(t), (this._cacheData.sprite.worldAlpha = this.worldAlpha), this._cacheData.sprite._renderCanvas(t));
        }),
        (er.prototype._initCachedDisplayObjectCanvas = function (t) {
            var e, r, i, n, o, s;
            (this._cacheData && this._cacheData.sprite) ||
                ((e = this.getLocalBounds(null, !0)),
                (r = this.alpha),
                (this.alpha = 1),
                (i = t.context),
                (n = t._projTransform),
                e.ceil(G.RESOLUTION),
                (s = Hi.create({ width: e.width, height: e.height })),
                (o = 'cacheAsBitmap_' + ++oe),
                (this._cacheData.textureCacheId = o),
                Zr.addToCache(s.baseTexture, o),
                Gi.addToCache(s, o),
                (o = Mc),
                this.transform.localTransform.copyTo(o),
                o.invert(),
                (o.tx -= e.x),
                (o.ty -= e.y),
                (this.renderCanvas = this._cacheData.originalRenderCanvas),
                t.render(this, { renderTexture: s, clear: !0, transform: o, skipUpdateTransform: !1 }),
                (t.context = i),
                (t._projTransform = n),
                (this.renderCanvas = this._renderCachedCanvas),
                (this.updateTransform = this.displayObjectUpdateTransform),
                (this.calculateBounds = this._calculateCachedBounds),
                (this.getLocalBounds = this._getCachedLocalBounds),
                (this._mask = null),
                (this.filterArea = null),
                (this.alpha = r),
                ((s = new Bu(s)).transform.worldTransform = this.transform.worldTransform),
                (s.anchor.x = -(e.x / e.width)),
                (s.anchor.y = -(e.y / e.height)),
                (s.alpha = r),
                (s._bounds = this._bounds),
                (this._cacheData.sprite = s),
                (this.transform._parentID = -1),
                this.parent ? this.updateTransform() : ((this.parent = t._tempDisplayObjectParent), this.updateTransform(), (this.parent = null)),
                (this.containsPoint = s.containsPoint.bind(s)));
        }),
        (er.prototype._calculateCachedBounds = function () {
            (this._bounds.clear(), (this._cacheData.sprite.transform._worldID = this.transform._worldID), this._cacheData.sprite._calculateBounds(), (this._bounds.updateID = this._boundsID));
        }),
        (er.prototype._getCachedLocalBounds = function () {
            return this._cacheData.sprite.getLocalBounds(null);
        }),
        (er.prototype._destroyCachedDisplayObject = function () {
            (this._cacheData.sprite._texture.destroy(!0), (this._cacheData.sprite = null), Zr.removeFromCache(this._cacheData.textureCacheId), Gi.removeFromCache(this._cacheData.textureCacheId), (this._cacheData.textureCacheId = null));
        }),
        (er.prototype._cacheAsBitmapDestroy = function (t) {
            ((this.cacheAsBitmap = !1), this.destroy(t));
        }),
        (er.prototype.name = null),
        (ur.prototype.getChildByName = function (t, e) {
            for (var r = 0, i = this.children.length; r < i; r++) if (this.children[r].name === t) return this.children[r];
            if (e)
                for (r = 0, i = this.children.length; r < i; r++)
                    if (this.children[r].getChildByName) {
                        var n = this.children[r].getChildByName(t, !0);
                        if (n) return n;
                    }
            return null;
        }),
        (er.prototype.getGlobalPosition = function (t, e) {
            return (void 0 === t && (t = new xe()), void 0 === e && (e = !1), this.parent ? this.parent.toGlobal(this.position, t, e) : ((t.x = this.position.x), (t.y = this.position.y)), t);
        }));
    var Pc = function (t, e) {
        return (Pc =
            Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array &&
                function (t, e) {
                    t.__proto__ = e;
                }) ||
            function (t, e) {
                for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r]);
            })(t, e);
    };
    function Dc(t, e) {
        function r() {
            this.constructor = t;
        }
        (Pc(t, e), (t.prototype = null === e ? Object.create(e) : ((r.prototype = e.prototype), new r())));
    }
    var Cc,
        wc =
            (Dc(Lc, (Cc = ec)),
            (Lc.prototype.build = function () {
                for (var t = this.segWidth * this.segHeight, e = [], r = [], i = [], n = this.segWidth - 1, o = this.segHeight - 1, s = this.width / n, a = this.height / o, h = 0; h < t; h++) {
                    var u = h % this.segWidth,
                        l = (h / this.segWidth) | 0;
                    (e.push(u * s, l * a), r.push(u / n, l / o));
                }
                for (var c = n * o, h = 0; h < c; h++) {
                    var d = h % n,
                        f = (h / n) | 0,
                        p = f * this.segWidth + d,
                        _ = f * this.segWidth + d + 1,
                        m = (1 + f) * this.segWidth + d,
                        d = (1 + f) * this.segWidth + d + 1;
                    i.push(p, _, m, _, d, m);
                }
                ((this.buffers[0].data = new Float32Array(e)), (this.buffers[1].data = new Float32Array(r)), (this.indexBuffer.data = new Uint16Array(i)), this.buffers[0].update(), this.buffers[1].update(), this.indexBuffer.update());
            }),
            Lc);
    function Lc(t, e, r, i) {
        (void 0 === t && (t = 100), void 0 === e && (e = 100), void 0 === r && (r = 10), void 0 === i && (i = 10));
        var n = Cc.call(this) || this;
        return ((n.segWidth = r), (n.segHeight = i), (n.width = t), (n.height = e), n.build(), n);
    }
    var Fc,
        Uc =
            (Dc(Bc, (Fc = ec)),
            Object.defineProperty(Bc.prototype, 'width', {
                get: function () {
                    return this._width;
                },
                enumerable: !1,
                configurable: !0,
            }),
            (Bc.prototype.build = function () {
                var t = this.points;
                if (t) {
                    var e = this.getBuffer('aVertexPosition'),
                        r = this.getBuffer('aTextureCoord'),
                        i = this.getIndex();
                    if (!(t.length < 1)) {
                        e.data.length / 4 !== t.length && ((e.data = new Float32Array(4 * t.length)), (r.data = new Float32Array(4 * t.length)), (i.data = new Uint16Array(6 * (t.length - 1))));
                        var n = r.data,
                            o = i.data;
                        ((n[0] = 0), (n[1] = 0), (n[2] = 0), (n[3] = 1));
                        for (var s = 0, a = t[0], h = this._width * this.textureScale, u = t.length, l = 0; l < u; l++) {
                            var c,
                                d,
                                f = 4 * l;
                            (0 < this.textureScale ? ((c = a.x - t[l].x), (d = a.y - t[l].y), (d = Math.sqrt(c * c + d * d)), (a = t[l]), (s += d / h)) : (s = l / (u - 1)), (n[f] = s), (n[f + 1] = 0), (n[f + 2] = s), (n[f + 3] = 1));
                        }
                        for (var p = 0, l = 0; l < u - 1; l++) {
                            f = 2 * l;
                            ((o[p++] = f), (o[p++] = f + 1), (o[p++] = f + 2), (o[p++] = f + 2), (o[p++] = f + 1), (o[p++] = f + 3));
                        }
                        (r.update(), i.update(), this.updateVertices());
                    }
                }
            }),
            (Bc.prototype.updateVertices = function () {
                var t = this.points;
                if (!(t.length < 1)) {
                    for (var e = t[0], r = this.buffers[0].data, i = t.length, n = 0; n < i; n++) {
                        var o = t[n],
                            s = 4 * n,
                            a = -((l = n < t.length - 1 ? t[n + 1] : o).x - e.x),
                            h = l.y - e.y,
                            u = Math.sqrt(h * h + a * a),
                            l = 0 < this.textureScale ? (this.textureScale * this._width) / 2 : this._width / 2;
                        ((h /= u), (a /= u), (h *= l), (a *= l), (r[s] = o.x + h), (r[1 + s] = o.y + a), (r[2 + s] = o.x - h), (r[3 + s] = o.y - a), (e = o));
                    }
                    this.buffers[0].update();
                }
            }),
            (Bc.prototype.update = function () {
                0 < this.textureScale ? this.build() : this.updateVertices();
            }),
            Bc);
    function Bc(t, e, r) {
        (void 0 === t && (t = 200), void 0 === r && (r = 0));
        var i = Fc.call(this, new Float32Array(4 * e.length), new Float32Array(4 * e.length), new Uint16Array(6 * (e.length - 1))) || this;
        return ((i.points = e), (i._width = t), (i.textureScale = r), i.build(), i);
    }
    var Gc,
        kc =
            (Dc(Xc, (Gc = Kl)),
            (Xc.prototype._render = function (t) {
                var e = this.geometry;
                ((!this.autoUpdate && e._width === this.shader.texture.height) || ((e._width = this.shader.texture.height), e.update()), Gc.prototype._render.call(this, t));
            }),
            Xc);
    function Xc(t, e, r) {
        void 0 === r && (r = 0);
        var i = this,
            n = new Uc(t.height, e, r),
            e = new Jl(t);
        return (0 < r && (t.baseTexture.wrapMode = $.WRAP_MODES.REPEAT), ((i = Gc.call(this, n, e) || this).autoUpdate = !0), i);
    }
    var Hc,
        gt =
            (Dc(Yc, (Hc = Kl)),
            (Yc.prototype.textureUpdated = function () {
                this._textureID = this.shader.texture._updateID;
                var t = this.geometry,
                    e = this.shader.texture,
                    r = e.width,
                    e = e.height;
                !this.autoResize || (t.width === r && t.height === e) || ((t.width = this.shader.texture.width), (t.height = this.shader.texture.height), t.build());
            }),
            Object.defineProperty(Yc.prototype, 'texture', {
                get: function () {
                    return this.shader.texture;
                },
                set: function (t) {
                    this.shader.texture !== t && ((this.shader.texture = t), (this._textureID = -1), t.baseTexture.valid ? this.textureUpdated() : t.once('update', this.textureUpdated, this));
                },
                enumerable: !1,
                configurable: !0,
            }),
            (Yc.prototype._render = function (t) {
                (this._textureID !== this.shader.texture._updateID && this.textureUpdated(), Hc.prototype._render.call(this, t));
            }),
            (Yc.prototype.destroy = function (t) {
                (this.shader.texture.off('update', this.textureUpdated, this), Hc.prototype.destroy.call(this, t));
            }),
            Yc);
    function Yc(t, e, r) {
        var i = this,
            e = new wc(t.width, t.height, e, r),
            r = new Jl(Gi.WHITE);
        return (((i = Hc.call(this, e, r) || this).texture = t), (i.autoResize = !0), i);
    }
    var jc,
        eu =
            (Dc(Vc, (jc = Kl)),
            Object.defineProperty(Vc.prototype, 'vertices', {
                get: function () {
                    return this.geometry.getBuffer('aVertexPosition').data;
                },
                set: function (t) {
                    this.geometry.getBuffer('aVertexPosition').data = t;
                },
                enumerable: !1,
                configurable: !0,
            }),
            (Vc.prototype._render = function (t) {
                (this.autoUpdate && this.geometry.getBuffer('aVertexPosition').update(), jc.prototype._render.call(this, t));
            }),
            Vc);
    function Vc(t, e, r, i, n) {
        void 0 === t && (t = Gi.EMPTY);
        var o = this,
            i = new ec(e, r, i);
        i.getBuffer('aVertexPosition').static = !1;
        t = new Jl(t);
        return (((o = jc.call(this, i, t, null, n) || this).autoUpdate = !0), o);
    }
    var Wc,
        ya =
            (Dc(zc, (Wc = gt)),
            (zc.prototype.textureUpdated = function () {
                ((this._textureID = this.shader.texture._updateID), this._refresh());
            }),
            Object.defineProperty(zc.prototype, 'vertices', {
                get: function () {
                    return this.geometry.getBuffer('aVertexPosition').data;
                },
                set: function (t) {
                    this.geometry.getBuffer('aVertexPosition').data = t;
                },
                enumerable: !1,
                configurable: !0,
            }),
            (zc.prototype.updateHorizontalVertices = function () {
                var t = this.vertices,
                    e = this._getMinScale();
                ((t[9] = t[11] = t[13] = t[15] = this._topHeight * e), (t[17] = t[19] = t[21] = t[23] = this._height - this._bottomHeight * e), (t[25] = t[27] = t[29] = t[31] = this._height));
            }),
            (zc.prototype.updateVerticalVertices = function () {
                var t = this.vertices,
                    e = this._getMinScale();
                ((t[2] = t[10] = t[18] = t[26] = this._leftWidth * e), (t[4] = t[12] = t[20] = t[28] = this._width - this._rightWidth * e), (t[6] = t[14] = t[22] = t[30] = this._width));
            }),
            (zc.prototype._getMinScale = function () {
                var t = this._leftWidth + this._rightWidth,
                    e = this._width > t ? 1 : this._width / t,
                    t = this._topHeight + this._bottomHeight,
                    t = this._height > t ? 1 : this._height / t;
                return Math.min(e, t);
            }),
            Object.defineProperty(zc.prototype, 'width', {
                get: function () {
                    return this._width;
                },
                set: function (t) {
                    ((this._width = t), this._refresh());
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(zc.prototype, 'height', {
                get: function () {
                    return this._height;
                },
                set: function (t) {
                    ((this._height = t), this._refresh());
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(zc.prototype, 'leftWidth', {
                get: function () {
                    return this._leftWidth;
                },
                set: function (t) {
                    ((this._leftWidth = t), this._refresh());
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(zc.prototype, 'rightWidth', {
                get: function () {
                    return this._rightWidth;
                },
                set: function (t) {
                    ((this._rightWidth = t), this._refresh());
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(zc.prototype, 'topHeight', {
                get: function () {
                    return this._topHeight;
                },
                set: function (t) {
                    ((this._topHeight = t), this._refresh());
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(zc.prototype, 'bottomHeight', {
                get: function () {
                    return this._bottomHeight;
                },
                set: function (t) {
                    ((this._bottomHeight = t), this._refresh());
                },
                enumerable: !1,
                configurable: !0,
            }),
            (zc.prototype._refresh = function () {
                var t = this.texture,
                    e = this.geometry.buffers[1].data;
                ((this._origWidth = t.orig.width), (this._origHeight = t.orig.height));
                var r = 1 / this._origWidth,
                    t = 1 / this._origHeight;
                ((e[0] = e[8] = e[16] = e[24] = 0), (e[1] = e[3] = e[5] = e[7] = 0), (e[6] = e[14] = e[22] = e[30] = 1), (e[25] = e[27] = e[29] = e[31] = 1), (e[2] = e[10] = e[18] = e[26] = r * this._leftWidth), (e[4] = e[12] = e[20] = e[28] = 1 - r * this._rightWidth), (e[9] = e[11] = e[13] = e[15] = t * this._topHeight), (e[17] = e[19] = e[21] = e[23] = 1 - t * this._bottomHeight), this.updateHorizontalVertices(), this.updateVerticalVertices(), this.geometry.buffers[0].update(), this.geometry.buffers[1].update());
            }),
            zc);
    function zc(t, e, r, i, n) {
        (void 0 === e && (e = 10), void 0 === r && (r = 10), void 0 === i && (i = 10), void 0 === n && (n = 10));
        var o = Wc.call(this, Gi.WHITE, 4, 4) || this;
        return ((o._origWidth = t.orig.width), (o._origHeight = t.orig.height), (o._width = o._origWidth), (o._height = o._origHeight), (o._leftWidth = e), (o._rightWidth = i), (o._topHeight = r), (o._bottomHeight = n), (o.texture = t), o);
    }
    var qc = function (t, e) {
        return (qc =
            Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array &&
                function (t, e) {
                    t.__proto__ = e;
                }) ||
            function (t, e) {
                for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r]);
            })(t, e);
    };
    var Kc,
        Zc,
        Qc,
        oc =
            (qc((Zc = $c), (Qc = Kc = Bu)),
            (Zc.prototype = null === Qc ? Object.create(Qc) : ((Jc.prototype = Qc.prototype), new Jc())),
            ($c.prototype.stop = function () {
                this._playing && ((this._playing = !1), this._autoUpdate && this._isConnectedToTicker && (mr.shared.remove(this.update, this), (this._isConnectedToTicker = !1)));
            }),
            ($c.prototype.play = function () {
                this._playing || ((this._playing = !0), this._autoUpdate && !this._isConnectedToTicker && (mr.shared.add(this.update, this, $.UPDATE_PRIORITY.HIGH), (this._isConnectedToTicker = !0)));
            }),
            ($c.prototype.gotoAndStop = function (t) {
                this.stop();
                var e = this.currentFrame;
                ((this._currentTime = t), e !== this.currentFrame && this.updateTexture());
            }),
            ($c.prototype.gotoAndPlay = function (t) {
                var e = this.currentFrame;
                ((this._currentTime = t), e !== this.currentFrame && this.updateTexture(), this.play());
            }),
            ($c.prototype.update = function (t) {
                if (this._playing) {
                    var e = this.animationSpeed * t,
                        r = this.currentFrame;
                    if (null !== this._durations) {
                        var i = (this._currentTime % 1) * this._durations[this.currentFrame];
                        for (i += (e / 60) * 1e3; i < 0; ) (this._currentTime--, (i += this._durations[this.currentFrame]));
                        var n = Math.sign(this.animationSpeed * t);
                        for (this._currentTime = Math.floor(this._currentTime); i >= this._durations[this.currentFrame]; ) ((i -= this._durations[this.currentFrame] * n), (this._currentTime += n));
                        this._currentTime += i / this._durations[this.currentFrame];
                    } else this._currentTime += e;
                    this._currentTime < 0 && !this.loop ? (this.gotoAndStop(0), this.onComplete && this.onComplete()) : this._currentTime >= this._textures.length && !this.loop ? (this.gotoAndStop(this._textures.length - 1), this.onComplete && this.onComplete()) : r !== this.currentFrame && (this.loop && this.onLoop && ((0 < this.animationSpeed && this.currentFrame < r) || (this.animationSpeed < 0 && this.currentFrame > r)) && this.onLoop(), this.updateTexture());
                }
            }),
            ($c.prototype.updateTexture = function () {
                var t = this.currentFrame;
                this._previousFrame !== t && ((this._previousFrame = t), (this._texture = this._textures[t]), (this._textureID = -1), (this._textureTrimmedID = -1), (this._cachedTint = 16777215), (this.uvs = this._texture._uvs.uvsFloat32), this.updateAnchor && this._anchor.copyFrom(this._texture.defaultAnchor), this.onFrameChange && this.onFrameChange(this.currentFrame));
            }),
            ($c.prototype.destroy = function (t) {
                (this.stop(), Kc.prototype.destroy.call(this, t), (this.onComplete = null), (this.onFrameChange = null), (this.onLoop = null));
            }),
            ($c.fromFrames = function (t) {
                for (var e = [], r = 0; r < t.length; ++r) e.push(Gi.from(t[r]));
                return new $c(e);
            }),
            ($c.fromImages = function (t) {
                for (var e = [], r = 0; r < t.length; ++r) e.push(Gi.from(t[r]));
                return new $c(e);
            }),
            Object.defineProperty($c.prototype, 'totalFrames', {
                get: function () {
                    return this._textures.length;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty($c.prototype, 'textures', {
                get: function () {
                    return this._textures;
                },
                set: function (t) {
                    if (t[0] instanceof Gi) ((this._textures = t), (this._durations = null));
                    else {
                        ((this._textures = []), (this._durations = []));
                        for (var e = 0; e < t.length; e++) (this._textures.push(t[e].texture), this._durations.push(t[e].time));
                    }
                    ((this._previousFrame = null), this.gotoAndStop(0), this.updateTexture());
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty($c.prototype, 'currentFrame', {
                get: function () {
                    var t = Math.floor(this._currentTime) % this._textures.length;
                    return (t < 0 && (t += this._textures.length), t);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty($c.prototype, 'playing', {
                get: function () {
                    return this._playing;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty($c.prototype, 'autoUpdate', {
                get: function () {
                    return this._autoUpdate;
                },
                set: function (t) {
                    t !== this._autoUpdate && ((this._autoUpdate = t), !this._autoUpdate && this._isConnectedToTicker ? (mr.shared.remove(this.update, this), (this._isConnectedToTicker = !1)) : this._autoUpdate && !this._isConnectedToTicker && this._playing && (mr.shared.add(this.update, this), (this._isConnectedToTicker = !0)));
                },
                enumerable: !1,
                configurable: !0,
            }),
            $c);
    function Jc() {
        this.constructor = Zc;
    }
    function $c(t, e) {
        void 0 === e && (e = !0);
        var r = Kc.call(this, t[0] instanceof Gi ? t[0] : t[0].texture) || this;
        return ((r._textures = null), (r._durations = null), (r._autoUpdate = e), (r._isConnectedToTicker = !1), (r.animationSpeed = 1), (r.loop = !0), (r.updateAnchor = !1), (r.onComplete = null), (r.onFrameChange = null), (r.onLoop = null), (r._currentTime = 0), (r._playing = !1), (r._previousFrame = null), (r.textures = t), r);
    }
    (ds.registerPlugin('accessibility', dr), ds.registerPlugin('extract', ba), ds.registerPlugin('interaction', Cr), ds.registerPlugin('particle', j), ds.registerPlugin('prepare', bl), ds.registerPlugin('batch', Et), ds.registerPlugin('tilingSprite', kl), Xa.registerPlugin(Oc), Xa.registerPlugin(Us), Xa.registerPlugin(Eh), Xa.registerPlugin(wh), Xa.registerPlugin(Ml), Ls.registerPlugin(t), Ls.registerPlugin(Ya));
    var td = function (t, e) {
        return (td =
            Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array &&
                function (t, e) {
                    t.__proto__ = e;
                }) ||
            function (t, e) {
                for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r]);
            })(t, e);
    };
    var ed =
        ((rd.prototype.pushMask = function (t) {
            var e = this.renderer,
                t = t.maskObject || t;
            e.context.save();
            var r = this._foundShapes;
            if ((this.recursiveFindShapes(t, r), 0 < r.length)) {
                e = e.context;
                e.beginPath();
                for (var i = 0; i < r.length; i++) {
                    var n = r[i],
                        o = n.transform.worldTransform;
                    (this.renderer.setContextTransform(o), this.renderGraphicsShape(n));
                }
                ((r.length = 0), e.clip());
            }
        }),
        (rd.prototype.recursiveFindShapes = function (t, e) {
            t.geometry && t.geometry.graphicsData && e.push(t);
            var r = t.children;
            if (r) for (var i = 0; i < r.length; i++) this.recursiveFindShapes(r[i], e);
        }),
        (rd.prototype.renderGraphicsShape = function (t) {
            t.finishPoly();
            var e = this.renderer.context,
                r = t.geometry.graphicsData,
                i = r.length;
            if (0 !== i)
                for (var n = 0; n < i; n++) {
                    var o,
                        s,
                        a,
                        h,
                        u,
                        l,
                        c,
                        d = r[n],
                        f = d.shape;
                    if (f.type === $.SHAPES.POLY) {
                        var p = f.points,
                            _ = d.holes,
                            m = void 0,
                            E = void 0,
                            v = void 0,
                            y = void 0;
                        e.moveTo(p[0], p[1]);
                        for (var g = 1; g < p.length / 2; g++) e.lineTo(p[2 * g], p[2 * g + 1]);
                        if (0 < _.length) {
                            ((v = p[(m = 0)]), (y = p[1]));
                            for (g = 2; g + 2 < p.length; g += 2) m += (p[g] - v) * (p[g + 3] - y) - (p[g + 2] - v) * (p[g + 1] - y);
                            for (var T = 0; T < _.length; T++)
                                if ((p = _[T].shape.points)) {
                                    ((v = p[(E = 0)]), (y = p[1]));
                                    for (g = 2; g + 2 < p.length; g += 2) E += (p[g] - v) * (p[g + 3] - y) - (p[g + 2] - v) * (p[g + 1] - y);
                                    if (E * m < 0) {
                                        e.moveTo(p[0], p[1]);
                                        for (g = 2; g < p.length; g += 2) e.lineTo(p[g], p[g + 1]);
                                    } else {
                                        e.moveTo(p[p.length - 2], p[p.length - 1]);
                                        for (g = p.length - 4; 0 <= g; g -= 2) e.lineTo(p[g], p[g + 1]);
                                    }
                                    _[T].shape.closeStroke && e.closePath();
                                }
                        }
                        p[0] === p[p.length - 2] && p[1] === p[p.length - 1] && e.closePath();
                    } else
                        f.type === $.SHAPES.RECT
                            ? (e.rect(f.x, f.y, f.width, f.height), e.closePath())
                            : f.type === $.SHAPES.CIRC
                              ? (e.arc(f.x, f.y, f.radius, 0, 2 * Math.PI), e.closePath())
                              : f.type === $.SHAPES.ELIP
                                ? ((a = ((s = 2 * f.width) / 2) * 0.5522848), (u = ((c = 2 * f.height) / 2) * 0.5522848), (o = (l = f.x - s / 2) + s), (h = (d = f.y - c / 2) + c), (s = l + s / 2), (c = d + c / 2), e.moveTo(l, c), e.bezierCurveTo(l, c - u, s - a, d, s, d), e.bezierCurveTo(s + a, d, o, c - u, o, c), e.bezierCurveTo(o, c + u, s + a, h, s, h), e.bezierCurveTo(s - a, h, l, c + u, l, c), e.closePath())
                                : f.type === $.SHAPES.RREC && ((a = f.x), (h = f.y), (u = f.width), (l = f.height), (c = f.radius), (c = (f = Math.min(u, l) / 2) < c ? f : c), e.moveTo(a, h + c), e.lineTo(a, h + l - c), e.quadraticCurveTo(a, h + l, a + c, h + l), e.lineTo(a + u - c, h + l), e.quadraticCurveTo(a + u, h + l, a + u, h + l - c), e.lineTo(a + u, h + c), e.quadraticCurveTo(a + u, h, a + u - c, h), e.lineTo(a + c, h), e.quadraticCurveTo(a, h, a, h + c), e.closePath());
                }
        }),
        (rd.prototype.popMask = function (t) {
            (t.context.restore(), t.invalidateBlendMode());
        }),
        (rd.prototype.destroy = function () {}),
        rd);
    function rd(t) {
        ((this._foundShapes = []), (this.renderer = t));
    }
    function id(t) {
        var e = document.createElement('canvas');
        ((e.width = 6), (e.height = 1));
        var r = e.getContext('2d');
        return ((r.fillStyle = t), r.fillRect(0, 0, 6, 1), e);
    }
    function nd() {
        if ('undefined' == typeof document) return !1;
        var t = id('#ff00ff'),
            e = id('#ffff00'),
            r = document.createElement('canvas');
        ((r.width = 6), (r.height = 1));
        r = r.getContext('2d');
        ((r.globalCompositeOperation = 'multiply'), r.drawImage(t, 0, 0), r.drawImage(e, 2, 0));
        r = r.getImageData(2, 0, 1, 1);
        if (!r) return !1;
        r = r.data;
        return 255 === r[0] && 0 === r[1] && 0 === r[2];
    }
    var od,
        sd,
        ad,
        hd = new Be(),
        ud =
            (td((sd = cd), (ad = od = ss)),
            (sd.prototype = null === ad ? Object.create(ad) : ((ld.prototype = ad.prototype), new ld())),
            (cd.prototype.addSystem = function () {
                return this;
            }),
            (cd.prototype.render = function (t, e) {
                var r, i, n, o, s;
                this.view &&
                    (e && (n = e instanceof Hi || e instanceof Di ? (he('6.0.0', 'CanvasRenderer#render arguments changed, use options instead.'), (s = e), (o = arguments[2]), (r = arguments[3]), arguments[4]) : ((s = e.renderTexture), (o = e.clear), (r = e.transform), e.skipUpdateTransform)),
                    (this.renderingToScreen = !s),
                    this.emit('prerender'),
                    (i = this.resolution),
                    s ? ((s = s.castToBaseTexture())._canvasRenderTarget || ((s._canvasRenderTarget = new de(s.width, s.height, s.resolution)), (s.resource = new hi(s._canvasRenderTarget.canvas)), (s.valid = !0)), (this.context = s._canvasRenderTarget.context), (this.resolution = s._canvasRenderTarget.resolution)) : (this.context = this.rootContext),
                    (e = this.context),
                    (this._projTransform = r || null),
                    s || (this._lastObjectRendered = t),
                    n || ((n = t.enableTempParent()), t.updateTransform(), t.disableTempParent(n)),
                    e.save(),
                    e.setTransform(1, 0, 0, 1, 0, 0),
                    (e.globalAlpha = 1),
                    (this._activeBlendMode = $.BLEND_MODES.NORMAL),
                    (this._outerBlend = !1),
                    (e.globalCompositeOperation = this.blendModes[$.BLEND_MODES.NORMAL]),
                    (void 0 !== o ? o : this.clearBeforeRender) && (this.renderingToScreen ? (e.clearRect(0, 0, this.width, this.height), 0 < this.backgroundAlpha && ((e.globalAlpha = this.useContextAlpha ? this.backgroundAlpha : 1), (e.fillStyle = this._backgroundColorString), e.fillRect(0, 0, this.width, this.height), (e.globalAlpha = 1))) : (s._canvasRenderTarget.clear(), 0 < (o = s.clearColor)[3] && ((e.globalAlpha = this.useContextAlpha ? o[3] : 1), (e.fillStyle = Yt(Vt(o))), e.fillRect(0, 0, s.realWidth, s.realHeight), (e.globalAlpha = 1)))),
                    (s = this.context),
                    (this.context = e),
                    t.renderCanvas(this),
                    (this.context = s),
                    e.restore(),
                    (this.resolution = i),
                    (this._projTransform = null),
                    this.emit('postrender'));
            }),
            (cd.prototype.setContextTransform = function (t, e, r) {
                var i = t,
                    n = this._projTransform,
                    o = this.resolution;
                ((r = r || o), n && ((i = hd).copyFrom(t), i.prepend(n)), e ? this.context.setTransform(i.a * r, i.b * r, i.c * r, i.d * r, (i.tx * o) | 0, (i.ty * o) | 0) : this.context.setTransform(i.a * r, i.b * r, i.c * r, i.d * r, i.tx * o, i.ty * o));
            }),
            (cd.prototype.clear = function (t, e) {
                (void 0 === t && (t = this._backgroundColorString), void 0 === e && (e = this.backgroundAlpha));
                var r = this.context;
                (r.clearRect(0, 0, this.width, this.height), t && ((r.globalAlpha = this.useContextAlpha ? e : 1), (r.fillStyle = t), r.fillRect(0, 0, this.width, this.height), (r.globalAlpha = 1)));
            }),
            (cd.prototype.setBlendMode = function (t, e) {
                var r = t === $.BLEND_MODES.SRC_IN || t === $.BLEND_MODES.SRC_OUT || t === $.BLEND_MODES.DST_IN || t === $.BLEND_MODES.DST_ATOP;
                (!e && r && (t = $.BLEND_MODES.NORMAL), this._activeBlendMode !== t && ((this._activeBlendMode = t), (this._outerBlend = r), (this.context.globalCompositeOperation = this.blendModes[t])));
            }),
            (cd.prototype.destroy = function (t) {
                (od.prototype.destroy.call(this, t), (this.context = null), (this.refresh = !0), this.maskManager.destroy(), (this.maskManager = null), (this.smoothProperty = null));
            }),
            (cd.prototype.resize = function (t, e) {
                (od.prototype.resize.call(this, t, e), this.smoothProperty && (this.rootContext[this.smoothProperty] = G.SCALE_MODE === $.SCALE_MODES.LINEAR));
            }),
            (cd.prototype.invalidateBlendMode = function () {
                this._activeBlendMode = this.blendModes.indexOf(this.context.globalCompositeOperation);
            }),
            (cd.registerPlugin = function (t, e) {
                (cd.__plugins = cd.__plugins || {})[t] = e;
            }),
            cd);
    function ld() {
        this.constructor = sd;
    }
    function cd(t) {
        var e,
            t = od.call(this, $.RENDERER_TYPE.CANVAS, t) || this;
        return (
            (t.refresh = !0),
            (t.maskManager = new ed(t)),
            (t.smoothProperty = 'imageSmoothingEnabled'),
            (t.blendModes =
                (void 0 === e && (e = []),
                nd()
                    ? ((e[$.BLEND_MODES.NORMAL] = 'source-over'), (e[$.BLEND_MODES.ADD] = 'lighter'), (e[$.BLEND_MODES.MULTIPLY] = 'multiply'), (e[$.BLEND_MODES.SCREEN] = 'screen'), (e[$.BLEND_MODES.OVERLAY] = 'overlay'), (e[$.BLEND_MODES.DARKEN] = 'darken'), (e[$.BLEND_MODES.LIGHTEN] = 'lighten'), (e[$.BLEND_MODES.COLOR_DODGE] = 'color-dodge'), (e[$.BLEND_MODES.COLOR_BURN] = 'color-burn'), (e[$.BLEND_MODES.HARD_LIGHT] = 'hard-light'), (e[$.BLEND_MODES.SOFT_LIGHT] = 'soft-light'), (e[$.BLEND_MODES.DIFFERENCE] = 'difference'), (e[$.BLEND_MODES.EXCLUSION] = 'exclusion'), (e[$.BLEND_MODES.HUE] = 'hue'), (e[$.BLEND_MODES.SATURATION] = 'saturate'), (e[$.BLEND_MODES.COLOR] = 'color'), (e[$.BLEND_MODES.LUMINOSITY] = 'luminosity'))
                    : ((e[$.BLEND_MODES.NORMAL] = 'source-over'), (e[$.BLEND_MODES.ADD] = 'lighter'), (e[$.BLEND_MODES.MULTIPLY] = 'source-over'), (e[$.BLEND_MODES.SCREEN] = 'source-over'), (e[$.BLEND_MODES.OVERLAY] = 'source-over'), (e[$.BLEND_MODES.DARKEN] = 'source-over'), (e[$.BLEND_MODES.LIGHTEN] = 'source-over'), (e[$.BLEND_MODES.COLOR_DODGE] = 'source-over'), (e[$.BLEND_MODES.COLOR_BURN] = 'source-over'), (e[$.BLEND_MODES.HARD_LIGHT] = 'source-over'), (e[$.BLEND_MODES.SOFT_LIGHT] = 'source-over'), (e[$.BLEND_MODES.DIFFERENCE] = 'source-over'), (e[$.BLEND_MODES.EXCLUSION] = 'source-over'), (e[$.BLEND_MODES.HUE] = 'source-over'), (e[$.BLEND_MODES.SATURATION] = 'source-over'), (e[$.BLEND_MODES.COLOR] = 'source-over'), (e[$.BLEND_MODES.LUMINOSITY] = 'source-over')),
                (e[$.BLEND_MODES.NORMAL_NPM] = e[$.BLEND_MODES.NORMAL]),
                (e[$.BLEND_MODES.ADD_NPM] = e[$.BLEND_MODES.ADD]),
                (e[$.BLEND_MODES.SCREEN_NPM] = e[$.BLEND_MODES.SCREEN]),
                (e[$.BLEND_MODES.SRC_IN] = 'source-in'),
                (e[$.BLEND_MODES.SRC_OUT] = 'source-out'),
                (e[$.BLEND_MODES.SRC_ATOP] = 'source-atop'),
                (e[$.BLEND_MODES.DST_OVER] = 'destination-over'),
                (e[$.BLEND_MODES.DST_IN] = 'destination-in'),
                (e[$.BLEND_MODES.DST_OUT] = 'destination-out'),
                (e[$.BLEND_MODES.DST_ATOP] = 'destination-atop'),
                (e[$.BLEND_MODES.XOR] = 'xor'),
                (e[$.BLEND_MODES.SUBTRACT] = 'source-over'),
                e)),
            (t.renderingToScreen = !1),
            (t._activeBlendMode = null),
            (t._projTransform = null),
            (t._outerBlend = !1),
            (t.rootContext = t.view.getContext('2d', { alpha: t.useContextAlpha })),
            (t.context = t.rootContext),
            t.rootContext.imageSmoothingEnabled || ((e = t.rootContext).webkitImageSmoothingEnabled ? (t.smoothProperty = 'webkitImageSmoothingEnabled') : e.mozImageSmoothingEnabled ? (t.smoothProperty = 'mozImageSmoothingEnabled') : e.oImageSmoothingEnabled ? (t.smoothProperty = 'oImageSmoothingEnabled') : e.msImageSmoothingEnabled && (t.smoothProperty = 'msImageSmoothingEnabled')),
            t.initPlugins(cd.__plugins),
            Gt('Canvas'),
            t.resize(t.options.width, t.options.height),
            t
        );
    }
    var dd = {
        canvas: null,
        getTintedCanvas: function (t, e) {
            var r = t.texture,
                i = '#' + ('00000' + (0 | (e = dd.roundColor(e))).toString(16)).slice(-6);
            r.tintCache = r.tintCache || {};
            var n,
                t = r.tintCache[i];
            if (t) {
                if (t.tintId === r._updateID) return r.tintCache[i];
                n = r.tintCache[i];
            } else n = document.createElement('canvas');
            return (dd.tintMethod(r, e, n), (n.tintId = r._updateID), dd.convertTintToImage ? (((e = new Image()).src = n.toDataURL()), (r.tintCache[i] = e)) : (r.tintCache[i] = n), n);
        },
        getTintedPattern: function (t, e) {
            var r = '#' + ('00000' + (0 | (e = dd.roundColor(e))).toString(16)).slice(-6);
            t.patternCache = t.patternCache || {};
            var i = t.patternCache[r];
            return i && i.tintId === t._updateID ? i : (dd.canvas || (dd.canvas = document.createElement('canvas')), dd.tintMethod(t, e, dd.canvas), ((i = dd.canvas.getContext('2d').createPattern(dd.canvas, 'repeat')).tintId = t._updateID), (t.patternCache[r] = i));
        },
        tintWithMultiply: function (t, e, r) {
            var i = r.getContext('2d'),
                n = t._frame.clone(),
                o = t.baseTexture.resolution;
            ((n.x *= o), (n.y *= o), (n.width *= o), (n.height *= o), (r.width = Math.ceil(n.width)), (r.height = Math.ceil(n.height)), i.save(), (i.fillStyle = '#' + ('00000' + (0 | e).toString(16)).slice(-6)), i.fillRect(0, 0, n.width, n.height), (i.globalCompositeOperation = 'multiply'));
            t = t.baseTexture.getDrawableSource();
            (i.drawImage(t, n.x, n.y, n.width, n.height, 0, 0, n.width, n.height), (i.globalCompositeOperation = 'destination-atop'), i.drawImage(t, n.x, n.y, n.width, n.height, 0, 0, n.width, n.height), i.restore());
        },
        tintWithOverlay: function (t, e, r) {
            var i = r.getContext('2d'),
                n = t._frame.clone(),
                o = t.baseTexture.resolution;
            ((n.x *= o), (n.y *= o), (n.width *= o), (n.height *= o), (r.width = Math.ceil(n.width)), (r.height = Math.ceil(n.height)), i.save(), (i.globalCompositeOperation = 'copy'), (i.fillStyle = '#' + ('00000' + (0 | e).toString(16)).slice(-6)), i.fillRect(0, 0, n.width, n.height), (i.globalCompositeOperation = 'destination-atop'), i.drawImage(t.baseTexture.getDrawableSource(), n.x, n.y, n.width, n.height, 0, 0, n.width, n.height), i.restore());
        },
        tintWithPerPixel: function (t, e, r) {
            var i = r.getContext('2d'),
                n = t._frame.clone(),
                o = t.baseTexture.resolution;
            ((n.x *= o), (n.y *= o), (n.width *= o), (n.height *= o), (r.width = Math.ceil(n.width)), (r.height = Math.ceil(n.height)), i.save(), (i.globalCompositeOperation = 'copy'), i.drawImage(t.baseTexture.getDrawableSource(), n.x, n.y, n.width, n.height, 0, 0, n.width, n.height), i.restore());
            for (var e = Ht(e), s = e[0], a = e[1], h = e[2], n = i.getImageData(0, 0, n.width, n.height), u = n.data, l = 0; l < u.length; l += 4) ((u[l + 0] *= s), (u[l + 1] *= a), (u[l + 2] *= h));
            i.putImageData(n, 0, 0);
        },
        roundColor: function (t) {
            var e = dd.cacheStepsPerColorChannel,
                t = Ht(t);
            return ((t[0] = Math.min(255, (t[0] / e) * e)), (t[1] = Math.min(255, (t[1] / e) * e)), (t[2] = Math.min(255, (t[2] / e) * e)), Vt(t));
        },
        cacheStepsPerColorChannel: 8,
        convertTintToImage: !1,
        canUseMultiply: nd(),
        tintMethod: null,
    };
    dd.tintMethod = dd.canUseMultiply ? dd.tintWithMultiply : dd.tintWithPerPixel;
    var fd = ds.create;
    ((ds.create = function (t) {
        if (!(t && t.forceCanvas))
            try {
                return fd(t);
            } catch (t) {}
        return new ud(t);
    }),
        (Zr.prototype.getDrawableSource = function () {
            var t = this.resource;
            return t ? t.bitmap || t.source : null;
        }),
        (Di.prototype._canvasRenderTarget = null),
        (Gi.prototype.patternCache = null),
        (Gi.prototype.tintCache = null));
    var pd = 'undefined' != typeof globalThis ? globalThis : 'undefined' != typeof window ? window : 'undefined' != typeof global ? global : 'undefined' != typeof self ? self : {};
    function _d(t, e, r) {
        return (
            t(
                (r = {
                    path: e,
                    exports: {},
                    require: function (t, e) {
                        return (function () {
                            throw new Error('Dynamic requires are not currently supported by @rollup/plugin-commonjs');
                        })(null == e && r.path);
                    },
                }),
                r.exports
            ),
            r.exports
        );
    }
    var uc = _d(function (t) {
            var i = Object.prototype.hasOwnProperty,
                p = '~';
            function r() {}
            function o(t, e, r) {
                ((this.fn = t), (this.context = e), (this.once = r || !1));
            }
            function n(t, e, r, i, n) {
                if ('function' != typeof r) throw new TypeError('The listener must be a function');
                ((n = new o(r, i || t, n)), (e = p ? p + e : e));
                return (t._events[e] ? (t._events[e].fn ? (t._events[e] = [t._events[e], n]) : t._events[e].push(n)) : ((t._events[e] = n), t._eventsCount++), t);
            }
            function h(t, e) {
                0 == --t._eventsCount ? (t._events = new r()) : delete t._events[e];
            }
            function e() {
                ((this._events = new r()), (this._eventsCount = 0));
            }
            (Object.create && ((r.prototype = Object.create(null)), new r().__proto__ || (p = !1)),
                (e.prototype.eventNames = function () {
                    var t,
                        e,
                        r = [];
                    if (0 === this._eventsCount) return r;
                    for (e in (t = this._events)) i.call(t, e) && r.push(p ? e.slice(1) : e);
                    return Object.getOwnPropertySymbols ? r.concat(Object.getOwnPropertySymbols(t)) : r;
                }),
                (e.prototype.listeners = function (t) {
                    var t = p ? p + t : t,
                        e = this._events[t];
                    if (!e) return [];
                    if (e.fn) return [e.fn];
                    for (var r = 0, i = e.length, n = new Array(i); r < i; r++) n[r] = e[r].fn;
                    return n;
                }),
                (e.prototype.listenerCount = function (t) {
                    ((t = p ? p + t : t), (t = this._events[t]));
                    return t ? (t.fn ? 1 : t.length) : 0;
                }),
                (e.prototype.emit = function (t, e, r, i, n, o) {
                    var s = arguments,
                        a = p ? p + t : t;
                    if (!this._events[a]) return !1;
                    var h,
                        u = this._events[a],
                        l = arguments.length;
                    if (u.fn) {
                        switch ((u.once && this.removeListener(t, u.fn, void 0, !0), l)) {
                            case 1:
                                return (u.fn.call(u.context), !0);
                            case 2:
                                return (u.fn.call(u.context, e), !0);
                            case 3:
                                return (u.fn.call(u.context, e, r), !0);
                            case 4:
                                return (u.fn.call(u.context, e, r, i), !0);
                            case 5:
                                return (u.fn.call(u.context, e, r, i, n), !0);
                            case 6:
                                return (u.fn.call(u.context, e, r, i, n, o), !0);
                        }
                        for (f = 1, h = new Array(l - 1); f < l; f++) h[f - 1] = s[f];
                        u.fn.apply(u.context, h);
                    } else
                        for (var c, d = u.length, f = 0; f < d; f++)
                            switch ((u[f].once && this.removeListener(t, u[f].fn, void 0, !0), l)) {
                                case 1:
                                    u[f].fn.call(u[f].context);
                                    break;
                                case 2:
                                    u[f].fn.call(u[f].context, e);
                                    break;
                                case 3:
                                    u[f].fn.call(u[f].context, e, r);
                                    break;
                                case 4:
                                    u[f].fn.call(u[f].context, e, r, i);
                                    break;
                                default:
                                    if (!h) for (c = 1, h = new Array(l - 1); c < l; c++) h[c - 1] = s[c];
                                    u[f].fn.apply(u[f].context, h);
                            }
                    return !0;
                }),
                (e.prototype.on = function (t, e, r) {
                    return n(this, t, e, r, !1);
                }),
                (e.prototype.once = function (t, e, r) {
                    return n(this, t, e, r, !0);
                }),
                (e.prototype.removeListener = function (t, e, r, i) {
                    t = p ? p + t : t;
                    if (!this._events[t]) return this;
                    if (!e) return (h(this, t), this);
                    var n = this._events[t];
                    if (n.fn) n.fn !== e || (i && !n.once) || (r && n.context !== r) || h(this, t);
                    else {
                        for (var o = 0, s = [], a = n.length; o < a; o++) (n[o].fn !== e || (i && !n[o].once) || (r && n[o].context !== r)) && s.push(n[o]);
                        s.length ? (this._events[t] = 1 === s.length ? s[0] : s) : h(this, t);
                    }
                    return this;
                }),
                (e.prototype.removeAllListeners = function (t) {
                    return (t ? ((t = p ? p + t : t), this._events[t] && h(this, t)) : ((this._events = new r()), (this._eventsCount = 0)), this);
                }),
                (e.prototype.off = e.prototype.removeListener),
                (e.prototype.addListener = e.prototype.on),
                (e.prefixed = p),
                (e.EventEmitter = e),
                (t.exports = e));
        }),
        md = _d(function (P, D) {
            !(function (t) {
                var e = D && !D.nodeType && D,
                    r = P && !P.nodeType && P,
                    i = 'object' == typeof pd && pd;
                (i.global !== i && i.window !== i && i.self !== i) || (t = i);
                var n,
                    o,
                    E = 2147483647,
                    v = 36,
                    y = 1,
                    g = 26,
                    s = 38,
                    a = 700,
                    T = 72,
                    b = 128,
                    x = '-',
                    h = /^xn--/,
                    u = /[^\x20-\x7E]/,
                    l = /[\x2E\u3002\uFF0E\uFF61]/g,
                    c = { overflow: 'Overflow: input needs wider integers to process', 'not-basic': 'Illegal input >= 0x80 (not a basic code point)', 'invalid-input': 'Invalid input' },
                    d = v - y,
                    R = Math.floor,
                    A = String.fromCharCode;
                function S(t) {
                    throw RangeError(c[t]);
                }
                function f(t, e) {
                    for (var r = t.length, i = []; r--; ) i[r] = e(t[r]);
                    return i;
                }
                function p(t, e) {
                    var r = t.split('@'),
                        i = '';
                    return (1 < r.length && ((i = r[0] + '@'), (t = r[1])), i + f((t = t.replace(l, '.')).split('.'), e).join('.'));
                }
                function O(t) {
                    for (var e, r, i = [], n = 0, o = t.length; n < o; ) 55296 <= (e = t.charCodeAt(n++)) && e <= 56319 && n < o ? (56320 == (64512 & (r = t.charCodeAt(n++))) ? i.push(((1023 & e) << 10) + (1023 & r) + 65536) : (i.push(e), n--)) : i.push(e);
                    return i;
                }
                function _(t) {
                    return f(t, function (t) {
                        var e = '';
                        return (65535 < t && ((e += A((((t -= 65536) >>> 10) & 1023) | 55296)), (t = 56320 | (1023 & t))), (e += A(t)));
                    }).join('');
                }
                function I(t, e) {
                    return t + 22 + 75 * (t < 26) - ((0 != e) << 5);
                }
                function M(t, e, r) {
                    var i = 0;
                    for (t = r ? R(t / a) : t >> 1, t += R(t / e); (d * g) >> 1 < t; i += v) t = R(t / d);
                    return R(i + ((d + 1) * t) / (t + s));
                }
                function m(t) {
                    var e,
                        r,
                        i,
                        n,
                        o,
                        s,
                        a,
                        h = [],
                        u = t.length,
                        l = 0,
                        c = b,
                        d = T,
                        f = t.lastIndexOf(x);
                    for (f < 0 && (f = 0), r = 0; r < f; ++r) (128 <= t.charCodeAt(r) && S('not-basic'), h.push(t.charCodeAt(r)));
                    for (i = 0 < f ? f + 1 : 0; i < u; ) {
                        for (n = l, o = 1, s = v; u <= i && S('invalid-input'), (a = t.charCodeAt(i++)), (v <= (a = a - 48 < 10 ? a - 22 : a - 65 < 26 ? a - 65 : a - 97 < 26 ? a - 97 : v) || a > R((E - l) / o)) && S('overflow'), (l += a * o), !(a < (a = s <= d ? y : d + g <= s ? g : s - d)); s += v) (o > R(E / (a = v - a)) && S('overflow'), (o *= a));
                        ((d = M(l - n, (e = h.length + 1), 0 == n)), R(l / e) > E - c && S('overflow'), (c += R(l / e)), (l %= e), h.splice(l++, 0, c));
                    }
                    return _(h);
                }
                function N(t) {
                    for (var e, r, i, n, o, s, a, h, u, l, c, d = [], f = (t = O(t)).length, p = b, _ = T, m = (e = 0); m < f; ++m) (h = t[m]) < 128 && d.push(A(h));
                    for (r = i = d.length, i && d.push(x); r < f; ) {
                        for (n = E, m = 0; m < f; ++m) p <= (h = t[m]) && h < n && (n = h);
                        for (n - p > R((E - e) / (u = r + 1)) && S('overflow'), e += (n - p) * u, p = n, m = 0; m < f; ++m)
                            if (((h = t[m]) < p && ++e > E && S('overflow'), h == p)) {
                                for (o = e, s = v; !(o < (a = s <= _ ? y : _ + g <= s ? g : s - _)); s += v) ((c = o - a), (l = v - a), d.push(A(I(a + (c % l), 0))), (o = R(c / l)));
                                (d.push(A(I(o, 0))), (_ = M(e, u, r == i)), (e = 0), ++r);
                            }
                        (++e, ++p);
                    }
                    return d.join('');
                }
                if (
                    ((n = {
                        version: '1.3.2',
                        ucs2: { decode: O, encode: _ },
                        decode: m,
                        encode: N,
                        toASCII: function (t) {
                            return p(t, function (t) {
                                return u.test(t) ? 'xn--' + N(t) : t;
                            });
                        },
                        toUnicode: function (t) {
                            return p(t, function (t) {
                                return h.test(t) ? m(t.slice(4).toLowerCase()) : t;
                            });
                        },
                    }),
                    e && r)
                )
                    if (P.exports == e) r.exports = n;
                    else for (o in n) n.hasOwnProperty(o) && (e[o] = n[o]);
                else t.punycode = n;
            })(pd);
        }),
        Ed = {
            isString: function (t) {
                return 'string' == typeof t;
            },
            isObject: function (t) {
                return 'object' == typeof t && null !== t;
            },
            isNull: function (t) {
                return null === t;
            },
            isNullOrUndefined: function (t) {
                return null == t;
            },
        };
    function vd(t, e, r, i) {
        ((e = e || '&'), (r = r || '='));
        var n = {};
        if ('string' != typeof t || 0 === t.length) return n;
        var o = /\+/g;
        ((t = t.split(e)), (e = 1e3), i && 'number' == typeof i.maxKeys && (e = i.maxKeys));
        var s = t.length;
        0 < e && e < s && (s = e);
        for (var a = 0; a < s; ++a) {
            var h,
                u = t[a].replace(o, '%20'),
                l = u.indexOf(r),
                c = 0 <= l ? ((h = u.substr(0, l)), u.substr(l + 1)) : ((h = u), ''),
                d = decodeURIComponent(h),
                l = decodeURIComponent(c);
            ((u = n), (c = d), Object.prototype.hasOwnProperty.call(u, c) ? (Array.isArray(n[d]) ? n[d].push(l) : (n[d] = [n[d], l])) : (n[d] = l));
        }
        return n;
    }
    function yd(t) {
        switch (typeof t) {
            case 'string':
                return t;
            case 'boolean':
                return t ? 'true' : 'false';
            case 'number':
                return isFinite(t) ? t : '';
            default:
                return '';
        }
    }
    function gd(r, i, n, t) {
        return (
            (i = i || '&'),
            (n = n || '='),
            null === r && (r = void 0),
            'object' == typeof r
                ? Object.keys(r)
                      .map(function (t) {
                          var e = encodeURIComponent(yd(t)) + n;
                          return Array.isArray(r[t])
                              ? r[t]
                                    .map(function (t) {
                                        return e + encodeURIComponent(yd(t));
                                    })
                                    .join(i)
                              : e + encodeURIComponent(yd(r[t]));
                      })
                      .join(i)
                : t
                  ? encodeURIComponent(yd(t)) + n + encodeURIComponent(yd(r))
                  : ''
        );
    }
    var Td = _d(function (t, e) {
            ((e.decode = e.parse = vd), (e.encode = e.stringify = gd));
        }),
        bd = Ud,
        xd = function (t, e) {
            return Ud(t, !1, !0).resolve(e);
        },
        Rd = function (t) {
            Ed.isString(t) && (t = Ud(t));
            return t instanceof Ad ? t.format() : Ad.prototype.format.call(t);
        };
    function Ad() {
        ((this.protocol = null), (this.slashes = null), (this.auth = null), (this.host = null), (this.port = null), (this.hostname = null), (this.hash = null), (this.search = null), (this.query = null), (this.pathname = null), (this.path = null), (this.href = null));
    }
    var Sd = /^([a-z0-9.+-]+:)/i,
        Od = /:[0-9]*$/,
        Id = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,
        At = ['{', '}', '|', '\\', '^', '`'].concat(['<', '>', '"', '`', ' ', '\r', '\n', '\t']),
        Md = ["'"].concat(At),
        Nd = ['%', '/', '?', ';', '#'].concat(Md),
        Pd = ['/', '?', '#'],
        Dd = /^[+a-z0-9A-Z_-]{0,63}$/,
        Cd = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,
        wd = { javascript: !0, 'javascript:': !0 },
        Ld = { javascript: !0, 'javascript:': !0 },
        Fd = { http: !0, https: !0, ftp: !0, gopher: !0, file: !0, 'http:': !0, 'https:': !0, 'ftp:': !0, 'gopher:': !0, 'file:': !0 };
    function Ud(t, e, r) {
        if (t && Ed.isObject(t) && t instanceof Ad) return t;
        var i = new Ad();
        return (i.parse(t, e, r), i);
    }
    ((Ad.prototype.parse = function (t, e, r) {
        if (!Ed.isString(t)) throw new TypeError("Parameter 'url' must be a string, not " + typeof t);
        var i = t.indexOf('?'),
            n = -1 !== i && i < t.indexOf('#') ? '?' : '#',
            i = t.split(n);
        i[0] = i[0].replace(/\\/g, '/');
        var o = (o = t = i.join(n)).trim();
        if (!r && 1 === t.split('#').length) {
            var s = Id.exec(o);
            if (s) return ((this.path = o), (this.href = o), (this.pathname = s[1]), s[2] ? ((this.search = s[2]), (this.query = e ? Td.parse(this.search.substr(1)) : this.search.substr(1))) : e && ((this.search = ''), (this.query = {})), this);
        }
        var a,
            s = Sd.exec(o);
        if ((s && ((A = (s = s[0]).toLowerCase()), (this.protocol = A), (o = o.substr(s.length))), (r || s || o.match(/^\/\/[^@\/]+@[^@\/]+/)) && (!(a = '//' === o.substr(0, 2)) || (s && Ld[s]) || ((o = o.substr(2)), (this.slashes = !0))), !Ld[s] && (a || (s && !Fd[s])))) {
            for (var h = -1, u = 0; u < Pd.length; u++) -1 !== (l = o.indexOf(Pd[u])) && (-1 === h || l < h) && (h = l);
            (-1 !== (T = -1 === h ? o.lastIndexOf('@') : o.lastIndexOf('@', h)) && ((b = o.slice(0, T)), (o = o.slice(T + 1)), (this.auth = decodeURIComponent(b))), (h = -1));
            for (var l, u = 0; u < Nd.length; u++) -1 !== (l = o.indexOf(Nd[u])) && (-1 === h || l < h) && (h = l);
            (-1 === h && (h = o.length), (this.host = o.slice(0, h)), (o = o.slice(h)), this.parseHost(), (this.hostname = this.hostname || ''));
            var c = '[' === this.hostname[0] && ']' === this.hostname[this.hostname.length - 1];
            if (!c)
                for (var d = this.hostname.split(/\./), u = 0, f = d.length; u < f; u++) {
                    var p = d[u];
                    if (p && !p.match(Dd)) {
                        for (var _ = '', m = 0, E = p.length; m < E; m++) 127 < p.charCodeAt(m) ? (_ += 'x') : (_ += p[m]);
                        if (!_.match(Dd)) {
                            var v = d.slice(0, u),
                                y = d.slice(u + 1),
                                g = p.match(Cd);
                            (g && (v.push(g[1]), y.unshift(g[2])), y.length && (o = '/' + y.join('.') + o), (this.hostname = v.join('.')));
                            break;
                        }
                    }
                }
            (255 < this.hostname.length ? (this.hostname = '') : (this.hostname = this.hostname.toLowerCase()), c || (this.hostname = md.toASCII(this.hostname)));
            var T = this.port ? ':' + this.port : '',
                b = this.hostname || '';
            ((this.host = b + T), (this.href += this.host), c && ((this.hostname = this.hostname.substr(1, this.hostname.length - 2)), '/' !== o[0] && (o = '/' + o)));
        }
        if (!wd[A])
            for (u = 0, f = Md.length; u < f; u++) {
                var x,
                    R = Md[u];
                -1 !== o.indexOf(R) && ((x = encodeURIComponent(R)) === R && (x = escape(R)), (o = o.split(R).join(x)));
            }
        c = o.indexOf('#');
        -1 !== c && ((this.hash = o.substr(c)), (o = o.slice(0, c)));
        var A,
            c = o.indexOf('?');
        return (-1 !== c ? ((this.search = o.substr(c)), (this.query = o.substr(c + 1)), e && (this.query = Td.parse(this.query)), (o = o.slice(0, c))) : e && ((this.search = ''), (this.query = {})), o && (this.pathname = o), Fd[A] && this.hostname && !this.pathname && (this.pathname = '/'), (this.pathname || this.search) && ((T = this.pathname || ''), (A = this.search || ''), (this.path = T + A)), (this.href = this.format()), this);
    }),
        (Ad.prototype.format = function () {
            var t = this.auth || '';
            t && ((t = (t = encodeURIComponent(t)).replace(/%3A/i, ':')), (t += '@'));
            var e = this.protocol || '',
                r = this.pathname || '',
                i = this.hash || '',
                n = !1,
                o = '';
            (this.host ? (n = t + this.host) : this.hostname && ((n = t + (-1 === this.hostname.indexOf(':') ? this.hostname : '[' + this.hostname + ']')), this.port && (n += ':' + this.port)), this.query && Ed.isObject(this.query) && Object.keys(this.query).length && (o = Td.stringify(this.query)));
            o = this.search || (o && '?' + o) || '';
            return (
                e && ':' !== e.substr(-1) && (e += ':'),
                this.slashes || ((!e || Fd[e]) && !1 !== n) ? ((n = '//' + (n || '')), r && '/' !== r.charAt(0) && (r = '/' + r)) : (n = n || ''),
                i && '#' !== i.charAt(0) && (i = '#' + i),
                o && '?' !== o.charAt(0) && (o = '?' + o),
                e +
                    n +
                    (r = r.replace(/[?#]/g, function (t) {
                        return encodeURIComponent(t);
                    })) +
                    (o = o.replace('#', '%23')) +
                    i
            );
        }),
        (Ad.prototype.resolve = function (t) {
            return this.resolveObject(Ud(t, !1, !0)).format();
        }),
        (Ad.prototype.resolveObject = function (t) {
            Ed.isString(t) && ((f = new Ad()).parse(t, !1, !0), (t = f));
            for (var e = new Ad(), r = Object.keys(this), i = 0; i < r.length; i++) {
                var n = r[i];
                e[n] = this[n];
            }
            if (((e.hash = t.hash), '' === t.href)) return ((e.href = e.format()), e);
            if (t.slashes && !t.protocol) {
                for (var o = Object.keys(t), s = 0; s < o.length; s++) {
                    var a = o[s];
                    'protocol' !== a && (e[a] = t[a]);
                }
                return (Fd[e.protocol] && e.hostname && !e.pathname && (e.path = e.pathname = '/'), (e.href = e.format()), e);
            }
            if (t.protocol && t.protocol !== e.protocol) {
                if (!Fd[t.protocol]) {
                    for (var h = Object.keys(t), u = 0; u < h.length; u++) {
                        var l = h[u];
                        e[l] = t[l];
                    }
                    return ((e.href = e.format()), e);
                }
                if (((e.protocol = t.protocol), t.host || Ld[t.protocol])) e.pathname = t.pathname;
                else {
                    for (var c = (t.pathname || '').split('/'); c.length && !(t.host = c.shift()); );
                    (t.host || (t.host = ''), t.hostname || (t.hostname = ''), '' !== c[0] && c.unshift(''), c.length < 2 && c.unshift(''), (e.pathname = c.join('/')));
                }
                return ((e.search = t.search), (e.query = t.query), (e.host = t.host || ''), (e.auth = t.auth), (e.hostname = t.hostname || t.host), (e.port = t.port), (e.pathname || e.search) && ((p = e.pathname || ''), (_ = e.search || ''), (e.path = p + _)), (e.slashes = e.slashes || t.slashes), (e.href = e.format()), e);
            }
            var d = e.pathname && '/' === e.pathname.charAt(0),
                f = t.host || (t.pathname && '/' === t.pathname.charAt(0)),
                p = f || d || (e.host && t.pathname),
                _ = p,
                m = (e.pathname && e.pathname.split('/')) || [],
                c = (t.pathname && t.pathname.split('/')) || [],
                d = e.protocol && !Fd[e.protocol];
            if ((d && ((e.hostname = ''), (e.port = null), e.host && ('' === m[0] ? (m[0] = e.host) : m.unshift(e.host)), (e.host = ''), t.protocol && ((t.hostname = null), (t.port = null), t.host && ('' === c[0] ? (c[0] = t.host) : c.unshift(t.host)), (t.host = null)), (p = p && ('' === c[0] || '' === m[0]))), f)) ((e.host = (t.host || '' === t.host ? t : e).host), (e.hostname = (t.hostname || '' === t.hostname ? t : e).hostname), (e.search = t.search), (e.query = t.query), (m = c));
            else if (c.length) ((m = m || []).pop(), (m = m.concat(c)), (e.search = t.search), (e.query = t.query));
            else if (!Ed.isNullOrUndefined(t.search)) return (d && ((e.hostname = e.host = m.shift()), (g = !!(e.host && 0 < e.host.indexOf('@')) && e.host.split('@')) && ((e.auth = g.shift()), (e.host = e.hostname = g.shift()))), (e.search = t.search), (e.query = t.query), (Ed.isNull(e.pathname) && Ed.isNull(e.search)) || (e.path = (e.pathname || '') + (e.search || '')), (e.href = e.format()), e);
            if (!m.length) return ((e.pathname = null), e.search ? (e.path = '/' + e.search) : (e.path = null), (e.href = e.format()), e);
            for (var E = m.slice(-1)[0], f = ((e.host || t.host || 1 < m.length) && ('.' === E || '..' === E)) || '' === E, v = 0, y = m.length; 0 <= y; y--) '.' === (E = m[y]) ? m.splice(y, 1) : '..' === E ? (m.splice(y, 1), v++) : v && (m.splice(y, 1), v--);
            if (!p && !_) for (; v--; ) m.unshift('..');
            (!p || '' === m[0] || (m[0] && '/' === m[0].charAt(0)) || m.unshift(''), f && '/' !== m.join('/').substr(-1) && m.push(''));
            var g,
                f = '' === m[0] || (m[0] && '/' === m[0].charAt(0));
            return (d && ((e.hostname = e.host = !f && m.length ? m.shift() : ''), (g = !!(e.host && 0 < e.host.indexOf('@')) && e.host.split('@')) && ((e.auth = g.shift()), (e.host = e.hostname = g.shift()))), (p = p || (e.host && m.length)) && !f && m.unshift(''), m.length ? (e.pathname = m.join('/')) : ((e.pathname = null), (e.path = null)), (Ed.isNull(e.pathname) && Ed.isNull(e.search)) || (e.path = (e.pathname || '') + (e.search || '')), (e.auth = t.auth || e.auth), (e.slashes = e.slashes || t.slashes), (e.href = e.format()), e);
        }),
        (Ad.prototype.parseHost = function () {
            var t = this.host,
                e = Od.exec(t);
            (e && (':' !== (e = e[0]) && (this.port = e.substr(1)), (t = t.substr(0, t.length - e.length))), t && (this.hostname = t));
        }));
    var Bd = { parse: bd, format: Rd, resolve: xd };
    G.RETINA_PREFIX = /@([0-9\.]+)x/;
    var Gd,
        kd = (G.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT = !1),
        Xd = '6.4.2';
    var Hd = (function () {
        for (var t = [], e = [], r = 0; r < 32; r++) e[(t[r] = r)] = r;
        ((t[$.BLEND_MODES.NORMAL_NPM] = $.BLEND_MODES.NORMAL), (t[$.BLEND_MODES.ADD_NPM] = $.BLEND_MODES.ADD), (t[$.BLEND_MODES.SCREEN_NPM] = $.BLEND_MODES.SCREEN), (e[$.BLEND_MODES.NORMAL] = $.BLEND_MODES.NORMAL_NPM), (e[$.BLEND_MODES.ADD] = $.BLEND_MODES.ADD_NPM), (e[$.BLEND_MODES.SCREEN] = $.BLEND_MODES.SCREEN_NPM));
        var i = [];
        return (i.push(e), i.push(t), i);
    })();
    function Yd(t) {
        if (4 === t.BYTES_PER_ELEMENT) return t instanceof Float32Array ? 'Float32Array' : t instanceof Uint32Array ? 'Uint32Array' : 'Int32Array';
        if (2 === t.BYTES_PER_ELEMENT) {
            if (t instanceof Uint16Array) return 'Uint16Array';
        } else if (1 === t.BYTES_PER_ELEMENT && t instanceof Uint8Array) return 'Uint8Array';
        return null;
    }
    function jd(t) {
        return ((t += 0 === t ? 1 : 0), --t, (t |= t >>> 1), (t |= t >>> 2), (t |= t >>> 4), (t |= t >>> 8), (t |= t >>> 16) + 1);
    }
    function Vd(t) {
        return !(t & (t - 1) || !t);
    }
    function Wd(t) {
        var e = (65535 < t ? 1 : 0) << 4,
            r = (255 < (t >>>= e) ? 1 : 0) << 3;
        return ((e |= r), (e |= r = (15 < (t >>>= r) ? 1 : 0) << 2), (e |= r = (3 < (t >>>= r) ? 1 : 0) << 1) | ((t >>>= r) >> 1));
    }
    var zd = 0;
    var qd = {};
    function Kd(t, e, r) {
        var i;
        (void 0 === r && (r = 3), qd[e] || (void 0 === (i = new Error().stack) ? console.warn('PixiJS Deprecation Warning: ', e + '\nDeprecated since v' + t) : ((i = i.split('\n').splice(r).join('\n')), console.groupCollapsed ? (console.groupCollapsed('%cPixiJS Deprecation Warning: %c%s', 'color:#614108;background:#fffbe6', 'font-weight:normal;color:#614108;background:#fffbe6', e + '\nDeprecated since v' + t), console.warn(i), console.groupEnd()) : (console.warn('PixiJS Deprecation Warning: ', e + '\nDeprecated since v' + t), console.warn(i))), (qd[e] = !0)));
    }
    var Zd,
        Qd = {},
        Jd = Object.create(null),
        $d = Object.create(null);
    function tf(t, e, r) {
        ((this.canvas = document.createElement('canvas')), (this.context = this.canvas.getContext('2d')), (this.resolution = r || G.RESOLUTION), this.resize(t, e));
    }
    function ef(t, e) {
        t = G.RETINA_PREFIX.exec(t);
        return t ? parseFloat(t[1]) : void 0 !== e ? e : 1;
    }
    ((tf.prototype.clear = function () {
        (this.context.setTransform(1, 0, 0, 1, 0, 0), this.context.clearRect(0, 0, this.canvas.width, this.canvas.height));
    }),
        (tf.prototype.resize = function (t, e) {
            ((this.canvas.width = Math.round(t * this.resolution)), (this.canvas.height = Math.round(e * this.resolution)));
        }),
        (tf.prototype.destroy = function () {
            ((this.context = null), (this.canvas = null));
        }),
        Object.defineProperty(tf.prototype, 'width', {
            get: function () {
                return this.canvas.width;
            },
            set: function (t) {
                this.canvas.width = Math.round(t);
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(tf.prototype, 'height', {
            get: function () {
                return this.canvas.height;
            },
            set: function (t) {
                this.canvas.height = Math.round(t);
            },
            enumerable: !1,
            configurable: !0,
        }));
    var rf,
        nf =
            ((of.prototype.emit = function (t, e, r, i, n, o, s, a) {
                if (8 < arguments.length) throw new Error('max arguments reached');
                var h = this.name,
                    u = this.items;
                this._aliasCount++;
                for (var l = 0, c = u.length; l < c; l++) u[l][h](t, e, r, i, n, o, s, a);
                return (u === this.items && this._aliasCount--, this);
            }),
            (of.prototype.ensureNonAliasedItems = function () {
                0 < this._aliasCount && 1 < this.items.length && ((this._aliasCount = 0), (this.items = this.items.slice(0)));
            }),
            (of.prototype.add = function (t) {
                return (t[this._name] && (this.ensureNonAliasedItems(), this.remove(t), this.items.push(t)), this);
            }),
            (of.prototype.remove = function (t) {
                t = this.items.indexOf(t);
                return (-1 !== t && (this.ensureNonAliasedItems(), this.items.splice(t, 1)), this);
            }),
            (of.prototype.contains = function (t) {
                return -1 !== this.items.indexOf(t);
            }),
            (of.prototype.removeAll = function () {
                return (this.ensureNonAliasedItems(), (this.items.length = 0), this);
            }),
            (of.prototype.destroy = function () {
                (this.removeAll(), (this.items = null), (this._name = null));
            }),
            Object.defineProperty(of.prototype, 'empty', {
                get: function () {
                    return 0 === this.items.length;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(of.prototype, 'name', {
                get: function () {
                    return this._name;
                },
                enumerable: !1,
                configurable: !0,
            }),
            of);
    function of(t) {
        ((this.items = []), (this._name = t), (this._aliasCount = 0));
    }
    (Object.defineProperties(nf.prototype, { dispatch: { value: nf.prototype.emit }, run: { value: nf.prototype.emit } }), (G.TARGET_FPMS = 0.06), ((vt = rf = rf || {})[(vt.INTERACTION = 50)] = 'INTERACTION'), (vt[(vt.HIGH = 25)] = 'HIGH'), (vt[(vt.NORMAL = 0)] = 'NORMAL'), (vt[(vt.LOW = -25)] = 'LOW'), (vt[(vt.UTILITY = -50)] = 'UTILITY'));
    var sf =
        ((af.prototype.match = function (t, e) {
            return (void 0 === e && (e = null), this.fn === t && this.context === e);
        }),
        (af.prototype.emit = function (t) {
            this.fn && (this.context ? this.fn.call(this.context, t) : this.fn(t));
            t = this.next;
            return (this.once && this.destroy(!0), this._destroyed && (this.next = null), t);
        }),
        (af.prototype.connect = function (t) {
            ((this.previous = t).next && (t.next.previous = this), (this.next = t.next), (t.next = this));
        }),
        (af.prototype.destroy = function (t) {
            (void 0 === t && (t = !1), (this._destroyed = !0), (this.fn = null), (this.context = null), this.previous && (this.previous.next = this.next), this.next && (this.next.previous = this.previous));
            var e = this.next;
            return ((this.next = t ? null : e), (this.previous = null), e);
        }),
        af);
    function af(t, e, r, i) {
        (void 0 === e && (e = null), void 0 === r && (r = 0), void 0 === i && (i = !1), (this.next = null), (this.previous = null), (this._destroyed = !1), (this.fn = t), (this.context = e), (this.priority = r), (this.once = i));
    }
    var hf =
        ((uf.prototype._requestIfNeeded = function () {
            null === this._requestId && this._head.next && ((this.lastTime = performance.now()), (this._lastFrame = this.lastTime), (this._requestId = requestAnimationFrame(this._tick)));
        }),
        (uf.prototype._cancelIfNeeded = function () {
            null !== this._requestId && (cancelAnimationFrame(this._requestId), (this._requestId = null));
        }),
        (uf.prototype._startIfPossible = function () {
            this.started ? this._requestIfNeeded() : this.autoStart && this.start();
        }),
        (uf.prototype.add = function (t, e, r) {
            return (void 0 === r && (r = rf.NORMAL), this._addListener(new sf(t, e, r)));
        }),
        (uf.prototype.addOnce = function (t, e, r) {
            return (void 0 === r && (r = rf.NORMAL), this._addListener(new sf(t, e, r, !0)));
        }),
        (uf.prototype._addListener = function (t) {
            var e = this._head.next,
                r = this._head;
            if (e) {
                for (; e; ) {
                    if (t.priority > e.priority) {
                        t.connect(r);
                        break;
                    }
                    e = (r = e).next;
                }
                t.previous || t.connect(r);
            } else t.connect(r);
            return (this._startIfPossible(), this);
        }),
        (uf.prototype.remove = function (t, e) {
            for (var r = this._head.next; r; ) r = r.match(t, e) ? r.destroy() : r.next;
            return (this._head.next || this._cancelIfNeeded(), this);
        }),
        Object.defineProperty(uf.prototype, 'count', {
            get: function () {
                if (!this._head) return 0;
                for (var t = 0, e = this._head; (e = e.next); ) t++;
                return t;
            },
            enumerable: !1,
            configurable: !0,
        }),
        (uf.prototype.start = function () {
            this.started || ((this.started = !0), this._requestIfNeeded());
        }),
        (uf.prototype.stop = function () {
            this.started && ((this.started = !1), this._cancelIfNeeded());
        }),
        (uf.prototype.destroy = function () {
            if (!this._protected) {
                this.stop();
                for (var t = this._head.next; t; ) t = t.destroy(!0);
                (this._head.destroy(), (this._head = null));
            }
        }),
        (uf.prototype.update = function (t) {
            if ((void 0 === t && (t = performance.now()), t > this.lastTime)) {
                if (((r = this.elapsedMS = t - this.lastTime) > this._maxElapsedMS && (r = this._maxElapsedMS), (r *= this.speed), this._minElapsedMS)) {
                    var e = (t - this._lastFrame) | 0;
                    if (e < this._minElapsedMS) return;
                    this._lastFrame = t - (e % this._minElapsedMS);
                }
                ((this.deltaMS = r), (this.deltaTime = this.deltaMS * G.TARGET_FPMS));
                for (var r = this._head, i = r.next; i; ) i = i.emit(this.deltaTime);
                r.next || this._cancelIfNeeded();
            } else this.deltaTime = this.deltaMS = this.elapsedMS = 0;
            this.lastTime = t;
        }),
        Object.defineProperty(uf.prototype, 'FPS', {
            get: function () {
                return 1e3 / this.elapsedMS;
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(uf.prototype, 'minFPS', {
            get: function () {
                return 1e3 / this._maxElapsedMS;
            },
            set: function (t) {
                ((t = Math.min(this.maxFPS, t)), (t = Math.min(Math.max(0, t) / 1e3, G.TARGET_FPMS)));
                this._maxElapsedMS = 1 / t;
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(uf.prototype, 'maxFPS', {
            get: function () {
                return this._minElapsedMS ? Math.round(1e3 / this._minElapsedMS) : 0;
            },
            set: function (t) {
                0 === t ? (this._minElapsedMS = 0) : ((t = Math.max(this.minFPS, t)), (this._minElapsedMS = 1 / (t / 1e3)));
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(uf, 'shared', {
            get: function () {
                var t;
                return (uf._shared || (((t = uf._shared = new uf()).autoStart = !0), (t._protected = !0)), uf._shared);
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(uf, 'system', {
            get: function () {
                var t;
                return (uf._system || (((t = uf._system = new uf()).autoStart = !0), (t._protected = !0)), uf._system);
            },
            enumerable: !1,
            configurable: !0,
        }),
        uf);
    function uf() {
        var e = this;
        ((this.autoStart = !1),
            (this.deltaTime = 1),
            (this.lastTime = -1),
            (this.speed = 1),
            (this.started = !1),
            (this._requestId = null),
            (this._maxElapsedMS = 100),
            (this._minElapsedMS = 0),
            (this._protected = !1),
            (this._lastFrame = -1),
            (this._head = new sf(null, null, 1 / 0)),
            (this.deltaMS = 1 / G.TARGET_FPMS),
            (this.elapsedMS = 1 / G.TARGET_FPMS),
            (this._tick = function (t) {
                ((e._requestId = null), e.started && (e.update(t), e.started && null === e._requestId && e._head.next && (e._requestId = requestAnimationFrame(e._tick))));
            }));
    }
    var lf,
        cf = 2 * Math.PI;
    (((lp = lf = lf || {})[(lp.POLY = 0)] = 'POLY'), (lp[(lp.RECT = 1)] = 'RECT'), (lp[(lp.CIRC = 2)] = 'CIRC'), (lp[(lp.ELIP = 3)] = 'ELIP'), (lp[(lp.RREC = 4)] = 'RREC'));
    var df =
        ((ff.prototype.clone = function () {
            return new ff(this.x, this.y);
        }),
        (ff.prototype.copyFrom = function (t) {
            return (this.set(t.x, t.y), this);
        }),
        (ff.prototype.copyTo = function (t) {
            return (t.set(this.x, this.y), t);
        }),
        (ff.prototype.equals = function (t) {
            return t.x === this.x && t.y === this.y;
        }),
        (ff.prototype.set = function (t, e) {
            return (void 0 === t && (t = 0), void 0 === e && (e = t), (this.x = t), (this.y = e), this);
        }),
        (ff.prototype.toString = function () {
            return '[@pixi/math:Point x=' + this.x + ' y=' + this.y + ']';
        }),
        ff);
    function ff(t, e) {
        (void 0 === t && (t = 0), void 0 === e && (e = 0), (this.x = 0), (this.y = 0), (this.x = t), (this.y = e));
    }
    var pf = [new df(), new df(), new df(), new df()],
        _f =
            (Object.defineProperty(mf.prototype, 'left', {
                get: function () {
                    return this.x;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(mf.prototype, 'right', {
                get: function () {
                    return this.x + this.width;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(mf.prototype, 'top', {
                get: function () {
                    return this.y;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(mf.prototype, 'bottom', {
                get: function () {
                    return this.y + this.height;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(mf, 'EMPTY', {
                get: function () {
                    return new mf(0, 0, 0, 0);
                },
                enumerable: !1,
                configurable: !0,
            }),
            (mf.prototype.clone = function () {
                return new mf(this.x, this.y, this.width, this.height);
            }),
            (mf.prototype.copyFrom = function (t) {
                return ((this.x = t.x), (this.y = t.y), (this.width = t.width), (this.height = t.height), this);
            }),
            (mf.prototype.copyTo = function (t) {
                return ((t.x = this.x), (t.y = this.y), (t.width = this.width), (t.height = this.height), t);
            }),
            (mf.prototype.contains = function (t, e) {
                return !(this.width <= 0 || this.height <= 0) && t >= this.x && t < this.x + this.width && e >= this.y && e < this.y + this.height;
            }),
            (mf.prototype.intersects = function (t, e) {
                if (!e) {
                    var r = (this.x < t.x ? t : this).x;
                    return (this.right > t.right ? t : this).right <= r ? !1 : (this.y < t.y ? t : this).y < (this.bottom > t.bottom ? t : this).bottom;
                }
                var i = this.left,
                    n = this.right,
                    o = this.top,
                    s = this.bottom;
                if (n <= i || s <= o) return !1;
                var a = pf[0].set(t.left, t.top),
                    h = pf[1].set(t.left, t.bottom),
                    u = pf[2].set(t.right, t.top),
                    l = pf[3].set(t.right, t.bottom);
                if (u.x <= a.x || h.y <= a.y) return !1;
                var c = Math.sign(e.a * e.d - e.b * e.c);
                if (0 === c) return !1;
                if ((e.apply(a, a), e.apply(h, h), e.apply(u, u), e.apply(l, l), Math.max(a.x, h.x, u.x, l.x) <= i || Math.min(a.x, h.x, u.x, l.x) >= n || Math.max(a.y, h.y, u.y, l.y) <= o || Math.min(a.y, h.y, u.y, l.y) >= s)) return !1;
                var d = c * (h.y - a.y),
                    f = c * (a.x - h.x),
                    r = d * i + f * o,
                    t = d * n + f * o,
                    e = d * i + f * s,
                    h = d * n + f * s;
                if (Math.max(r, t, e, h) <= d * a.x + f * a.y || Math.min(r, t, e, h) >= d * l.x + f * l.y) return !1;
                ((f = c * (a.y - u.y)), (c *= u.x - a.x), (u = f * i + c * o), (o = f * n + c * o), (i = f * i + c * s), (s = f * n + c * s));
                return !(Math.max(u, o, i, s) <= f * a.x + c * a.y || Math.min(u, o, i, s) >= f * l.x + c * l.y);
            }),
            (mf.prototype.pad = function (t, e) {
                return (void 0 === t && (t = 0), void 0 === e && (e = t), (this.x -= t), (this.y -= e), (this.width += 2 * t), (this.height += 2 * e), this);
            }),
            (mf.prototype.fit = function (t) {
                var e = Math.max(this.x, t.x),
                    r = Math.min(this.x + this.width, t.x + t.width),
                    i = Math.max(this.y, t.y),
                    t = Math.min(this.y + this.height, t.y + t.height);
                return ((this.x = e), (this.width = Math.max(r - e, 0)), (this.y = i), (this.height = Math.max(t - i, 0)), this);
            }),
            (mf.prototype.ceil = function (t, e) {
                (void 0 === t && (t = 1), void 0 === e && (e = 0.001));
                var r = Math.ceil((this.x + this.width - e) * t) / t,
                    i = Math.ceil((this.y + this.height - e) * t) / t;
                return ((this.x = Math.floor((this.x + e) * t) / t), (this.y = Math.floor((this.y + e) * t) / t), (this.width = r - this.x), (this.height = i - this.y), this);
            }),
            (mf.prototype.enlarge = function (t) {
                var e = Math.min(this.x, t.x),
                    r = Math.max(this.x + this.width, t.x + t.width),
                    i = Math.min(this.y, t.y),
                    t = Math.max(this.y + this.height, t.y + t.height);
                return ((this.x = e), (this.width = r - e), (this.y = i), (this.height = t - i), this);
            }),
            (mf.prototype.toString = function () {
                return '[@pixi/math:Rectangle x=' + this.x + ' y=' + this.y + ' width=' + this.width + ' height=' + this.height + ']';
            }),
            mf);
    function mf(t, e, r, i) {
        (void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === r && (r = 0), void 0 === i && (i = 0), (this.x = Number(t)), (this.y = Number(e)), (this.width = Number(r)), (this.height = Number(i)), (this.type = lf.RECT));
    }
    var Ef =
        ((vf.prototype.clone = function (t, e) {
            return (void 0 === t && (t = this.cb), void 0 === e && (e = this.scope), new vf(t, e, this._x, this._y));
        }),
        (vf.prototype.set = function (t, e) {
            return (void 0 === t && (t = 0), void 0 === e && (e = t), (this._x === t && this._y === e) || ((this._x = t), (this._y = e), this.cb.call(this.scope)), this);
        }),
        (vf.prototype.copyFrom = function (t) {
            return ((this._x === t.x && this._y === t.y) || ((this._x = t.x), (this._y = t.y), this.cb.call(this.scope)), this);
        }),
        (vf.prototype.copyTo = function (t) {
            return (t.set(this._x, this._y), t);
        }),
        (vf.prototype.equals = function (t) {
            return t.x === this._x && t.y === this._y;
        }),
        (vf.prototype.toString = function () {
            return '[@pixi/math:ObservablePoint x=0 y=0 scope=' + this.scope + ']';
        }),
        Object.defineProperty(vf.prototype, 'x', {
            get: function () {
                return this._x;
            },
            set: function (t) {
                this._x !== t && ((this._x = t), this.cb.call(this.scope));
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(vf.prototype, 'y', {
            get: function () {
                return this._y;
            },
            set: function (t) {
                this._y !== t && ((this._y = t), this.cb.call(this.scope));
            },
            enumerable: !1,
            configurable: !0,
        }),
        vf);
    function vf(t, e, r, i) {
        (void 0 === r && (r = 0), void 0 === i && (i = 0), (this._x = r), (this._y = i), (this.cb = t), (this.scope = e));
    }
    var yf =
        ((gf.prototype.fromArray = function (t) {
            ((this.a = t[0]), (this.b = t[1]), (this.c = t[3]), (this.d = t[4]), (this.tx = t[2]), (this.ty = t[5]));
        }),
        (gf.prototype.set = function (t, e, r, i, n, o) {
            return ((this.a = t), (this.b = e), (this.c = r), (this.d = i), (this.tx = n), (this.ty = o), this);
        }),
        (gf.prototype.toArray = function (t, e) {
            this.array || (this.array = new Float32Array(9));
            e = e || this.array;
            return (t ? ((e[0] = this.a), (e[1] = this.b), (e[2] = 0), (e[3] = this.c), (e[4] = this.d), (e[5] = 0), (e[6] = this.tx), (e[7] = this.ty)) : ((e[0] = this.a), (e[1] = this.c), (e[2] = this.tx), (e[3] = this.b), (e[4] = this.d), (e[5] = this.ty), (e[6] = 0), (e[7] = 0)), (e[8] = 1), e);
        }),
        (gf.prototype.apply = function (t, e) {
            e = e || new df();
            var r = t.x,
                t = t.y;
            return ((e.x = this.a * r + this.c * t + this.tx), (e.y = this.b * r + this.d * t + this.ty), e);
        }),
        (gf.prototype.applyInverse = function (t, e) {
            e = e || new df();
            var r = 1 / (this.a * this.d + this.c * -this.b),
                i = t.x,
                t = t.y;
            return ((e.x = this.d * r * i + -this.c * r * t + (this.ty * this.c - this.tx * this.d) * r), (e.y = this.a * r * t + -this.b * r * i + (-this.ty * this.a + this.tx * this.b) * r), e);
        }),
        (gf.prototype.translate = function (t, e) {
            return ((this.tx += t), (this.ty += e), this);
        }),
        (gf.prototype.scale = function (t, e) {
            return ((this.a *= t), (this.d *= e), (this.c *= t), (this.b *= e), (this.tx *= t), (this.ty *= e), this);
        }),
        (gf.prototype.rotate = function (t) {
            var e = Math.cos(t),
                r = Math.sin(t),
                i = this.a,
                n = this.c,
                t = this.tx;
            return ((this.a = i * e - this.b * r), (this.b = i * r + this.b * e), (this.c = n * e - this.d * r), (this.d = n * r + this.d * e), (this.tx = t * e - this.ty * r), (this.ty = t * r + this.ty * e), this);
        }),
        (gf.prototype.append = function (t) {
            var e = this.a,
                r = this.b,
                i = this.c,
                n = this.d;
            return ((this.a = t.a * e + t.b * i), (this.b = t.a * r + t.b * n), (this.c = t.c * e + t.d * i), (this.d = t.c * r + t.d * n), (this.tx = t.tx * e + t.ty * i + this.tx), (this.ty = t.tx * r + t.ty * n + this.ty), this);
        }),
        (gf.prototype.setTransform = function (t, e, r, i, n, o, s, a, h) {
            return ((this.a = Math.cos(s + h) * n), (this.b = Math.sin(s + h) * n), (this.c = -Math.sin(s - a) * o), (this.d = Math.cos(s - a) * o), (this.tx = t - (r * this.a + i * this.c)), (this.ty = e - (r * this.b + i * this.d)), this);
        }),
        (gf.prototype.prepend = function (t) {
            var e,
                r,
                i = this.tx;
            return ((1 === t.a && 0 === t.b && 0 === t.c && 1 === t.d) || ((e = this.a), (r = this.c), (this.a = e * t.a + this.b * t.c), (this.b = e * t.b + this.b * t.d), (this.c = r * t.a + this.d * t.c), (this.d = r * t.b + this.d * t.d)), (this.tx = i * t.a + this.ty * t.c + t.tx), (this.ty = i * t.b + this.ty * t.d + t.ty), this);
        }),
        (gf.prototype.decompose = function (t) {
            var e = this.a,
                r = this.b,
                i = this.c,
                n = this.d,
                o = t.pivot,
                s = -Math.atan2(-i, n),
                a = Math.atan2(r, e),
                h = Math.abs(s + a);
            return (h < 1e-5 || Math.abs(cf - h) < 1e-5 ? ((t.rotation = a), (t.skew.x = t.skew.y = 0)) : ((t.rotation = 0), (t.skew.x = s), (t.skew.y = a)), (t.scale.x = Math.sqrt(e * e + r * r)), (t.scale.y = Math.sqrt(i * i + n * n)), (t.position.x = this.tx + (o.x * e + o.y * i)), (t.position.y = this.ty + (o.x * r + o.y * n)), t);
        }),
        (gf.prototype.invert = function () {
            var t = this.a,
                e = this.b,
                r = this.c,
                i = this.d,
                n = this.tx,
                o = t * i - e * r;
            return ((this.a = i / o), (this.b = -e / o), (this.c = -r / o), (this.d = t / o), (this.tx = (r * this.ty - i * n) / o), (this.ty = -(t * this.ty - e * n) / o), this);
        }),
        (gf.prototype.identity = function () {
            return ((this.a = 1), (this.b = 0), (this.c = 0), (this.d = 1), (this.tx = 0), (this.ty = 0), this);
        }),
        (gf.prototype.clone = function () {
            var t = new gf();
            return ((t.a = this.a), (t.b = this.b), (t.c = this.c), (t.d = this.d), (t.tx = this.tx), (t.ty = this.ty), t);
        }),
        (gf.prototype.copyTo = function (t) {
            return ((t.a = this.a), (t.b = this.b), (t.c = this.c), (t.d = this.d), (t.tx = this.tx), (t.ty = this.ty), t);
        }),
        (gf.prototype.copyFrom = function (t) {
            return ((this.a = t.a), (this.b = t.b), (this.c = t.c), (this.d = t.d), (this.tx = t.tx), (this.ty = t.ty), this);
        }),
        (gf.prototype.toString = function () {
            return '[@pixi/math:Matrix a=' + this.a + ' b=' + this.b + ' c=' + this.c + ' d=' + this.d + ' tx=' + this.tx + ' ty=' + this.ty + ']';
        }),
        Object.defineProperty(gf, 'IDENTITY', {
            get: function () {
                return new gf();
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(gf, 'TEMP_MATRIX', {
            get: function () {
                return new gf();
            },
            enumerable: !1,
            configurable: !0,
        }),
        gf);
    function gf(t, e, r, i, n, o) {
        (void 0 === t && (t = 1), void 0 === e && (e = 0), void 0 === r && (r = 0), void 0 === i && (i = 1), void 0 === n && (n = 0), void 0 === o && (o = 0), (this.array = null), (this.a = t), (this.b = e), (this.c = r), (this.d = i), (this.tx = n), (this.ty = o));
    }
    var Tf = [1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1, 0, 1],
        bf = [0, 1, 1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1],
        xf = [0, -1, -1, -1, 0, 1, 1, 1, 0, 1, 1, 1, 0, -1, -1, -1],
        Rf = [1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, 1, 1, 1, 0, -1],
        Af = [],
        Sf = [],
        Of = Math.sign;
    !(function () {
        for (var t = 0; t < 16; t++) {
            var e = [];
            Af.push(e);
            for (var r = 0; r < 16; r++)
                for (var i = Of(Tf[t] * Tf[r] + xf[t] * bf[r]), n = Of(bf[t] * Tf[r] + Rf[t] * bf[r]), o = Of(Tf[t] * xf[r] + xf[t] * Rf[r]), s = Of(bf[t] * xf[r] + Rf[t] * Rf[r]), a = 0; a < 16; a++)
                    if (Tf[a] === i && bf[a] === n && xf[a] === o && Rf[a] === s) {
                        e.push(a);
                        break;
                    }
        }
        for (t = 0; t < 16; t++) {
            var h = new yf();
            (h.set(Tf[t], bf[t], xf[t], Rf[t], 0, 0), Sf.push(h));
        }
    })();
    var If = {
        E: 0,
        SE: 1,
        S: 2,
        SW: 3,
        W: 4,
        NW: 5,
        N: 6,
        NE: 7,
        MIRROR_VERTICAL: 8,
        MAIN_DIAGONAL: 10,
        MIRROR_HORIZONTAL: 12,
        REVERSE_DIAGONAL: 14,
        uX: function (t) {
            return Tf[t];
        },
        uY: function (t) {
            return bf[t];
        },
        vX: function (t) {
            return xf[t];
        },
        vY: function (t) {
            return Rf[t];
        },
        inv: function (t) {
            return 8 & t ? 15 & t : 7 & -t;
        },
        add: function (t, e) {
            return Af[t][e];
        },
        sub: function (t, e) {
            return Af[t][If.inv(e)];
        },
        rotate180: function (t) {
            return 4 ^ t;
        },
        isVertical: function (t) {
            return 2 == (3 & t);
        },
        byDirection: function (t, e) {
            return 2 * Math.abs(t) <= Math.abs(e) ? (0 <= e ? If.S : If.N) : 2 * Math.abs(e) <= Math.abs(t) ? (0 < t ? If.E : If.W) : 0 < e ? (0 < t ? If.SE : If.SW) : 0 < t ? If.NE : If.NW;
        },
        matrixAppendRotationInv: function (t, e, r, i) {
            (void 0 === r && (r = 0), void 0 === i && (i = 0));
            e = Sf[If.inv(e)];
            ((e.tx = r), (e.ty = i), t.append(e));
        },
    };
    function Mf() {
        ((this.worldTransform = new yf()), (this.localTransform = new yf()), (this.position = new Ef(this.onChange, this, 0, 0)), (this.scale = new Ef(this.onChange, this, 1, 1)), (this.pivot = new Ef(this.onChange, this, 0, 0)), (this.skew = new Ef(this.updateSkew, this, 0, 0)), (this._rotation = 0), (this._cx = 1), (this._sx = 0), (this._cy = 0), (this._sy = 1), (this._localID = 0), (this._currentLocalID = 0), (this._worldID = 0), (this._parentID = 0));
    }
    ((Mf.prototype.onChange = function () {
        this._localID++;
    }),
        (Mf.prototype.updateSkew = function () {
            ((this._cx = Math.cos(this._rotation + this.skew.y)), (this._sx = Math.sin(this._rotation + this.skew.y)), (this._cy = -Math.sin(this._rotation - this.skew.x)), (this._sy = Math.cos(this._rotation - this.skew.x)), this._localID++);
        }),
        (Mf.prototype.toString = function () {
            return '[@pixi/math:Transform position=(' + this.position.x + ', ' + this.position.y + ') rotation=' + this.rotation + ' scale=(' + this.scale.x + ', ' + this.scale.y + ') skew=(' + this.skew.x + ', ' + this.skew.y + ') ]';
        }),
        (Mf.prototype.updateLocalTransform = function () {
            var t = this.localTransform;
            this._localID !== this._currentLocalID && ((t.a = this._cx * this.scale.x), (t.b = this._sx * this.scale.x), (t.c = this._cy * this.scale.y), (t.d = this._sy * this.scale.y), (t.tx = this.position.x - (this.pivot.x * t.a + this.pivot.y * t.c)), (t.ty = this.position.y - (this.pivot.x * t.b + this.pivot.y * t.d)), (this._currentLocalID = this._localID), (this._parentID = -1));
        }),
        (Mf.prototype.updateTransform = function (t) {
            var e,
                r,
                i = this.localTransform;
            (this._localID !== this._currentLocalID && ((i.a = this._cx * this.scale.x), (i.b = this._sx * this.scale.x), (i.c = this._cy * this.scale.y), (i.d = this._sy * this.scale.y), (i.tx = this.position.x - (this.pivot.x * i.a + this.pivot.y * i.c)), (i.ty = this.position.y - (this.pivot.x * i.b + this.pivot.y * i.d)), (this._currentLocalID = this._localID), (this._parentID = -1)), this._parentID !== t._worldID && ((e = t.worldTransform), ((r = this.worldTransform).a = i.a * e.a + i.b * e.c), (r.b = i.a * e.b + i.b * e.d), (r.c = i.c * e.a + i.d * e.c), (r.d = i.c * e.b + i.d * e.d), (r.tx = i.tx * e.a + i.ty * e.c + e.tx), (r.ty = i.tx * e.b + i.ty * e.d + e.ty), (this._parentID = t._worldID), this._worldID++));
        }),
        (Mf.prototype.setFromMatrix = function (t) {
            (t.decompose(this), this._localID++);
        }),
        Object.defineProperty(Mf.prototype, 'rotation', {
            get: function () {
                return this._rotation;
            },
            set: function (t) {
                this._rotation !== t && ((this._rotation = t), this.updateSkew());
            },
            enumerable: !1,
            configurable: !0,
        }),
        (Mf.IDENTITY = new Mf()),
        (G.PREFER_ENV = L.any ? $.ENV.WEBGL : $.ENV.WEBGL2),
        (G.STRICT_TEXTURE_CACHE = !1));
    var Nf = [];
    function Pf(t, e) {
        if (!t) return null;
        var r,
            i = '';
        'string' != typeof t || ((r = /\.(\w{3,4})(?:$|\?|#)/i.exec(t)) && (i = r[1].toLowerCase()));
        for (var n = Nf.length - 1; 0 <= n; --n) {
            var o = Nf[n];
            if (o.test && o.test(t, i)) return new o(t, e);
        }
        throw new Error('Unrecognized source type to auto-detect Resource');
    }
    var Df = function (t, e) {
        return (Df =
            Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array &&
                function (t, e) {
                    t.__proto__ = e;
                }) ||
            function (t, e) {
                for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r]);
            })(t, e);
    };
    function Cf(t, e) {
        function r() {
            this.constructor = t;
        }
        (Df(t, e), (t.prototype = null === e ? Object.create(e) : ((r.prototype = e.prototype), new r())));
    }
    var wf = function () {
        return (wf =
            Object.assign ||
            function (t) {
                for (var e, r = arguments, i = 1, n = arguments.length; i < n; i++) for (var o in (e = r[i])) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
                return t;
            }).apply(this, arguments);
    };
    var Lf =
        ((Ff.prototype.bind = function (t) {
            (this.onResize.add(t), this.onUpdate.add(t), this.onError.add(t), (this._width || this._height) && this.onResize.emit(this._width, this._height));
        }),
        (Ff.prototype.unbind = function (t) {
            (this.onResize.remove(t), this.onUpdate.remove(t), this.onError.remove(t));
        }),
        (Ff.prototype.resize = function (t, e) {
            (t === this._width && e === this._height) || ((this._width = t), (this._height = e), this.onResize.emit(t, e));
        }),
        Object.defineProperty(Ff.prototype, 'valid', {
            get: function () {
                return !!this._width && !!this._height;
            },
            enumerable: !1,
            configurable: !0,
        }),
        (Ff.prototype.update = function () {
            this.destroyed || this.onUpdate.emit();
        }),
        (Ff.prototype.load = function () {
            return Promise.resolve(this);
        }),
        Object.defineProperty(Ff.prototype, 'width', {
            get: function () {
                return this._width;
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(Ff.prototype, 'height', {
            get: function () {
                return this._height;
            },
            enumerable: !1,
            configurable: !0,
        }),
        (Ff.prototype.style = function (t, e, r) {
            return !1;
        }),
        (Ff.prototype.dispose = function () {}),
        (Ff.prototype.destroy = function () {
            this.destroyed || ((this.destroyed = !0), this.dispose(), this.onError.removeAll(), (this.onError = null), this.onResize.removeAll(), (this.onResize = null), this.onUpdate.removeAll(), (this.onUpdate = null));
        }),
        (Ff.test = function (t, e) {
            return !1;
        }),
        Ff);
    function Ff(t, e) {
        (void 0 === t && (t = 0), void 0 === e && (e = 0), (this._width = t), (this._height = e), (this.destroyed = !1), (this.internal = !1), (this.onResize = new nf('setRealSize')), (this.onUpdate = new nf('update')), (this.onError = new nf('onError')));
    }
    var Uf,
        Bf =
            (Cf(Gf, (Uf = Lf)),
            (Gf.prototype.upload = function (t, e, r) {
                var i = t.gl;
                i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL, e.alphaMode === $.ALPHA_MODES.UNPACK);
                var n = e.realWidth,
                    t = e.realHeight;
                return (r.width === n && r.height === t ? i.texSubImage2D(e.target, 0, 0, 0, n, t, e.format, r.type, this.data) : ((r.width = n), (r.height = t), i.texImage2D(e.target, 0, r.internalFormat, n, t, 0, e.format, r.type, this.data)), !0);
            }),
            (Gf.prototype.dispose = function () {
                this.data = null;
            }),
            (Gf.test = function (t) {
                return t instanceof Float32Array || t instanceof Uint8Array || t instanceof Uint32Array;
            }),
            Gf);
    function Gf(t, e) {
        var r = this,
            i = e || {},
            e = i.width,
            i = i.height;
        if (!e || !i) throw new Error('BufferResource width or height invalid');
        return (((r = Uf.call(this, e, i) || this).data = t), r);
    }
    var kf,
        Xf = { scaleMode: $.SCALE_MODES.NEAREST, format: $.FORMATS.RGBA, alphaMode: $.ALPHA_MODES.NPM },
        Hf =
            (Cf(Yf, (kf = uc)),
            Object.defineProperty(Yf.prototype, 'realWidth', {
                get: function () {
                    return Math.round(this.width * this.resolution);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Yf.prototype, 'realHeight', {
                get: function () {
                    return Math.round(this.height * this.resolution);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Yf.prototype, 'mipmap', {
                get: function () {
                    return this._mipmap;
                },
                set: function (t) {
                    this._mipmap !== t && ((this._mipmap = t), this.dirtyStyleId++);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Yf.prototype, 'scaleMode', {
                get: function () {
                    return this._scaleMode;
                },
                set: function (t) {
                    this._scaleMode !== t && ((this._scaleMode = t), this.dirtyStyleId++);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Yf.prototype, 'wrapMode', {
                get: function () {
                    return this._wrapMode;
                },
                set: function (t) {
                    this._wrapMode !== t && ((this._wrapMode = t), this.dirtyStyleId++);
                },
                enumerable: !1,
                configurable: !0,
            }),
            (Yf.prototype.setStyle = function (t, e) {
                var r;
                return (void 0 !== t && t !== this.scaleMode && ((this.scaleMode = t), (r = !0)), void 0 !== e && e !== this.mipmap && ((this.mipmap = e), (r = !0)), r && this.dirtyStyleId++, this);
            }),
            (Yf.prototype.setSize = function (t, e, r) {
                return ((r = r || this.resolution), this.setRealSize(t * r, e * r, r));
            }),
            (Yf.prototype.setRealSize = function (t, e, r) {
                return ((this.resolution = r || this.resolution), (this.width = Math.round(t) / this.resolution), (this.height = Math.round(e) / this.resolution), this._refreshPOT(), this.update(), this);
            }),
            (Yf.prototype._refreshPOT = function () {
                this.isPowerOfTwo = Vd(this.realWidth) && Vd(this.realHeight);
            }),
            (Yf.prototype.setResolution = function (t) {
                var e = this.resolution;
                return (e === t || ((this.resolution = t), this.valid && ((this.width = Math.round(this.width * e) / t), (this.height = Math.round(this.height * e) / t), this.emit('update', this)), this._refreshPOT()), this);
            }),
            (Yf.prototype.setResource = function (t) {
                if (this.resource === t) return this;
                if (this.resource) throw new Error('Resource can be set only once');
                return (t.bind(this), (this.resource = t), this);
            }),
            (Yf.prototype.update = function () {
                this.valid ? (this.dirtyId++, this.dirtyStyleId++, this.emit('update', this)) : 0 < this.width && 0 < this.height && ((this.valid = !0), this.emit('loaded', this), this.emit('update', this));
            }),
            (Yf.prototype.onError = function (t) {
                this.emit('error', this, t);
            }),
            (Yf.prototype.destroy = function () {
                (this.resource && (this.resource.unbind(this), this.resource.internal && this.resource.destroy(), (this.resource = null)), this.cacheId && (delete $d[this.cacheId], delete Jd[this.cacheId], (this.cacheId = null)), this.dispose(), Yf.removeFromCache(this), (this.textureCacheIds = null), (this.destroyed = !0));
            }),
            (Yf.prototype.dispose = function () {
                this.emit('dispose', this);
            }),
            (Yf.prototype.castToBaseTexture = function () {
                return this;
            }),
            (Yf.from = function (t, e, r) {
                void 0 === r && (r = G.STRICT_TEXTURE_CACHE);
                var i = 'string' == typeof t,
                    n = null,
                    n = i ? t : (t._pixiId || ((o = (e && e.pixiIdPrefix) || 'pixiid'), (t._pixiId = o + '_' + ++zd)), t._pixiId),
                    o = $d[n];
                if (i && r && !o) throw new Error('The cacheId "' + n + '" does not exist in BaseTextureCache.');
                return (o || (((o = new Yf(t, e)).cacheId = n), Yf.addToCache(o, n)), o);
            }),
            (Yf.fromBuffer = function (t, e, r, i) {
                t = t || new Float32Array(e * r * 4);
                var n = new Bf(t, { width: e, height: r }),
                    t = t instanceof Float32Array ? $.TYPES.FLOAT : $.TYPES.UNSIGNED_BYTE;
                return new Yf(n, Object.assign(Xf, i || { width: e, height: r, type: t }));
            }),
            (Yf.addToCache = function (t, e) {
                e && (-1 === t.textureCacheIds.indexOf(e) && t.textureCacheIds.push(e), $d[e] && console.warn('BaseTexture added to the cache with an id [' + e + '] that already had an entry'), ($d[e] = t));
            }),
            (Yf.removeFromCache = function (t) {
                if ('string' == typeof t) {
                    var e = $d[t];
                    if (e) {
                        var r = e.textureCacheIds.indexOf(t);
                        return (-1 < r && e.textureCacheIds.splice(r, 1), delete $d[t], e);
                    }
                } else if (t && t.textureCacheIds) {
                    for (var i = 0; i < t.textureCacheIds.length; ++i) delete $d[t.textureCacheIds[i]];
                    return ((t.textureCacheIds.length = 0), t);
                }
                return null;
            }),
            (Yf._globalBatch = 0),
            Yf);
    function Yf(t, e) {
        (void 0 === t && (t = null), void 0 === e && (e = null));
        var r = kf.call(this) || this,
            i = (e = e || {}).alphaMode,
            n = e.mipmap,
            o = e.anisotropicLevel,
            s = e.scaleMode,
            a = e.width,
            h = e.height,
            u = e.wrapMode,
            l = e.format,
            c = e.type,
            d = e.target,
            f = e.resolution,
            e = e.resourceOptions;
        return (!t || t instanceof Lf || ((t = Pf(t, e)).internal = !0), (r.resolution = f || G.RESOLUTION), (r.width = Math.round((a || 0) * r.resolution) / r.resolution), (r.height = Math.round((h || 0) * r.resolution) / r.resolution), (r._mipmap = void 0 !== n ? n : G.MIPMAP_TEXTURES), (r.anisotropicLevel = void 0 !== o ? o : G.ANISOTROPIC_LEVEL), (r._wrapMode = u || G.WRAP_MODE), (r._scaleMode = void 0 !== s ? s : G.SCALE_MODE), (r.format = l || $.FORMATS.RGBA), (r.type = c || $.TYPES.UNSIGNED_BYTE), (r.target = d || $.TARGETS.TEXTURE_2D), (r.alphaMode = void 0 !== i ? i : $.ALPHA_MODES.UNPACK), (r.uid = ++zd), (r.touched = 0), (r.isPowerOfTwo = !1), r._refreshPOT(), (r._glTextures = {}), (r.dirtyId = 0), (r.dirtyStyleId = 0), (r.cacheId = null), (r.valid = 0 < a && 0 < h), (r.textureCacheIds = []), (r.destroyed = !1), (r.resource = null), (r._batchEnabled = 0), (r._batchLocation = 0), (r.parentTextureArray = null), r.setResource(t), r);
    }
    var jf,
        At =
            (Cf(Vf, (jf = Lf)),
            (Vf.prototype.initFromArray = function (t, e) {
                for (var r = 0; r < this.length; r++) t[r] && (t[r].castToBaseTexture ? this.addBaseTextureAt(t[r].castToBaseTexture(), r) : t[r] instanceof Lf ? this.addResourceAt(t[r], r) : this.addResourceAt(Pf(t[r], e), r));
            }),
            (Vf.prototype.dispose = function () {
                for (var t = 0, e = this.length; t < e; t++) this.items[t].destroy();
                ((this.items = null), (this.itemDirtyIds = null), (this._load = null));
            }),
            (Vf.prototype.addResourceAt = function (t, e) {
                if (!this.items[e]) throw new Error('Index ' + e + ' is out of bounds');
                return (t.valid && !this.valid && this.resize(t.width, t.height), this.items[e].setResource(t), this);
            }),
            (Vf.prototype.bind = function (t) {
                if (null !== this.baseTexture) throw new Error('Only one base texture per TextureArray is allowed');
                jf.prototype.bind.call(this, t);
                for (var e = 0; e < this.length; e++) ((this.items[e].parentTextureArray = t), this.items[e].on('update', t.update, t));
            }),
            (Vf.prototype.unbind = function (t) {
                jf.prototype.unbind.call(this, t);
                for (var e = 0; e < this.length; e++) ((this.items[e].parentTextureArray = null), this.items[e].off('update', t.update, t));
            }),
            (Vf.prototype.load = function () {
                var r = this;
                if (this._load) return this._load;
                var t = this.items
                    .map(function (t) {
                        return t.resource;
                    })
                    .filter(function (t) {
                        return t;
                    })
                    .map(function (t) {
                        return t.load();
                    });
                return (
                    (this._load = Promise.all(t).then(function () {
                        var t = r.items[0],
                            e = t.realWidth,
                            t = t.realHeight;
                        return (r.resize(e, t), Promise.resolve(r));
                    })),
                    this._load
                );
            }),
            Vf);
    function Vf(t, e) {
        var r = this,
            i = e || {},
            e = i.width,
            i = i.height;
        (((r = jf.call(this, e, i) || this).items = []), (r.itemDirtyIds = []));
        for (var n = 0; n < t; n++) {
            var o = new Hf();
            (r.items.push(o), r.itemDirtyIds.push(-2));
        }
        return ((r.length = t), (r._load = null), (r.baseTexture = null), r);
    }
    var Wf,
        bd =
            (Cf(zf, (Wf = At)),
            (zf.prototype.addBaseTextureAt = function (t, e) {
                if (!t.resource) throw new Error('ArrayResource does not support RenderTexture');
                return (this.addResourceAt(t.resource, e), this);
            }),
            (zf.prototype.bind = function (t) {
                (Wf.prototype.bind.call(this, t), (t.target = $.TARGETS.TEXTURE_2D_ARRAY));
            }),
            (zf.prototype.upload = function (t, e, r) {
                var i = this.length,
                    n = this.itemDirtyIds,
                    o = this.items,
                    s = t.gl;
                r.dirtyId < 0 && s.texImage3D(s.TEXTURE_2D_ARRAY, 0, r.internalFormat, this._width, this._height, i, 0, e.format, r.type, null);
                for (var a = 0; a < i; a++) {
                    var h = o[a];
                    n[a] < h.dirtyId && ((n[a] = h.dirtyId), h.valid && s.texSubImage3D(s.TEXTURE_2D_ARRAY, 0, 0, 0, a, h.resource.width, h.resource.height, 1, e.format, r.type, h.resource.source));
                }
                return !0;
            }),
            zf);
    function zf(t, e) {
        var r,
            i = this,
            n = e || {},
            o = n.width,
            n = n.height,
            t = Array.isArray(t) ? (r = t).length : t,
            i = Wf.call(this, t, { width: o, height: n }) || this;
        return (r && i.initFromArray(r, e), i);
    }
    var qf,
        Kf =
            (Cf(Zf, (qf = Lf)),
            (Zf.crossOrigin = function (t, e, r) {
                void 0 === r && 0 !== e.indexOf('data:')
                    ? (t.crossOrigin = (function (t, e) {
                          if ((void 0 === e && (e = globalThis.location), 0 === t.indexOf('data:'))) return '';
                          ((e = e || globalThis.location), ((Zd = Zd || document.createElement('a')).href = t));
                          var r = Bd.parse(Zd.href),
                              t = (!r.port && '' === e.port) || r.port === e.port;
                          return r.hostname === e.hostname && t && r.protocol === e.protocol ? '' : 'anonymous';
                      })(e))
                    : !1 !== r && (t.crossOrigin = 'string' == typeof r ? r : 'anonymous');
            }),
            (Zf.prototype.upload = function (t, e, r, i) {
                var n = t.gl,
                    o = e.realWidth,
                    t = e.realHeight;
                if ((i = i || this.source) instanceof HTMLImageElement) {
                    if (!i.complete || 0 === i.naturalWidth) return !1;
                } else if (i instanceof HTMLVideoElement && i.readyState <= 1) return !1;
                return (n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL, e.alphaMode === $.ALPHA_MODES.UNPACK), this.noSubImage || e.target !== n.TEXTURE_2D || r.width !== o || r.height !== t ? ((r.width = o), (r.height = t), n.texImage2D(e.target, 0, r.internalFormat, e.format, r.type, i)) : n.texSubImage2D(n.TEXTURE_2D, 0, 0, 0, e.format, r.type, i), !0);
            }),
            (Zf.prototype.update = function () {
                var t, e;
                this.destroyed || ((t = (e = this.source).naturalWidth || e.videoWidth || e.width), (e = e.naturalHeight || e.videoHeight || e.height), this.resize(t, e), qf.prototype.update.call(this));
            }),
            (Zf.prototype.dispose = function () {
                this.source = null;
            }),
            Zf);
    function Zf(t) {
        var e = this,
            r = t.naturalWidth || t.videoWidth || t.width,
            i = t.naturalHeight || t.videoHeight || t.height;
        return (((e = qf.call(this, r, i) || this).source = t), (e.noSubImage = !1), e);
    }
    var Qf,
        Jf =
            (Cf($f, (Qf = Kf)),
            ($f.test = function (t) {
                var e = globalThis.OffscreenCanvas;
                return !!(e && t instanceof e) || (globalThis.HTMLCanvasElement && t instanceof HTMLCanvasElement);
            }),
            $f);
    function $f(t) {
        return Qf.call(this, t) || this;
    }
    var tp,
        Rd =
            (Cf(ep, (tp = At)),
            (ep.prototype.bind = function (t) {
                (tp.prototype.bind.call(this, t), (t.target = $.TARGETS.TEXTURE_CUBE_MAP));
            }),
            (ep.prototype.addBaseTextureAt = function (t, e, r) {
                if (!this.items[e]) throw new Error('Index ' + e + ' is out of bounds');
                if (!this.linkBaseTexture || t.parentTextureArray || 0 < Object.keys(t._glTextures).length) {
                    if (!t.resource) throw new Error('CubeResource does not support copying of renderTexture.');
                    this.addResourceAt(t.resource, e);
                } else ((t.target = $.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X + e), (t.parentTextureArray = this.baseTexture), (this.items[e] = t));
                return (t.valid && !this.valid && this.resize(t.realWidth, t.realHeight), (this.items[e] = t), this);
            }),
            (ep.prototype.upload = function (t, e, r) {
                for (var i = this.itemDirtyIds, n = 0; n < ep.SIDES; n++) {
                    var o = this.items[n];
                    i[n] < o.dirtyId && (o.valid && o.resource ? (o.resource.upload(t, o, r), (i[n] = o.dirtyId)) : i[n] < -1 && (t.gl.texImage2D(o.target, 0, r.internalFormat, e.realWidth, e.realHeight, 0, e.format, r.type, null), (i[n] = -1)));
                }
                return !0;
            }),
            (ep.test = function (t) {
                return Array.isArray(t) && t.length === ep.SIDES;
            }),
            (ep.SIDES = 6),
            ep);
    function ep(t, e) {
        var r = this,
            i = e || {},
            n = i.width,
            o = i.height,
            s = i.autoLoad,
            i = i.linkBaseTexture;
        if (t && t.length !== ep.SIDES) throw new Error('Invalid length. Got ' + t.length + ', expected 6');
        r = tp.call(this, 6, { width: n, height: o }) || this;
        for (var a = 0; a < ep.SIDES; a++) r.items[a].target = $.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X + a;
        return ((r.linkBaseTexture = !1 !== i), t && r.initFromArray(t, e), !1 !== s && r.load(), r);
    }
    var rp,
        ip =
            (Cf(np, (rp = Kf)),
            (np.prototype.load = function (t) {
                var n = this;
                return (
                    this._load ||
                    (void 0 !== t && (this.createBitmap = t),
                    (this._load = new Promise(function (t, e) {
                        var r = n.source;
                        n.url = r.src;
                        function i() {
                            n.destroyed || ((r.onload = null), (r.onerror = null), n.resize(r.width, r.height), (n._load = null), n.createBitmap ? t(n.process()) : t(n));
                        }
                        r.complete && r.src
                            ? i()
                            : ((r.onload = i),
                              (r.onerror = function (t) {
                                  (e(t), n.onError.emit(t));
                              }));
                    })),
                    this._load)
                );
            }),
            (np.prototype.process = function () {
                var e = this,
                    r = this.source;
                if (null !== this._process) return this._process;
                if (null !== this.bitmap || !globalThis.createImageBitmap) return Promise.resolve(this);
                var i = globalThis.createImageBitmap,
                    t = !r.crossOrigin || 'anonymous' === r.crossOrigin;
                return (
                    (this._process = fetch(r.src, { mode: t ? 'cors' : 'no-cors' })
                        .then(function (t) {
                            return t.blob();
                        })
                        .then(function (t) {
                            return i(t, 0, 0, r.width, r.height, { premultiplyAlpha: e.alphaMode === $.ALPHA_MODES.UNPACK ? 'premultiply' : 'none' });
                        })
                        .then(function (t) {
                            return e.destroyed ? Promise.reject() : ((e.bitmap = t), e.update(), (e._process = null), Promise.resolve(e));
                        })),
                    this._process
                );
            }),
            (np.prototype.upload = function (t, e, r) {
                if (('number' == typeof this.alphaMode && (e.alphaMode = this.alphaMode), !this.createBitmap)) return rp.prototype.upload.call(this, t, e, r);
                if (!this.bitmap && (this.process(), !this.bitmap)) return !1;
                if ((rp.prototype.upload.call(this, t, e, r, this.bitmap), !this.preserveBitmap)) {
                    var i,
                        n = !0,
                        o = e._glTextures;
                    for (i in o) {
                        var s = o[i];
                        if (s !== r && s.dirtyId !== e.dirtyId) {
                            n = !1;
                            break;
                        }
                    }
                    n && (this.bitmap.close && this.bitmap.close(), (this.bitmap = null));
                }
                return !0;
            }),
            (np.prototype.dispose = function () {
                ((this.source.onload = null), (this.source.onerror = null), rp.prototype.dispose.call(this), this.bitmap && (this.bitmap.close(), (this.bitmap = null)), (this._process = null), (this._load = null));
            }),
            (np.test = function (t) {
                return 'string' == typeof t || t instanceof HTMLImageElement;
            }),
            np);
    function np(t, e) {
        var r,
            i = this;
        return ((e = e || {}), t instanceof HTMLImageElement || ((r = new Image()), Kf.crossOrigin(r, t, e.crossorigin), (r.src = t), (t = r)), (i = rp.call(this, t) || this), !t.complete && i._width && i._height && ((i._width = 0), (i._height = 0)), (i.url = t.src), (i._process = null), (i.preserveBitmap = !1), (i.createBitmap = (void 0 !== e.createBitmap ? e.createBitmap : G.CREATE_IMAGE_BITMAP) && !!globalThis.createImageBitmap), (i.alphaMode = 'number' == typeof e.alphaMode ? e.alphaMode : null), (i.bitmap = null), (i._load = null), !1 !== e.autoLoad && i.load(), i);
    }
    var op,
        xd =
            (Cf(sp, (op = Kf)),
            (sp.prototype.load = function () {
                var e = this;
                return (
                    this._load ||
                    ((this._load = new Promise(function (t) {
                        if (
                            ((e._resolve = function () {
                                (e.resize(e.source.width, e.source.height), t(e));
                            }),
                            sp.SVG_XML.test(e.svg.trim()))
                        ) {
                            if (!btoa) throw new Error("Your browser doesn't support base64 conversions.");
                            e.svg = 'data:image/svg+xml;base64,' + btoa(unescape(encodeURIComponent(e.svg)));
                        }
                        e._loadSvg();
                    })),
                    this._load)
                );
            }),
            (sp.prototype._loadSvg = function () {
                var o = this,
                    s = new Image();
                (Kf.crossOrigin(s, this.svg, this._crossorigin),
                    (s.src = this.svg),
                    (s.onerror = function (t) {
                        o._resolve && ((s.onerror = null), o.onError.emit(t));
                    }),
                    (s.onload = function () {
                        if (o._resolve) {
                            var t = s.width,
                                e = s.height;
                            if (!t || !e) throw new Error('The SVG image must have width and height defined (in pixels), canvas API needs them.');
                            var r = t * o.scale,
                                i = e * o.scale;
                            ((o._overrideWidth || o._overrideHeight) && ((r = o._overrideWidth || (o._overrideHeight / e) * t), (i = o._overrideHeight || (o._overrideWidth / t) * e)), (r = Math.round(r)), (i = Math.round(i)));
                            var n = o.source;
                            ((n.width = r), (n.height = i), (n._pixiId = 'canvas_' + ++zd), n.getContext('2d').drawImage(s, 0, 0, t, e, 0, 0, r, i), o._resolve(), (o._resolve = null));
                        }
                    }));
            }),
            (sp.getSize = function (t) {
                var e = sp.SVG_SIZE.exec(t),
                    t = {};
                return (e && ((t[e[1]] = Math.round(parseFloat(e[3]))), (t[e[5]] = Math.round(parseFloat(e[7])))), t);
            }),
            (sp.prototype.dispose = function () {
                (op.prototype.dispose.call(this), (this._resolve = null), (this._crossorigin = null));
            }),
            (sp.test = function (t, e) {
                return 'svg' === e || ('string' == typeof t && /^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(t)) || ('string' == typeof t && sp.SVG_XML.test(t));
            }),
            (sp.SVG_XML = /^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m),
            (sp.SVG_SIZE = /<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i),
            sp);
    function sp(t, e) {
        var r = this;
        return ((e = e || {}), ((r = op.call(this, document.createElement('canvas')) || this)._width = 0), (r._height = 0), (r.svg = t), (r.scale = e.scale || 1), (r._overrideWidth = e.width), (r._overrideHeight = e.height), (r._resolve = null), (r._crossorigin = e.crossorigin), (r._load = null), !1 !== e.autoLoad && r.load(), r);
    }
    var ap,
        vt =
            (Cf(hp, (ap = Kf)),
            (hp.prototype.update = function (t) {
                var e;
                this.destroyed || ((e = hf.shared.elapsedMS * this.source.playbackRate), (this._msToNextUpdate = Math.floor(this._msToNextUpdate - e)), (!this._updateFPS || this._msToNextUpdate <= 0) && (ap.prototype.update.call(this), (this._msToNextUpdate = this._updateFPS ? Math.floor(1e3 / this._updateFPS) : 0)));
            }),
            (hp.prototype.load = function () {
                var e = this;
                if (this._load) return this._load;
                var r = this.source;
                return (
                    (r.readyState === r.HAVE_ENOUGH_DATA || r.readyState === r.HAVE_FUTURE_DATA) && r.width && r.height && (r.complete = !0),
                    r.addEventListener('play', this._onPlayStart.bind(this)),
                    r.addEventListener('pause', this._onPlayStop.bind(this)),
                    this._isSourceReady() ? this._onCanPlay() : (r.addEventListener('canplay', this._onCanPlay), r.addEventListener('canplaythrough', this._onCanPlay), r.addEventListener('error', this._onError, !0)),
                    (this._load = new Promise(function (t) {
                        e.valid ? t(e) : ((e._resolve = t), r.load());
                    })),
                    this._load
                );
            }),
            (hp.prototype._onError = function (t) {
                (this.source.removeEventListener('error', this._onError, !0), this.onError.emit(t));
            }),
            (hp.prototype._isSourcePlaying = function () {
                var t = this.source;
                return 0 < t.currentTime && !1 === t.paused && !1 === t.ended && 2 < t.readyState;
            }),
            (hp.prototype._isSourceReady = function () {
                var t = this.source;
                return 3 === t.readyState || 4 === t.readyState;
            }),
            (hp.prototype._onPlayStart = function () {
                (this.valid || this._onCanPlay(), this.autoUpdate && !this._isConnectedToTicker && (hf.shared.add(this.update, this), (this._isConnectedToTicker = !0)));
            }),
            (hp.prototype._onPlayStop = function () {
                this._isConnectedToTicker && (hf.shared.remove(this.update, this), (this._isConnectedToTicker = !1));
            }),
            (hp.prototype._onCanPlay = function () {
                var t = this.source;
                (t.removeEventListener('canplay', this._onCanPlay), t.removeEventListener('canplaythrough', this._onCanPlay));
                var e = this.valid;
                (this.resize(t.videoWidth, t.videoHeight), !e && this._resolve && (this._resolve(this), (this._resolve = null)), this._isSourcePlaying() ? this._onPlayStart() : this.autoPlay && t.play());
            }),
            (hp.prototype.dispose = function () {
                this._isConnectedToTicker && (hf.shared.remove(this.update, this), (this._isConnectedToTicker = !1));
                var t = this.source;
                (t && (t.removeEventListener('error', this._onError, !0), t.pause(), (t.src = ''), t.load()), ap.prototype.dispose.call(this));
            }),
            Object.defineProperty(hp.prototype, 'autoUpdate', {
                get: function () {
                    return this._autoUpdate;
                },
                set: function (t) {
                    t !== this._autoUpdate && ((this._autoUpdate = t), !this._autoUpdate && this._isConnectedToTicker ? (hf.shared.remove(this.update, this), (this._isConnectedToTicker = !1)) : this._autoUpdate && !this._isConnectedToTicker && this._isSourcePlaying() && (hf.shared.add(this.update, this), (this._isConnectedToTicker = !0)));
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(hp.prototype, 'updateFPS', {
                get: function () {
                    return this._updateFPS;
                },
                set: function (t) {
                    t !== this._updateFPS && (this._updateFPS = t);
                },
                enumerable: !1,
                configurable: !0,
            }),
            (hp.test = function (t, e) {
                return (globalThis.HTMLVideoElement && t instanceof HTMLVideoElement) || -1 < hp.TYPES.indexOf(e);
            }),
            (hp.TYPES = ['mp4', 'm4v', 'webm', 'ogg', 'ogv', 'h264', 'avi', 'mov']),
            (hp.MIME_TYPES = { ogv: 'video/ogg', mov: 'video/quicktime', m4v: 'video/mp4' }),
            hp);
    function hp(t, e) {
        var r = this;
        if (((e = e || {}), !(t instanceof HTMLVideoElement))) {
            var i = document.createElement('video');
            (i.setAttribute('preload', 'auto'), i.setAttribute('webkit-playsinline', ''), i.setAttribute('playsinline', ''), 'string' == typeof t && (t = [t]));
            var n = t[0].src || t[0];
            Kf.crossOrigin(i, n, e.crossorigin);
            for (var o = 0; o < t.length; ++o) {
                var s = document.createElement('source'),
                    a = t[o],
                    h = a.src,
                    u = a.mime,
                    a = (h = h || t[o]).split('?').shift().toLowerCase(),
                    a = a.slice(a.lastIndexOf('.') + 1),
                    u = u || hp.MIME_TYPES[a] || 'video/' + a;
                ((s.src = h), (s.type = u), i.appendChild(s));
            }
            t = i;
        }
        return (((r = ap.call(this, t) || this).noSubImage = !0), (r._autoUpdate = !0), (r._isConnectedToTicker = !1), (r._updateFPS = e.updateFPS || 0), (r._msToNextUpdate = 0), (r.autoPlay = !1 !== e.autoPlay), (r._load = null), (r._resolve = null), (r._onCanPlay = r._onCanPlay.bind(r)), (r._onError = r._onError.bind(r)), !1 !== e.autoLoad && r.load(), r);
    }
    var up,
        lp =
            (Cf(cp, (up = Kf)),
            (cp.test = function (t) {
                return !!globalThis.createImageBitmap && t instanceof ImageBitmap;
            }),
            cp);
    function cp(t) {
        return up.call(this, t) || this;
    }
    Nf.push(ip, lp, Jf, vt, xd, Bf, Rd, bd);
    var dp,
        fp = { __proto__: null, Resource: Lf, BaseImageResource: Kf, INSTALLED: Nf, autoDetectResource: Pf, AbstractMultiResource: At, ArrayResource: bd, BufferResource: Bf, CanvasResource: Jf, CubeResource: Rd, ImageResource: ip, SVGResource: xd, VideoResource: vt, ImageBitmapResource: lp },
        pp =
            (Cf(_p, (dp = Bf)),
            (_p.prototype.upload = function (t, e, r) {
                var i = t.gl;
                i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL, e.alphaMode === $.ALPHA_MODES.UNPACK);
                var n = e.realWidth,
                    t = e.realHeight;
                return (r.width === n && r.height === t ? i.texSubImage2D(e.target, 0, 0, 0, n, t, e.format, r.type, this.data) : ((r.width = n), (r.height = t), i.texImage2D(e.target, 0, r.internalFormat, n, t, 0, e.format, r.type, this.data)), !0);
            }),
            _p);
    function _p() {
        return (null !== dp && dp.apply(this, arguments)) || this;
    }
    var mp =
        (Object.defineProperty(Ep.prototype, 'colorTexture', {
            get: function () {
                return this.colorTextures[0];
            },
            enumerable: !1,
            configurable: !0,
        }),
        (Ep.prototype.addColorTexture = function (t, e) {
            return (void 0 === t && (t = 0), (this.colorTextures[t] = e || new Hf(null, { scaleMode: $.SCALE_MODES.NEAREST, resolution: 1, mipmap: $.MIPMAP_MODES.OFF, width: this.width, height: this.height })), this.dirtyId++, this.dirtyFormat++, this);
        }),
        (Ep.prototype.addDepthTexture = function (t) {
            return ((this.depthTexture = t || new Hf(new pp(null, { width: this.width, height: this.height }), { scaleMode: $.SCALE_MODES.NEAREST, resolution: 1, width: this.width, height: this.height, mipmap: $.MIPMAP_MODES.OFF, format: $.FORMATS.DEPTH_COMPONENT, type: $.TYPES.UNSIGNED_SHORT })), this.dirtyId++, this.dirtyFormat++, this);
        }),
        (Ep.prototype.enableDepth = function () {
            return ((this.depth = !0), this.dirtyId++, this.dirtyFormat++, this);
        }),
        (Ep.prototype.enableStencil = function () {
            return ((this.stencil = !0), this.dirtyId++, this.dirtyFormat++, this);
        }),
        (Ep.prototype.resize = function (t, e) {
            if (((t = Math.round(t)), (e = Math.round(e)), t !== this.width || e !== this.height)) {
                ((this.width = t), (this.height = e), this.dirtyId++, this.dirtySize++);
                for (var r = 0; r < this.colorTextures.length; r++) {
                    var i = this.colorTextures[r],
                        n = i.resolution;
                    i.setSize(t / n, e / n);
                }
                this.depthTexture && ((n = this.depthTexture.resolution), this.depthTexture.setSize(t / n, e / n));
            }
        }),
        (Ep.prototype.dispose = function () {
            this.disposeRunner.emit(this, !1);
        }),
        (Ep.prototype.destroyDepthTexture = function () {
            this.depthTexture && (this.depthTexture.destroy(), (this.depthTexture = null), ++this.dirtyId, ++this.dirtyFormat);
        }),
        Ep);
    function Ep(t, e) {
        ((this.width = Math.round(t || 100)), (this.height = Math.round(e || 100)), (this.stencil = !1), (this.depth = !1), (this.dirtyId = 0), (this.dirtyFormat = 0), (this.dirtySize = 0), (this.depthTexture = null), (this.colorTextures = []), (this.glFramebuffers = {}), (this.disposeRunner = new nf('disposeFramebuffer')), (this.multisample = $.MSAA_QUALITY.NONE));
    }
    var vp,
        yp =
            (Cf(gp, (vp = Hf)),
            (gp.prototype.resize = function (t, e) {
                (this.framebuffer.resize(t * this.resolution, e * this.resolution), this.setRealSize(this.framebuffer.width, this.framebuffer.height));
            }),
            (gp.prototype.dispose = function () {
                (this.framebuffer.dispose(), vp.prototype.dispose.call(this));
            }),
            (gp.prototype.destroy = function () {
                (vp.prototype.destroy.call(this), this.framebuffer.destroyDepthTexture(), (this.framebuffer = null));
            }),
            gp);
    function gp(t) {
        void 0 === t && (t = {});
        var e = this;
        return ('number' == typeof t && (t = { width: arguments[0], height: arguments[1], scaleMode: arguments[2], resolution: arguments[3] }), (t.width = t.width || 100), (t.height = t.height || 100), (t.multisample = void 0 !== t.multisample ? t.multisample : $.MSAA_QUALITY.NONE), ((e = vp.call(this, null, t) || this).mipmap = $.MIPMAP_MODES.OFF), (e.valid = !0), (e.clearColor = [0, 0, 0, 0]), (e.framebuffer = new mp(e.realWidth, e.realHeight).addColorTexture(0, e)), (e.framebuffer.multisample = t.multisample), (e.maskStack = []), (e.filterStack = [{}]), e);
    }
    var Tp =
        ((bp.prototype.set = function (t, e, r) {
            var i,
                n,
                o,
                s = e.width,
                a = e.height;
            (r ? ((i = t.width / 2 / s), (n = t.height / 2 / a), (o = t.x / s + i), (e = t.y / a + n), (r = If.add(r, If.NW)), (this.x0 = o + i * If.uX(r)), (this.y0 = e + n * If.uY(r)), (r = If.add(r, 2)), (this.x1 = o + i * If.uX(r)), (this.y1 = e + n * If.uY(r)), (r = If.add(r, 2)), (this.x2 = o + i * If.uX(r)), (this.y2 = e + n * If.uY(r)), (r = If.add(r, 2)), (this.x3 = o + i * If.uX(r)), (this.y3 = e + n * If.uY(r))) : ((this.x0 = t.x / s), (this.y0 = t.y / a), (this.x1 = (t.x + t.width) / s), (this.y1 = t.y / a), (this.x2 = (t.x + t.width) / s), (this.y2 = (t.y + t.height) / a), (this.x3 = t.x / s), (this.y3 = (t.y + t.height) / a)), (this.uvsFloat32[0] = this.x0), (this.uvsFloat32[1] = this.y0), (this.uvsFloat32[2] = this.x1), (this.uvsFloat32[3] = this.y1), (this.uvsFloat32[4] = this.x2), (this.uvsFloat32[5] = this.y2), (this.uvsFloat32[6] = this.x3), (this.uvsFloat32[7] = this.y3));
        }),
        (bp.prototype.toString = function () {
            return '[@pixi/core:TextureUvs x0=' + this.x0 + ' y0=' + this.y0 + ' x1=' + this.x1 + ' y1=' + this.y1 + ' x2=' + this.x2 + ' y2=' + this.y2 + ' x3=' + this.x3 + ' y3=' + this.y3 + ']';
        }),
        bp);
    function bp() {
        ((this.x0 = 0), (this.y0 = 0), (this.x1 = 1), (this.y1 = 0), (this.x2 = 1), (this.y2 = 1), (this.x3 = 0), (this.y3 = 1), (this.uvsFloat32 = new Float32Array(8)));
    }
    var xp = new Tp();
    function Rp(t) {
        ((t.destroy = function () {}), (t.on = function () {}), (t.once = function () {}), (t.emit = function () {}));
    }
    var Ap,
        Sp =
            (Cf(Op, (Ap = uc)),
            (Op.prototype.update = function () {
                this.baseTexture.resource && this.baseTexture.resource.update();
            }),
            (Op.prototype.onBaseTextureUpdated = function (t) {
                if (this.noFrame) {
                    if (!this.baseTexture.valid) return;
                    ((this._frame.width = t.width), (this._frame.height = t.height), (this.valid = !0), this.updateUvs());
                } else this.frame = this._frame;
                this.emit('update', this);
            }),
            (Op.prototype.destroy = function (t) {
                (this.baseTexture && (t && ((t = this.baseTexture.resource) && t.url && Jd[t.url] && Op.removeFromCache(t.url), this.baseTexture.destroy()), this.baseTexture.off('loaded', this.onBaseTextureUpdated, this), this.baseTexture.off('update', this.onBaseTextureUpdated, this), (this.baseTexture = null)), (this._frame = null), (this._uvs = null), (this.trim = null), (this.orig = null), (this.valid = !1), Op.removeFromCache(this), (this.textureCacheIds = null));
            }),
            (Op.prototype.clone = function () {
                var t = this._frame.clone(),
                    e = this._frame === this.orig ? t : this.orig.clone(),
                    e = new Op(this.baseTexture, !this.noFrame && t, e, this.trim && this.trim.clone(), this.rotate, this.defaultAnchor);
                return (this.noFrame && (e._frame = t), e);
            }),
            (Op.prototype.updateUvs = function () {
                (this._uvs === xp && (this._uvs = new Tp()), this._uvs.set(this._frame, this.baseTexture, this.rotate), this._updateID++);
            }),
            (Op.from = function (t, e, r) {
                (void 0 === e && (e = {}), void 0 === r && (r = G.STRICT_TEXTURE_CACHE));
                var i = 'string' == typeof t,
                    n = null,
                    n = i ? t : t instanceof Hf ? (t.cacheId || ((o = (e && e.pixiIdPrefix) || 'pixiid'), (t.cacheId = o + '-' + ++zd), Hf.addToCache(t, t.cacheId)), t.cacheId) : (t._pixiId || ((o = (e && e.pixiIdPrefix) || 'pixiid'), (t._pixiId = o + '_' + ++zd)), t._pixiId),
                    o = Jd[n];
                if (i && r && !o) throw new Error('The cacheId "' + n + '" does not exist in TextureCache.');
                return (o || t instanceof Hf ? !o && t instanceof Hf && ((o = new Op(t)), Op.addToCache(o, n)) : (e.resolution || (e.resolution = ef(t)), ((o = new Op(new Hf(t, e))).baseTexture.cacheId = n), Hf.addToCache(o.baseTexture, n), Op.addToCache(o, n)), o);
            }),
            (Op.fromURL = function (t, e) {
                var r = Object.assign({ autoLoad: !1 }, null == e ? void 0 : e.resourceOptions),
                    i = Op.from(t, Object.assign({ resourceOptions: r }, e), !1),
                    e = i.baseTexture.resource;
                return i.baseTexture.valid
                    ? Promise.resolve(i)
                    : e.load().then(function () {
                          return Promise.resolve(i);
                      });
            }),
            (Op.fromBuffer = function (t, e, r, i) {
                return new Op(Hf.fromBuffer(t, e, r, i));
            }),
            (Op.fromLoader = function (t, e, r, i) {
                ((t = new Hf(t, Object.assign({ scaleMode: G.SCALE_MODE, resolution: ef(e) }, i))), (i = t.resource));
                i instanceof ip && (i.url = e);
                var n = new Op(t);
                return (
                    (r = r || e),
                    Hf.addToCache(n.baseTexture, r),
                    Op.addToCache(n, r),
                    r !== e && (Hf.addToCache(n.baseTexture, e), Op.addToCache(n, e)),
                    n.baseTexture.valid
                        ? Promise.resolve(n)
                        : new Promise(function (t) {
                              n.baseTexture.once('loaded', function () {
                                  return t(n);
                              });
                          })
                );
            }),
            (Op.addToCache = function (t, e) {
                e && (-1 === t.textureCacheIds.indexOf(e) && t.textureCacheIds.push(e), Jd[e] && console.warn('Texture added to the cache with an id [' + e + '] that already had an entry'), (Jd[e] = t));
            }),
            (Op.removeFromCache = function (t) {
                if ('string' == typeof t) {
                    var e = Jd[t];
                    if (e) {
                        var r = e.textureCacheIds.indexOf(t);
                        return (-1 < r && e.textureCacheIds.splice(r, 1), delete Jd[t], e);
                    }
                } else if (t && t.textureCacheIds) {
                    for (var i = 0; i < t.textureCacheIds.length; ++i) Jd[t.textureCacheIds[i]] === t && delete Jd[t.textureCacheIds[i]];
                    return ((t.textureCacheIds.length = 0), t);
                }
                return null;
            }),
            Object.defineProperty(Op.prototype, 'resolution', {
                get: function () {
                    return this.baseTexture.resolution;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Op.prototype, 'frame', {
                get: function () {
                    return this._frame;
                },
                set: function (t) {
                    ((this._frame = t), (this.noFrame = !1));
                    var e = t.x,
                        r = t.y,
                        i = t.width,
                        n = t.height,
                        o = e + i > this.baseTexture.width,
                        s = r + n > this.baseTexture.height;
                    if (o || s) {
                        ((s = o && s ? 'and' : 'or'), (e = 'X: ' + e + ' + ' + i + ' = ' + (e + i) + ' > ' + this.baseTexture.width), (r = 'Y: ' + r + ' + ' + n + ' = ' + (r + n) + ' > ' + this.baseTexture.height));
                        throw new Error('Texture Error: frame does not fit inside the base Texture dimensions: ' + e + ' ' + s + ' ' + r);
                    }
                    ((this.valid = i && n && this.baseTexture.valid), this.trim || this.rotate || (this.orig = t), this.valid && this.updateUvs());
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Op.prototype, 'rotate', {
                get: function () {
                    return this._rotate;
                },
                set: function (t) {
                    ((this._rotate = t), this.valid && this.updateUvs());
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Op.prototype, 'width', {
                get: function () {
                    return this.orig.width;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Op.prototype, 'height', {
                get: function () {
                    return this.orig.height;
                },
                enumerable: !1,
                configurable: !0,
            }),
            (Op.prototype.castToBaseTexture = function () {
                return this.baseTexture;
            }),
            Object.defineProperty(Op, 'EMPTY', {
                get: function () {
                    return (Op._EMPTY || (Rp((Op._EMPTY = new Op(new Hf()))), Rp(Op._EMPTY.baseTexture)), Op._EMPTY);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Op, 'WHITE', {
                get: function () {
                    var t, e;
                    return (Op._WHITE || ((e = (t = document.createElement('canvas')).getContext('2d')), (t.width = 16), (t.height = 16), (e.fillStyle = 'white'), e.fillRect(0, 0, 16, 16), Rp((Op._WHITE = new Op(new Hf(new Jf(t))))), Rp(Op._WHITE.baseTexture)), Op._WHITE);
                },
                enumerable: !1,
                configurable: !0,
            }),
            Op);
    function Op(t, e, r, i, n, o) {
        var s = Ap.call(this) || this;
        if (((s.noFrame = !1), e || ((s.noFrame = !0), (e = new _f(0, 0, 1, 1))), t instanceof Op && (t = t.baseTexture), (s.baseTexture = t), (s._frame = e), (s.trim = i), (s.valid = !1), (s._uvs = xp), (s.uvMatrix = null), (s.orig = r || e), (s._rotate = Number(n || 0)), !0 === n)) s._rotate = 2;
        else if (s._rotate % 2 != 0) throw new Error('attempt to use diamond-shaped UVs. If you are sure, set rotation manually');
        return ((s.defaultAnchor = o ? new df(o.x, o.y) : new df(0, 0)), (s._updateID = 0), (s.textureCacheIds = []), t.valid ? (s.noFrame ? t.valid && s.onBaseTextureUpdated(t) : (s.frame = e)) : t.once('loaded', s.onBaseTextureUpdated, s), s.noFrame && t.on('update', s.onBaseTextureUpdated, s), s);
    }
    var Ip,
        Mp =
            (Cf(Np, (Ip = Sp)),
            Object.defineProperty(Np.prototype, 'framebuffer', {
                get: function () {
                    return this.baseTexture.framebuffer;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Np.prototype, 'multisample', {
                get: function () {
                    return this.framebuffer.multisample;
                },
                set: function (t) {
                    this.framebuffer.multisample = t;
                },
                enumerable: !1,
                configurable: !0,
            }),
            (Np.prototype.resize = function (t, e, r) {
                void 0 === r && (r = !0);
                var i = this.baseTexture.resolution,
                    t = Math.round(t * i) / i,
                    i = Math.round(e * i) / i;
                ((this.valid = 0 < t && 0 < i), (this._frame.width = this.orig.width = t), (this._frame.height = this.orig.height = i), r && this.baseTexture.resize(t, i), this.updateUvs());
            }),
            (Np.prototype.setResolution = function (t) {
                var e = this.baseTexture;
                e.resolution !== t && (e.setResolution(t), this.resize(e.width, e.height, !1));
            }),
            (Np.create = function (t) {
                for (var e = arguments, r = [], i = 1; i < arguments.length; i++) r[i - 1] = e[i];
                return ('number' == typeof t && (Kd('6.0.0', 'Arguments (width, height, scaleMode, resolution) have been deprecated.'), (t = { width: t, height: r[0], scaleMode: r[1], resolution: r[2] })), new Np(new yp(t)));
            }),
            Np);
    function Np(t, e) {
        e = Ip.call(this, t, e) || this;
        return ((e.valid = !0), (e.filterFrame = null), (e.filterPoolKey = null), e.updateUvs(), e);
    }
    var Pp =
        ((Dp.prototype.createTexture = function (t, e, r) {
            void 0 === r && (r = $.MSAA_QUALITY.NONE);
            r = new yp(Object.assign({ width: t, height: e, resolution: 1, multisample: r }, this.textureOptions));
            return new Mp(r);
        }),
        (Dp.prototype.getOptimalTexture = function (t, e, r, i) {
            var n;
            (void 0 === r && (r = 1), void 0 === i && (i = $.MSAA_QUALITY.NONE), (t = Math.ceil(t * r - 1e-6)), (e = Math.ceil(e * r - 1e-6)), this.enableFullScreen && t === this._pixelsWidth && e === this._pixelsHeight ? (n = 1 < i ? -i : -1) : ((n = (((65535 & (t = jd(t))) << 16) | (65535 & (e = jd(e)))) >>> 0), 1 < i && (n += 4294967296 * i)), this.texturePool[n] || (this.texturePool[n] = []));
            var o = this.texturePool[n].pop();
            return (((o = o || this.createTexture(t, e, i)).filterPoolKey = n), o.setResolution(r), o);
        }),
        (Dp.prototype.getFilterTexture = function (t, e, r) {
            r = this.getOptimalTexture(t.width, t.height, e || t.resolution, r || $.MSAA_QUALITY.NONE);
            return ((r.filterFrame = t.filterFrame), r);
        }),
        (Dp.prototype.returnTexture = function (t) {
            var e = t.filterPoolKey;
            ((t.filterFrame = null), this.texturePool[e].push(t));
        }),
        (Dp.prototype.returnFilterTexture = function (t) {
            this.returnTexture(t);
        }),
        (Dp.prototype.clear = function (t) {
            if ((t = !1 !== t))
                for (var e in this.texturePool) {
                    var r = this.texturePool[e];
                    if (r) for (var i = 0; i < r.length; i++) r[i].destroy(!0);
                }
            this.texturePool = {};
        }),
        (Dp.prototype.setScreenSize = function (t) {
            if (t.width !== this._pixelsWidth || t.height !== this._pixelsHeight) {
                for (var e in ((this.enableFullScreen = 0 < t.width && 0 < t.height), this.texturePool))
                    if (Number(e) < 0) {
                        var r = this.texturePool[e];
                        if (r) for (var i = 0; i < r.length; i++) r[i].destroy(!0);
                        this.texturePool[e] = [];
                    }
                ((this._pixelsWidth = t.width), (this._pixelsHeight = t.height));
            }
        }),
        (Dp.SCREEN_KEY = -1),
        Dp);
    function Dp(t) {
        ((this.texturePool = {}), (this.textureOptions = t || {}), (this.enableFullScreen = !1), (this._pixelsWidth = 0), (this._pixelsHeight = 0));
    }
    var Cp =
        ((wp.prototype.destroy = function () {
            this.buffer = null;
        }),
        (wp.from = function (t, e, r, i, n) {
            return new wp(t, e, r, i, n);
        }),
        wp);
    function wp(t, e, r, i, n, o, s) {
        (void 0 === e && (e = 0), void 0 === r && (r = !1), void 0 === i && (i = $.TYPES.FLOAT), (this.buffer = t), (this.size = e), (this.normalized = r), (this.type = i), (this.stride = n), (this.start = o), (this.instance = s));
    }
    var Lp = 0,
        Fp =
            ((Up.prototype.update = function (t) {
                (t instanceof Array && (t = new Float32Array(t)), (this.data = t || this.data), this._updateID++);
            }),
            (Up.prototype.dispose = function () {
                this.disposeRunner.emit(this, !1);
            }),
            (Up.prototype.destroy = function () {
                (this.dispose(), (this.data = null));
            }),
            Object.defineProperty(Up.prototype, 'index', {
                get: function () {
                    return this.type === $.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;
                },
                set: function (t) {
                    this.type = t ? $.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER : $.BUFFER_TYPE.ARRAY_BUFFER;
                },
                enumerable: !1,
                configurable: !0,
            }),
            (Up.from = function (t) {
                return (t instanceof Array && (t = new Float32Array(t)), new Up(t));
            }),
            Up);
    function Up(t, e, r) {
        (void 0 === e && (e = !0), void 0 === r && (r = !1), (this.data = t || new Float32Array(1)), (this._glBuffers = {}), (this._updateID = 0), (this.index = r), (this.static = e), (this.id = Lp++), (this.disposeRunner = new nf('disposeBuffer')));
    }
    var Bp = { Float32Array: Float32Array, Uint32Array: Uint32Array, Int32Array: Int32Array, Uint8Array: Uint8Array };
    var Gp = { 5126: 4, 5123: 2, 5121: 1 },
        kp = 0,
        Xp = { Float32Array: Float32Array, Uint32Array: Uint32Array, Int32Array: Int32Array, Uint8Array: Uint8Array, Uint16Array: Uint16Array },
        Rd =
            ((Hp.prototype.addAttribute = function (t, e, r, i, n, o, s, a) {
                if ((void 0 === r && (r = 0), void 0 === i && (i = !1), void 0 === a && (a = !1), !e)) throw new Error('You must pass a buffer when creating an attribute');
                e instanceof Fp || (e instanceof Array && (e = new Float32Array(e)), (e = new Fp(e)));
                var h = t.split('|');
                if (1 < h.length) {
                    for (var u = 0; u < h.length; u++) this.addAttribute(h[u], e, r, i, n);
                    return this;
                }
                var l = this.buffers.indexOf(e);
                return (-1 === l && (this.buffers.push(e), (l = this.buffers.length - 1)), (this.attributes[t] = new Cp(l, r, i, n, o, s, a)), (this.instanced = this.instanced || a), this);
            }),
            (Hp.prototype.getAttribute = function (t) {
                return this.attributes[t];
            }),
            (Hp.prototype.getBuffer = function (t) {
                return this.buffers[this.getAttribute(t).buffer];
            }),
            (Hp.prototype.addIndex = function (t) {
                return (t instanceof Fp || (t instanceof Array && (t = new Uint16Array(t)), (t = new Fp(t))), (t.type = $.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER), (this.indexBuffer = t), -1 === this.buffers.indexOf(t) && this.buffers.push(t), this);
            }),
            (Hp.prototype.getIndex = function () {
                return this.indexBuffer;
            }),
            (Hp.prototype.interleave = function () {
                if (1 === this.buffers.length || (2 === this.buffers.length && this.indexBuffer)) return this;
                var t,
                    e = [],
                    r = [],
                    i = new Fp();
                for (t in this.attributes) {
                    var n = this.attributes[t],
                        o = this.buffers[n.buffer];
                    (e.push(o.data), r.push((n.size * Gp[n.type]) / 4), (n.buffer = 0));
                }
                for (
                    i.data = (function (t, e) {
                        for (var r = 0, i = 0, n = {}, o = 0; o < t.length; o++) ((i += e[o]), (r += t[o].length));
                        for (var s = new ArrayBuffer(4 * r), a = null, h = 0, o = 0; o < t.length; o++) {
                            var u = e[o],
                                l = t[o],
                                c = Yd(l);
                            (n[c] || (n[c] = new Bp[c](s)), (a = n[c]));
                            for (var d = 0; d < l.length; d++) a[((d / u) | 0) * i + h + (d % u)] = l[d];
                            h += u;
                        }
                        return new Float32Array(s);
                    })(e, r),
                        t = 0;
                    t < this.buffers.length;
                    t++
                )
                    this.buffers[t] !== this.indexBuffer && this.buffers[t].destroy();
                return ((this.buffers = [i]), this.indexBuffer && this.buffers.push(this.indexBuffer), this);
            }),
            (Hp.prototype.getSize = function () {
                for (var t in this.attributes) {
                    var e = this.attributes[t];
                    return this.buffers[e.buffer].data.length / (e.stride / 4 || e.size);
                }
                return 0;
            }),
            (Hp.prototype.dispose = function () {
                this.disposeRunner.emit(this, !1);
            }),
            (Hp.prototype.destroy = function () {
                (this.dispose(), (this.buffers = null), (this.indexBuffer = null), (this.attributes = null));
            }),
            (Hp.prototype.clone = function () {
                for (var t = new Hp(), e = 0; e < this.buffers.length; e++) t.buffers[e] = new Fp(this.buffers[e].data.slice(0));
                for (e in this.attributes) {
                    var r = this.attributes[e];
                    t.attributes[e] = new Cp(r.buffer, r.size, r.normalized, r.type, r.stride, r.start, r.instance);
                }
                return (this.indexBuffer && ((t.indexBuffer = t.buffers[this.buffers.indexOf(this.indexBuffer)]), (t.indexBuffer.type = $.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER)), t);
            }),
            (Hp.merge = function (t) {
                for (var e, r = new Hp(), i = [], n = [], o = [], s = 0; s < t.length; s++) {
                    e = t[s];
                    for (var a = 0; a < e.buffers.length; a++) ((n[a] = n[a] || 0), (n[a] += e.buffers[a].data.length), (o[a] = 0));
                }
                for (s = 0; s < e.buffers.length; s++) ((i[s] = new Xp[Yd(e.buffers[s].data)](n[s])), (r.buffers[s] = new Fp(i[s])));
                for (s = 0; s < t.length; s++) {
                    e = t[s];
                    for (a = 0; a < e.buffers.length; a++) (i[a].set(e.buffers[a].data, o[a]), (o[a] += e.buffers[a].data.length));
                }
                if (((r.attributes = e.attributes), e.indexBuffer)) {
                    ((r.indexBuffer = r.buffers[e.buffers.indexOf(e.indexBuffer)]), (r.indexBuffer.type = $.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER));
                    for (var h = 0, u = 0, l = 0, c = 0, s = 0; s < e.buffers.length; s++)
                        if (e.buffers[s] !== e.indexBuffer) {
                            c = s;
                            break;
                        }
                    for (s in e.attributes) {
                        var d = e.attributes[s];
                        (0 | d.buffer) === c && (u += (d.size * Gp[d.type]) / 4);
                    }
                    for (s = 0; s < t.length; s++) {
                        for (var f = t[s].indexBuffer.data, a = 0; a < f.length; a++) r.indexBuffer.data[a + l] += h;
                        ((h += t[s].buffers[c].data.length / u), (l += f.length));
                    }
                }
                return r;
            }),
            Hp);
    function Hp(t, e) {
        (void 0 === t && (t = []), void 0 === e && (e = {}), (this.buffers = t), (this.indexBuffer = null), (this.attributes = e), (this.glVertexArrayObjects = {}), (this.id = kp++), (this.instanced = !1), (this.instanceCount = 1), (this.disposeRunner = new nf('disposeGeometry')), (this.refCount = 0));
    }
    var Yp,
        jp = (Cf(Vp, (Yp = Rd)), Vp);
    function Vp() {
        var t = Yp.call(this) || this;
        return (t.addAttribute('aVertexPosition', new Float32Array([0, 0, 1, 0, 1, 1, 0, 1])).addIndex([0, 1, 3, 2]), t);
    }
    var Wp,
        zp =
            (Cf(qp, (Wp = Rd)),
            (qp.prototype.map = function (t, e) {
                var r, i;
                return ((this.uvs[0] = 0), (this.uvs[1] = 0), (this.uvs[2] = 0 + e.width / t.width), (this.uvs[3] = 0), (this.uvs[4] = 0 + e.width / t.width), (this.uvs[5] = 0 + e.height / t.height), (this.uvs[6] = 0), (this.uvs[7] = 0 + e.height / t.height), (r = e.x), (i = e.y), (this.vertices[0] = r), (this.vertices[1] = i), (this.vertices[2] = r + e.width), (this.vertices[3] = i), (this.vertices[4] = r + e.width), (this.vertices[5] = i + e.height), (this.vertices[6] = r), (this.vertices[7] = i + e.height), this.invalidate(), this);
            }),
            (qp.prototype.invalidate = function () {
                return (this.vertexBuffer._updateID++, this.uvBuffer._updateID++, this);
            }),
            qp);
    function qp() {
        var t = Wp.call(this) || this;
        return ((t.vertices = new Float32Array([-1, -1, 1, -1, 1, 1, -1, 1])), (t.uvs = new Float32Array([0, 0, 1, 0, 1, 1, 0, 1])), (t.vertexBuffer = new Fp(t.vertices)), (t.uvBuffer = new Fp(t.uvs)), t.addAttribute('aVertexPosition', t.vertexBuffer).addAttribute('aTextureCoord', t.uvBuffer).addIndex([0, 1, 2, 0, 2, 3]), t);
    }
    var Kp = 0,
        Zp =
            ((Qp.prototype.update = function () {
                (this.dirtyId++, !this.autoManage && this.buffer && this.buffer.update());
            }),
            (Qp.prototype.add = function (t, e, r) {
                if (this.ubo) throw new Error('[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them');
                this.uniforms[t] = new Qp(e, r);
            }),
            (Qp.from = function (t, e, r) {
                return new Qp(t, e, r);
            }),
            (Qp.uboFrom = function (t, e) {
                return new Qp(t, null == e || e, !0);
            }),
            Qp);
    function Qp(t, e, r) {
        ((this.group = !0), (this.syncUniforms = {}), (this.dirtyId = 0), (this.id = Kp++), (this.static = !!e), (this.ubo = !!r), t instanceof Fp ? ((this.buffer = t), (this.buffer.type = $.BUFFER_TYPE.UNIFORM_BUFFER), (this.autoManage = !1), (this.ubo = !0)) : ((this.uniforms = t), this.ubo && ((this.buffer = new Fp(new Float32Array(1))), (this.buffer.type = $.BUFFER_TYPE.UNIFORM_BUFFER), (this.autoManage = !0))));
    }
    var Jp =
        (($p.prototype.clear = function () {
            ((this.target = null), (this.filters = null), (this.renderTexture = null));
        }),
        $p);
    function $p() {
        ((this.renderTexture = null), (this.target = null), (this.legacy = !1), (this.resolution = 1), (this.multisample = $.MSAA_QUALITY.NONE), (this.sourceFrame = new _f()), (this.destinationFrame = new _f()), (this.bindingSourceFrame = new _f()), (this.bindingDestinationFrame = new _f()), (this.filters = []), (this.transform = null));
    }
    var t_ = [new df(), new df(), new df(), new df()],
        e_ = new yf(),
        r_ =
            ((i_.prototype.push = function (t, e) {
                for (var r, i, n = this.renderer, o = this.defaultFilterStack, s = this.statePool.pop() || new Jp(), a = this.renderer.renderTexture, h = e[0].resolution, u = e[0].multisample, l = e[0].padding, c = e[0].autoFit, d = null === (r = e[0].legacy) || void 0 === r || r, f = 1; f < e.length; f++) var p = e[f], h = Math.min(h, p.resolution), u = Math.min(u, p.multisample), l = this.useMaxPadding ? Math.max(l, p.padding) : l + p.padding, c = c && p.autoFit, d = d || null === (i = p.legacy) || void 0 === i || i;
                (1 === o.length && (this.defaultFilterStack[0].renderTexture = a.current), o.push(s), (s.resolution = h), (s.multisample = u), (s.legacy = d), (s.target = t), s.sourceFrame.copyFrom(t.filterArea || t.getBounds(!0)), s.sourceFrame.pad(l));
                t = this.tempRect.copyFrom(a.sourceFrame);
                (n.projection.transform && this.transformAABB(e_.copyFrom(n.projection.transform).invert(), t), c ? (s.sourceFrame.fit(t), (s.sourceFrame.width <= 0 || s.sourceFrame.height <= 0) && ((s.sourceFrame.width = 0), (s.sourceFrame.height = 0))) : s.sourceFrame.intersects(t) || ((s.sourceFrame.width = 0), (s.sourceFrame.height = 0)), this.roundFrame(s.sourceFrame, (a.current || n).resolution, a.sourceFrame, a.destinationFrame, n.projection.transform), (s.renderTexture = this.getOptimalFilterTexture(s.sourceFrame.width, s.sourceFrame.height, h, u)), (s.filters = e), (s.destinationFrame.width = s.renderTexture.width), (s.destinationFrame.height = s.renderTexture.height));
                t = this.tempRect;
                ((t.x = 0), (t.y = 0), (t.width = s.sourceFrame.width), (t.height = s.sourceFrame.height), (s.renderTexture.filterFrame = s.sourceFrame), s.bindingSourceFrame.copyFrom(a.sourceFrame), s.bindingDestinationFrame.copyFrom(a.destinationFrame), (s.transform = n.projection.transform), (n.projection.transform = null), a.bind(s.renderTexture, s.sourceFrame, t), n.framebuffer.clear(0, 0, 0, 0));
            }),
            (i_.prototype.pop = function () {
                var t = this.defaultFilterStack,
                    e = t.pop(),
                    r = e.filters;
                this.activeState = e;
                var i = this.globalUniforms.uniforms;
                ((i.outputFrame = e.sourceFrame), (i.resolution = e.resolution));
                var n = i.inputSize,
                    o = i.inputPixel,
                    s = i.inputClamp;
                ((n[0] = e.destinationFrame.width), (n[1] = e.destinationFrame.height), (n[2] = 1 / n[0]), (n[3] = 1 / n[1]), (o[0] = Math.round(n[0] * e.resolution)), (o[1] = Math.round(n[1] * e.resolution)), (o[2] = 1 / o[0]), (o[3] = 1 / o[1]), (s[0] = 0.5 * o[2]), (s[1] = 0.5 * o[3]), (s[2] = e.sourceFrame.width * n[2] - 0.5 * o[2]), (s[3] = e.sourceFrame.height * n[3] - 0.5 * o[3]), e.legacy && (((o = i.filterArea)[0] = e.destinationFrame.width), (o[1] = e.destinationFrame.height), (o[2] = e.sourceFrame.x), (o[3] = e.sourceFrame.y), (i.filterClamp = i.inputClamp)), this.globalUniforms.update());
                t = t[t.length - 1];
                if ((this.renderer.framebuffer.blit(), 1 === r.length)) (r[0].apply(this, e.renderTexture, t.renderTexture, $.CLEAR_MODES.BLEND, e), this.returnFilterTexture(e.renderTexture));
                else {
                    var a = e.renderTexture;
                    (l = this.getOptimalFilterTexture(a.width, a.height, e.resolution)).filterFrame = a.filterFrame;
                    for (var h = 0, h = 0; h < r.length - 1; ++h) {
                        (1 === h && 1 < e.multisample && ((l = this.getOptimalFilterTexture(a.width, a.height, e.resolution)).filterFrame = a.filterFrame), r[h].apply(this, a, l, $.CLEAR_MODES.CLEAR, e));
                        var u = a,
                            a = l,
                            l = u;
                    }
                    (r[h].apply(this, a, t.renderTexture, $.CLEAR_MODES.BLEND, e), 1 < h && 1 < e.multisample && this.returnFilterTexture(e.renderTexture), this.returnFilterTexture(a), this.returnFilterTexture(l));
                }
                (e.clear(), this.statePool.push(e));
            }),
            (i_.prototype.bindAndClear = function (t, e) {
                void 0 === e && (e = $.CLEAR_MODES.CLEAR);
                var r = this.renderer,
                    i = r.renderTexture,
                    n = r.state;
                (t === this.defaultFilterStack[this.defaultFilterStack.length - 1].renderTexture ? (this.renderer.projection.transform = this.activeState.transform) : (this.renderer.projection.transform = null), t && t.filterFrame ? (((r = this.tempRect).x = 0), (r.y = 0), (r.width = t.filterFrame.width), (r.height = t.filterFrame.height), i.bind(t, t.filterFrame, r)) : t !== this.defaultFilterStack[this.defaultFilterStack.length - 1].renderTexture ? i.bind(t) : this.renderer.renderTexture.bind(t, this.activeState.bindingSourceFrame, this.activeState.bindingDestinationFrame));
                n = 1 & n.stateId || this.forceClear;
                (e === $.CLEAR_MODES.CLEAR || (e === $.CLEAR_MODES.BLIT && n)) && this.renderer.framebuffer.clear(0, 0, 0, 0);
            }),
            (i_.prototype.applyFilter = function (t, e, r, i) {
                var n = this.renderer;
                (n.state.set(t.state), this.bindAndClear(r, i), (t.uniforms.uSampler = e), (t.uniforms.filterGlobals = this.globalUniforms), n.shader.bind(t), (t.legacy = !!t.program.attributeData.aTextureCoord), t.legacy ? (this.quadUv.map(e._frame, e.filterFrame), n.geometry.bind(this.quadUv), n.geometry.draw($.DRAW_MODES.TRIANGLES)) : (n.geometry.bind(this.quad), n.geometry.draw($.DRAW_MODES.TRIANGLE_STRIP)));
            }),
            (i_.prototype.calculateSpriteMatrix = function (t, e) {
                var r = this.activeState,
                    i = r.sourceFrame,
                    n = r.destinationFrame,
                    r = e._texture.orig,
                    n = t.set(n.width, 0, 0, n.height, i.x, i.y),
                    i = e.worldTransform.copyTo(yf.TEMP_MATRIX);
                return (i.invert(), n.prepend(i), n.scale(1 / r.width, 1 / r.height), n.translate(e.anchor.x, e.anchor.y), n);
            }),
            (i_.prototype.destroy = function () {
                ((this.renderer = null), this.texturePool.clear(!1));
            }),
            (i_.prototype.getOptimalFilterTexture = function (t, e, r, i) {
                return (void 0 === r && (r = 1), void 0 === i && (i = $.MSAA_QUALITY.NONE), this.texturePool.getOptimalTexture(t, e, r, i));
            }),
            (i_.prototype.getFilterTexture = function (t, e, r) {
                var i;
                ('number' == typeof t && ((i = t), (t = e), (e = i)), (t = t || this.activeState.renderTexture));
                r = this.texturePool.getOptimalTexture(t.width, t.height, e || t.resolution, r || $.MSAA_QUALITY.NONE);
                return ((r.filterFrame = t.filterFrame), r);
            }),
            (i_.prototype.returnFilterTexture = function (t) {
                this.texturePool.returnTexture(t);
            }),
            (i_.prototype.emptyPool = function () {
                this.texturePool.clear(!0);
            }),
            (i_.prototype.resize = function () {
                this.texturePool.setScreenSize(this.renderer.view);
            }),
            (i_.prototype.transformAABB = function (t, e) {
                var r = t_[0],
                    i = t_[1],
                    n = t_[2],
                    o = t_[3];
                (r.set(e.left, e.top), i.set(e.left, e.bottom), n.set(e.right, e.top), o.set(e.right, e.bottom), t.apply(r, r), t.apply(i, i), t.apply(n, n), t.apply(o, o));
                var s = Math.min(r.x, i.x, n.x, o.x),
                    a = Math.min(r.y, i.y, n.y, o.y),
                    t = Math.max(r.x, i.x, n.x, o.x),
                    o = Math.max(r.y, i.y, n.y, o.y);
                ((e.x = s), (e.y = a), (e.width = t - s), (e.height = o - a));
            }),
            (i_.prototype.roundFrame = function (t, e, r, i, n) {
                if (!(t.width <= 0 || t.height <= 0 || r.width <= 0 || r.height <= 0)) {
                    if (n) {
                        var o = n.a,
                            s = n.b,
                            a = n.c,
                            h = n.d;
                        if ((1e-4 < Math.abs(s) || 1e-4 < Math.abs(a)) && (1e-4 < Math.abs(o) || 1e-4 < Math.abs(h))) return;
                    }
                    ((n = n ? e_.copyFrom(n) : e_.identity())
                        .translate(-r.x, -r.y)
                        .scale(i.width / r.width, i.height / r.height)
                        .translate(i.x, i.y),
                        this.transformAABB(n, t),
                        t.ceil(e),
                        this.transformAABB(n.invert(), t));
                }
            }),
            i_);
    function i_(t) {
        ((this.renderer = t), (this.defaultFilterStack = [{}]), (this.texturePool = new Pp()), this.texturePool.setScreenSize(t.view), (this.statePool = []), (this.quad = new jp()), (this.quadUv = new zp()), (this.tempRect = new _f()), (this.activeState = {}), (this.globalUniforms = new Zp({ outputFrame: new _f(), inputSize: new Float32Array(4), inputPixel: new Float32Array(4), inputClamp: new Float32Array(4), resolution: 1, filterArea: new Float32Array(4), filterClamp: new Float32Array(4) }, !0)), (this.forceClear = !1), (this.useMaxPadding = !1));
    }
    var n_ =
        ((o_.prototype.flush = function () {}),
        (o_.prototype.destroy = function () {
            this.renderer = null;
        }),
        (o_.prototype.start = function () {}),
        (o_.prototype.stop = function () {
            this.flush();
        }),
        (o_.prototype.render = function (t) {}),
        o_);
    function o_(t) {
        this.renderer = t;
    }
    var s_ =
        ((a_.prototype.setObjectRenderer = function (t) {
            this.currentRenderer !== t && (this.currentRenderer.stop(), (this.currentRenderer = t), this.currentRenderer.start());
        }),
        (a_.prototype.flush = function () {
            this.setObjectRenderer(this.emptyRenderer);
        }),
        (a_.prototype.reset = function () {
            this.setObjectRenderer(this.emptyRenderer);
        }),
        (a_.prototype.copyBoundTextures = function (t, e) {
            for (var r = this.renderer.texture.boundTextures, i = e - 1; 0 <= i; --i) ((t[i] = r[i] || null), t[i] && (t[i]._batchLocation = i));
        }),
        (a_.prototype.boundArray = function (t, e, r, i) {
            for (var n = t.elements, o = t.ids, s = t.count, a = 0, h = 0; h < s; h++) {
                var u = n[h],
                    l = u._batchLocation;
                if (0 <= l && l < i && e[l] === u) o[h] = l;
                else
                    for (; a < i; ) {
                        var c = e[a];
                        if (!c || c._batchEnabled !== r || c._batchLocation !== a) {
                            ((o[h] = a), (e[(u._batchLocation = a)] = u));
                            break;
                        }
                        a++;
                    }
            }
        }),
        (a_.prototype.destroy = function () {
            this.renderer = null;
        }),
        a_);
    function a_(t) {
        ((this.renderer = t), (this.emptyRenderer = new n_(t)), (this.currentRenderer = this.emptyRenderer));
    }
    var h_ = 0,
        u_ =
            (Object.defineProperty(l_.prototype, 'isLost', {
                get: function () {
                    return !this.gl || this.gl.isContextLost();
                },
                enumerable: !1,
                configurable: !0,
            }),
            (l_.prototype.contextChange = function (t) {
                ((this.gl = t), (this.renderer.gl = t), (this.renderer.CONTEXT_UID = h_++), t.isContextLost() && t.getExtension('WEBGL_lose_context') && t.getExtension('WEBGL_lose_context').restoreContext());
            }),
            (l_.prototype.initFromContext = function (t) {
                ((this.gl = t), this.validateContext(t), (this.renderer.gl = t), (this.renderer.CONTEXT_UID = h_++), this.renderer.runners.contextChange.emit(t));
            }),
            (l_.prototype.initFromOptions = function (t) {
                t = this.createContext(this.renderer.view, t);
                this.initFromContext(t);
            }),
            (l_.prototype.createContext = function (t, e) {
                var r;
                if ((G.PREFER_ENV >= $.ENV.WEBGL2 && (r = t.getContext('webgl2', e)), r)) this.webGLVersion = 2;
                else if (((this.webGLVersion = 1), !(r = t.getContext('webgl', e) || t.getContext('experimental-webgl', e)))) throw new Error('This browser does not support WebGL. Try using the canvas renderer');
                return ((this.gl = r), this.getExtensions(), this.gl);
            }),
            (l_.prototype.getExtensions = function () {
                var t = this.gl,
                    e = { anisotropicFiltering: t.getExtension('EXT_texture_filter_anisotropic'), floatTextureLinear: t.getExtension('OES_texture_float_linear'), s3tc: t.getExtension('WEBGL_compressed_texture_s3tc'), s3tc_sRGB: t.getExtension('WEBGL_compressed_texture_s3tc_srgb'), etc: t.getExtension('WEBGL_compressed_texture_etc'), etc1: t.getExtension('WEBGL_compressed_texture_etc1'), pvrtc: t.getExtension('WEBGL_compressed_texture_pvrtc') || t.getExtension('WEBKIT_WEBGL_compressed_texture_pvrtc'), atc: t.getExtension('WEBGL_compressed_texture_atc'), astc: t.getExtension('WEBGL_compressed_texture_astc') };
                1 === this.webGLVersion ? Object.assign(this.extensions, e, { drawBuffers: t.getExtension('WEBGL_draw_buffers'), depthTexture: t.getExtension('WEBGL_depth_texture'), loseContext: t.getExtension('WEBGL_lose_context'), vertexArrayObject: t.getExtension('OES_vertex_array_object') || t.getExtension('MOZ_OES_vertex_array_object') || t.getExtension('WEBKIT_OES_vertex_array_object'), uint32ElementIndex: t.getExtension('OES_element_index_uint'), floatTexture: t.getExtension('OES_texture_float'), floatTextureLinear: t.getExtension('OES_texture_float_linear'), textureHalfFloat: t.getExtension('OES_texture_half_float'), textureHalfFloatLinear: t.getExtension('OES_texture_half_float_linear') }) : 2 === this.webGLVersion && Object.assign(this.extensions, e, { colorBufferFloat: t.getExtension('EXT_color_buffer_float') });
            }),
            (l_.prototype.handleContextLost = function (t) {
                t.preventDefault();
            }),
            (l_.prototype.handleContextRestored = function () {
                this.renderer.runners.contextChange.emit(this.gl);
            }),
            (l_.prototype.destroy = function () {
                var t = this.renderer.view;
                ((this.renderer = null), t.removeEventListener('webglcontextlost', this.handleContextLost), t.removeEventListener('webglcontextrestored', this.handleContextRestored), this.gl.useProgram(null), this.extensions.loseContext && this.extensions.loseContext.loseContext());
            }),
            (l_.prototype.postrender = function () {
                this.renderer.renderingToScreen && this.gl.flush();
            }),
            (l_.prototype.validateContext = function (t) {
                var e = t.getContextAttributes(),
                    r = 'WebGL2RenderingContext' in globalThis && t instanceof globalThis.WebGL2RenderingContext;
                (r && (this.webGLVersion = 2), e && !e.stencil && console.warn('Provided WebGL context does not have a stencil buffer, masks may not render correctly'));
                t = r || !!t.getExtension('OES_element_index_uint');
                (this.supports.uint32Indices = t) || console.warn('Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly');
            }),
            l_);
    function l_(t) {
        ((this.renderer = t), (this.webGLVersion = 1), (this.extensions = {}), (this.supports = { uint32Indices: !1 }), (this.handleContextLost = this.handleContextLost.bind(this)), (this.handleContextRestored = this.handleContextRestored.bind(this)), t.view.addEventListener('webglcontextlost', this.handleContextLost, !1), t.view.addEventListener('webglcontextrestored', this.handleContextRestored, !1));
    }
    var c_ = function (t) {
            ((this.framebuffer = t), (this.stencil = null), (this.dirtyId = -1), (this.dirtyFormat = -1), (this.dirtySize = -1), (this.multisample = $.MSAA_QUALITY.NONE), (this.msaaBuffer = null), (this.blitFramebuffer = null), (this.mipLevel = 0));
        },
        d_ = new _f(),
        f_ =
            ((p_.prototype.contextChange = function () {
                var e,
                    t,
                    r = (this.gl = this.renderer.gl);
                ((this.CONTEXT_UID = this.renderer.CONTEXT_UID),
                    (this.current = this.unknownFramebuffer),
                    (this.viewport = new _f()),
                    (this.hasMRT = !0),
                    (this.writeDepthTexture = !0),
                    this.disposeAll(!0),
                    1 === this.renderer.context.webGLVersion
                        ? ((e = this.renderer.context.extensions.drawBuffers),
                          (t = this.renderer.context.extensions.depthTexture),
                          G.PREFER_ENV === $.ENV.WEBGL_LEGACY && (t = e = null),
                          e
                              ? (r.drawBuffers = function (t) {
                                    return e.drawBuffersWEBGL(t);
                                })
                              : ((this.hasMRT = !1), (r.drawBuffers = function () {})),
                          t || (this.writeDepthTexture = !1))
                        : (this.msaaSamples = r.getInternalformatParameter(r.RENDERBUFFER, r.RGBA8, r.SAMPLES)));
            }),
            (p_.prototype.bind = function (t, e, r) {
                void 0 === r && (r = 0);
                var i = this.gl;
                if (t) {
                    var n = t.glFramebuffers[this.CONTEXT_UID] || this.initFramebuffer(t);
                    (this.current !== t && ((this.current = t), i.bindFramebuffer(i.FRAMEBUFFER, n.framebuffer)), n.mipLevel !== r && (t.dirtyId++, t.dirtyFormat++, (n.mipLevel = r)), n.dirtyId !== t.dirtyId && ((n.dirtyId = t.dirtyId), n.dirtyFormat !== t.dirtyFormat ? ((n.dirtyFormat = t.dirtyFormat), (n.dirtySize = t.dirtySize), this.updateFramebuffer(t, r)) : n.dirtySize !== t.dirtySize && ((n.dirtySize = t.dirtySize), this.resizeFramebuffer(t))));
                    for (var o, s, a = 0; a < t.colorTextures.length; a++) {
                        var h = t.colorTextures[a];
                        this.renderer.texture.unbind(h.parentTextureArray || h);
                    }
                    (t.depthTexture && this.renderer.texture.unbind(t.depthTexture), e ? ((o = e.width >> r), (s = e.height >> r), (n = o / e.width), this.setViewport(e.x * n, e.y * n, o, s)) : ((o = t.width >> r), (s = t.height >> r), this.setViewport(0, 0, o, s)));
                } else (this.current && ((this.current = null), i.bindFramebuffer(i.FRAMEBUFFER, null)), e ? this.setViewport(e.x, e.y, e.width, e.height) : this.setViewport(0, 0, this.renderer.width, this.renderer.height));
            }),
            (p_.prototype.setViewport = function (t, e, r, i) {
                var n = this.viewport;
                ((t = Math.round(t)), (e = Math.round(e)), (r = Math.round(r)), (i = Math.round(i)), (n.width === r && n.height === i && n.x === t && n.y === e) || ((n.x = t), (n.y = e), (n.width = r), (n.height = i), this.gl.viewport(t, e, r, i)));
            }),
            Object.defineProperty(p_.prototype, 'size', {
                get: function () {
                    return this.current ? { x: 0, y: 0, width: this.current.width, height: this.current.height } : { x: 0, y: 0, width: this.renderer.width, height: this.renderer.height };
                },
                enumerable: !1,
                configurable: !0,
            }),
            (p_.prototype.clear = function (t, e, r, i, n) {
                void 0 === n && (n = $.BUFFER_BITS.COLOR | $.BUFFER_BITS.DEPTH);
                var o = this.gl;
                (o.clearColor(t, e, r, i), o.clear(n));
            }),
            (p_.prototype.initFramebuffer = function (t) {
                var e = this.gl,
                    e = new c_(e.createFramebuffer());
                return ((e.multisample = this.detectSamples(t.multisample)), (t.glFramebuffers[this.CONTEXT_UID] = e), this.managedFramebuffers.push(t), t.disposeRunner.add(this), e);
            }),
            (p_.prototype.resizeFramebuffer = function (t) {
                var e = this.gl,
                    r = t.glFramebuffers[this.CONTEXT_UID];
                (r.msaaBuffer && (e.bindRenderbuffer(e.RENDERBUFFER, r.msaaBuffer), e.renderbufferStorageMultisample(e.RENDERBUFFER, r.multisample, e.RGBA8, t.width, t.height)), r.stencil && (e.bindRenderbuffer(e.RENDERBUFFER, r.stencil), r.msaaBuffer ? e.renderbufferStorageMultisample(e.RENDERBUFFER, r.multisample, e.DEPTH24_STENCIL8, t.width, t.height) : e.renderbufferStorage(e.RENDERBUFFER, e.DEPTH_STENCIL, t.width, t.height)));
                var i = t.colorTextures,
                    n = i.length;
                e.drawBuffers || (n = Math.min(n, 1));
                for (var o = 0; o < n; o++) {
                    var s = i[o],
                        s = s.parentTextureArray || s;
                    this.renderer.texture.bind(s, 0);
                }
                t.depthTexture && this.writeDepthTexture && this.renderer.texture.bind(t.depthTexture, 0);
            }),
            (p_.prototype.updateFramebuffer = function (t, e) {
                var r = this.gl,
                    i = t.glFramebuffers[this.CONTEXT_UID],
                    n = t.colorTextures,
                    o = n.length;
                (r.drawBuffers || (o = Math.min(o, 1)), 1 < i.multisample && this.canMultisampleFramebuffer(t) ? ((i.msaaBuffer = i.msaaBuffer || r.createRenderbuffer()), r.bindRenderbuffer(r.RENDERBUFFER, i.msaaBuffer), r.renderbufferStorageMultisample(r.RENDERBUFFER, i.multisample, r.RGBA8, t.width, t.height), r.framebufferRenderbuffer(r.FRAMEBUFFER, r.COLOR_ATTACHMENT0, r.RENDERBUFFER, i.msaaBuffer)) : i.msaaBuffer && (r.deleteRenderbuffer(i.msaaBuffer), (i.msaaBuffer = null), i.blitFramebuffer && (i.blitFramebuffer.dispose(), (i.blitFramebuffer = null))));
                for (var s, a = [], h = 0; h < o; h++) {
                    var u = n[h],
                        l = u.parentTextureArray || u;
                    (this.renderer.texture.bind(l, 0), (0 === h && i.msaaBuffer) || (r.framebufferTexture2D(r.FRAMEBUFFER, r.COLOR_ATTACHMENT0 + h, u.target, l._glTextures[this.CONTEXT_UID].texture, e), a.push(r.COLOR_ATTACHMENT0 + h)));
                }
                (1 < a.length && r.drawBuffers(a), t.depthTexture && this.writeDepthTexture && ((s = t.depthTexture), this.renderer.texture.bind(s, 0), r.framebufferTexture2D(r.FRAMEBUFFER, r.DEPTH_ATTACHMENT, r.TEXTURE_2D, s._glTextures[this.CONTEXT_UID].texture, e)), (!t.stencil && !t.depth) || (t.depthTexture && this.writeDepthTexture) ? i.stencil && (r.deleteRenderbuffer(i.stencil), (i.stencil = null)) : ((i.stencil = i.stencil || r.createRenderbuffer()), r.bindRenderbuffer(r.RENDERBUFFER, i.stencil), i.msaaBuffer ? r.renderbufferStorageMultisample(r.RENDERBUFFER, i.multisample, r.DEPTH24_STENCIL8, t.width, t.height) : r.renderbufferStorage(r.RENDERBUFFER, r.DEPTH_STENCIL, t.width, t.height), r.framebufferRenderbuffer(r.FRAMEBUFFER, r.DEPTH_STENCIL_ATTACHMENT, r.RENDERBUFFER, i.stencil)));
            }),
            (p_.prototype.canMultisampleFramebuffer = function (t) {
                return 1 !== this.renderer.context.webGLVersion && t.colorTextures.length <= 1 && !t.depthTexture;
            }),
            (p_.prototype.detectSamples = function (t) {
                var e = this.msaaSamples,
                    r = $.MSAA_QUALITY.NONE;
                if (t <= 1 || null === e) return r;
                for (var i = 0; i < e.length; i++)
                    if (e[i] <= t) {
                        r = e[i];
                        break;
                    }
                return (1 === r && (r = $.MSAA_QUALITY.NONE), r);
            }),
            (p_.prototype.blit = function (t, e, r) {
                var i = this.current,
                    n = this.renderer,
                    o = this.gl,
                    s = this.CONTEXT_UID;
                if (2 === n.context.webGLVersion && i) {
                    n = i.glFramebuffers[s];
                    if (n) {
                        if (!t) {
                            if (!n.msaaBuffer) return;
                            s = i.colorTextures[0];
                            if (!s) return;
                            (n.blitFramebuffer || ((n.blitFramebuffer = new mp(i.width, i.height)), n.blitFramebuffer.addColorTexture(0, s)), (t = n.blitFramebuffer).colorTextures[0] !== s && ((t.colorTextures[0] = s), t.dirtyId++, t.dirtyFormat++), (t.width === i.width && t.height === i.height) || ((t.width = i.width), (t.height = i.height), t.dirtyId++, t.dirtySize++));
                        }
                        (e || (((e = d_).width = i.width), (e.height = i.height)), (r = r || e));
                        i = e.width === r.width && e.height === r.height;
                        (this.bind(t), o.bindFramebuffer(o.READ_FRAMEBUFFER, n.framebuffer), o.blitFramebuffer(e.left, e.top, e.right, e.bottom, r.left, r.top, r.right, r.bottom, o.COLOR_BUFFER_BIT, i ? o.NEAREST : o.LINEAR));
                    }
                }
            }),
            (p_.prototype.disposeFramebuffer = function (t, e) {
                var r,
                    i = t.glFramebuffers[this.CONTEXT_UID],
                    n = this.gl;
                i && (delete t.glFramebuffers[this.CONTEXT_UID], 0 <= (r = this.managedFramebuffers.indexOf(t)) && this.managedFramebuffers.splice(r, 1), t.disposeRunner.remove(this), e || (n.deleteFramebuffer(i.framebuffer), i.msaaBuffer && n.deleteRenderbuffer(i.msaaBuffer), i.stencil && n.deleteRenderbuffer(i.stencil)), i.blitFramebuffer && i.blitFramebuffer.dispose());
            }),
            (p_.prototype.disposeAll = function (t) {
                var e = this.managedFramebuffers;
                this.managedFramebuffers = [];
                for (var r = 0; r < e.length; r++) this.disposeFramebuffer(e[r], t);
            }),
            (p_.prototype.forceStencil = function () {
                var t,
                    e,
                    r,
                    i,
                    n = this.current;
                !n || ((t = n.glFramebuffers[this.CONTEXT_UID]) && !t.stencil && ((n.stencil = !0), (e = n.width), (r = n.height), (n = (i = this.gl).createRenderbuffer()), i.bindRenderbuffer(i.RENDERBUFFER, n), t.msaaBuffer ? i.renderbufferStorageMultisample(i.RENDERBUFFER, t.multisample, i.DEPTH24_STENCIL8, e, r) : i.renderbufferStorage(i.RENDERBUFFER, i.DEPTH_STENCIL, e, r), (t.stencil = n), i.framebufferRenderbuffer(i.FRAMEBUFFER, i.DEPTH_STENCIL_ATTACHMENT, i.RENDERBUFFER, n)));
            }),
            (p_.prototype.reset = function () {
                ((this.current = this.unknownFramebuffer), (this.viewport = new _f()));
            }),
            (p_.prototype.destroy = function () {
                this.renderer = null;
            }),
            p_);
    function p_(t) {
        ((this.renderer = t), (this.managedFramebuffers = []), (this.unknownFramebuffer = new mp(10, 10)), (this.msaaSamples = null));
    }
    var __ = { 5126: 4, 5123: 2, 5121: 1 },
        m_ =
            ((E_.prototype.contextChange = function () {
                this.disposeAll(!0);
                var e,
                    o,
                    t = (this.gl = this.renderer.gl),
                    r = this.renderer.context;
                ((this.CONTEXT_UID = this.renderer.CONTEXT_UID),
                    2 !== r.webGLVersion &&
                        ((e = this.renderer.context.extensions.vertexArrayObject),
                        G.PREFER_ENV === $.ENV.WEBGL_LEGACY && (e = null),
                        e
                            ? ((t.createVertexArray = function () {
                                  return e.createVertexArrayOES();
                              }),
                              (t.bindVertexArray = function (t) {
                                  return e.bindVertexArrayOES(t);
                              }),
                              (t.deleteVertexArray = function (t) {
                                  return e.deleteVertexArrayOES(t);
                              }))
                            : ((this.hasVao = !1),
                              (t.createVertexArray = function () {
                                  return null;
                              }),
                              (t.bindVertexArray = function () {
                                  return null;
                              }),
                              (t.deleteVertexArray = function () {
                                  return null;
                              }))),
                    2 !== r.webGLVersion &&
                        ((o = t.getExtension('ANGLE_instanced_arrays'))
                            ? ((t.vertexAttribDivisor = function (t, e) {
                                  return o.vertexAttribDivisorANGLE(t, e);
                              }),
                              (t.drawElementsInstanced = function (t, e, r, i, n) {
                                  return o.drawElementsInstancedANGLE(t, e, r, i, n);
                              }),
                              (t.drawArraysInstanced = function (t, e, r, i) {
                                  return o.drawArraysInstancedANGLE(t, e, r, i);
                              }))
                            : (this.hasInstance = !1)),
                    (this.canUseUInt32ElementIndex = 2 === r.webGLVersion || !!r.extensions.uint32ElementIndex));
            }),
            (E_.prototype.bind = function (t, e) {
                e = e || this.renderer.shader.shader;
                var r = this.gl,
                    i = t.glVertexArrayObjects[this.CONTEXT_UID],
                    n = !1;
                i || ((this.managedGeometries[t.id] = t).disposeRunner.add(this), (t.glVertexArrayObjects[this.CONTEXT_UID] = i = {}), (n = !0));
                n = i[e.program.id] || this.initGeometryVao(t, e, n);
                ((this._activeGeometry = t), this._activeVao !== n && ((this._activeVao = n), this.hasVao ? r.bindVertexArray(n) : this.activateVao(t, e.program)), this.updateBuffers());
            }),
            (E_.prototype.reset = function () {
                this.unbind();
            }),
            (E_.prototype.updateBuffers = function () {
                for (var t = this._activeGeometry, e = this.renderer.buffer, r = 0; r < t.buffers.length; r++) {
                    var i = t.buffers[r];
                    e.update(i);
                }
            }),
            (E_.prototype.checkCompatibility = function (t, e) {
                var r,
                    i = t.attributes;
                for (r in e.attributeData) if (!i[r]) throw new Error('shader and geometry incompatible, geometry missing the "' + r + '" attribute');
            }),
            (E_.prototype.getSignature = function (t, e) {
                var r,
                    i = t.attributes,
                    n = e.attributeData,
                    o = ['g', t.id];
                for (r in i) n[r] && o.push(r, n[r].location);
                return o.join('-');
            }),
            (E_.prototype.initGeometryVao = function (t, e, r) {
                void 0 === r && (r = !0);
                var i = this.gl,
                    n = this.CONTEXT_UID,
                    o = this.renderer.buffer,
                    s = e.program;
                (s.glPrograms[n] || this.renderer.shader.generateProgram(e), this.checkCompatibility(t, s));
                var a = this.getSignature(t, s),
                    h = t.glVertexArrayObjects[this.CONTEXT_UID],
                    e = h[a];
                if (e) return (h[s.id] = e);
                var u,
                    l = t.buffers,
                    c = t.attributes,
                    d = {},
                    f = {};
                for (u in l) ((d[u] = 0), (f[u] = 0));
                for (u in c) (!c[u].size && s.attributeData[u] ? (c[u].size = s.attributeData[u].size) : c[u].size || console.warn("PIXI Geometry attribute '" + u + "' size cannot be determined (likely the bound shader does not have the attribute)"), (d[c[u].buffer] += c[u].size * __[c[u].type]));
                for (u in c) {
                    var p = c[u],
                        _ = p.size;
                    (void 0 === p.stride && (d[p.buffer] === _ * __[p.type] ? (p.stride = 0) : (p.stride = d[p.buffer])), void 0 === p.start && ((p.start = f[p.buffer]), (f[p.buffer] += _ * __[p.type])));
                }
                ((e = i.createVertexArray()), i.bindVertexArray(e));
                for (var m = 0; m < l.length; m++) {
                    var E = l[m];
                    (o.bind(E), r && E._glBuffers[n].refCount++);
                }
                return (this.activateVao(t, s), (this._activeVao = e), (h[s.id] = e), (h[a] = e));
            }),
            (E_.prototype.disposeGeometry = function (t, e) {
                var r;
                if (this.managedGeometries[t.id]) {
                    delete this.managedGeometries[t.id];
                    var i,
                        n = t.glVertexArrayObjects[this.CONTEXT_UID],
                        o = this.gl,
                        s = t.buffers,
                        a = null === (r = this.renderer) || void 0 === r ? void 0 : r.buffer;
                    if ((t.disposeRunner.remove(this), n)) {
                        if (a)
                            for (var h = 0; h < s.length; h++) {
                                var u = s[h]._glBuffers[this.CONTEXT_UID];
                                u && (u.refCount--, 0 !== u.refCount || e || a.dispose(s[h], e));
                            }
                        if (!e) for (var l in n) 'g' === l[0] && ((i = n[l]), this._activeVao === i && this.unbind(), o.deleteVertexArray(i));
                        delete t.glVertexArrayObjects[this.CONTEXT_UID];
                    }
                }
            }),
            (E_.prototype.disposeAll = function (t) {
                for (var e = Object.keys(this.managedGeometries), r = 0; r < e.length; r++) this.disposeGeometry(this.managedGeometries[e[r]], t);
            }),
            (E_.prototype.activateVao = function (t, e) {
                var r = this.gl,
                    i = this.CONTEXT_UID,
                    n = this.renderer.buffer,
                    o = t.buffers,
                    s = t.attributes;
                t.indexBuffer && n.bind(t.indexBuffer);
                var a,
                    h = null;
                for (a in s) {
                    var u = s[a],
                        l = o[u.buffer],
                        c = l._glBuffers[i];
                    if (e.attributeData[a]) {
                        h !== c && (n.bind(l), (h = c));
                        c = e.attributeData[a].location;
                        if ((r.enableVertexAttribArray(c), r.vertexAttribPointer(c, u.size, u.type || r.FLOAT, u.normalized, u.stride, u.start), u.instance)) {
                            if (!this.hasInstance) throw new Error('geometry error, GPU Instancing is not supported on this device');
                            r.vertexAttribDivisor(c, 1);
                        }
                    }
                }
            }),
            (E_.prototype.draw = function (t, e, r, i) {
                var n,
                    o,
                    s = this.gl,
                    a = this._activeGeometry;
                return (a.indexBuffer ? ((o = 2 === (n = a.indexBuffer.data.BYTES_PER_ELEMENT) ? s.UNSIGNED_SHORT : s.UNSIGNED_INT), 2 === n || (4 === n && this.canUseUInt32ElementIndex) ? (a.instanced ? s.drawElementsInstanced(t, e || a.indexBuffer.data.length, o, (r || 0) * n, i || 1) : s.drawElements(t, e || a.indexBuffer.data.length, o, (r || 0) * n)) : console.warn('unsupported index buffer type: uint32')) : a.instanced ? s.drawArraysInstanced(t, r, e || a.getSize(), i || 1) : s.drawArrays(t, r, e || a.getSize()), this);
            }),
            (E_.prototype.unbind = function () {
                (this.gl.bindVertexArray(null), (this._activeVao = null), (this._activeGeometry = null));
            }),
            (E_.prototype.destroy = function () {
                this.renderer = null;
            }),
            E_);
    function E_(t) {
        ((this.renderer = t), (this._activeGeometry = null), (this._activeVao = null), (this.hasVao = !0), (this.hasInstance = !0), (this.canUseUInt32ElementIndex = !1), (this.managedGeometries = {}));
    }
    var v_ =
        (Object.defineProperty(y_.prototype, 'filter', {
            get: function () {
                return this._filters ? this._filters[0] : null;
            },
            set: function (t) {
                t ? (this._filters ? (this._filters[0] = t) : (this._filters = [t])) : (this._filters = null);
            },
            enumerable: !1,
            configurable: !0,
        }),
        (y_.prototype.reset = function () {
            (this.pooled && ((this.maskObject = null), (this.type = $.MASK_TYPES.NONE), (this.autoDetect = !0)), (this._target = null), (this._scissorRectLocal = null));
        }),
        (y_.prototype.copyCountersOrReset = function (t) {
            t ? ((this._stencilCounter = t._stencilCounter), (this._scissorCounter = t._scissorCounter), (this._scissorRect = t._scissorRect)) : ((this._stencilCounter = 0), (this._scissorCounter = 0), (this._scissorRect = null));
        }),
        y_);
    function y_(t) {
        (void 0 === t && (t = null), (this.type = $.MASK_TYPES.NONE), (this.autoDetect = !0), (this.maskObject = t || null), (this.pooled = !1), (this.isMaskData = !0), (this.resolution = null), (this.multisample = G.FILTER_MULTISAMPLE), (this.enabled = !0), (this._filters = null), (this._stencilCounter = 0), (this._scissorCounter = 0), (this._scissorRect = null), (this._scissorRectLocal = null), (this._target = null));
    }
    function g_(t, e, r) {
        e = t.createShader(e);
        return (t.shaderSource(e, r), t.compileShader(e), e);
    }
    function T_(t, e) {
        var r = t
                .getShaderSource(e)
                .split('\n')
                .map(function (t, e) {
                    return e + ': ' + t;
                }),
            t = t.getShaderInfoLog(e),
            e = t.split('\n'),
            i = {},
            e = e
                .map(function (t) {
                    return parseFloat(t.replace(/^ERROR\: 0\:([\d]+)\:.*$/, '$1'));
                })
                .filter(function (t) {
                    return !(!t || i[t]) && (i[t] = !0);
                }),
            n = [''];
        e.forEach(function (t) {
            ((r[t - 1] = '%c' + r[t - 1] + '%c'), n.push('background: #FF0000; color:#FFFFFF; font-size: 10px', 'font-size: 10px'));
        });
        e = r.join('\n');
        ((n[0] = e), console.error(t), console.groupCollapsed('click to view full shader code'), console.warn.apply(console, n), console.groupEnd());
    }
    function b_(t) {
        for (var e = new Array(t), r = 0; r < e.length; r++) e[r] = !1;
        return e;
    }
    function x_(t, e) {
        switch (t) {
            case 'float':
                return 0;
            case 'vec2':
                return new Float32Array(2 * e);
            case 'vec3':
                return new Float32Array(3 * e);
            case 'vec4':
                return new Float32Array(4 * e);
            case 'int':
            case 'uint':
            case 'sampler2D':
            case 'sampler2DArray':
                return 0;
            case 'ivec2':
                return new Int32Array(2 * e);
            case 'ivec3':
                return new Int32Array(3 * e);
            case 'ivec4':
                return new Int32Array(4 * e);
            case 'uvec2':
                return new Uint32Array(2 * e);
            case 'uvec3':
                return new Uint32Array(3 * e);
            case 'uvec4':
                return new Uint32Array(4 * e);
            case 'bool':
                return !1;
            case 'bvec2':
                return b_(2 * e);
            case 'bvec3':
                return b_(3 * e);
            case 'bvec4':
                return b_(4 * e);
            case 'mat2':
                return new Float32Array([1, 0, 0, 1]);
            case 'mat3':
                return new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]);
            case 'mat4':
                return new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);
        }
        return null;
    }
    var R_,
        A_ = {},
        S_ = A_;
    function O_() {
        var t, e;
        return (R_ || ((R_ = $.PRECISION.MEDIUM), (S_ === A_ || (S_ && S_.isContextLost())) && ((t = document.createElement('canvas')), (e = void 0), G.PREFER_ENV >= $.ENV.WEBGL2 && (e = t.getContext('webgl2', {})), e || ((e = t.getContext('webgl', {}) || t.getContext('experimental-webgl', {})) ? e.getExtension('WEBGL_draw_buffers') : (e = null)), (S_ = e)), (e = S_) && e.getShaderPrecisionFormat && ((e = e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.HIGH_FLOAT)), (R_ = e.precision ? $.PRECISION.HIGH : $.PRECISION.MEDIUM))), R_);
    }
    function I_(t, e, r) {
        if ('precision' === t.substring(0, 9)) return r !== $.PRECISION.HIGH && 'precision highp' === t.substring(0, 15) ? t.replace('precision highp', 'precision mediump') : t;
        var i = e;
        return (e === $.PRECISION.HIGH && r !== $.PRECISION.HIGH && (i = $.PRECISION.MEDIUM), 'precision ' + i + ' float;\n' + t);
    }
    var M_ = { float: 1, vec2: 2, vec3: 3, vec4: 4, int: 1, ivec2: 2, ivec3: 3, ivec4: 4, uint: 1, uvec2: 2, uvec3: 3, uvec4: 4, bool: 1, bvec2: 2, bvec3: 3, bvec4: 4, mat2: 4, mat3: 9, mat4: 16, sampler2D: 1 };
    function N_(t) {
        return M_[t];
    }
    var P_ = null,
        D_ = { FLOAT: 'float', FLOAT_VEC2: 'vec2', FLOAT_VEC3: 'vec3', FLOAT_VEC4: 'vec4', INT: 'int', INT_VEC2: 'ivec2', INT_VEC3: 'ivec3', INT_VEC4: 'ivec4', UNSIGNED_INT: 'uint', UNSIGNED_INT_VEC2: 'uvec2', UNSIGNED_INT_VEC3: 'uvec3', UNSIGNED_INT_VEC4: 'uvec4', BOOL: 'bool', BOOL_VEC2: 'bvec2', BOOL_VEC3: 'bvec3', BOOL_VEC4: 'bvec4', FLOAT_MAT2: 'mat2', FLOAT_MAT3: 'mat3', FLOAT_MAT4: 'mat4', SAMPLER_2D: 'sampler2D', INT_SAMPLER_2D: 'sampler2D', UNSIGNED_INT_SAMPLER_2D: 'sampler2D', SAMPLER_CUBE: 'samplerCube', INT_SAMPLER_CUBE: 'samplerCube', UNSIGNED_INT_SAMPLER_CUBE: 'samplerCube', SAMPLER_2D_ARRAY: 'sampler2DArray', INT_SAMPLER_2D_ARRAY: 'sampler2DArray', UNSIGNED_INT_SAMPLER_2D_ARRAY: 'sampler2DArray' };
    function C_(t, e) {
        if (!P_) {
            var r = Object.keys(D_);
            P_ = {};
            for (var i = 0; i < r.length; ++i) {
                var n = r[i];
                P_[t[n]] = D_[n];
            }
        }
        return P_[e];
    }
    var w_ = [
            {
                test: function (t) {
                    return 'float' === t.type && 1 === t.size;
                },
                code: function (t) {
                    return '\n            if(uv["' + t + '"] !== ud["' + t + '"].value)\n            {\n                ud["' + t + '"].value = uv["' + t + '"]\n                gl.uniform1f(ud["' + t + '"].location, uv["' + t + '"])\n            }\n            ';
                },
            },
            {
                test: function (t) {
                    return ('sampler2D' === t.type || 'samplerCube' === t.type || 'sampler2DArray' === t.type) && 1 === t.size && !t.isArray;
                },
                code: function (t) {
                    return 't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["' + t + '"], t);\n\n            if(ud["' + t + '"].value !== t)\n            {\n                ud["' + t + '"].value = t;\n                gl.uniform1i(ud["' + t + '"].location, t);\n; // eslint-disable-line max-len\n            }';
                },
            },
            {
                test: function (t, e) {
                    return 'mat3' === t.type && 1 === t.size && void 0 !== e.a;
                },
                code: function (t) {
                    return '\n            gl.uniformMatrix3fv(ud["' + t + '"].location, false, uv["' + t + '"].toArray(true));\n            ';
                },
                codeUbo: function (t) {
                    return '\n                var ' + t + '_matrix = uv.' + t + '.toArray(true);\n\n                data[offset] = ' + t + '_matrix[0];\n                data[offset+1] = ' + t + '_matrix[1];\n                data[offset+2] = ' + t + '_matrix[2];\n        \n                data[offset + 4] = ' + t + '_matrix[3];\n                data[offset + 5] = ' + t + '_matrix[4];\n                data[offset + 6] = ' + t + '_matrix[5];\n        \n                data[offset + 8] = ' + t + '_matrix[6];\n                data[offset + 9] = ' + t + '_matrix[7];\n                data[offset + 10] = ' + t + '_matrix[8];\n            ';
                },
            },
            {
                test: function (t, e) {
                    return 'vec2' === t.type && 1 === t.size && void 0 !== e.x;
                },
                code: function (t) {
                    return '\n                cv = ud["' + t + '"].value;\n                v = uv["' + t + '"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["' + t + '"].location, v.x, v.y);\n                }';
                },
                codeUbo: function (t) {
                    return '\n                v = uv.' + t + ';\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            ';
                },
            },
            {
                test: function (t) {
                    return 'vec2' === t.type && 1 === t.size;
                },
                code: function (t) {
                    return '\n                cv = ud["' + t + '"].value;\n                v = uv["' + t + '"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["' + t + '"].location, v[0], v[1]);\n                }\n            ';
                },
            },
            {
                test: function (t, e) {
                    return 'vec4' === t.type && 1 === t.size && void 0 !== e.width;
                },
                code: function (t) {
                    return '\n                cv = ud["' + t + '"].value;\n                v = uv["' + t + '"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["' + t + '"].location, v.x, v.y, v.width, v.height)\n                }';
                },
                codeUbo: function (t) {
                    return '\n                    v = uv.' + t + ';\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                ';
                },
            },
            {
                test: function (t) {
                    return 'vec4' === t.type && 1 === t.size;
                },
                code: function (t) {
                    return '\n                cv = ud["' + t + '"].value;\n                v = uv["' + t + '"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["' + t + '"].location, v[0], v[1], v[2], v[3])\n                }';
                },
            },
        ],
        L_ = {
            float: '\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }',
            vec2: '\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }',
            vec3: '\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }',
            vec4: '\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }',
            int: '\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }',
            ivec2: '\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }',
            ivec3: '\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }',
            ivec4: '\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }',
            uint: '\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }',
            uvec2: '\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }',
            uvec3: '\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }',
            uvec4: '\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }',
            bool: '\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }',
            bvec2: '\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }',
            bvec3: '\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }',
            bvec4: '\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }',
            mat2: 'gl.uniformMatrix2fv(location, false, v)',
            mat3: 'gl.uniformMatrix3fv(location, false, v)',
            mat4: 'gl.uniformMatrix4fv(location, false, v)',
            sampler2D: 'gl.uniform1i(location, v)',
            samplerCube: 'gl.uniform1i(location, v)',
            sampler2DArray: 'gl.uniform1i(location, v)',
        },
        F_ = { float: 'gl.uniform1fv(location, v)', vec2: 'gl.uniform2fv(location, v)', vec3: 'gl.uniform3fv(location, v)', vec4: 'gl.uniform4fv(location, v)', mat4: 'gl.uniformMatrix4fv(location, false, v)', mat3: 'gl.uniformMatrix3fv(location, false, v)', mat2: 'gl.uniformMatrix2fv(location, false, v)', int: 'gl.uniform1iv(location, v)', ivec2: 'gl.uniform2iv(location, v)', ivec3: 'gl.uniform3iv(location, v)', ivec4: 'gl.uniform4iv(location, v)', uint: 'gl.uniform1uiv(location, v)', uvec2: 'gl.uniform2uiv(location, v)', uvec3: 'gl.uniform3uiv(location, v)', uvec4: 'gl.uniform4uiv(location, v)', bool: 'gl.uniform1iv(location, v)', bvec2: 'gl.uniform2iv(location, v)', bvec3: 'gl.uniform3iv(location, v)', bvec4: 'gl.uniform4iv(location, v)', sampler2D: 'gl.uniform1iv(location, v)', samplerCube: 'gl.uniform1iv(location, v)', sampler2DArray: 'gl.uniform1iv(location, v)' };
    var U_,
        B_ = ['precision mediump float;', 'void main(void){', 'float test = 0.1;', '%forloop%', 'gl_FragColor = vec4(0.0);', '}'].join('\n');
    function G_(t, e) {
        if (0 === t) throw new Error('Invalid value of `0` passed to `checkMaxIfStatementsInShader`');
        for (var r = e.createShader(e.FRAGMENT_SHADER); ; ) {
            var i = B_.replace(
                /%forloop%/gi,
                (function (t) {
                    for (var e = '', r = 0; r < t; ++r) (0 < r && (e += '\nelse '), r < t - 1 && (e += 'if(test == ' + r + '.0){}'));
                    return e;
                })(t)
            );
            if ((e.shaderSource(r, i), e.compileShader(r), e.getShaderParameter(r, e.COMPILE_STATUS))) break;
            t = (t / 2) | 0;
        }
        return t;
    }
    var k_ = 0,
        X_ = {},
        H_ =
            (Object.defineProperty(Y_, 'defaultVertexSrc', {
                get: function () {
                    return 'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n';
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Y_, 'defaultFragmentSrc', {
                get: function () {
                    return 'varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}';
                },
                enumerable: !1,
                configurable: !0,
            }),
            (Y_.from = function (t, e, r) {
                var i = t + e,
                    n = Qd[i];
                return (n || (Qd[i] = n = new Y_(t, e, r)), n);
            }),
            Y_);
    function Y_(t, e, r) {
        (void 0 === r && (r = 'pixi-shader'), (this.id = k_++), (this.vertexSrc = t || Y_.defaultVertexSrc), (this.fragmentSrc = e || Y_.defaultFragmentSrc), (this.vertexSrc = this.vertexSrc.trim()), (this.fragmentSrc = this.fragmentSrc.trim()), '#version' !== this.vertexSrc.substring(0, 8) && ((r = r.replace(/\s+/g, '-')), X_[r] ? (X_[r]++, (r += '-' + X_[r])) : (X_[r] = 1), (this.vertexSrc = '#define SHADER_NAME ' + r + '\n' + this.vertexSrc), (this.fragmentSrc = '#define SHADER_NAME ' + r + '\n' + this.fragmentSrc), (this.vertexSrc = I_(this.vertexSrc, G.PRECISION_VERTEX, $.PRECISION.HIGH)), (this.fragmentSrc = I_(this.fragmentSrc, G.PRECISION_FRAGMENT, O_()))), (this.glPrograms = {}), (this.syncUniforms = null));
    }
    var j_ =
        ((V_.prototype.checkUniformExists = function (t, e) {
            if (e.uniforms[t]) return !0;
            for (var r in e.uniforms) {
                var i = e.uniforms[r];
                if (i.group && this.checkUniformExists(t, i)) return !0;
            }
            return !1;
        }),
        (V_.prototype.destroy = function () {
            this.uniformGroup = null;
        }),
        Object.defineProperty(V_.prototype, 'uniforms', {
            get: function () {
                return this.uniformGroup.uniforms;
            },
            enumerable: !1,
            configurable: !0,
        }),
        (V_.from = function (t, e, r) {
            return new V_(H_.from(t, e), r);
        }),
        V_);
    function V_(t, e) {
        ((this.uniformBindCount = 0), (this.program = t), (this.uniformGroup = e ? (e instanceof Zp ? e : new Zp(e)) : new Zp({})));
    }
    var W_ =
        (Object.defineProperty(z_.prototype, 'blend', {
            get: function () {
                return !!(1 & this.data);
            },
            set: function (t) {
                !!(1 & this.data) !== t && (this.data ^= 1);
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(z_.prototype, 'offsets', {
            get: function () {
                return !!(2 & this.data);
            },
            set: function (t) {
                !!(2 & this.data) !== t && (this.data ^= 2);
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(z_.prototype, 'culling', {
            get: function () {
                return !!(4 & this.data);
            },
            set: function (t) {
                !!(4 & this.data) !== t && (this.data ^= 4);
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(z_.prototype, 'depthTest', {
            get: function () {
                return !!(8 & this.data);
            },
            set: function (t) {
                !!(8 & this.data) !== t && (this.data ^= 8);
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(z_.prototype, 'depthMask', {
            get: function () {
                return !!(32 & this.data);
            },
            set: function (t) {
                !!(32 & this.data) !== t && (this.data ^= 32);
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(z_.prototype, 'clockwiseFrontFace', {
            get: function () {
                return !!(16 & this.data);
            },
            set: function (t) {
                !!(16 & this.data) !== t && (this.data ^= 16);
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(z_.prototype, 'blendMode', {
            get: function () {
                return this._blendMode;
            },
            set: function (t) {
                ((this.blend = t !== $.BLEND_MODES.NONE), (this._blendMode = t));
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(z_.prototype, 'polygonOffset', {
            get: function () {
                return this._polygonOffset;
            },
            set: function (t) {
                ((this.offsets = !!t), (this._polygonOffset = t));
            },
            enumerable: !1,
            configurable: !0,
        }),
        (z_.prototype.toString = function () {
            return '[@pixi/core:State blendMode=' + this.blendMode + ' clockwiseFrontFace=' + this.clockwiseFrontFace + ' culling=' + this.culling + ' depthMask=' + this.depthMask + ' polygonOffset=' + this.polygonOffset + ']';
        }),
        (z_.for2d = function () {
            var t = new z_();
            return ((t.depthTest = !1), (t.blend = !0), t);
        }),
        z_);
    function z_() {
        ((this.data = 0), (this.blendMode = $.BLEND_MODES.NORMAL), (this.polygonOffset = 0), (this.blend = !0), (this.depthMask = !0));
    }
    var q_,
        xd =
            (Cf(K_, (q_ = j_)),
            (K_.prototype.apply = function (t, e, r, i, n) {
                t.applyFilter(this, e, r, i);
            }),
            Object.defineProperty(K_.prototype, 'blendMode', {
                get: function () {
                    return this.state.blendMode;
                },
                set: function (t) {
                    this.state.blendMode = t;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(K_.prototype, 'resolution', {
                get: function () {
                    return this._resolution;
                },
                set: function (t) {
                    this._resolution = t;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(K_, 'defaultVertexSrc', {
                get: function () {
                    return 'attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n';
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(K_, 'defaultFragmentSrc', {
                get: function () {
                    return 'varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n';
                },
                enumerable: !1,
                configurable: !0,
            }),
            K_);
    function K_(t, e, r) {
        var i = this,
            e = H_.from(t || K_.defaultVertexSrc, e || K_.defaultFragmentSrc);
        return (((i = q_.call(this, e, r) || this).padding = 0), (i.resolution = G.FILTER_RESOLUTION), (i.multisample = G.FILTER_MULTISAMPLE), (i.enabled = !0), (i.autoFit = !0), (i.state = new W_()), i);
    }
    var Z_ = new yf(),
        Q_ =
            (Object.defineProperty(J_.prototype, 'texture', {
                get: function () {
                    return this._texture;
                },
                set: function (t) {
                    ((this._texture = t), (this._textureID = -1));
                },
                enumerable: !1,
                configurable: !0,
            }),
            (J_.prototype.multiplyUvs = function (t, e) {
                void 0 === e && (e = t);
                for (var r = this.mapCoord, i = 0; i < t.length; i += 2) {
                    var n = t[i],
                        o = t[i + 1];
                    ((e[i] = n * r.a + o * r.c + r.tx), (e[i + 1] = n * r.b + o * r.d + r.ty));
                }
                return e;
            }),
            (J_.prototype.update = function (t) {
                var e = this._texture;
                if (!e || !e.valid) return !1;
                if (!t && this._textureID === e._updateID) return !1;
                ((this._textureID = e._updateID), this._updateID++);
                var r = e._uvs;
                this.mapCoord.set(r.x1 - r.x0, r.y1 - r.y0, r.x3 - r.x0, r.y3 - r.y0, r.x0, r.y0);
                var i = e.orig,
                    n = e.trim;
                n && (Z_.set(i.width / n.width, 0, 0, i.height / n.height, -n.x / n.width, -n.y / n.height), this.mapCoord.append(Z_));
                ((t = e.baseTexture), (r = this.uClampFrame), (i = this.clampMargin / t.resolution), (n = this.clampOffset));
                return ((r[0] = (e._frame.x + i + n) / t.width), (r[1] = (e._frame.y + i + n) / t.height), (r[2] = (e._frame.x + e._frame.width - i + n) / t.width), (r[3] = (e._frame.y + e._frame.height - i + n) / t.height), (this.uClampOffset[0] = n / t.realWidth), (this.uClampOffset[1] = n / t.realHeight), (this.isSimple = e._frame.width === t.width && e._frame.height === t.height && 0 === e.rotate), !0);
            }),
            J_);
    function J_(t, e) {
        ((this._texture = t), (this.mapCoord = new yf()), (this.uClampFrame = new Float32Array(4)), (this.uClampOffset = new Float32Array(2)), (this._textureID = -1), (this._updateID = 0), (this.clampOffset = 0), (this.clampMargin = void 0 === e ? 0.5 : e), (this.isSimple = !1));
    }
    var $_,
        tm =
            (Cf(em, ($_ = xd)),
            Object.defineProperty(em.prototype, 'maskSprite', {
                get: function () {
                    return this._maskSprite;
                },
                set: function (t) {
                    ((this._maskSprite = t), this._maskSprite && (this._maskSprite.renderable = !1));
                },
                enumerable: !1,
                configurable: !0,
            }),
            (em.prototype.apply = function (t, e, r, i) {
                var n = this._maskSprite,
                    o = n._texture;
                o.valid && (o.uvMatrix || (o.uvMatrix = new Q_(o, 0)), o.uvMatrix.update(), (this.uniforms.npmAlpha = o.baseTexture.alphaMode ? 0 : 1), (this.uniforms.mask = o), (this.uniforms.otherMatrix = t.calculateSpriteMatrix(this.maskMatrix, n).prepend(o.uvMatrix.mapCoord)), (this.uniforms.alpha = n.worldAlpha), (this.uniforms.maskClamp = o.uvMatrix.uClampFrame), t.applyFilter(this, e, r, i));
            }),
            em);
    function em(t, e, r) {
        var i = this,
            n = null;
        return (
            'string' != typeof t && void 0 === e && void 0 === r && ((n = t), (r = e = t = void 0)),
            ((i =
                $_.call(
                    this,
                    t || 'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n',
                    e || 'varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n',
                    r
                ) || this).maskSprite = n),
            (i.maskMatrix = new yf()),
            i
        );
    }
    var rm =
        ((im.prototype.setMaskStack = function (t) {
            ((this.maskStack = t), this.renderer.scissor.setMaskStack(t), this.renderer.stencil.setMaskStack(t));
        }),
        (im.prototype.push = function (t, e) {
            var r = e;
            r.isMaskData || (((i = this.maskDataPool.pop() || new v_()).pooled = !0), (i.maskObject = e), (r = i));
            var i = 0 !== this.maskStack.length ? this.maskStack[this.maskStack.length - 1] : null;
            if ((r.copyCountersOrReset(i), r.autoDetect && this.detect(r), (r._target = t), r.type !== $.MASK_TYPES.SPRITE && this.maskStack.push(r), r.enabled))
                switch (r.type) {
                    case $.MASK_TYPES.SCISSOR:
                        this.renderer.scissor.push(r);
                        break;
                    case $.MASK_TYPES.STENCIL:
                        this.renderer.stencil.push(r);
                        break;
                    case $.MASK_TYPES.SPRITE:
                        (r.copyCountersOrReset(null), this.pushSpriteMask(r));
                }
            r.type === $.MASK_TYPES.SPRITE && this.maskStack.push(r);
        }),
        (im.prototype.pop = function (t) {
            var e = this.maskStack.pop();
            if (e && e._target === t) {
                if (e.enabled)
                    switch (e.type) {
                        case $.MASK_TYPES.SCISSOR:
                            this.renderer.scissor.pop();
                            break;
                        case $.MASK_TYPES.STENCIL:
                            this.renderer.stencil.pop(e.maskObject);
                            break;
                        case $.MASK_TYPES.SPRITE:
                            this.popSpriteMask(e);
                    }
                (e.reset(), e.pooled && this.maskDataPool.push(e), 0 === this.maskStack.length || ((t = this.maskStack[this.maskStack.length - 1]).type === $.MASK_TYPES.SPRITE && t._filters && (t._filters[0].maskSprite = t.maskObject)));
            }
        }),
        (im.prototype.detect = function (t) {
            t.maskObject.isSprite ? (t.type = $.MASK_TYPES.SPRITE) : this.enableScissor && this.renderer.scissor.testScissor(t) ? (t.type = $.MASK_TYPES.SCISSOR) : (t.type = $.MASK_TYPES.STENCIL);
        }),
        (im.prototype.pushSpriteMask = function (t) {
            var e,
                r,
                i = t.maskObject,
                n = t._target,
                o = (o = t._filters) || (o = this.alphaMaskPool[this.alphaMaskIndex]) || (this.alphaMaskPool[this.alphaMaskIndex] = [new tm()]),
                s = this.renderer,
                a = s.renderTexture;
            ((h = a.current ? ((e = a.current), (r = t.resolution || e.resolution), null !== (a = t.multisample) && void 0 !== a ? a : e.multisample) : ((r = t.resolution || s.resolution), null !== (h = t.multisample) && void 0 !== h ? h : s.multisample)), (o[0].resolution = r), (o[0].multisample = h), (o[0].maskSprite = i));
            var h = n.filterArea;
            ((n.filterArea = i.getBounds(!0)), s.filter.push(n, o), (n.filterArea = h), t._filters || this.alphaMaskIndex++);
        }),
        (im.prototype.popSpriteMask = function (t) {
            (this.renderer.filter.pop(), t._filters ? (t._filters[0].maskSprite = null) : (this.alphaMaskIndex--, (this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite = null)));
        }),
        (im.prototype.destroy = function () {
            this.renderer = null;
        }),
        im);
    function im(t) {
        ((this.renderer = t), (this.enableScissor = !0), (this.alphaMaskPool = []), (this.maskDataPool = []), (this.maskStack = []), (this.alphaMaskIndex = 0));
    }
    ((nm.prototype.getStackLength = function () {
        return this.maskStack.length;
    }),
        (nm.prototype.setMaskStack = function (t) {
            var e = this.renderer.gl,
                r = this.getStackLength();
            this.maskStack = t;
            t = this.getStackLength();
            t !== r && (0 === t ? e.disable(this.glConst) : (e.enable(this.glConst), this._useCurrent()));
        }),
        (nm.prototype._useCurrent = function () {}),
        (nm.prototype.destroy = function () {
            ((this.renderer = null), (this.maskStack = null));
        }),
        (vt = nm));
    function nm(t) {
        ((this.renderer = t), (this.maskStack = []), (this.glConst = 0));
    }
    var om,
        sm = new yf(),
        am =
            (Cf(hm, (om = vt)),
            (hm.prototype.getStackLength = function () {
                var t = this.maskStack[this.maskStack.length - 1];
                return t ? t._scissorCounter : 0;
            }),
            (hm.prototype.calcScissorRect = function (t) {
                var e, r, i, n, o;
                t._scissorRectLocal || ((e = t._scissorRect), (r = t.maskObject), (n = (i = this.renderer).renderTexture), (r.renderable = !0), (o = r.getBounds()), this.roundFrameToPixels(o, (n.current || i).resolution, n.sourceFrame, n.destinationFrame, i.projection.transform), (r.renderable = !1), e && o.fit(e), (t._scissorRectLocal = o));
            }),
            (hm.isMatrixRotated = function (t) {
                if (!t) return !1;
                var e = t.a,
                    r = t.b,
                    i = t.c,
                    t = t.d;
                return (1e-4 < Math.abs(r) || 1e-4 < Math.abs(i)) && (1e-4 < Math.abs(e) || 1e-4 < Math.abs(t));
            }),
            (hm.prototype.testScissor = function (t) {
                var e = t.maskObject;
                if (!e.isFastRect || !e.isFastRect()) return !1;
                if (hm.isMatrixRotated(e.worldTransform)) return !1;
                if (hm.isMatrixRotated(this.renderer.projection.transform)) return !1;
                this.calcScissorRect(t);
                t = t._scissorRectLocal;
                return 0 < t.width && 0 < t.height;
            }),
            (hm.prototype.roundFrameToPixels = function (t, e, r, i, n) {
                hm.isMatrixRotated(n) ||
                    ((n = n ? sm.copyFrom(n) : sm.identity())
                        .translate(-r.x, -r.y)
                        .scale(i.width / r.width, i.height / r.height)
                        .translate(i.x, i.y),
                    this.renderer.filter.transformAABB(n, t),
                    t.fit(i),
                    (t.x = Math.round(t.x * e)),
                    (t.y = Math.round(t.y * e)),
                    (t.width = Math.round(t.width * e)),
                    (t.height = Math.round(t.height * e)));
            }),
            (hm.prototype.push = function (t) {
                t._scissorRectLocal || this.calcScissorRect(t);
                var e = this.renderer.gl;
                (t._scissorRect || e.enable(e.SCISSOR_TEST), t._scissorCounter++, (t._scissorRect = t._scissorRectLocal), this._useCurrent());
            }),
            (hm.prototype.pop = function () {
                var t = this.renderer.gl;
                0 < this.getStackLength() ? this._useCurrent() : t.disable(t.SCISSOR_TEST);
            }),
            (hm.prototype._useCurrent = function () {
                var t = this.maskStack[this.maskStack.length - 1]._scissorRect,
                    e = this.renderer.renderTexture.current ? t.y : this.renderer.height - t.height - t.y;
                this.renderer.gl.scissor(t.x, e, t.width, t.height);
            }),
            hm);
    function hm(t) {
        t = om.call(this, t) || this;
        return ((t.glConst = WebGLRenderingContext.SCISSOR_TEST), t);
    }
    var um,
        lm =
            (Cf(cm, (um = vt)),
            (cm.prototype.getStackLength = function () {
                var t = this.maskStack[this.maskStack.length - 1];
                return t ? t._stencilCounter : 0;
            }),
            (cm.prototype.push = function (t) {
                var e = t.maskObject,
                    r = this.renderer.gl,
                    i = t._stencilCounter;
                (0 === i && (this.renderer.framebuffer.forceStencil(), r.clearStencil(0), r.clear(r.STENCIL_BUFFER_BIT), r.enable(r.STENCIL_TEST)), t._stencilCounter++, r.colorMask(!1, !1, !1, !1), r.stencilFunc(r.EQUAL, i, 4294967295), r.stencilOp(r.KEEP, r.KEEP, r.INCR), (e.renderable = !0), e.render(this.renderer), this.renderer.batch.flush(), (e.renderable = !1), this._useCurrent());
            }),
            (cm.prototype.pop = function (t) {
                var e = this.renderer.gl;
                0 === this.getStackLength() ? e.disable(e.STENCIL_TEST) : (e.colorMask(!1, !1, !1, !1), e.stencilOp(e.KEEP, e.KEEP, e.DECR), (t.renderable = !0), t.render(this.renderer), this.renderer.batch.flush(), (t.renderable = !1), this._useCurrent());
            }),
            (cm.prototype._useCurrent = function () {
                var t = this.renderer.gl;
                (t.colorMask(!0, !0, !0, !0), t.stencilFunc(t.EQUAL, this.getStackLength(), 4294967295), t.stencilOp(t.KEEP, t.KEEP, t.KEEP));
            }),
            cm);
    function cm(t) {
        t = um.call(this, t) || this;
        return ((t.glConst = WebGLRenderingContext.STENCIL_TEST), t);
    }
    var dm =
        ((fm.prototype.update = function (t, e, r, i) {
            ((this.destinationFrame = t || this.destinationFrame || this.defaultFrame), (this.sourceFrame = e || this.sourceFrame || t), this.calculateProjection(this.destinationFrame, this.sourceFrame, r, i), this.transform && this.projectionMatrix.append(this.transform));
            i = this.renderer;
            ((i.globalUniforms.uniforms.projectionMatrix = this.projectionMatrix), i.globalUniforms.update(), i.shader.shader && i.shader.syncUniformGroup(i.shader.shader.uniforms.globals));
        }),
        (fm.prototype.calculateProjection = function (t, e, r, i) {
            var n = this.projectionMatrix,
                i = i ? -1 : 1;
            (n.identity(), (n.a = (1 / e.width) * 2), (n.d = i * ((1 / e.height) * 2)), (n.tx = -1 - e.x * n.a), (n.ty = -i - e.y * n.d));
        }),
        (fm.prototype.setTransform = function (t) {}),
        (fm.prototype.destroy = function () {
            this.renderer = null;
        }),
        fm);
    function fm(t) {
        ((this.renderer = t), (this.destinationFrame = null), (this.sourceFrame = null), (this.defaultFrame = null), (this.projectionMatrix = new yf()), (this.transform = null));
    }
    var pm = new _f(),
        _m = new _f(),
        mm =
            ((Em.prototype.bind = function (t, e, r) {
                void 0 === t && (t = null);
                var i,
                    n,
                    o,
                    s = this.renderer;
                (this.current = t) ? ((o = (i = t.baseTexture).resolution), e || ((pm.width = t.frame.width), (pm.height = t.frame.height), (e = pm)), r || ((_m.x = t.frame.x), (_m.y = t.frame.y), (_m.width = e.width), (_m.height = e.height), (r = _m)), (n = i.framebuffer)) : ((o = s.resolution), e || ((pm.width = s.screen.width), (pm.height = s.screen.height), (e = pm)), r || (((r = pm).width = e.width), (r.height = e.height)));
                var a = this.viewportFrame;
                ((a.x = r.x * o), (a.y = r.y * o), (a.width = r.width * o), (a.height = r.height * o), t || (a.y = s.view.height - (a.y + a.height)), a.ceil(), this.renderer.framebuffer.bind(n, a), this.renderer.projection.update(r, e, o, !n), t ? this.renderer.mask.setMaskStack(i.maskStack) : this.renderer.mask.setMaskStack(this.defaultMaskStack), this.sourceFrame.copyFrom(e), this.destinationFrame.copyFrom(r));
            }),
            (Em.prototype.clear = function (t, e) {
                t = this.current ? t || this.current.baseTexture.clearColor : t || this.clearColor;
                var r,
                    i,
                    n = this.destinationFrame,
                    o = this.current ? this.current.baseTexture : this.renderer.screen,
                    s = n.width !== o.width || n.height !== o.height;
                (s && ((r = (i = this.viewportFrame).x), (n = i.y), (o = i.width), (i = i.height), (r = Math.round(r)), (n = Math.round(n)), (o = Math.round(o)), (i = Math.round(i)), this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST), this.renderer.gl.scissor(r, n, o, i)), this.renderer.framebuffer.clear(t[0], t[1], t[2], t[3], e), s && this.renderer.scissor.pop());
            }),
            (Em.prototype.resize = function () {
                this.bind(null);
            }),
            (Em.prototype.reset = function () {
                this.bind(null);
            }),
            (Em.prototype.destroy = function () {
                this.renderer = null;
            }),
            Em);
    function Em(t) {
        ((this.renderer = t), (this.clearColor = t._backgroundColorRgba), (this.defaultMaskStack = []), (this.current = null), (this.sourceFrame = new _f()), (this.destinationFrame = new _f()), (this.viewportFrame = new _f()));
    }
    function vm(t, e, r, i, n) {
        r.buffer.update(n);
    }
    var ym = { float: '\n        data[offset] = v;\n    ', vec2: '\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ', vec3: '\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ', vec4: '\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ', mat2: '\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ', mat3: '\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ', mat4: '\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    ' },
        gm = { float: 4, vec2: 8, vec3: 12, vec4: 16, int: 4, ivec2: 8, ivec3: 12, ivec4: 16, uint: 4, uvec2: 8, uvec3: 12, uvec4: 16, bool: 4, bvec2: 8, bvec3: 12, bvec4: 16, mat2: 32, mat3: 48, mat4: 64 };
    function Tm(t, e) {
        if (!t.autoManage) return { size: 0, syncFunc: vm };
        for (
            var e = (function (t) {
                    for (
                        var e = t.map(function (t) {
                                return { data: t, offset: 0, dataLen: 0, dirty: 0 };
                            }),
                            r = 0,
                            i = 0,
                            n = 0,
                            o = 0;
                        o < e.length;
                        o++
                    ) {
                        var s,
                            a = e[o],
                            r = gm[a.data.type];
                        (1 < a.data.size && (r = Math.max(r, 16) * a.data.size), i % (a.dataLen = r) != 0 && i < 16 && ((i += s = (i % r) % 16), (n += s)), 16 < i + r ? ((n = 16 * Math.ceil(n / 16)), (a.offset = n), (n += r), (i = r)) : ((a.offset = n), (i += r), (n += r)));
                    }
                    return { uboElements: e, size: (n = 16 * Math.ceil(n / 16)) };
                })(
                    (function (t, e) {
                        var r,
                            i = [];
                        for (r in t) e[r] && i.push(e[r]);
                        return (
                            i.sort(function (t, e) {
                                return t.index - e.index;
                            }),
                            i
                        );
                    })(t.uniforms, e)
                ),
                r = e.uboElements,
                e = e.size,
                i = ['\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    '],
                n = 0;
            n < r.length;
            n++
        ) {
            for (var o, s, a, h = r[n], u = t.uniforms[h.data.name], l = h.data.name, c = !1, d = 0; d < w_.length; d++) {
                var f = w_[d];
                if (f.codeUbo && f.test(h.data, u)) {
                    (i.push('offset = ' + h.offset / 4 + ';', w_[d].codeUbo(h.data.name, u)), (c = !0));
                    break;
                }
            }
            c || (1 < h.data.size ? ((a = (4 - ((s = N_(h.data.type) / (o = Math.max(gm[h.data.type] / 16, 1))) % 4)) % 4), i.push('\n                cv = ud.' + l + '.value;\n                v = uv.' + l + ';\n                offset = ' + h.offset / 4 + ';\n\n                t = 0;\n\n                for(var i=0; i < ' + h.data.size * o + '; i++)\n                {\n                    for(var j = 0; j < ' + s + '; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += ' + a + ';\n                }\n\n                ')) : ((a = ym[h.data.type]), i.push('\n                cv = ud.' + l + '.value;\n                v = uv.' + l + ';\n                offset = ' + h.offset / 4 + ';\n                ' + a + ';\n                ')));
        }
        return (i.push('\n       renderer.buffer.update(buffer);\n    '), { size: e, syncFunc: new Function('ud', 'uv', 'renderer', 'syncData', 'buffer', i.join('\n')) });
    }
    var bm =
        ((xm.prototype.destroy = function () {
            ((this.uniformData = null), (this.uniformGroups = null), (this.uniformDirtyGroups = null), (this.uniformBufferBindings = null), (this.program = null));
        }),
        xm);
    function xm(t, e) {
        ((this.program = t), (this.uniformData = e), (this.uniformGroups = {}), (this.uniformDirtyGroups = {}), (this.uniformBufferBindings = {}));
    }
    function Rm(t, e) {
        var r,
            i,
            n,
            o,
            s = g_(t, t.VERTEX_SHADER, e.vertexSrc),
            a = g_(t, t.FRAGMENT_SHADER, e.fragmentSrc),
            h = t.createProgram();
        if (
            (t.attachShader(h, s),
            t.attachShader(h, a),
            t.linkProgram(h),
            t.getProgramParameter(h, t.LINK_STATUS) || ((i = h), (n = s), (o = a), (r = t).getProgramParameter(i, r.LINK_STATUS) || (r.getShaderParameter(n, r.COMPILE_STATUS) || T_(r, n), r.getShaderParameter(o, r.COMPILE_STATUS) || T_(r, o), console.error('PixiJS Error: Could not initialize shader.'), '' !== r.getProgramInfoLog(i) && console.warn('PixiJS Warning: gl.getProgramInfoLog()', r.getProgramInfoLog(i)))),
            (e.attributeData = (function (t, e) {
                for (var r = {}, i = e.getProgramParameter(t, e.ACTIVE_ATTRIBUTES), n = 0; n < i; n++) {
                    var o,
                        s = e.getActiveAttrib(t, n);
                    0 !== s.name.indexOf('gl_') && ((o = { type: (o = C_(e, s.type)), name: s.name, size: N_(o), location: e.getAttribLocation(t, s.name) }), (r[s.name] = o));
                }
                return r;
            })(h, t)),
            (e.uniformData = (function (t, e) {
                for (var r = {}, i = e.getProgramParameter(t, e.ACTIVE_UNIFORMS), n = 0; n < i; n++) {
                    var o = e.getActiveUniform(t, n),
                        s = o.name.replace(/\[.*?\]$/, ''),
                        a = !!o.name.match(/\[.*?\]$/),
                        h = C_(e, o.type);
                    r[s] = { name: s, index: n, type: h, size: o.size, isArray: a, value: x_(h, o.size) };
                }
                return r;
            })(h, t)),
            !/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc))
        ) {
            var u = Object.keys(e.attributeData);
            u.sort(function (t, e) {
                return e < t ? 1 : -1;
            });
            for (var l = 0; l < u.length; l++) ((e.attributeData[u[l]].location = l), t.bindAttribLocation(h, l, u[l]));
            t.linkProgram(h);
        }
        (t.deleteShader(s), t.deleteShader(a));
        var c = {};
        for (l in e.uniformData) {
            var d = e.uniformData[l];
            c[l] = { location: t.getUniformLocation(h, l), value: x_(d.type, d.size) };
        }
        return new bm(h, c);
    }
    var Am = 0,
        Sm = { textureCount: 0, uboCount: 0 },
        Om =
            ((Im.prototype.systemCheck = function () {
                if (
                    !(function () {
                        if ('boolean' == typeof U_) return U_;
                        try {
                            var t = new Function('param1', 'param2', 'param3', 'return param1[param2] === param3;');
                            U_ = !0 === t({ a: 'b' }, 'a', 'b');
                        } catch (t) {
                            U_ = !1;
                        }
                        return U_;
                    })()
                )
                    throw new Error('Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.');
            }),
            (Im.prototype.contextChange = function (t) {
                ((this.gl = t), this.reset());
            }),
            (Im.prototype.bind = function (t, e) {
                t.uniforms.globals = this.renderer.globalUniforms;
                var r = t.program,
                    i = r.glPrograms[this.renderer.CONTEXT_UID] || this.generateProgram(t);
                return ((this.shader = t), this.program !== r && ((this.program = r), this.gl.useProgram(i.program)), e || ((Sm.textureCount = 0), (Sm.uboCount = 0), this.syncUniformGroup(t.uniformGroup, Sm)), i);
            }),
            (Im.prototype.setUniforms = function (t) {
                var e = this.shader.program,
                    r = e.glPrograms[this.renderer.CONTEXT_UID];
                e.syncUniforms(r.uniformData, t, this.renderer);
            }),
            (Im.prototype.syncUniformGroup = function (t, e) {
                var r = this.getGlProgram();
                (t.static && t.dirtyId === r.uniformDirtyGroups[t.id]) || ((r.uniformDirtyGroups[t.id] = t.dirtyId), this.syncUniforms(t, r, e));
            }),
            (Im.prototype.syncUniforms = function (t, e, r) {
                (t.syncUniforms[this.shader.program.id] || this.createSyncGroups(t))(e.uniformData, t.uniforms, this.renderer, r);
            }),
            (Im.prototype.createSyncGroups = function (t) {
                var e = this.getSignature(t, this.shader.program.uniformData, 'u');
                return (
                    this.cache[e] ||
                        (this.cache[e] = (function (t, e) {
                            var r,
                                i = ['\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    '];
                            for (r in t.uniforms) {
                                var n = e[r];
                                if (n) {
                                    for (var o, s = t.uniforms[r], a = !1, h = 0; h < w_.length; h++)
                                        if (w_[h].test(n, s)) {
                                            (i.push(w_[h].code(r, s)), (a = !0));
                                            break;
                                        }
                                    a || ((o = (1 === n.size ? L_ : F_)[n.type].replace('location', 'ud["' + r + '"].location')), i.push('\n            cu = ud["' + r + '"];\n            cv = cu.value;\n            v = uv["' + r + '"];\n            ' + o + ';'));
                                } else null !== (o = t.uniforms[r]) && void 0 !== o && o.group && (t.uniforms[r].ubo ? i.push('\n                        renderer.shader.syncUniformBufferGroup(uv.' + r + ", '" + r + "');\n                    ") : i.push('\n                        renderer.shader.syncUniformGroup(uv.' + r + ', syncData);\n                    '));
                            }
                            return new Function('ud', 'uv', 'renderer', 'syncData', i.join('\n'));
                        })(t, this.shader.program.uniformData)),
                    (t.syncUniforms[this.shader.program.id] = this.cache[e]),
                    t.syncUniforms[this.shader.program.id]
                );
            }),
            (Im.prototype.syncUniformBufferGroup = function (t, e) {
                var r,
                    i = this.getGlProgram();
                ((t.static && 0 === t.dirtyId && i.uniformGroups[t.id]) || ((t.dirtyId = 0), (r = i.uniformGroups[t.id] || this.createSyncBufferGroup(t, i, e)), t.buffer.update(), r(i.uniformData, t.uniforms, this.renderer, Sm, t.buffer)), this.renderer.buffer.bindBufferBase(t.buffer, i.uniformBufferBindings[e]));
            }),
            (Im.prototype.createSyncBufferGroup = function (t, e, r) {
                var i = this.renderer.gl;
                this.renderer.buffer.bind(t.buffer);
                var n = this.gl.getUniformBlockIndex(e.program, r);
                ((e.uniformBufferBindings[r] = this.shader.uniformBindCount), i.uniformBlockBinding(e.program, n, this.shader.uniformBindCount), this.shader.uniformBindCount++);
                ((i = this.getSignature(t, this.shader.program.uniformData, 'ubo')), (n = (n = this._uboCache[i]) || (this._uboCache[i] = Tm(t, this.shader.program.uniformData))));
                return (t.autoManage && ((i = new Float32Array(n.size / 4)), t.buffer.update(i)), (e.uniformGroups[t.id] = n.syncFunc), e.uniformGroups[t.id]);
            }),
            (Im.prototype.getSignature = function (t, e, r) {
                var i,
                    n = [r + '-'];
                for (i in t.uniforms) (n.push(i), e[i] && n.push(e[i].type));
                return n.join('-');
            }),
            (Im.prototype.getGlProgram = function () {
                return this.shader ? this.shader.program.glPrograms[this.renderer.CONTEXT_UID] : null;
            }),
            (Im.prototype.generateProgram = function (t) {
                var e = this.gl,
                    t = t.program,
                    e = Rm(e, t);
                return (t.glPrograms[this.renderer.CONTEXT_UID] = e);
            }),
            (Im.prototype.reset = function () {
                ((this.program = null), (this.shader = null));
            }),
            (Im.prototype.destroy = function () {
                ((this.renderer = null), (this.destroyed = !0));
            }),
            Im);
    function Im(t) {
        ((this.destroyed = !1), (this.renderer = t), this.systemCheck(), (this.gl = null), (this.shader = null), (this.program = null), (this.cache = {}), (this._uboCache = {}), (this.id = Am++));
    }
    var Mm =
        ((Nm.prototype.contextChange = function (t) {
            var e;
            ((this.gl = t),
                (this.blendModes =
                    ((t = t),
                    void 0 === e && (e = []),
                    (e[$.BLEND_MODES.NORMAL] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.ADD] = [t.ONE, t.ONE]),
                    (e[$.BLEND_MODES.MULTIPLY] = [t.DST_COLOR, t.ONE_MINUS_SRC_ALPHA, t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.SCREEN] = [t.ONE, t.ONE_MINUS_SRC_COLOR, t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.OVERLAY] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.DARKEN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.LIGHTEN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.COLOR_DODGE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.COLOR_BURN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.HARD_LIGHT] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.SOFT_LIGHT] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.DIFFERENCE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.EXCLUSION] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.HUE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.SATURATION] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.COLOR] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.LUMINOSITY] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.NONE] = [0, 0]),
                    (e[$.BLEND_MODES.NORMAL_NPM] = [t.SRC_ALPHA, t.ONE_MINUS_SRC_ALPHA, t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.ADD_NPM] = [t.SRC_ALPHA, t.ONE, t.ONE, t.ONE]),
                    (e[$.BLEND_MODES.SCREEN_NPM] = [t.SRC_ALPHA, t.ONE_MINUS_SRC_COLOR, t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.SRC_IN] = [t.DST_ALPHA, t.ZERO]),
                    (e[$.BLEND_MODES.SRC_OUT] = [t.ONE_MINUS_DST_ALPHA, t.ZERO]),
                    (e[$.BLEND_MODES.SRC_ATOP] = [t.DST_ALPHA, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.DST_OVER] = [t.ONE_MINUS_DST_ALPHA, t.ONE]),
                    (e[$.BLEND_MODES.DST_IN] = [t.ZERO, t.SRC_ALPHA]),
                    (e[$.BLEND_MODES.DST_OUT] = [t.ZERO, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.DST_ATOP] = [t.ONE_MINUS_DST_ALPHA, t.SRC_ALPHA]),
                    (e[$.BLEND_MODES.XOR] = [t.ONE_MINUS_DST_ALPHA, t.ONE_MINUS_SRC_ALPHA]),
                    (e[$.BLEND_MODES.SUBTRACT] = [t.ONE, t.ONE, t.ONE, t.ONE, t.FUNC_REVERSE_SUBTRACT, t.FUNC_ADD]),
                    e)),
                this.set(this.defaultState),
                this.reset());
        }),
        (Nm.prototype.set = function (t) {
            if (((t = t || this.defaultState), this.stateId !== t.data)) {
                for (var e = this.stateId ^ t.data, r = 0; e; ) (1 & e && this.map[r].call(this, !!(t.data & (1 << r))), (e >>= 1), r++);
                this.stateId = t.data;
            }
            for (r = 0; r < this.checks.length; r++) this.checks[r](this, t);
        }),
        (Nm.prototype.forceState = function (t) {
            t = t || this.defaultState;
            for (var e = 0; e < this.map.length; e++) this.map[e].call(this, !!(t.data & (1 << e)));
            for (e = 0; e < this.checks.length; e++) this.checks[e](this, t);
            this.stateId = t.data;
        }),
        (Nm.prototype.setBlend = function (t) {
            (this.updateCheck(Nm.checkBlendMode, t), this.gl[t ? 'enable' : 'disable'](this.gl.BLEND));
        }),
        (Nm.prototype.setOffset = function (t) {
            (this.updateCheck(Nm.checkPolygonOffset, t), this.gl[t ? 'enable' : 'disable'](this.gl.POLYGON_OFFSET_FILL));
        }),
        (Nm.prototype.setDepthTest = function (t) {
            this.gl[t ? 'enable' : 'disable'](this.gl.DEPTH_TEST);
        }),
        (Nm.prototype.setDepthMask = function (t) {
            this.gl.depthMask(t);
        }),
        (Nm.prototype.setCullFace = function (t) {
            this.gl[t ? 'enable' : 'disable'](this.gl.CULL_FACE);
        }),
        (Nm.prototype.setFrontFace = function (t) {
            this.gl.frontFace(this.gl[t ? 'CW' : 'CCW']);
        }),
        (Nm.prototype.setBlendMode = function (t) {
            var e;
            t !== this.blendMode && ((this.blendMode = t), (e = this.blendModes[t]), (t = this.gl), 2 === e.length ? t.blendFunc(e[0], e[1]) : t.blendFuncSeparate(e[0], e[1], e[2], e[3]), 6 === e.length ? ((this._blendEq = !0), t.blendEquationSeparate(e[4], e[5])) : this._blendEq && ((this._blendEq = !1), t.blendEquationSeparate(t.FUNC_ADD, t.FUNC_ADD)));
        }),
        (Nm.prototype.setPolygonOffset = function (t, e) {
            this.gl.polygonOffset(t, e);
        }),
        (Nm.prototype.reset = function () {
            (this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, !1), this.forceState(this.defaultState), (this._blendEq = !0), (this.blendMode = -1), this.setBlendMode(0));
        }),
        (Nm.prototype.updateCheck = function (t, e) {
            var r = this.checks.indexOf(t);
            e && -1 === r ? this.checks.push(t) : e || -1 === r || this.checks.splice(r, 1);
        }),
        (Nm.checkBlendMode = function (t, e) {
            t.setBlendMode(e.blendMode);
        }),
        (Nm.checkPolygonOffset = function (t, e) {
            t.setPolygonOffset(1, e.polygonOffset);
        }),
        (Nm.prototype.destroy = function () {
            this.gl = null;
        }),
        Nm);
    function Nm() {
        ((this.gl = null), (this.stateId = 0), (this.polygonOffset = 0), (this.blendMode = $.BLEND_MODES.NONE), (this._blendEq = !1), (this.map = []), (this.map[0] = this.setBlend), (this.map[1] = this.setOffset), (this.map[2] = this.setCullFace), (this.map[3] = this.setDepthTest), (this.map[4] = this.setFrontFace), (this.map[5] = this.setDepthMask), (this.checks = []), (this.defaultState = new W_()), (this.defaultState.blend = !0));
    }
    var Pm =
        ((Dm.prototype.postrender = function () {
            this.renderer.renderingToScreen && (this.count++, this.mode !== $.GC_MODES.MANUAL && (this.checkCount++, this.checkCount > this.checkCountMax && ((this.checkCount = 0), this.run())));
        }),
        (Dm.prototype.run = function () {
            for (var t = this.renderer.texture, e = t.managedTextures, r = !1, i = 0; i < e.length; i++) {
                var n = e[i];
                !n.framebuffer && this.count - n.touched > this.maxIdle && (t.destroyTexture(n, !0), (r = !(e[i] = null)));
            }
            if (r) {
                for (var o = 0, i = 0; i < e.length; i++) null !== e[i] && (e[o++] = e[i]);
                e.length = o;
            }
        }),
        (Dm.prototype.unload = function (t) {
            var e = this.renderer.texture,
                r = t._texture;
            r && !r.framebuffer && e.destroyTexture(r);
            for (var i = t.children.length - 1; 0 <= i; i--) this.unload(t.children[i]);
        }),
        (Dm.prototype.destroy = function () {
            this.renderer = null;
        }),
        Dm);
    function Dm(t) {
        ((this.renderer = t), (this.count = 0), (this.checkCount = 0), (this.maxIdle = G.GC_MAX_IDLE), (this.checkCountMax = G.GC_MAX_CHECK_COUNT), (this.mode = G.GC_MODE));
    }
    var Cm = function (t) {
            ((this.texture = t), (this.width = -1), (this.height = -1), (this.dirtyId = -1), (this.dirtyStyleId = -1), (this.mipmap = !1), (this.wrapMode = 33071), (this.type = $.TYPES.UNSIGNED_BYTE), (this.internalFormat = $.FORMATS.RGBA), (this.samplerType = 0));
        },
        wm =
            ((Lm.prototype.contextChange = function () {
                var t,
                    e,
                    r,
                    i = (this.gl = this.renderer.gl);
                ((this.CONTEXT_UID = this.renderer.CONTEXT_UID),
                    (this.webGLVersion = this.renderer.context.webGLVersion),
                    (this.internalFormats =
                        ((t = i),
                        (s =
                            'WebGL2RenderingContext' in globalThis && t instanceof globalThis.WebGL2RenderingContext
                                ? (((r = {})[$.TYPES.UNSIGNED_BYTE] = (((e = {})[$.FORMATS.RGBA] = t.RGBA8), (e[$.FORMATS.RGB] = t.RGB8), (e[$.FORMATS.RG] = t.RG8), (e[$.FORMATS.RED] = t.R8), (e[$.FORMATS.RGBA_INTEGER] = t.RGBA8UI), (e[$.FORMATS.RGB_INTEGER] = t.RGB8UI), (e[$.FORMATS.RG_INTEGER] = t.RG8UI), (e[$.FORMATS.RED_INTEGER] = t.R8UI), (e[$.FORMATS.ALPHA] = t.ALPHA), (e[$.FORMATS.LUMINANCE] = t.LUMINANCE), (e[$.FORMATS.LUMINANCE_ALPHA] = t.LUMINANCE_ALPHA), e)),
                                  (r[$.TYPES.BYTE] = (((e = {})[$.FORMATS.RGBA] = t.RGBA8_SNORM), (e[$.FORMATS.RGB] = t.RGB8_SNORM), (e[$.FORMATS.RG] = t.RG8_SNORM), (e[$.FORMATS.RED] = t.R8_SNORM), (e[$.FORMATS.RGBA_INTEGER] = t.RGBA8I), (e[$.FORMATS.RGB_INTEGER] = t.RGB8I), (e[$.FORMATS.RG_INTEGER] = t.RG8I), (e[$.FORMATS.RED_INTEGER] = t.R8I), e)),
                                  (r[$.TYPES.UNSIGNED_SHORT] = (((e = {})[$.FORMATS.RGBA_INTEGER] = t.RGBA16UI), (e[$.FORMATS.RGB_INTEGER] = t.RGB16UI), (e[$.FORMATS.RG_INTEGER] = t.RG16UI), (e[$.FORMATS.RED_INTEGER] = t.R16UI), (e[$.FORMATS.DEPTH_COMPONENT] = t.DEPTH_COMPONENT16), e)),
                                  (r[$.TYPES.SHORT] = (((e = {})[$.FORMATS.RGBA_INTEGER] = t.RGBA16I), (e[$.FORMATS.RGB_INTEGER] = t.RGB16I), (e[$.FORMATS.RG_INTEGER] = t.RG16I), (e[$.FORMATS.RED_INTEGER] = t.R16I), e)),
                                  (r[$.TYPES.UNSIGNED_INT] = (((e = {})[$.FORMATS.RGBA_INTEGER] = t.RGBA32UI), (e[$.FORMATS.RGB_INTEGER] = t.RGB32UI), (e[$.FORMATS.RG_INTEGER] = t.RG32UI), (e[$.FORMATS.RED_INTEGER] = t.R32UI), (e[$.FORMATS.DEPTH_COMPONENT] = t.DEPTH_COMPONENT24), e)),
                                  (r[$.TYPES.INT] = (((e = {})[$.FORMATS.RGBA_INTEGER] = t.RGBA32I), (e[$.FORMATS.RGB_INTEGER] = t.RGB32I), (e[$.FORMATS.RG_INTEGER] = t.RG32I), (e[$.FORMATS.RED_INTEGER] = t.R32I), e)),
                                  (r[$.TYPES.FLOAT] = (((e = {})[$.FORMATS.RGBA] = t.RGBA32F), (e[$.FORMATS.RGB] = t.RGB32F), (e[$.FORMATS.RG] = t.RG32F), (e[$.FORMATS.RED] = t.R32F), (e[$.FORMATS.DEPTH_COMPONENT] = t.DEPTH_COMPONENT32F), e)),
                                  (r[$.TYPES.HALF_FLOAT] = (((e = {})[$.FORMATS.RGBA] = t.RGBA16F), (e[$.FORMATS.RGB] = t.RGB16F), (e[$.FORMATS.RG] = t.RG16F), (e[$.FORMATS.RED] = t.R16F), e)),
                                  (r[$.TYPES.UNSIGNED_SHORT_5_6_5] = (((e = {})[$.FORMATS.RGB] = t.RGB565), e)),
                                  (r[$.TYPES.UNSIGNED_SHORT_4_4_4_4] = (((e = {})[$.FORMATS.RGBA] = t.RGBA4), e)),
                                  (r[$.TYPES.UNSIGNED_SHORT_5_5_5_1] = (((e = {})[$.FORMATS.RGBA] = t.RGB5_A1), e)),
                                  (r[$.TYPES.UNSIGNED_INT_2_10_10_10_REV] = (((e = {})[$.FORMATS.RGBA] = t.RGB10_A2), (e[$.FORMATS.RGBA_INTEGER] = t.RGB10_A2UI), e)),
                                  (r[$.TYPES.UNSIGNED_INT_10F_11F_11F_REV] = (((e = {})[$.FORMATS.RGB] = t.R11F_G11F_B10F), e)),
                                  (r[$.TYPES.UNSIGNED_INT_5_9_9_9_REV] = (((e = {})[$.FORMATS.RGB] = t.RGB9_E5), e)),
                                  (r[$.TYPES.UNSIGNED_INT_24_8] = (((e = {})[$.FORMATS.DEPTH_STENCIL] = t.DEPTH24_STENCIL8), e)),
                                  (r[$.TYPES.FLOAT_32_UNSIGNED_INT_24_8_REV] = (((e = {})[$.FORMATS.DEPTH_STENCIL] = t.DEPTH32F_STENCIL8), e)),
                                  r)
                                : (((s = {})[$.TYPES.UNSIGNED_BYTE] = (((r = {})[$.FORMATS.RGBA] = t.RGBA), (r[$.FORMATS.RGB] = t.RGB), (r[$.FORMATS.ALPHA] = t.ALPHA), (r[$.FORMATS.LUMINANCE] = t.LUMINANCE), (r[$.FORMATS.LUMINANCE_ALPHA] = t.LUMINANCE_ALPHA), r)), (s[$.TYPES.UNSIGNED_SHORT_5_6_5] = (((r = {})[$.FORMATS.RGB] = t.RGB), r)), (s[$.TYPES.UNSIGNED_SHORT_4_4_4_4] = (((r = {})[$.FORMATS.RGBA] = t.RGBA), r)), (s[$.TYPES.UNSIGNED_SHORT_5_5_5_1] = (((r = {})[$.FORMATS.RGBA] = t.RGBA), r)), s)))));
                var n = i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS);
                this.boundTextures.length = n;
                for (var o = 0; o < n; o++) this.boundTextures[o] = null;
                this.emptyTextures = {};
                var s = new Cm(i.createTexture());
                (i.bindTexture(i.TEXTURE_2D, s.texture), i.texImage2D(i.TEXTURE_2D, 0, i.RGBA, 1, 1, 0, i.RGBA, i.UNSIGNED_BYTE, new Uint8Array(4)), (this.emptyTextures[i.TEXTURE_2D] = s), (this.emptyTextures[i.TEXTURE_CUBE_MAP] = new Cm(i.createTexture())), i.bindTexture(i.TEXTURE_CUBE_MAP, this.emptyTextures[i.TEXTURE_CUBE_MAP].texture));
                for (o = 0; o < 6; o++) i.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X + o, 0, i.RGBA, 1, 1, 0, i.RGBA, i.UNSIGNED_BYTE, null);
                (i.texParameteri(i.TEXTURE_CUBE_MAP, i.TEXTURE_MAG_FILTER, i.LINEAR), i.texParameteri(i.TEXTURE_CUBE_MAP, i.TEXTURE_MIN_FILTER, i.LINEAR));
                for (o = 0; o < this.boundTextures.length; o++) this.bind(null, o);
            }),
            (Lm.prototype.bind = function (t, e) {
                void 0 === e && (e = 0);
                var r,
                    i = this.gl;
                (t = null == t ? void 0 : t.castToBaseTexture()) && t.valid && !t.parentTextureArray ? ((t.touched = this.renderer.textureGC.count), (r = t._glTextures[this.CONTEXT_UID] || this.initTexture(t)), this.boundTextures[e] !== t && (this.currentLocation !== e && ((this.currentLocation = e), i.activeTexture(i.TEXTURE0 + e)), i.bindTexture(t.target, r.texture)), r.dirtyId !== t.dirtyId && (this.currentLocation !== e && ((this.currentLocation = e), i.activeTexture(i.TEXTURE0 + e)), this.updateTexture(t)), (this.boundTextures[e] = t)) : (this.currentLocation !== e && ((this.currentLocation = e), i.activeTexture(i.TEXTURE0 + e)), i.bindTexture(i.TEXTURE_2D, this.emptyTextures[i.TEXTURE_2D].texture), (this.boundTextures[e] = null));
            }),
            (Lm.prototype.reset = function () {
                ((this._unknownBoundTextures = !0), (this.hasIntegerTextures = !1), (this.currentLocation = -1));
                for (var t = 0; t < this.boundTextures.length; t++) this.boundTextures[t] = this.unknownTexture;
            }),
            (Lm.prototype.unbind = function (t) {
                var e = this.gl,
                    r = this.boundTextures;
                if (this._unknownBoundTextures) {
                    this._unknownBoundTextures = !1;
                    for (var i = 0; i < r.length; i++) r[i] === this.unknownTexture && this.bind(null, i);
                }
                for (i = 0; i < r.length; i++) r[i] === t && (this.currentLocation !== i && (e.activeTexture(e.TEXTURE0 + i), (this.currentLocation = i)), e.bindTexture(t.target, this.emptyTextures[t.target].texture), (r[i] = null));
            }),
            (Lm.prototype.ensureSamplerType = function (t) {
                var e = this.boundTextures,
                    r = this.hasIntegerTextures,
                    i = this.CONTEXT_UID;
                if (r)
                    for (var n = t - 1; 0 <= n; --n) {
                        var o = e[n];
                        o && o._glTextures[i].samplerType !== $.SAMPLER_TYPES.FLOAT && this.renderer.texture.unbind(o);
                    }
            }),
            (Lm.prototype.initTexture = function (t) {
                var e = new Cm(this.gl.createTexture());
                return ((e.dirtyId = -1), (t._glTextures[this.CONTEXT_UID] = e), this.managedTextures.push(t), t.on('dispose', this.destroyTexture, this), e);
            }),
            (Lm.prototype.initTextureType = function (t, e) {
                var r;
                ((e.internalFormat = null !== (r = null === (r = this.internalFormats[t.type]) || void 0 === r ? void 0 : r[t.format]) && void 0 !== r ? r : t.format), 2 === this.webGLVersion && t.type === $.TYPES.HALF_FLOAT ? (e.type = this.gl.HALF_FLOAT) : (e.type = t.type));
            }),
            (Lm.prototype.updateTexture = function (t) {
                var e,
                    r,
                    i,
                    n = t._glTextures[this.CONTEXT_UID];
                n && ((i = this.renderer), this.initTextureType(t, n), t.resource && t.resource.upload(i, t, n) ? n.samplerType !== $.SAMPLER_TYPES.FLOAT && (this.hasIntegerTextures = !0) : ((e = t.realWidth), (r = t.realHeight), (i = i.gl), (n.width !== e || n.height !== r || n.dirtyId < 0) && ((n.width = e), (n.height = r), i.texImage2D(t.target, 0, n.internalFormat, e, r, 0, t.format, n.type, null))), t.dirtyStyleId !== n.dirtyStyleId && this.updateTextureStyle(t), (n.dirtyId = t.dirtyId));
            }),
            (Lm.prototype.destroyTexture = function (t, e) {
                var r = this.gl;
                (t = t.castToBaseTexture())._glTextures[this.CONTEXT_UID] &&
                    (this.unbind(t),
                    r.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),
                    t.off('dispose', this.destroyTexture, this),
                    delete t._glTextures[this.CONTEXT_UID],
                    e ||
                        (-1 !== (t = this.managedTextures.indexOf(t)) &&
                            (function (t, e, r) {
                                var i = t.length;
                                if (!(i <= e || 0 === r)) {
                                    for (var n = i - (r = i < e + r ? i - e : r), o = e; o < n; ++o) t[o] = t[o + r];
                                    t.length = n;
                                }
                            })(this.managedTextures, t, 1)));
            }),
            (Lm.prototype.updateTextureStyle = function (t) {
                var e = t._glTextures[this.CONTEXT_UID];
                e && ((t.mipmap !== $.MIPMAP_MODES.POW2 && 2 === this.webGLVersion) || t.isPowerOfTwo ? (e.mipmap = 1 <= t.mipmap) : (e.mipmap = !1), 2 === this.webGLVersion || t.isPowerOfTwo ? (e.wrapMode = t.wrapMode) : (e.wrapMode = $.WRAP_MODES.CLAMP), (t.resource && t.resource.style(this.renderer, t, e)) || this.setStyle(t, e), (e.dirtyStyleId = t.dirtyStyleId));
            }),
            (Lm.prototype.setStyle = function (t, e) {
                var r,
                    i = this.gl;
                (e.mipmap && t.mipmap !== $.MIPMAP_MODES.ON_MANUAL && i.generateMipmap(t.target), i.texParameteri(t.target, i.TEXTURE_WRAP_S, e.wrapMode), i.texParameteri(t.target, i.TEXTURE_WRAP_T, e.wrapMode), e.mipmap ? (i.texParameteri(t.target, i.TEXTURE_MIN_FILTER, t.scaleMode === $.SCALE_MODES.LINEAR ? i.LINEAR_MIPMAP_LINEAR : i.NEAREST_MIPMAP_NEAREST), (r = this.renderer.context.extensions.anisotropicFiltering) && 0 < t.anisotropicLevel && t.scaleMode === $.SCALE_MODES.LINEAR && ((e = Math.min(t.anisotropicLevel, i.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT))), i.texParameterf(t.target, r.TEXTURE_MAX_ANISOTROPY_EXT, e))) : i.texParameteri(t.target, i.TEXTURE_MIN_FILTER, t.scaleMode === $.SCALE_MODES.LINEAR ? i.LINEAR : i.NEAREST), i.texParameteri(t.target, i.TEXTURE_MAG_FILTER, t.scaleMode === $.SCALE_MODES.LINEAR ? i.LINEAR : i.NEAREST));
            }),
            (Lm.prototype.destroy = function () {
                this.renderer = null;
            }),
            Lm);
    function Lm(t) {
        ((this.renderer = t), (this.boundTextures = []), (this.currentLocation = -1), (this.managedTextures = []), (this._unknownBoundTextures = !1), (this.unknownTexture = new Hf()), (this.hasIntegerTextures = !1));
    }
    var Fm,
        Um = { __proto__: null, FilterSystem: r_, BatchSystem: s_, ContextSystem: u_, FramebufferSystem: f_, GeometrySystem: m_, MaskSystem: rm, ScissorSystem: am, StencilSystem: lm, ProjectionSystem: dm, RenderTextureSystem: mm, ShaderSystem: Om, StateSystem: Mm, TextureGCSystem: Pm, TextureSystem: wm },
        Bm = new yf(),
        lp =
            (Cf(Gm, (Fm = uc)),
            (Gm.prototype.initPlugins = function (t) {
                for (var e in t) this.plugins[e] = new t[e](this);
            }),
            Object.defineProperty(Gm.prototype, 'width', {
                get: function () {
                    return this.view.width;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Gm.prototype, 'height', {
                get: function () {
                    return this.view.height;
                },
                enumerable: !1,
                configurable: !0,
            }),
            (Gm.prototype.resize = function (t, e) {
                ((this.view.width = Math.round(t * this.resolution)), (this.view.height = Math.round(e * this.resolution)));
                ((t = this.view.width / this.resolution), (e = this.view.height / this.resolution));
                ((this.screen.width = t), (this.screen.height = e), this.autoDensity && ((this.view.style.width = t + 'px'), (this.view.style.height = e + 'px')), this.emit('resize', t, e));
            }),
            (Gm.prototype.generateTexture = function (t, e, r, i) {
                (void 0 === e && (e = {}), 'number' == typeof e && (Kd('6.1.0', 'generateTexture options (scaleMode, resolution, region) are now object options.'), (e = { scaleMode: e, resolution: r, region: i })));
                ((r = e.region),
                    (e = (function (t, e) {
                        var r = {};
                        for (n in t) Object.prototype.hasOwnProperty.call(t, n) && e.indexOf(n) < 0 && (r[n] = t[n]);
                        if (null != t && 'function' == typeof Object.getOwnPropertySymbols) for (var i = 0, n = Object.getOwnPropertySymbols(t); i < n.length; i++) e.indexOf(n[i]) < 0 && (r[n[i]] = t[n[i]]);
                        return r;
                    })(e, ['region'])));
                (0 === (i = r || t.getLocalBounds(null, !0)).width && (i.width = 1), 0 === i.height && (i.height = 1));
                e = Mp.create(wf({ width: i.width, height: i.height }, e));
                return ((Bm.tx = -i.x), (Bm.ty = -i.y), this.render(t, { renderTexture: e, clear: !1, transform: Bm, skipUpdateTransform: !!t.parent }), e);
            }),
            (Gm.prototype.destroy = function (t) {
                for (var e in this.plugins) (this.plugins[e].destroy(), (this.plugins[e] = null));
                t && this.view.parentNode && this.view.parentNode.removeChild(this.view);
                ((this.plugins = null), (this.type = $.RENDERER_TYPE.UNKNOWN), (this.view = null), (this.screen = null), (this._tempDisplayObjectParent = null), (this.options = null), (this._backgroundColorRgba = null), (this._backgroundColorString = null), (this._lastObjectRendered = null));
            }),
            Object.defineProperty(Gm.prototype, 'backgroundColor', {
                get: function () {
                    return this._backgroundColor;
                },
                set: function (t) {
                    var e;
                    ((this._backgroundColor = t), (this._backgroundColorString = ((e = (e = t).toString(16)), '#' + (e = '000000'.substring(0, 6 - e.length) + e))), (e = t), void 0 === (t = this._backgroundColorRgba) && (t = []), (t[0] = ((e >> 16) & 255) / 255), (t[1] = ((e >> 8) & 255) / 255), (t[2] = (255 & e) / 255));
                },
                enumerable: !1,
                configurable: !0,
            }),
            Object.defineProperty(Gm.prototype, 'backgroundAlpha', {
                get: function () {
                    return this._backgroundColorRgba[3];
                },
                set: function (t) {
                    this._backgroundColorRgba[3] = t;
                },
                enumerable: !1,
                configurable: !0,
            }),
            Gm);
    function Gm(t, e) {
        void 0 === t && (t = $.RENDERER_TYPE.UNKNOWN);
        var r = Fm.call(this) || this;
        return ((e = Object.assign({}, G.RENDER_OPTIONS, e)), (r.options = e), (r.type = t), (r.screen = new _f(0, 0, e.width, e.height)), (r.view = e.view || document.createElement('canvas')), (r.resolution = e.resolution || G.RESOLUTION), (r.useContextAlpha = e.useContextAlpha), (r.autoDensity = !!e.autoDensity), (r.preserveDrawingBuffer = e.preserveDrawingBuffer), (r.clearBeforeRender = e.clearBeforeRender), (r._backgroundColor = 0), (r._backgroundColorRgba = [0, 0, 0, 1]), (r._backgroundColorString = '#000000'), (r.backgroundColor = e.backgroundColor || r._backgroundColor), (r.backgroundAlpha = e.backgroundAlpha), void 0 !== e.transparent && (Kd('6.0.0', 'Option transparent is deprecated, please use backgroundAlpha instead.'), (r.useContextAlpha = e.transparent), (r.backgroundAlpha = e.transparent ? 0 : 1)), (r._lastObjectRendered = null), (r.plugins = {}), r);
    }
    var km,
        Xm = function (t) {
            ((this.buffer = t || null), (this.updateID = -1), (this.byteLength = -1), (this.refCount = 0));
        },
        Hm =
            ((Ym.prototype.destroy = function () {
                this.renderer = null;
            }),
            (Ym.prototype.contextChange = function () {
                (this.disposeAll(!0), (this.gl = this.renderer.gl), (this.CONTEXT_UID = this.renderer.CONTEXT_UID));
            }),
            (Ym.prototype.bind = function (t) {
                var e = this.gl,
                    r = this.CONTEXT_UID,
                    r = t._glBuffers[r] || this.createGLBuffer(t);
                e.bindBuffer(t.type, r.buffer);
            }),
            (Ym.prototype.bindBufferBase = function (t, e) {
                var r = this.gl,
                    i = this.CONTEXT_UID;
                this.boundBufferBases[e] !== t && ((i = t._glBuffers[i] || this.createGLBuffer(t)), (this.boundBufferBases[e] = t), r.bindBufferBase(r.UNIFORM_BUFFER, e, i.buffer));
            }),
            (Ym.prototype.bindBufferRange = function (t, e, r) {
                var i = this.gl,
                    n = this.CONTEXT_UID;
                r = r || 0;
                t = t._glBuffers[n] || this.createGLBuffer(t);
                i.bindBufferRange(i.UNIFORM_BUFFER, e || 0, t.buffer, 256 * r, 256);
            }),
            (Ym.prototype.update = function (t) {
                var e = this.gl,
                    r = this.CONTEXT_UID,
                    i = t._glBuffers[r];
                t._updateID !== i.updateID && ((i.updateID = t._updateID), e.bindBuffer(t.type, i.buffer), i.byteLength >= t.data.byteLength ? e.bufferSubData(t.type, 0, t.data) : ((r = t.static ? e.STATIC_DRAW : e.DYNAMIC_DRAW), (i.byteLength = t.data.byteLength), e.bufferData(t.type, t.data, r)));
            }),
            (Ym.prototype.dispose = function (t, e) {
                var r, i;
                this.managedBuffers[t.id] && (delete this.managedBuffers[t.id], (r = t._glBuffers[this.CONTEXT_UID]), (i = this.gl), t.disposeRunner.remove(this), r && (e || i.deleteBuffer(r.buffer), delete t._glBuffers[this.CONTEXT_UID]));
            }),
            (Ym.prototype.disposeAll = function (t) {
                for (var e = Object.keys(this.managedBuffers), r = 0; r < e.length; r++) this.dispose(this.managedBuffers[e[r]], t);
            }),
            (Ym.prototype.createGLBuffer = function (t) {
                var e = this.CONTEXT_UID,
                    r = this.gl;
                return ((t._glBuffers[e] = new Xm(r.createBuffer())), (this.managedBuffers[t.id] = t).disposeRunner.add(this), t._glBuffers[e]);
            }),
            Ym);
    function Ym(t) {
        ((this.renderer = t), (this.managedBuffers = {}), (this.boundBufferBases = {}));
    }
    function jm(t) {
        var e,
            r,
            i = km.call(this, $.RENDERER_TYPE.WEBGL, t) || this;
        return (
            (t = i.options),
            (i.gl = null),
            (i.CONTEXT_UID = 0),
            (i.runners = { destroy: new nf('destroy'), contextChange: new nf('contextChange'), reset: new nf('reset'), update: new nf('update'), postrender: new nf('postrender'), prerender: new nf('prerender'), resize: new nf('resize') }),
            i.runners.contextChange.add(i),
            (i.globalUniforms = new Zp({ projectionMatrix: new yf() }, !0)),
            i.addSystem(rm, 'mask').addSystem(u_, 'context').addSystem(Mm, 'state').addSystem(Om, 'shader').addSystem(wm, 'texture').addSystem(Hm, 'buffer').addSystem(m_, 'geometry').addSystem(f_, 'framebuffer').addSystem(am, 'scissor').addSystem(lm, 'stencil').addSystem(dm, 'projection').addSystem(Pm, 'textureGC').addSystem(r_, 'filter').addSystem(mm, 'renderTexture').addSystem(s_, 'batch'),
            i.initPlugins(jm.__plugins),
            (i.multisample = void 0),
            t.context ? i.context.initFromContext(t.context) : i.context.initFromOptions({ alpha: !!i.useContextAlpha, antialias: t.antialias, premultipliedAlpha: i.useContextAlpha && 'notMultiplied' !== i.useContextAlpha, stencil: !0, preserveDrawingBuffer: t.preserveDrawingBuffer, powerPreference: i.options.powerPreference }),
            (i.renderingToScreen = !0),
            (e = 2 === i.context.webGLVersion ? 'WebGL 2' : 'WebGL 1'),
            kd || (-1 < navigator.userAgent.toLowerCase().indexOf('chrome') ? ((r = ['\n %c %c %c PixiJS ' + Xd + ' -  ' + e + '   %c  %c  http://www.pixijs.com/  %c %c %c%c \n\n', 'background: #ff66a5; padding:5px 0;', 'background: #ff66a5; padding:5px 0;', 'color: #ff66a5; background: #030307; padding:5px 0;', 'background: #ff66a5; padding:5px 0;', 'background: #ffc3dc; padding:5px 0;', 'background: #ff66a5; padding:5px 0;', 'color: #ff2424; background: #fff; padding:5px 0;', 'color: #ff2424; background: #fff; padding:5px 0;', 'color: #ff2424; background: #fff; padding:5px 0;']), (t = globalThis.console).log.apply(t, r)) : globalThis.console && globalThis.console.log('PixiJS ' + Xd + ' - ' + e + ' - http://www.pixijs.com/'), (kd = !0)),
            i.resize(i.options.width, i.options.height),
            i
        );
    }
    (Cf(jm, (km = lp)),
        (jm.create = function (t) {
            if (
                (void 0 === Gd &&
                    (Gd = (function () {
                        var t = { stencil: !0, failIfMajorPerformanceCaveat: G.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT };
                        try {
                            if (!globalThis.WebGLRenderingContext) return !1;
                            var e = document.createElement('canvas'),
                                r = e.getContext('webgl', t) || e.getContext('experimental-webgl', t),
                                i = !(!r || !r.getContextAttributes().stencil);
                            return (!r || ((e = r.getExtension('WEBGL_lose_context')) && e.loseContext()), (r = null), i);
                        } catch (t) {
                            return !1;
                        }
                    })()),
                Gd)
            )
                return new jm(t);
            throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.');
        }),
        (jm.prototype.contextChange = function () {
            var t,
                e,
                r = this.gl;
            (1 === this.context.webGLVersion ? ((e = r.getParameter(r.FRAMEBUFFER_BINDING)), r.bindFramebuffer(r.FRAMEBUFFER, null), (t = r.getParameter(r.SAMPLES)), r.bindFramebuffer(r.FRAMEBUFFER, e)) : ((e = r.getParameter(r.DRAW_FRAMEBUFFER_BINDING)), r.bindFramebuffer(r.DRAW_FRAMEBUFFER, null), (t = r.getParameter(r.SAMPLES)), r.bindFramebuffer(r.DRAW_FRAMEBUFFER, e)), t >= $.MSAA_QUALITY.HIGH ? (this.multisample = $.MSAA_QUALITY.HIGH) : t >= $.MSAA_QUALITY.MEDIUM ? (this.multisample = $.MSAA_QUALITY.MEDIUM) : t >= $.MSAA_QUALITY.LOW ? (this.multisample = $.MSAA_QUALITY.LOW) : (this.multisample = $.MSAA_QUALITY.NONE));
        }),
        (jm.prototype.addSystem = function (t, e) {
            var r,
                i = new t(this);
            if (this[e]) throw new Error('Whoops! The name "' + e + '" is already in use');
            for (r in ((this[e] = i), this.runners)) this.runners[r].add(i);
            return this;
        }),
        (jm.prototype.render = function (t, e) {
            var r, i, n, o;
            (e && (o = e instanceof Mp ? (Kd('6.0.0', 'Renderer#render arguments changed, use options instead.'), (r = e), (i = arguments[2]), (n = arguments[3]), arguments[4]) : ((r = e.renderTexture), (i = e.clear), (n = e.transform), e.skipUpdateTransform)), (this.renderingToScreen = !r), this.runners.prerender.emit(), this.emit('prerender'), (this.projection.transform = n), this.context.isLost || (r || (this._lastObjectRendered = t), o || ((o = t.enableTempParent()), t.updateTransform(), t.disableTempParent(o)), this.renderTexture.bind(r), this.batch.currentRenderer.start(), (void 0 !== i ? i : this.clearBeforeRender) && this.renderTexture.clear(), t.render(this), this.batch.currentRenderer.flush(), r && r.baseTexture.update(), this.runners.postrender.emit(), (this.projection.transform = null), this.emit('postrender')));
        }),
        (jm.prototype.generateTexture = function (t, e, r, i) {
            void 0 === e && (e = {});
            i = km.prototype.generateTexture.call(this, t, e, r, i);
            return (this.framebuffer.blit(), i);
        }),
        (jm.prototype.resize = function (t, e) {
            (km.prototype.resize.call(this, t, e), this.runners.resize.emit(this.screen.height, this.screen.width));
        }),
        (jm.prototype.reset = function () {
            return (this.runners.reset.emit(), this);
        }),
        (jm.prototype.clear = function () {
            (this.renderTexture.bind(), this.renderTexture.clear());
        }),
        (jm.prototype.destroy = function (t) {
            for (var e in (this.runners.destroy.emit(), this.runners)) this.runners[e].destroy();
            (km.prototype.destroy.call(this, t), (this.gl = null));
        }),
        Object.defineProperty(jm.prototype, 'extract', {
            get: function () {
                return (Kd('6.0.0', 'Renderer#extract has been deprecated, please use Renderer#plugins.extract instead.'), this.plugins.extract);
            },
            enumerable: !1,
            configurable: !0,
        }),
        (jm.registerPlugin = function (t, e) {
            (jm.__plugins = jm.__plugins || {})[t] = e;
        }));
    var Vm = function () {
            ((this.texArray = null), (this.blend = 0), (this.type = $.DRAW_MODES.TRIANGLES), (this.start = 0), (this.size = 0), (this.data = null));
        },
        Wm =
            ((zm.prototype.clear = function () {
                for (var t = 0; t < this.count; t++) this.elements[t] = null;
                this.count = 0;
            }),
            zm);
    function zm() {
        ((this.elements = []), (this.ids = []), (this.count = 0));
    }
    var qm =
        (Object.defineProperty(Km.prototype, 'int8View', {
            get: function () {
                return (this._int8View || (this._int8View = new Int8Array(this.rawBinaryData)), this._int8View);
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(Km.prototype, 'uint8View', {
            get: function () {
                return (this._uint8View || (this._uint8View = new Uint8Array(this.rawBinaryData)), this._uint8View);
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(Km.prototype, 'int16View', {
            get: function () {
                return (this._int16View || (this._int16View = new Int16Array(this.rawBinaryData)), this._int16View);
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(Km.prototype, 'uint16View', {
            get: function () {
                return (this._uint16View || (this._uint16View = new Uint16Array(this.rawBinaryData)), this._uint16View);
            },
            enumerable: !1,
            configurable: !0,
        }),
        Object.defineProperty(Km.prototype, 'int32View', {
            get: function () {
                return (this._int32View || (this._int32View = new Int32Array(this.rawBinaryData)), this._int32View);
            },
            enumerable: !1,
            configurable: !0,
        }),
        (Km.prototype.view = function (t) {
            return this[t + 'View'];
        }),
        (Km.prototype.destroy = function () {
            ((this.rawBinaryData = null), (this._int8View = null), (this._uint8View = null), (this._int16View = null), (this._uint16View = null), (this._int32View = null), (this.uint32View = null), (this.float32View = null));
        }),
        (Km.sizeOf = function (t) {
            switch (t) {
                case 'int8':
                case 'uint8':
                    return 1;
                case 'int16':
                case 'uint16':
                    return 2;
                case 'int32':
                case 'uint32':
                case 'float32':
                    return 4;
                default:
                    throw new Error(t + " isn't a valid view type");
            }
        }),
        Km);
    function Km(t) {
        ('number' == typeof t ? (this.rawBinaryData = new ArrayBuffer(t)) : t instanceof Uint8Array ? (this.rawBinaryData = t.buffer) : (this.rawBinaryData = t), (this.uint32View = new Uint32Array(this.rawBinaryData)), (this.float32View = new Float32Array(this.rawBinaryData)));
    }
    var Zm,
        Qm =
            (Cf(Jm, (Zm = n_)),
            (Jm.prototype.contextChange = function () {
                var t = this.renderer.gl;
                (G.PREFER_ENV === $.ENV.WEBGL_LEGACY ? (this.MAX_TEXTURES = 1) : ((this.MAX_TEXTURES = Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS), G.SPRITE_MAX_TEXTURES)), (this.MAX_TEXTURES = G_(this.MAX_TEXTURES, t))), (this._shader = this.shaderGenerator.generateShader(this.MAX_TEXTURES)));
                for (var e = 0; e < this._packedGeometryPoolSize; e++) this._packedGeometries[e] = new this.geometryClass();
                this.initFlushBuffers();
            }),
            (Jm.prototype.initFlushBuffers = function () {
                for (var t = Jm._drawCallPool, e = Jm._textureArrayPool, r = this.size / 4, i = Math.floor(r / this.MAX_TEXTURES) + 1; t.length < r; ) t.push(new Vm());
                for (; e.length < i; ) e.push(new Wm());
                for (var n = 0; n < this.MAX_TEXTURES; n++) this._tempBoundTextures[n] = null;
            }),
            (Jm.prototype.onPrerender = function () {
                this._flushId = 0;
            }),
            (Jm.prototype.render = function (t) {
                t._texture.valid && (this._vertexCount + t.vertexData.length / 2 > this.size && this.flush(), (this._vertexCount += t.vertexData.length / 2), (this._indexCount += t.indices.length), (this._bufferedTextures[this._bufferSize] = t._texture.baseTexture), (this._bufferedElements[this._bufferSize++] = t));
            }),
            (Jm.prototype.buildTexturesAndDrawCalls = function () {
                var t = this._bufferedTextures,
                    e = this.MAX_TEXTURES,
                    r = Jm._textureArrayPool,
                    i = this.renderer.batch,
                    n = this._tempBoundTextures,
                    o = this.renderer.textureGC.count,
                    s = ++Hf._globalBatch,
                    a = 0,
                    h = r[0],
                    u = 0;
                i.copyBoundTextures(n, e);
                for (var l = 0; l < this._bufferSize; ++l) {
                    var c = t[l];
                    ((t[l] = null), c._batchEnabled !== s && (h.count >= e && (i.boundArray(h, n, s, e), this.buildDrawCalls(h, u, l), (u = l), (h = r[++a]), ++s), (c._batchEnabled = s), (c.touched = o), (h.elements[h.count++] = c)));
                }
                0 < h.count && (i.boundArray(h, n, s, e), this.buildDrawCalls(h, u, this._bufferSize), ++a, ++s);
                for (l = 0; l < n.length; l++) n[l] = null;
                Hf._globalBatch = s;
            }),
            (Jm.prototype.buildDrawCalls = function (t, e, r) {
                var i = this._bufferedElements,
                    n = this._attributeBuffer,
                    o = this._indexBuffer,
                    s = this.vertexSize,
                    a = Jm._drawCallPool,
                    h = this._dcIndex,
                    u = this._aIndex,
                    l = this._iIndex,
                    c = a[h];
                ((c.start = this._iIndex), (c.texArray = t));
                for (var d = e; d < r; ++d) {
                    var f = i[d],
                        p = f._texture.baseTexture,
                        p = Hd[p.alphaMode ? 1 : 0][f.blendMode];
                    ((i[d] = null), e < d && c.blend !== p && ((c.size = l - c.start), (e = d), ((c = a[++h]).texArray = t), (c.start = l)), this.packInterleavedGeometry(f, n, o, u, l), (u += (f.vertexData.length / 2) * s), (l += f.indices.length), (c.blend = p));
                }
                (e < r && ((c.size = l - c.start), ++h), (this._dcIndex = h), (this._aIndex = u), (this._iIndex = l));
            }),
            (Jm.prototype.bindAndClearTexArray = function (t) {
                for (var e = this.renderer.texture, r = 0; r < t.count; r++) (e.bind(t.elements[r], t.ids[r]), (t.elements[r] = null));
                t.count = 0;
            }),
            (Jm.prototype.updateGeometry = function () {
                var t = this._packedGeometries,
                    e = this._attributeBuffer,
                    r = this._indexBuffer;
                G.CAN_UPLOAD_SAME_BUFFER ? (t[this._flushId]._buffer.update(e.rawBinaryData), t[this._flushId]._indexBuffer.update(r), this.renderer.geometry.updateBuffers()) : (this._packedGeometryPoolSize <= this._flushId && (this._packedGeometryPoolSize++, (t[this._flushId] = new this.geometryClass())), t[this._flushId]._buffer.update(e.rawBinaryData), t[this._flushId]._indexBuffer.update(r), this.renderer.geometry.bind(t[this._flushId]), this.renderer.geometry.updateBuffers(), this._flushId++);
            }),
            (Jm.prototype.drawBatches = function () {
                for (var t = this._dcIndex, e = this.renderer, r = e.gl, i = e.state, n = Jm._drawCallPool, o = null, s = 0; s < t; s++) {
                    var a = n[s],
                        h = a.texArray,
                        u = a.type,
                        l = a.size,
                        c = a.start,
                        a = a.blend;
                    (o !== h && ((o = h), this.bindAndClearTexArray(h)), (this.state.blendMode = a), i.set(this.state), r.drawElements(u, l, r.UNSIGNED_SHORT, 2 * c));
                }
            }),
            (Jm.prototype.flush = function () {
                0 !== this._vertexCount && ((this._attributeBuffer = this.getAttributeBuffer(this._vertexCount)), (this._indexBuffer = this.getIndexBuffer(this._indexCount)), (this._aIndex = 0), (this._iIndex = 0), (this._dcIndex = 0), this.buildTexturesAndDrawCalls(), this.updateGeometry(), this.drawBatches(), (this._bufferSize = 0), (this._vertexCount = 0), (this._indexCount = 0));
            }),
            (Jm.prototype.start = function () {
                (this.renderer.state.set(this.state), this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES), this.renderer.shader.bind(this._shader), G.CAN_UPLOAD_SAME_BUFFER && this.renderer.geometry.bind(this._packedGeometries[this._flushId]));
            }),
            (Jm.prototype.stop = function () {
                this.flush();
            }),
            (Jm.prototype.destroy = function () {
                for (var t = 0; t < this._packedGeometryPoolSize; t++) this._packedGeometries[t] && this._packedGeometries[t].destroy();
                (this.renderer.off('prerender', this.onPrerender, this), (this._aBuffers = null), (this._iBuffers = null), (this._packedGeometries = null), (this._attributeBuffer = null), (this._indexBuffer = null), this._shader && (this._shader.destroy(), (this._shader = null)), Zm.prototype.destroy.call(this));
            }),
            (Jm.prototype.getAttributeBuffer = function (t) {
                var e = jd(Math.ceil(t / 8)),
                    t = Wd(e),
                    e = 8 * e;
                this._aBuffers.length <= t && (this._iBuffers.length = t + 1);
                t = this._aBuffers[e];
                return (t || (this._aBuffers[e] = t = new qm(e * this.vertexSize * 4)), t);
            }),
            (Jm.prototype.getIndexBuffer = function (t) {
                var e = jd(Math.ceil(t / 12)),
                    r = Wd(e),
                    t = 12 * e;
                this._iBuffers.length <= r && (this._iBuffers.length = r + 1);
                e = this._iBuffers[r];
                return (e || (this._iBuffers[r] = e = new Uint16Array(t)), e);
            }),
            (Jm.prototype.packInterleavedGeometry = function (t, e, r, i, n) {
                for (var o, s = e.uint32View, a = e.float32View, h = i / this.vertexSize, u = t.uvs, l = t.indices, c = t.vertexData, d = t._texture.baseTexture._batchLocation, f = Math.min(t.worldAlpha, 1), p = f < 1 && t._texture.baseTexture.alphaMode ? ((o = t._tintRGB), 1 === (e = f) ? ((255 * e) << 24) + o : 0 === e ? 0 : ((255 * e) << 24) + (((((o >> 16) & 255) * e + 0.5) | 0) << 16) + (((((o >> 8) & 255) * e + 0.5) | 0) << 8) + (((255 & o) * e + 0.5) | 0)) : t._tintRGB + ((255 * f) << 24), _ = 0; _ < c.length; _ += 2) ((a[i++] = c[_]), (a[i++] = c[_ + 1]), (a[i++] = u[_]), (a[i++] = u[_ + 1]), (s[i++] = p), (a[i++] = d));
                for (_ = 0; _ < l.length; _++) r[n++] = h + l[_];
            }),
            (Jm._drawCallPool = []),
            (Jm._textureArrayPool = []),
            Jm);
    function Jm(t) {
        var e = Zm.call(this, t) || this;
        return ((e.shaderGenerator = null), (e.geometryClass = null), (e.vertexSize = null), (e.state = W_.for2d()), (e.size = 4 * G.SPRITE_BATCH_SIZE), (e._vertexCount = 0), (e._indexCount = 0), (e._bufferedElements = []), (e._bufferedTextures = []), (e._bufferSize = 0), (e._shader = null), (e._packedGeometries = []), (e._packedGeometryPoolSize = 2), (e._flushId = 0), (e._aBuffers = {}), (e._iBuffers = {}), (e.MAX_TEXTURES = 1), e.renderer.on('prerender', e.onPrerender, e), t.runners.contextChange.add(e), (e._dcIndex = 0), (e._aIndex = 0), (e._iIndex = 0), (e._attributeBuffer = null), (e._indexBuffer = null), (e._tempBoundTextures = []), e);
    }
    var $m =
        ((tE.prototype.generateShader = function (t) {
            if (!this.programCache[t]) {
                for (var e = new Int32Array(t), r = 0; r < t; r++) e[r] = r;
                this.defaultGroupCache[t] = Zp.from({ uSamplers: e }, !0);
                var i = this.fragTemplate;
                ((i = (i = i.replace(/%count%/gi, '' + t)).replace(/%forloop%/gi, this.generateSampleSrc(t))), (this.programCache[t] = new H_(this.vertexSrc, i)));
            }
            i = { tint: new Float32Array([1, 1, 1, 1]), translationMatrix: new yf(), default: this.defaultGroupCache[t] };
            return new j_(this.programCache[t], i);
        }),
        (tE.prototype.generateSampleSrc = function (t) {
            var e = '';
            ((e += '\n'), (e += '\n'));
            for (var r = 0; r < t; r++) (0 < r && (e += '\nelse '), r < t - 1 && (e += 'if(vTextureId < ' + r + '.5)'), (e += '\n{'), (e += '\n\tcolor = texture2D(uSamplers[' + r + '], vTextureCoord);'), (e += '\n}'));
            return ((e += '\n'), (e += '\n'));
        }),
        tE);
    function tE(t, e) {
        if (((this.vertexSrc = t), (this.fragTemplate = e), (this.programCache = {}), (this.defaultGroupCache = {}), e.indexOf('%count%') < 0)) throw new Error('Fragment template must contain "%count%".');
        if (e.indexOf('%forloop%') < 0) throw new Error('Fragment template must contain "%forloop%".');
    }
    var eE,
        rE = (Cf(iE, (eE = Rd)), iE);
    function iE(t) {
        void 0 === t && (t = !1);
        var e = eE.call(this) || this;
        return ((e._buffer = new Fp(null, t, !1)), (e._indexBuffer = new Fp(null, t, !0)), e.addAttribute('aVertexPosition', e._buffer, 2, !1, $.TYPES.FLOAT).addAttribute('aTextureCoord', e._buffer, 2, !1, $.TYPES.FLOAT).addAttribute('aColor', e._buffer, 4, !0, $.TYPES.UNSIGNED_BYTE).addAttribute('aTextureId', e._buffer, 1, !0, $.TYPES.FLOAT).addIndex(e._indexBuffer), e);
    }
    var nE = 'precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n',
        oE = 'varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n';
    function sE() {}
    ((sE.create = function (t) {
        var e,
            t = Object.assign({ vertex: nE, fragment: oE, geometryClass: rE, vertexSize: 6 }, t),
            r = t.vertex,
            i = t.fragment,
            n = t.vertexSize,
            o = t.geometryClass;
        return (Cf(s, (e = Qm)), s);
        function s(t) {
            t = e.call(this, t) || this;
            return ((t.shaderGenerator = new $m(r, i)), (t.geometryClass = o), (t.vertexSize = n), t);
        }
    }),
    Object.defineProperty(sE, 'defaultVertexSrc', {
        get: function () {
            return nE;
        },
        enumerable: !1,
        configurable: !0,
    }),
    Object.defineProperty(sE, 'defaultFragmentTemplate', {
        get: function () {
            return oE;
        },
        enumerable: !1,
        configurable: !0,
    }),
    sE).create();
    var aE = {};
    for (hE in fp)
        !(function (t) {
            Object.defineProperty(aE, t, {
                get: function () {
                    return (Kd('6.0.0', 'PIXI.systems.' + t + ' has moved to PIXI.' + t), fp[t]);
                },
            });
        })(hE);
    var hE,
        uE = {};
    for (hE in Um)
        !(function (t) {
            Object.defineProperty(uE, t, {
                get: function () {
                    return (Kd('6.0.0', 'PIXI.resources.' + t + ' has moved to PIXI.' + t), Um[t]);
                },
            });
        })(hE);
    ((lE.prototype.render = function (t) {
        var e = this.renderer,
            r = t.worldTransform;
        ((e.context.globalAlpha = t.worldAlpha), e.setBlendMode(t.blendMode), e.setContextTransform(r, t.roundPixels), t.drawMode !== $.DRAW_MODES.TRIANGLES ? this._renderTriangleMesh(t) : this._renderTriangles(t));
    }),
        (lE.prototype._renderTriangleMesh = function (t) {
            for (var e = t.geometry.buffers[0].data.length, r = 0; r < e - 2; r++) {
                var i = 2 * r;
                this._renderDrawTriangle(t, i, 2 + i, 4 + i);
            }
        }),
        (lE.prototype._renderTriangles = function (t) {
            for (var e = t.geometry.getIndex().data, r = e.length, i = 0; i < r; i += 3) {
                var n = 2 * e[i],
                    o = 2 * e[i + 1],
                    s = 2 * e[i + 2];
                this._renderDrawTriangle(t, n, o, s);
            }
        }),
        (lE.prototype._renderDrawTriangle = function (t, e, r, i) {
            var n,
                o,
                s,
                a,
                h,
                u,
                l,
                c,
                d,
                f,
                p,
                _,
                m,
                E,
                v,
                y,
                g,
                T,
                b,
                x,
                R,
                A = this.renderer.context,
                S = t.geometry.buffers[0].data,
                O = t.uvs,
                I = t.texture;
            I.valid &&
                ((_ = 16777215 !== t.tint),
                (o = (n = I.baseTexture).width),
                (s = n.height),
                _ && t._cachedTint !== t.tint && ((t._cachedTint = t.tint), (t._cachedTexture = t._cachedTexture || new Sp(n)), (t._tintedCanvas = dd.getTintedCanvas({ texture: t._cachedTexture }, t.tint))),
                (a = _ ? t._tintedCanvas : n.getDrawableSource()),
                (h = O[e] * n.width),
                (u = O[r] * n.width),
                (l = O[i] * n.width),
                (c = O[e + 1] * n.height),
                (d = O[r + 1] * n.height),
                (R = O[i + 1] * n.height),
                (T = S[e]),
                (x = S[r]),
                (b = S[i]),
                (m = S[e + 1]),
                (E = S[r + 1]),
                (f = S[i + 1]),
                0 < (p = t.canvasPadding / this.renderer.resolution) && ((I = (g = t.worldTransform).a), (_ = g.b), (S = I * (e = T - (O = (T + x + b) / 3)) + (r = g.c) * (y = m - (v = (m + E + f) / 3))), (t = _ * e + (i = g.d) * y), (T = O + e * (g = 1 + p / Math.sqrt(S * S + t * t))), (m = v + y * g), (S = I * (e = x - O) + r * (y = E - v)), (t = _ * e + i * y), (x = O + e * (g = 1 + p / Math.sqrt(S * S + t * t))), (E = v + y * g), (S = I * (e = b - O) + r * (y = f - v)), (t = _ * e + i * y), (b = O + e * (g = 1 + p / Math.sqrt(S * S + t * t))), (f = v + y * g)),
                A.save(),
                A.beginPath(),
                A.moveTo(T, m),
                A.lineTo(x, E),
                A.lineTo(b, f),
                A.closePath(),
                A.clip(),
                (v = h * d + c * l + u * R - d * l - c * u - h * R),
                (y = T * d + c * b + x * R - d * b - c * x - T * R),
                (g = h * x + T * l + u * b - x * l - T * u - h * b),
                (T = h * d * b + c * x * l + T * u * R - T * d * l - c * u * b - h * x * R),
                (b = m * d + c * f + E * R - d * f - c * E - m * R),
                (x = h * E + m * l + u * f - E * l - m * u - h * f),
                (R = h * d * f + c * E * l + m * u * R - m * d * l - c * u * f - h * E * R),
                A.transform(y / v, b / v, g / v, x / v, T / v, R / v),
                A.drawImage(a, 0, 0, o * n.resolution, s * n.resolution, 0, 0, o, s),
                A.restore(),
                this.renderer.invalidateBlendMode());
        }),
        (lE.prototype.renderMeshFlat = function (t) {
            var e = this.renderer.context,
                r = t.geometry.getBuffer('aVertexPosition').data,
                i = r.length / 2;
            e.beginPath();
            for (var n = 1; n < i - 2; ++n) {
                var o = 2 * n,
                    s = r[o],
                    a = r[1 + o],
                    h = r[2 + o],
                    u = r[3 + o],
                    l = r[4 + o],
                    o = r[5 + o];
                (e.moveTo(s, a), e.lineTo(h, u), e.lineTo(l, o));
            }
            ((e.fillStyle = '#FF0000'), e.fill(), e.closePath());
        }),
        (lE.prototype.destroy = function () {
            this.renderer = null;
        }),
        (xd = lE));
    function lE(t) {
        this.renderer = t;
    }
    ((G.MESH_CANVAS_PADDING = 0),
        (Jl.prototype._renderCanvas = function (t, e) {
            t.plugins.mesh.render(e);
        }),
        (ya.prototype._cachedTint = 16777215),
        (ya.prototype._tintedCanvas = null),
        (ya.prototype._canvasUvs = null));
    var cE = !(ya.prototype._renderCanvas = function (t) {
        var e = t.context,
            r = this.worldTransform,
            i = 16777215 !== this.tint,
            n = this.texture;
        if (n.valid) {
            i && this._cachedTint !== this.tint && ((this._cachedTint = this.tint), (this._tintedCanvas = dd.getTintedCanvas(this, this.tint)));
            var o = i ? this._tintedCanvas : n.baseTexture.getDrawableSource();
            this._canvasUvs || (this._canvasUvs = [0, 0, 0, 0, 0, 0, 0, 0]);
            var s = this.vertices,
                a = this._canvasUvs,
                h = i ? 0 : n.frame.x,
                u = i ? 0 : n.frame.y,
                l = h + n.frame.width,
                i = u + n.frame.height;
            ((a[0] = h), (a[1] = h + this._leftWidth), (a[2] = l - this._rightWidth), (a[3] = l), (a[4] = u), (a[5] = u + this._topHeight), (a[6] = i - this._bottomHeight), (a[7] = i));
            for (var c = 0; c < 8; c++) a[c] *= n.baseTexture.resolution;
            ((e.globalAlpha = this.worldAlpha), t.setBlendMode(this.blendMode), t.setContextTransform(r, this.roundPixels));
            for (var d = 0; d < 3; d++)
                for (var f = 0; f < 3; f++) {
                    var p = 2 * f + 8 * d,
                        _ = Math.max(1, a[f + 1] - a[f]),
                        m = Math.max(1, a[d + 5] - a[d + 4]),
                        E = Math.max(1, s[10 + p] - s[p]),
                        v = Math.max(1, s[11 + p] - s[1 + p]);
                    e.drawImage(o, a[f], a[d + 4], _, m, s[p], s[1 + p], E, v);
                }
        }
    });
    ((Kl.prototype._cachedTint = 16777215),
        (Kl.prototype._tintedCanvas = null),
        (Kl.prototype._cachedTexture = null),
        (Kl.prototype._renderCanvas = function (t) {
            (this.shader.uvMatrix && (this.shader.uvMatrix.update(), this.calculateUvs()), this.material._renderCanvas ? this.material._renderCanvas(t, this) : cE || ((cE = !0), globalThis.console && console.warn('Mesh with custom shaders are not supported in CanvasRenderer.')));
        }),
        (Kl.prototype._canvasPadding = null),
        Object.defineProperty(Kl.prototype, 'canvasPadding', {
            get: function () {
                return null !== this._canvasPadding ? this._canvasPadding : G.MESH_CANVAS_PADDING;
            },
            set: function (t) {
                this._canvasPadding = t;
            },
        }),
        (eu.prototype._renderCanvas = function (t) {
            (this.autoUpdate && this.geometry.getBuffer('aVertexPosition').update(), this.shader.update && this.shader.update(), this.calculateUvs(), this.material._renderCanvas(t, this));
        }),
        (kc.prototype._renderCanvas = function (t) {
            ((!this.autoUpdate && this.geometry._width === this.shader.texture.height) || ((this.geometry._width = this.shader.texture.height), this.geometry.update()), this.shader.update && this.shader.update(), this.calculateUvs(), this.material._renderCanvas(t, this));
        }));
    var dE =
        ((fE.offsetPolygon = function (t, e) {
            var r = [],
                i = t.length;
            e = fE.isPolygonClockwise(t) ? e : -1 * e;
            for (var n = 0; n < i; n += 2) {
                var o = n - 2;
                o < 0 && (o += i);
                var s = (n + 2) % i,
                    a = t[n] - t[o],
                    h = t[n + 1] - t[o + 1],
                    u = Math.sqrt(a * a + h * h);
                ((a /= u), (h /= u), (a *= e));
                var l = -(h *= e),
                    h = [t[o] + l, t[o + 1] + a],
                    o = [t[n] + l, t[n + 1] + a],
                    l = t[s] - t[n],
                    a = t[1 + s] - t[n + 1];
                ((l /= u = Math.sqrt(l * l + a * a)), (a /= u), (l *= e));
                ((u = -(a *= e)), (a = [t[n] + u, t[n + 1] + l]), (l = [t[s] + u, t[1 + s] + l]), (l = fE.findIntersection(h[0], h[1], o[0], o[1], a[0], a[1], l[0], l[1])));
                l && r.push.apply(r, l);
            }
            return r;
        }),
        (fE.findIntersection = function (t, e, r, i, n, o, s, a) {
            var h = (a - o) * (r - t) - (s - n) * (i - e),
                a = (s - n) * (e - o) - (a - o) * (t - n);
            if (0 == h) return 0 == a && 0 == (r - t) * (e - o) - (i - e) * (t - n) ? [(t + r) / 2, (e + i) / 2] : null;
            h = a / h;
            return [t + h * (r - t), e + h * (i - e)];
        }),
        (fE.isPolygonClockwise = function (t) {
            for (var e = 0, r = 0, i = t.length - 2; r < t.length; i = r, r += 2) e += (t[r] - t[i]) * (t[r + 1] + t[i + 1]);
            return 0 < e;
        }),
        fE);
    function fE() {}
    var pE,
        vt =
            ((_E.prototype._calcCanvasStyle = function (t, e) {
                var r;
                return (t.texture && t.texture.baseTexture !== Gi.WHITE.baseTexture ? (t.texture.valid ? ((r = dd.getTintedPattern(t.texture, e)), this.setPatternTransform(r, t.matrix || Be.IDENTITY)) : (r = '#808080')) : (r = '#' + ('00000' + (0 | e).toString(16)).slice(-6)), r);
            }),
            (_E.prototype.render = function (t) {
                var e = this.renderer,
                    r = e.context,
                    i = t.worldAlpha,
                    n = t.transform.worldTransform;
                (e.setContextTransform(n), e.setBlendMode(t.blendMode));
                for (var o = t.geometry.graphicsData, s = ((t.tint >> 16) & 255) / 255, a = ((t.tint >> 8) & 255) / 255, h = (255 & t.tint) / 255, u = 0; u < o.length; u++) {
                    var l,
                        c,
                        d,
                        f,
                        p,
                        _,
                        m,
                        E,
                        v,
                        y,
                        g = o[u],
                        T = g.shape,
                        b = g.fillStyle,
                        x = g.lineStyle,
                        R = 0 | g.fillStyle.color,
                        A = 0 | g.lineStyle.color;
                    if ((g.matrix && e.setContextTransform(n.copyTo(this._tempMatrix).append(g.matrix)), b.visible && ((f = (((((R >> 16) & 255) / 255) * s * 255) << 16) + (((((R >> 8) & 255) / 255) * a * 255) << 8) + ((255 & R) / 255) * h * 255), (l = this._calcCanvasStyle(b, f))), x.visible && ((d = (((((A >> 16) & 255) / 255) * s * 255) << 16) + (((((A >> 8) & 255) / 255) * a * 255) << 8) + ((255 & A) / 255) * h * 255), (c = this._calcCanvasStyle(x, d))), (r.lineWidth = x.width), (r.lineCap = x.cap), (r.lineJoin = x.join), (r.miterLimit = x.miterLimit), g.type === $.SHAPES.POLY)) {
                        r.beginPath();
                        var S = (L = T).points,
                            O = g.holes,
                            I = void 0,
                            M = void 0,
                            N = void 0,
                            P = void 0,
                            D = void 0;
                        r.moveTo(S[0], S[1]);
                        for (var C = 2; C < S.length; C += 2) r.lineTo(S[C], S[C + 1]);
                        if ((L.closeStroke && r.closePath(), 0 < O.length)) {
                            ((D = []), (N = S[(I = 0)]), (P = S[1]));
                            for (C = 2; C + 2 < S.length; C += 2) I += (S[C] - N) * (S[C + 3] - P) - (S[C + 2] - N) * (S[C + 1] - P);
                            for (var w = 0; w < O.length; w++)
                                if ((S = O[w].shape.points)) {
                                    ((N = S[(M = 0)]), (P = S[1]));
                                    for (C = 2; C + 2 < S.length; C += 2) M += (S[C] - N) * (S[C + 3] - P) - (S[C + 2] - N) * (S[C + 1] - P);
                                    if (M * I < 0) {
                                        r.moveTo(S[0], S[1]);
                                        for (C = 2; C < S.length; C += 2) r.lineTo(S[C], S[C + 1]);
                                    } else {
                                        r.moveTo(S[S.length - 2], S[S.length - 1]);
                                        for (C = S.length - 4; 0 <= C; C -= 2) r.lineTo(S[C], S[C + 1]);
                                    }
                                    (O[w].shape.closeStroke && r.closePath(), (D[w] = M * I < 0));
                                }
                        }
                        (b.visible && ((r.globalAlpha = b.alpha * i), (r.fillStyle = l), r.fill()), x.visible && this.paintPolygonStroke(L, x, c, O, D, i, r));
                    } else if (g.type === $.SHAPES.RECT) {
                        var L = T;
                        if (0 < (O = g.holes).length) {
                            (r.beginPath(), r.rect(L.x, L.y, L.width, L.height));
                            for (u = 0; u < O.length; u++) {
                                var F = O[u];
                                if (F.shape)
                                    switch (F.type) {
                                        case $.SHAPES.CIRC:
                                            r.arc(F.shape.x, F.shape.y, F.shape.radius, 0, 2 * Math.PI, !0);
                                            break;
                                        case $.SHAPES.RREC:
                                            r.rect(F.shape.x, F.shape.y, F.shape.width, F.shape.height);
                                            break;
                                        case $.SHAPES.RREC:
                                            var U = F.shape.x,
                                                B = F.shape.y,
                                                G = F.shape.width,
                                                k = F.shape.height,
                                                X = F.shape.radius;
                                            (G < 2 * X && (X = G / 2), k < 2 * X && (X = k / 2), r.moveTo(U + X, B), r.arcTo(U + G, B, U + G, B + k, X), r.arcTo(U + G, B + k, U, B + k, X), r.arcTo(U, B + k, U, B, X), r.arcTo(U, B, U + G, B, X));
                                    }
                            }
                            (r.closePath(), b.visible && ((r.globalAlpha = b.alpha * i), (r.fillStyle = l), r.fill('evenodd')));
                        } else b.visible && ((r.globalAlpha = b.alpha * i), (r.fillStyle = l), r.fillRect(L.x, L.y, L.width, L.height));
                        x.visible && ((r.globalAlpha = x.alpha * i), (r.strokeStyle = c), r.strokeRect(L.x, L.y, L.width, L.height));
                    } else
                        g.type === $.SHAPES.CIRC
                            ? ((L = T), r.beginPath(), r.arc(L.x, L.y, L.radius, 0, 2 * Math.PI), r.closePath(), b.visible && ((r.globalAlpha = b.alpha * i), (r.fillStyle = l), r.fill()), x.visible && (0.5 !== x.alignment && ((_ = x.width * (0.5 - (1 - x.alignment))), r.beginPath(), r.arc(L.x, L.y, L.radius + _, 0, 2 * Math.PI), r.closePath()), (r.globalAlpha = x.alpha * i), (r.strokeStyle = c), r.stroke()))
                            : g.type === $.SHAPES.ELIP
                              ? ((L = T), (p = 1 === x.alignment) || this.paintEllipse(L, b, x, l, i, r), x.visible && (0.5 !== x.alignment && ((_ = x.width * (0.5 - (1 - x.alignment))), (f = ((R = 2 * (L.width + _)) / 2) * 0.5522848), (y = ((E = 2 * (L.height + _)) / 2) * 0.5522848), (A = (m = L.x - R / 2) + R), (v = (d = L.y - E / 2) + E), (R = m + R / 2), (E = d + E / 2), r.beginPath(), r.moveTo(m, E), r.bezierCurveTo(m, E - y, R - f, d, R, d), r.bezierCurveTo(R + f, d, A, E - y, A, E), r.bezierCurveTo(A, E + y, R + f, v, R, v), r.bezierCurveTo(R - f, v, m, E + y, m, E), r.closePath()), (r.globalAlpha = x.alpha * i), (r.strokeStyle = c), r.stroke()), p && this.paintEllipse(L, b, x, l, i, r))
                              : g.type === $.SHAPES.RREC && ((L = T), (p = 1 === x.alignment) || this.paintRoundedRectangle(L, b, x, l, i, r), x.visible && (0.5 !== x.alignment && ((v = L.width), (y = L.height), (_ = x.width * (0.5 - (1 - x.alignment))), (m = L.x - _), (E = L.y - _), (g = L.width + 2 * _), (T = L.height + 2 * _), (v = _ * (1 <= x.alignment ? Math.min(g / v, T / y) : Math.min(v / g, y / T))), (y = L.radius + v), (y = (v = Math.min(g, T) / 2) < y ? v : y), r.beginPath(), r.moveTo(m, E + y), r.lineTo(m, E + T - y), r.quadraticCurveTo(m, E + T, m + y, E + T), r.lineTo(m + g - y, E + T), r.quadraticCurveTo(m + g, E + T, m + g, E + T - y), r.lineTo(m + g, E + y), r.quadraticCurveTo(m + g, E, m + g - y, E), r.lineTo(m + y, E), r.quadraticCurveTo(m, E, m, E + y), r.closePath()), (r.globalAlpha = x.alpha * i), (r.strokeStyle = c), r.stroke()), p && this.paintRoundedRectangle(L, b, x, l, i, r));
                }
            }),
            (_E.prototype.paintPolygonStroke = function (t, e, r, i, n, o, s) {
                if (0.5 !== e.alignment) {
                    var a,
                        h = e.width * (0.5 - (1 - e.alignment)),
                        u = dE.offsetPolygon(t.points, h);
                    (s.beginPath(), s.moveTo(u[0], u[1]));
                    for (var l = 2; l < u.length; l += 2) s.lineTo(u[l], u[l + 1]);
                    t.closeStroke && s.closePath();
                    for (var c = 0; c < i.length; c++) {
                        if (((a = i[c].shape.points), (u = dE.offsetPolygon(a, h)), n[c])) {
                            s.moveTo(u[0], u[1]);
                            for (l = 2; l < u.length; l += 2) s.lineTo(u[l], u[l + 1]);
                        } else {
                            s.moveTo(u[u.length - 2], u[u.length - 1]);
                            for (l = u.length - 4; 0 <= l; l -= 2) s.lineTo(u[l], u[l + 1]);
                        }
                        i[c].shape.closeStroke && s.closePath();
                    }
                }
                ((s.globalAlpha = e.alpha * o), (s.strokeStyle = r), s.stroke());
            }),
            (_E.prototype.paintEllipse = function (t, e, r, i, n, o) {
                var s = 2 * t.width,
                    a = 2 * t.height,
                    h = t.x - s / 2,
                    u = t.y - a / 2,
                    l = (s / 2) * 0.5522848,
                    c = (a / 2) * 0.5522848,
                    d = h + s,
                    t = u + a,
                    s = h + s / 2,
                    a = u + a / 2;
                (0 === r.alignment && o.save(), o.beginPath(), o.moveTo(h, a), o.bezierCurveTo(h, a - c, s - l, u, s, u), o.bezierCurveTo(s + l, u, d, a - c, d, a), o.bezierCurveTo(d, a + c, s + l, t, s, t), o.bezierCurveTo(s - l, t, h, a + c, h, a), o.closePath(), 0 === r.alignment && o.clip(), e.visible && ((o.globalAlpha = e.alpha * n), (o.fillStyle = i), o.fill()), 0 === r.alignment && o.restore());
            }),
            (_E.prototype.paintRoundedRectangle = function (t, e, r, i, n, o) {
                var s = t.x,
                    a = t.y,
                    h = t.width,
                    u = t.height,
                    l = t.radius,
                    t = Math.min(h, u) / 2,
                    l = t < l ? t : l;
                (0 === r.alignment && o.save(), o.beginPath(), o.moveTo(s, a + l), o.lineTo(s, a + u - l), o.quadraticCurveTo(s, a + u, s + l, a + u), o.lineTo(s + h - l, a + u), o.quadraticCurveTo(s + h, a + u, s + h, a + u - l), o.lineTo(s + h, a + l), o.quadraticCurveTo(s + h, a, s + h - l, a), o.lineTo(s + l, a), o.quadraticCurveTo(s, a, s, a + l), o.closePath(), 0 === r.alignment && o.clip(), e.visible && ((o.globalAlpha = e.alpha * n), (o.fillStyle = i), o.fill()), 0 === r.alignment && o.restore());
            }),
            (_E.prototype.setPatternTransform = function (t, e) {
                if (!1 !== this._svgMatrix) {
                    if (!this._svgMatrix) {
                        var r = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
                        if ((r && r.createSVGMatrix && (this._svgMatrix = r.createSVGMatrix()), !this._svgMatrix || !t.setTransform)) return void (this._svgMatrix = !1);
                    }
                    ((this._svgMatrix.a = e.a), (this._svgMatrix.b = e.b), (this._svgMatrix.c = e.c), (this._svgMatrix.d = e.d), (this._svgMatrix.e = e.tx), (this._svgMatrix.f = e.ty), t.setTransform(this._svgMatrix.inverse()));
                }
            }),
            (_E.prototype.destroy = function () {
                ((this.renderer = null), (this._svgMatrix = null), (this._tempMatrix = null));
            }),
            _E);
    function _E(t) {
        ((this._svgMatrix = null), (this._tempMatrix = new Be()), (this.renderer = t));
    }
    var mE = new Be();
    ((Mu.prototype.generateCanvasTexture = function (t, e) {
        void 0 === e && (e = 1);
        var r = this.getLocalBounds(),
            i = Hi.create({ width: r.width, height: r.height, scaleMode: t, resolution: e });
        ((pE = pE || new ud()), this.transform.updateLocalTransform(), this.transform.localTransform.copyTo(mE), mE.invert(), (mE.tx -= r.x), (mE.ty -= r.y), pE.render(this, { renderTexture: i, clear: !0, transform: mE }));
        t = Gi.from(i.baseTexture._canvasRenderTarget.canvas, { scaleMode: t });
        return (t.baseTexture.setResolution(e), t);
    }),
        (Mu.prototype.cachedGraphicsData = []),
        (Mu.prototype._renderCanvas = function (t) {
            !0 !== this.isMask && (this.finishPoly(), t.plugins.graphics.render(this));
        }));
    var EE = new Be(),
        uc =
            ((vE.prototype.render = function (t) {
                var e,
                    r,
                    i,
                    n,
                    o,
                    s,
                    a,
                    h = t._texture,
                    u = this.renderer,
                    l = u.context;
                h.valid &&
                    ((e = h._frame.width),
                    (r = h._frame.height),
                    (a = t.transform.worldTransform),
                    (n = i = 0),
                    (o = h.baseTexture.getDrawableSource()),
                    h.orig.width <= 0 ||
                        h.orig.height <= 0 ||
                        !h.valid ||
                        !o ||
                        (u.setBlendMode(t.blendMode, !0),
                        (u.context.globalAlpha = t.worldAlpha),
                        (s = h.baseTexture.scaleMode === $.SCALE_MODES.LINEAR),
                        u.smoothProperty && u.context[u.smoothProperty] !== s && (l[u.smoothProperty] = s),
                        (n = h.trim ? ((i = h.trim.width / 2 + h.trim.x - t.anchor.x * h.orig.width), h.trim.height / 2 + h.trim.y - t.anchor.y * h.orig.height) : ((i = (0.5 - t.anchor.x) * h.orig.width), (0.5 - t.anchor.y) * h.orig.height)),
                        h.rotate && (a.copyTo(EE), (a = EE), ze.matrixAppendRotationInv(a, h.rotate, i, n), (n = i = 0)),
                        (i -= e / 2),
                        (n -= r / 2),
                        u.setContextTransform(a, t.roundPixels, 1),
                        t.roundPixels && ((i |= 0), (n |= 0)),
                        (s = h.baseTexture.resolution),
                        (a = u._outerBlend) && (l.save(), l.beginPath(), l.rect(i * u.resolution, n * u.resolution, e * u.resolution, r * u.resolution), l.clip()),
                        16777215 !== t.tint ? ((t._cachedTint === t.tint && t._tintedCanvas.tintId === t._texture._updateID) || ((t._cachedTint = t.tint), (t._tintedCanvas = dd.getTintedCanvas(t, t.tint))), l.drawImage(t._tintedCanvas, 0, 0, Math.floor(e * s), Math.floor(r * s), Math.floor(i * u.resolution), Math.floor(n * u.resolution), Math.floor(e * u.resolution), Math.floor(r * u.resolution))) : l.drawImage(o, h._frame.x * s, h._frame.y * s, Math.floor(e * s), Math.floor(r * s), Math.floor(i * u.resolution), Math.floor(n * u.resolution), Math.floor(e * u.resolution), Math.floor(r * u.resolution)),
                        a && l.restore(),
                        u.setBlendMode($.BLEND_MODES.NORMAL)));
            }),
            (vE.prototype.destroy = function () {
                this.renderer = null;
            }),
            vE);
    function vE(t) {
        this.renderer = t;
    }
    ((Bu.prototype._tintedCanvas = null),
        (Bu.prototype._renderCanvas = function (t) {
            t.plugins.sprite.render(this);
        }));
    var yE = new Se(),
        lp =
            ((gE.prototype.image = function (t, e, r) {
                var i = new Image();
                return ((i.src = this.base64(t, e, r)), i);
            }),
            (gE.prototype.base64 = function (t, e, r) {
                return this.canvas(t).toDataURL(e, r);
            }),
            (gE.prototype.canvas = function (t) {
                var e,
                    r,
                    i,
                    n = this.renderer;
                (t && (o = t instanceof Hi ? t : n.generateTexture(t)), o ? ((e = o.baseTexture._canvasRenderTarget.context), (r = o.baseTexture._canvasRenderTarget.resolution), (i = o.frame)) : ((e = n.rootContext), (r = n.resolution), ((i = yE).width = this.renderer.width), (i.height = this.renderer.height)));
                var t = Math.floor(i.width * r + 1e-4),
                    o = Math.floor(i.height * r + 1e-4),
                    n = new de(t, o, 1),
                    o = e.getImageData(i.x * r, i.y * r, t, o);
                return (n.context.putImageData(o, 0, 0), n.canvas);
            }),
            (gE.prototype.pixels = function (t) {
                var e,
                    r,
                    i = this.renderer;
                (t && (n = t instanceof Hi ? t : i.generateTexture(t)), n ? ((e = n.baseTexture._canvasRenderTarget.context), (o = n.baseTexture._canvasRenderTarget.resolution), (r = n.frame)) : ((e = i.rootContext), (o = i.resolution), ((r = yE).width = i.width), (r.height = i.height)));
                var t = r.x * o,
                    n = r.y * o,
                    i = r.width * o,
                    o = r.height * o;
                return e.getImageData(t, n, i, o).data;
            }),
            (gE.prototype.destroy = function () {
                this.renderer = null;
            }),
            gE);
    function gE(t) {
        this.renderer = t;
    }
    var TE = function (t, e) {
        return (TE =
            Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array &&
                function (t, e) {
                    t.__proto__ = e;
                }) ||
            function (t, e) {
                for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r]);
            })(t, e);
    };
    function bE(t, e) {
        var r = t;
        if (e instanceof Zr) {
            var i = e.source,
                t = 0 === i.width ? r.canvas.width : Math.min(r.canvas.width, i.width),
                e = 0 === i.height ? r.canvas.height : Math.min(r.canvas.height, i.height);
            return (r.ctx.drawImage(i, 0, 0, t, e, 0, 0, r.canvas.width, r.canvas.height), !0);
        }
        return !1;
    }
    var xE,
        RE,
        AE,
        Rd =
            (TE((RE = OE), (AE = xE = pl)),
            (RE.prototype = null === AE ? Object.create(AE) : ((SE.prototype = AE.prototype), new SE())),
            (OE.prototype.destroy = function () {
                (xE.prototype.destroy.call(this), (this.ctx = null), (this.canvas = null));
            }),
            OE);
    function SE() {
        this.constructor = RE;
    }
    function OE(t) {
        t = xE.call(this, t) || this;
        return (((t.uploadHookHelper = t).canvas = document.createElement('canvas')), (t.canvas.width = 16), (t.canvas.height = 16), (t.ctx = t.canvas.getContext('2d')), t.registerUploadHook(bE), t);
    }
    var IE = new Be(),
        ME = new Be(),
        NE = [new xe(), new xe(), new xe(), new xe()];
    return (
        (Ll.prototype._renderCanvas = function (t) {
            var e = this._texture;
            if (e.baseTexture.valid) {
                var r = t.context,
                    i = this.worldTransform,
                    n = e.baseTexture,
                    o = n.getDrawableSource(),
                    n = n.resolution;
                ((this._textureID === this._texture._updateID && this._cachedTint === this.tint) || ((this._textureID = this._texture._updateID), (s = new de(e._frame.width, e._frame.height, n)), 16777215 !== this.tint ? ((this._tintedCanvas = dd.getTintedCanvas(this, this.tint)), s.context.drawImage(this._tintedCanvas, 0, 0)) : s.context.drawImage(o, -e._frame.x * n, -e._frame.y * n), (this._cachedTint = this.tint), (this._canvasPattern = s.context.createPattern(s.canvas, 'repeat'))), (r.globalAlpha = this.worldAlpha), t.setBlendMode(this.blendMode), this.tileTransform.updateLocalTransform());
                var o = this.tileTransform.localTransform,
                    e = this._width,
                    s = this._height;
                (IE.identity(), ME.copyFrom(o), this.uvRespectAnchor || ME.translate(-this.anchor.x * e, -this.anchor.y * s), ME.scale(this.tileScale.x / n, this.tileScale.y / n), IE.prepend(ME), IE.prepend(i), t.setContextTransform(IE), (r.fillStyle = this._canvasPattern));
                ((i = this.anchor.x * -e), (t = this.anchor.y * -s));
                (NE[0].set(i, t), NE[1].set(i + e, t), NE[2].set(i + e, t + s), NE[3].set(i, t + s));
                for (var a = 0; a < 4; a++) ME.applyInverse(NE[a], NE[a]);
                (r.beginPath(), r.moveTo(NE[0].x, NE[0].y));
                for (a = 1; a < 4; a++) r.lineTo(NE[a].x, NE[a].y);
                (r.closePath(), r.fill());
            }
        }),
        (Gh.prototype.renderCanvas = function (t) {
            if (this.visible && !(this.worldAlpha <= 0) && this.children.length && this.renderable) {
                var e = t.context,
                    r = this.worldTransform,
                    i = !0,
                    n = 0,
                    o = 0,
                    s = 0,
                    a = 0;
                (t.setBlendMode(this.blendMode), (e.globalAlpha = this.worldAlpha), this.displayObjectUpdateTransform());
                for (var h = 0; h < this.children.length; ++h) {
                    var u,
                        l,
                        c = this.children[h];
                    c.visible && c._texture.valid && ((u = c._texture.frame), (e.globalAlpha = this.worldAlpha * c.alpha), (a = c.rotation % (2 * Math.PI) == 0 ? (i && (t.setContextTransform(r, !1, 1), (i = !1)), (n = c.anchor.x * (-u.width * c.scale.x) + c.position.x + 0.5), (o = c.anchor.y * (-u.height * c.scale.y) + c.position.y + 0.5), (s = u.width * c.scale.x), u.height * c.scale.y) : ((i = i || !0), c.displayObjectUpdateTransform(), (l = c.worldTransform), t.setContextTransform(l, this.roundPixels, 1), (n = c.anchor.x * -u.width + 0.5), (o = c.anchor.y * -u.height + 0.5), (s = u.width), u.height)), (l = c._texture.baseTexture.resolution), e.drawImage(c._texture.baseTexture.getDrawableSource(), u.x * l, u.y * l, u.width * l, u.height * l, n * t.resolution, o * t.resolution, s * t.resolution, a * t.resolution));
                }
            }
        }),
        (ur.prototype._renderCanvas = function (t) {}),
        (ur.prototype.renderCanvas = function (t) {
            if (this.visible && !(this.worldAlpha <= 0) && this.renderable) {
                (this._mask && t.maskManager.pushMask(this._mask), this._renderCanvas(t));
                for (var e = 0, r = this.children.length; e < r; ++e) this.children[e].renderCanvas(t);
                this._mask && t.maskManager.popMask(t);
            }
        }),
        (er.prototype.renderCanvas = function (t) {}),
        (el.prototype._renderCanvas = function (t) {
            (this._autoResolution && this._resolution !== t.resolution && ((this._resolution = t.resolution), (this.dirty = !0)), this.updateText(!0), Bu.prototype._renderCanvas.call(this, t));
        }),
        ud.registerPlugin('accessibility', dr),
        ud.registerPlugin('extract', lp),
        ud.registerPlugin('graphics', vt),
        ud.registerPlugin('interaction', Cr),
        ud.registerPlugin('mesh', xd),
        ud.registerPlugin('prepare', Rd),
        ud.registerPlugin('sprite', uc),
        ($.AbstractBatchRenderer = bs),
        ($.AbstractMultiResource = $r),
        ($.AbstractRenderer = ss),
        ($.AccessibilityManager = dr),
        ($.AnimatedSprite = oc),
        ($.AppLoaderPlugin = Ya),
        ($.Application = Ls),
        ($.ArrayResource = ri),
        ($.Attribute = Wi),
        ($.BaseImageResource = oi),
        ($.BasePrepare = pl),
        ($.BaseRenderTexture = Di),
        ($.BaseTexture = Zr),
        ($.BatchDrawCall = ms),
        ($.BatchGeometry = Os),
        ($.BatchPluginFactory = yt),
        ($.BatchRenderer = Et),
        ($.BatchShaderGenerator = Rs),
        ($.BatchSystem = Tn),
        ($.BatchTextureArray = Es),
        ($.BitmapFont = mc),
        ($.BitmapFontData = nc),
        ($.BitmapFontLoader = Oc),
        ($.BitmapText = Rc),
        ($.BlobResource = To),
        ($.Bounds = Ze),
        ($.Buffer = Ki),
        ($.BufferResource = Wr),
        ($.CanvasExtract = lp),
        ($.CanvasGraphicsRenderer = vt),
        ($.CanvasMeshRenderer = xd),
        ($.CanvasPrepare = Rd),
        ($.CanvasRenderer = ud),
        ($.CanvasResource = hi),
        ($.CanvasSpriteRenderer = uc),
        ($.Circle = Ie),
        ($.CompressedTextureLoader = Us),
        ($.CompressedTextureResource = eh),
        ($.Container = ur),
        ($.ContextSystem = Rn),
        ($.CountLimiter = ol),
        ($.CubeResource = ci),
        ($.DDSLoader = Eh),
        ($.DEG_TO_RAD = be),
        ($.DisplayObject = er),
        ($.Ellipse = Ne),
        ($.Extract = ba),
        ($.FORMATS_TO_COMPONENTS = Dh),
        ($.FillStyle = Wh),
        ($.Filter = lo),
        ($.FilterState = fn),
        ($.FilterSystem = En),
        ($.Framebuffer = Mi),
        ($.FramebufferSystem = In),
        ($.GLFramebuffer = Sn),
        ($.GLProgram = Yo),
        ($.GLTexture = ts),
        ($.GRAPHICS_CURVES = Vh),
        ($.Geometry = en),
        ($.GeometrySystem = Pn),
        ($.Graphics = Mu),
        ($.GraphicsData = mu),
        ($.GraphicsGeometry = Tu),
        ($.IGLUniformData = Ho),
        ($.INSTALLED = Br),
        ($.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL = qa),
        ($.ImageBitmapResource = xi),
        ($.ImageResource = pi),
        ($.InteractionData = yr),
        ($.InteractionEvent = br),
        ($.InteractionManager = Cr),
        ($.InteractionTrackingData = Rr),
        ($.KTXLoader = wh),
        ($.LineStyle = Ru),
        ($.Loader = Xa),
        ($.MaskData = Cn),
        ($.MaskSystem = yo),
        ($.Matrix = Be),
        ($.Mesh = Kl),
        ($.MeshBatchUvs = jl),
        ($.MeshGeometry = ec),
        ($.MeshMaterial = Jl),
        ($.NineSlicePlane = ya),
        ($.ObjectRenderer = yn),
        ($.ObservablePoint = Fe),
        ($.PI_2 = ge),
        ($.ParticleContainer = Gh),
        ($.ParticleRenderer = j),
        ($.PlaneGeometry = wc),
        ($.Point = xe),
        ($.Polygon = De),
        ($.Prepare = bl),
        ($.Program = io),
        ($.ProjectionSystem = No),
        ($.Quad = on),
        ($.QuadUv = hn),
        ($.RAD_TO_DEG = Te),
        ($.Rectangle = Se),
        ($.RenderTexture = Hi),
        ($.RenderTexturePool = ji),
        ($.RenderTextureSystem = wo),
        ($.Renderer = ds),
        ($.Resource = Yr),
        ($.RopeGeometry = Uc),
        ($.RoundedRectangle = we),
        ($.Runner = Fr),
        ($.SVGResource = Ei),
        ($.ScissorSystem = Ao),
        ($.Shader = oo),
        ($.ShaderSystem = qo),
        ($.SimpleMesh = eu),
        ($.SimplePlane = gt),
        ($.SimpleRope = kc),
        ($.Sprite = Bu),
        ($.SpriteMaskFilter = Eo),
        ($.Spritesheet = Ol),
        ($.SpritesheetLoader = Ml),
        ($.State = ao),
        ($.StateSystem = Zo),
        ($.StencilSystem = Io),
        ($.System = mt),
        ($.TYPES_TO_BYTES_PER_COMPONENT = Ph),
        ($.TYPES_TO_BYTES_PER_PIXEL = Ch),
        ($.TemporaryDisplayObject = or),
        ($.Text = el),
        ($.TextMetrics = Ku),
        ($.TextStyle = ju),
        ($.Texture = Gi),
        ($.TextureGCSystem = Jo),
        ($.TextureLoader = Va),
        ($.TextureMatrix = po),
        ($.TextureSystem = es),
        ($.TextureUvs = wi),
        ($.Ticker = mr),
        ($.TickerPlugin = t),
        ($.TilingSprite = Ll),
        ($.TilingSpriteRenderer = kl),
        ($.TimeLimiter = Al),
        ($.Transform = qe),
        ($.UniformGroup = cn),
        ($.VERSION = '6.4.2'),
        ($.VideoResource = gi),
        ($.ViewableBuffer = ys),
        ($.accessibleTarget = cr),
        ($.autoDetectRenderer = ps),
        ($.autoDetectResource = Gr),
        ($.canvasUtils = dd),
        ($.checkMaxIfStatementsInShader = to),
        ($.createUBOElements = Go),
        ($.defaultFilterVertex = 'attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n'),
        ($.defaultVertex = 'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}'),
        ($.filters = {}),
        ($.generateProgram = Vo),
        ($.generateUniformBufferSync = Xo),
        ($.getTestContext = Hn),
        ($.getUBOData = ko),
        ($.graphicsUtils = Pu),
        ($.groupD8 = ze),
        ($.interactiveTarget = Ir),
        ($.isMobile = L),
        ($.resources = Ds),
        ($.settings = G),
        ($.systems = ws),
        ($.uniformParsers = Kn),
        ($.utils = ye),
        Object.defineProperty($, '__esModule', { value: !0 }),
        $
    );
})({});
var has = Object.prototype.hasOwnProperty,
    prefix = '~';
function Events() {}
Object.create && ((Events.prototype = Object.create(null)), new Events().__proto__ || (prefix = !1));
function EE(a, c, d) {
    this.fn = a;
    this.context = c;
    this.once = d || !1;
}
function EventEmitter() {
    this._events = new Events();
    this._eventsCount = 0;
}
EventEmitter.prototype.eventNames = function () {
    var a = [],
        c,
        d;
    if (0 === this._eventsCount) return a;
    for (d in (c = this._events)) has.call(c, d) && a.push(prefix ? d.slice(1) : d);
    return Object.getOwnPropertySymbols ? a.concat(Object.getOwnPropertySymbols(c)) : a;
};
EventEmitter.prototype.listeners = function (a, c) {
    var d = this._events[prefix ? prefix + a : a];
    if (c) return !!d;
    if (!d) return [];
    if (d.fn) return [d.fn];
    for (var g = 0, f = d.length, h = Array(f); g < f; g++) h[g] = d[g].fn;
    return h;
};
EventEmitter.prototype.emit = function (a, c, d, g, f, h) {
    var b = prefix ? prefix + a : a;
    if (!this._events[b]) return !1;
    var b = this._events[b],
        k = arguments.length,
        l,
        e;
    if (b.fn) {
        b.once && this.removeListener(a, b.fn, void 0, !0);
        switch (k) {
            case 1:
                return (b.fn.call(b.context), !0);
            case 2:
                return (b.fn.call(b.context, c), !0);
            case 3:
                return (b.fn.call(b.context, c, d), !0);
            case 4:
                return (b.fn.call(b.context, c, d, g), !0);
            case 5:
                return (b.fn.call(b.context, c, d, g, f), !0);
            case 6:
                return (b.fn.call(b.context, c, d, g, f, h), !0);
        }
        e = 1;
        for (l = Array(k - 1); e < k; e++) l[e - 1] = arguments[e];
        b.fn.apply(b.context, l);
    } else {
        var n = b.length,
            m;
        for (e = 0; e < n; e++)
            switch ((b[e].once && this.removeListener(a, b[e].fn, void 0, !0), k)) {
                case 1:
                    b[e].fn.call(b[e].context);
                    break;
                case 2:
                    b[e].fn.call(b[e].context, c);
                    break;
                case 3:
                    b[e].fn.call(b[e].context, c, d);
                    break;
                case 4:
                    b[e].fn.call(b[e].context, c, d, g);
                    break;
                default:
                    if (!l) for (m = 1, l = Array(k - 1); m < k; m++) l[m - 1] = arguments[m];
                    b[e].fn.apply(b[e].context, l);
            }
    }
    return !0;
};
EventEmitter.prototype.on = function (a, c, d) {
    c = new EE(c, d || this);
    a = prefix ? prefix + a : a;
    this._events[a] ? (this._events[a].fn ? (this._events[a] = [this._events[a], c]) : this._events[a].push(c)) : ((this._events[a] = c), this._eventsCount++);
    return this;
};
EventEmitter.prototype.once = function (a, c, d) {
    c = new EE(c, d || this, !0);
    a = prefix ? prefix + a : a;
    this._events[a] ? (this._events[a].fn ? (this._events[a] = [this._events[a], c]) : this._events[a].push(c)) : ((this._events[a] = c), this._eventsCount++);
    return this;
};
EventEmitter.prototype.removeListener = function (a, c, d, g) {
    a = prefix ? prefix + a : a;
    if (!this._events[a]) return this;
    if (!c) return (0 === --this._eventsCount ? (this._events = new Events()) : delete this._events[a], this);
    var f = this._events[a];
    if (f.fn) f.fn !== c || (g && !f.once) || (d && f.context !== d) || (0 === --this._eventsCount ? (this._events = new Events()) : delete this._events[a]);
    else {
        for (var h = 0, b = [], k = f.length; h < k; h++) (f[h].fn !== c || (g && !f[h].once) || (d && f[h].context !== d)) && b.push(f[h]);
        b.length ? (this._events[a] = 1 === b.length ? b[0] : b) : 0 === --this._eventsCount ? (this._events = new Events()) : delete this._events[a];
    }
    return this;
};
EventEmitter.prototype.removeAllListeners = function (a) {
    a ? ((a = prefix ? prefix + a : a), this._events[a] && (0 === --this._eventsCount ? (this._events = new Events()) : delete this._events[a])) : ((this._events = new Events()), (this._eventsCount = 0));
    return this;
};
EventEmitter.prototype.off = EventEmitter.prototype.removeListener;
EventEmitter.prototype.addListener = EventEmitter.prototype.on;
EventEmitter.prototype.setMaxListeners = function () {
    return this;
};
EventEmitter.prefixed = prefix;
EventEmitter.EventEmitter = EventEmitter;
'undefined' !== typeof module && (module.exports = EventEmitter);
/*! howler.js v2.2.3 | (c) 2013-2020, James Simpson of GoldFire Studios | MIT License | howlerjs.com */
(!(function () {
    'use strict';
    var e = function () {
        this.init();
    };
    e.prototype = {
        init: function () {
            var e = this || t;
            return ((e._counter = 1e3), (e._html5AudioPool = []), (e.html5PoolSize = 10), (e._codecs = {}), (e._howls = []), (e._muted = !1), (e._volume = 1), (e._canPlayEvent = 'canplaythrough'), (e._navigator = 'undefined' != typeof window && window.navigator ? window.navigator : null), (e.masterGain = null), (e.noAudio = !1), (e.usingWebAudio = !0), (e.autoSuspend = !0), (e.ctx = null), (e.autoUnlock = !0), e._setup(), e);
        },
        volume: function (e) {
            var n = this || t;
            if (((e = parseFloat(e)), n.ctx || d(), void 0 !== e && e >= 0 && e <= 1)) {
                if (((n._volume = e), n._muted)) return n;
                n.usingWebAudio && n.masterGain.gain.setValueAtTime(e, t.ctx.currentTime);
                for (var o = 0; o < n._howls.length; o++)
                    if (!n._howls[o]._webAudio)
                        for (var r = n._howls[o]._getSoundIds(), i = 0; i < r.length; i++) {
                            var a = n._howls[o]._soundById(r[i]);
                            a && a._node && (a._node.volume = a._volume * e);
                        }
                return n;
            }
            return n._volume;
        },
        mute: function (e) {
            var n = this || t;
            (n.ctx || d(), (n._muted = e), n.usingWebAudio && n.masterGain.gain.setValueAtTime(e ? 0 : n._volume, t.ctx.currentTime));
            for (var o = 0; o < n._howls.length; o++)
                if (!n._howls[o]._webAudio)
                    for (var r = n._howls[o]._getSoundIds(), i = 0; i < r.length; i++) {
                        var a = n._howls[o]._soundById(r[i]);
                        a && a._node && (a._node.muted = !!e || a._muted);
                    }
            return n;
        },
        stop: function () {
            for (var e = this || t, n = 0; n < e._howls.length; n++) e._howls[n].stop();
            return e;
        },
        unload: function () {
            for (var e = this || t, n = e._howls.length - 1; n >= 0; n--) e._howls[n].unload();
            return (e.usingWebAudio && e.ctx && void 0 !== e.ctx.close && (e.ctx.close(), (e.ctx = null), d()), e);
        },
        codecs: function (e) {
            return (this || t)._codecs[e.replace(/^x-/, '')];
        },
        _setup: function () {
            var e = this || t;
            if (((e.state = (e.ctx && e.ctx.state) || 'suspended'), e._autoSuspend(), !e.usingWebAudio))
                if ('undefined' != typeof Audio)
                    try {
                        void 0 === new Audio().oncanplaythrough && (e._canPlayEvent = 'canplay');
                    } catch (t) {
                        e.noAudio = !0;
                    }
                else e.noAudio = !0;
            try {
                new Audio().muted && (e.noAudio = !0);
            } catch (e) {}
            return (e.noAudio || e._setupCodecs(), e);
        },
        _setupCodecs: function () {
            var e = this || t,
                n = null;
            try {
                n = 'undefined' != typeof Audio ? new Audio() : null;
            } catch (t) {
                return e;
            }
            if (!n || 'function' != typeof n.canPlayType) return e;
            var o = n.canPlayType('audio/mpeg;').replace(/^no$/, ''),
                r = e._navigator ? e._navigator.userAgent : '',
                i = r.match(/OPR\/([0-6].)/g),
                a = i && parseInt(i[0].split('/')[1], 10) < 33,
                s = -1 !== r.indexOf('Safari') && -1 === r.indexOf('Chrome'),
                u = r.match(/Version\/(.*?) /),
                d = s && u && parseInt(u[1], 10) < 15;
            return (
                (e._codecs = {
                    mp3: !(a || (!o && !n.canPlayType('audio/mp3;').replace(/^no$/, ''))),
                    mpeg: !!o,
                    opus: !!n.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/, ''),
                    ogg: !!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ''),
                    oga: !!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ''),
                    wav: !!(n.canPlayType('audio/wav; codecs="1"') || n.canPlayType('audio/wav')).replace(/^no$/, ''),
                    aac: !!n.canPlayType('audio/aac;').replace(/^no$/, ''),
                    caf: !!n.canPlayType('audio/x-caf;').replace(/^no$/, ''),
                    m4a: !!(n.canPlayType('audio/x-m4a;') || n.canPlayType('audio/m4a;') || n.canPlayType('audio/aac;')).replace(/^no$/, ''),
                    m4b: !!(n.canPlayType('audio/x-m4b;') || n.canPlayType('audio/m4b;') || n.canPlayType('audio/aac;')).replace(/^no$/, ''),
                    mp4: !!(n.canPlayType('audio/x-mp4;') || n.canPlayType('audio/mp4;') || n.canPlayType('audio/aac;')).replace(/^no$/, ''),
                    weba: !(d || !n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, '')),
                    webm: !(d || !n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, '')),
                    dolby: !!n.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/, ''),
                    flac: !!(n.canPlayType('audio/x-flac;') || n.canPlayType('audio/flac;')).replace(/^no$/, ''),
                }),
                e
            );
        },
        _unlockAudio: function () {
            var e = this || t;
            if (!e._audioUnlocked && e.ctx) {
                ((e._audioUnlocked = !1), (e.autoUnlock = !1), e._mobileUnloaded || 44100 === e.ctx.sampleRate || ((e._mobileUnloaded = !0), e.unload()), (e._scratchBuffer = e.ctx.createBuffer(1, 1, 22050)));
                var n = function (t) {
                    for (; e._html5AudioPool.length < e.html5PoolSize; )
                        try {
                            var o = new Audio();
                            ((o._unlocked = !0), e._releaseHtml5Audio(o));
                        } catch (t) {
                            e.noAudio = !0;
                            break;
                        }
                    for (var r = 0; r < e._howls.length; r++)
                        if (!e._howls[r]._webAudio)
                            for (var i = e._howls[r]._getSoundIds(), a = 0; a < i.length; a++) {
                                var s = e._howls[r]._soundById(i[a]);
                                s && s._node && !s._node._unlocked && ((s._node._unlocked = !0), s._node.load());
                            }
                    e._autoResume();
                    var u = e.ctx.createBufferSource();
                    ((u.buffer = e._scratchBuffer),
                        u.connect(e.ctx.destination),
                        void 0 === u.start ? u.noteOn(0) : u.start(0),
                        'function' == typeof e.ctx.resume && e.ctx.resume(),
                        (u.onended = function () {
                            (u.disconnect(0), (e._audioUnlocked = !0), document.removeEventListener('touchstart', n, !0), document.removeEventListener('touchend', n, !0), document.removeEventListener('click', n, !0), document.removeEventListener('keydown', n, !0));
                            for (var t = 0; t < e._howls.length; t++) e._howls[t]._emit('unlock');
                        }));
                };
                return (document.addEventListener('touchstart', n, !0), document.addEventListener('touchend', n, !0), document.addEventListener('click', n, !0), document.addEventListener('keydown', n, !0), e);
            }
        },
        _obtainHtml5Audio: function () {
            var e = this || t;
            if (e._html5AudioPool.length) return e._html5AudioPool.pop();
            var n = new Audio().play();
            return (
                n &&
                    'undefined' != typeof Promise &&
                    (n instanceof Promise || 'function' == typeof n.then) &&
                    n.catch(function () {
                        console.warn('HTML5 Audio pool exhausted, returning potentially locked audio object.');
                    }),
                new Audio()
            );
        },
        _releaseHtml5Audio: function (e) {
            var n = this || t;
            return (e._unlocked && n._html5AudioPool.push(e), n);
        },
        _autoSuspend: function () {
            var e = this;
            if (e.autoSuspend && e.ctx && void 0 !== e.ctx.suspend && t.usingWebAudio) {
                for (var n = 0; n < e._howls.length; n++) if (e._howls[n]._webAudio) for (var o = 0; o < e._howls[n]._sounds.length; o++) if (!e._howls[n]._sounds[o]._paused) return e;
                return (
                    e._suspendTimer && clearTimeout(e._suspendTimer),
                    (e._suspendTimer = setTimeout(function () {
                        if (e.autoSuspend) {
                            ((e._suspendTimer = null), (e.state = 'suspending'));
                            var t = function () {
                                ((e.state = 'suspended'), e._resumeAfterSuspend && (delete e._resumeAfterSuspend, e._autoResume()));
                            };
                            e.ctx.suspend().then(t, t);
                        }
                    }, 3e4)),
                    e
                );
            }
        },
        _autoResume: function () {
            var e = this;
            if (e.ctx && void 0 !== e.ctx.resume && t.usingWebAudio)
                return (
                    'running' === e.state && 'interrupted' !== e.ctx.state && e._suspendTimer
                        ? (clearTimeout(e._suspendTimer), (e._suspendTimer = null))
                        : 'suspended' === e.state || ('running' === e.state && 'interrupted' === e.ctx.state)
                          ? (e.ctx.resume().then(function () {
                                e.state = 'running';
                                for (var t = 0; t < e._howls.length; t++) e._howls[t]._emit('resume');
                            }),
                            e._suspendTimer && (clearTimeout(e._suspendTimer), (e._suspendTimer = null)))
                          : 'suspending' === e.state && (e._resumeAfterSuspend = !0),
                    e
                );
        },
    };
    var t = new e(),
        n = function (e) {
            e.src && 0 !== e.src.length ? this.init(e) : console.error('An array of source files must be passed with any new Howl.');
        };
    n.prototype = {
        init: function (e) {
            var n = this;
            return (
                t.ctx || d(),
                (n._autoplay = e.autoplay || !1),
                (n._format = 'string' != typeof e.format ? e.format : [e.format]),
                (n._html5 = e.html5 || !1),
                (n._muted = e.mute || !1),
                (n._loop = e.loop || !1),
                (n._pool = e.pool || 5),
                (n._preload = ('boolean' != typeof e.preload && 'metadata' !== e.preload) || e.preload),
                (n._rate = e.rate || 1),
                (n._sprite = e.sprite || {}),
                (n._src = 'string' != typeof e.src ? e.src : [e.src]),
                (n._volume = void 0 !== e.volume ? e.volume : 1),
                (n._xhr = { method: e.xhr && e.xhr.method ? e.xhr.method : 'GET', headers: e.xhr && e.xhr.headers ? e.xhr.headers : null, withCredentials: !(!e.xhr || !e.xhr.withCredentials) && e.xhr.withCredentials }),
                (n._onloadprogress = e.onloadprogress),
                (n._duration = 0),
                (n._state = 'unloaded'),
                (n._sounds = []),
                (n._endTimers = {}),
                (n._queue = []),
                (n._playLock = !1),
                (n._onend = e.onend ? [{ fn: e.onend }] : []),
                (n._onfade = e.onfade ? [{ fn: e.onfade }] : []),
                (n._onload = e.onload ? [{ fn: e.onload }] : []),
                (n._onloaderror = e.onloaderror ? [{ fn: e.onloaderror }] : []),
                (n._onplayerror = e.onplayerror ? [{ fn: e.onplayerror }] : []),
                (n._onpause = e.onpause ? [{ fn: e.onpause }] : []),
                (n._onplay = e.onplay ? [{ fn: e.onplay }] : []),
                (n._onstop = e.onstop ? [{ fn: e.onstop }] : []),
                (n._onmute = e.onmute ? [{ fn: e.onmute }] : []),
                (n._onvolume = e.onvolume ? [{ fn: e.onvolume }] : []),
                (n._onrate = e.onrate ? [{ fn: e.onrate }] : []),
                (n._onseek = e.onseek ? [{ fn: e.onseek }] : []),
                (n._onunlock = e.onunlock ? [{ fn: e.onunlock }] : []),
                (n._onresume = []),
                (n._webAudio = t.usingWebAudio && !n._html5),
                void 0 !== t.ctx && t.ctx && t.autoUnlock && t._unlockAudio(),
                t._howls.push(n),
                n._autoplay &&
                    n._queue.push({
                        event: 'play',
                        action: function () {
                            n.play();
                        },
                    }),
                n._preload && 'none' !== n._preload && n.load(),
                n
            );
        },
        load: function () {
            var e = null;
            if (t.noAudio) this._emit('loaderror', null, 'No audio support.');
            else {
                'string' == typeof this._src && (this._src = [this._src]);
                for (var n = 0; n < this._src.length; n++) {
                    var r, a;
                    if (this._format && this._format[n]) r = this._format[n];
                    else {
                        if ('string' != typeof (a = this._src[n])) {
                            this._emit('loaderror', null, 'Non-string found in selected audio sources - ignoring.');
                            continue;
                        }
                        ((r = /^data:audio\/([^;,]+);/i.exec(a)) || (r = /\.([^.]+)$/.exec(a.split('?', 1)[0])), r && (r = r[1].toLowerCase()));
                    }
                    if ((r || console.warn('No file extension was found. Consider using the "format" property or specify an extension.'), r && t.codecs(r))) {
                        e = this._src[n];
                        break;
                    }
                }
                if (e) return ((this._src = e), (this._state = 'loading'), 'https:' === window.location.protocol && 'http:' === e.slice(0, 5) && ((this._html5 = !0), (this._webAudio = !1)), new o(this), this._webAudio && i(this), this);
                this._emit('loaderror', null, 'No codec support for selected audio sources.');
            }
        },
        play: function (e, n) {
            var o = this,
                r = null;
            if ('number' == typeof e) ((r = e), (e = null));
            else {
                if ('string' == typeof e && 'loaded' === o._state && !o._sprite[e]) return null;
                if (void 0 === e && ((e = '__default'), !o._playLock)) {
                    for (var i = 0, a = 0; a < o._sounds.length; a++) o._sounds[a]._paused && !o._sounds[a]._ended && (i++, (r = o._sounds[a]._id));
                    1 === i ? (e = null) : (r = null);
                }
            }
            var s = r ? o._soundById(r) : o._inactiveSound();
            if (!s) return null;
            if ((r && !e && (e = s._sprite || '__default'), 'loaded' !== o._state)) {
                ((s._sprite = e), (s._ended = !1));
                var u = s._id;
                return (
                    o._queue.push({
                        event: 'play',
                        action: function () {
                            o.play(u);
                        },
                    }),
                    u
                );
            }
            if (r && !s._paused) return (n || o._loadQueue('play'), s._id);
            o._webAudio && t._autoResume();
            var d = Math.max(0, s._seek > 0 ? s._seek : o._sprite[e][0] / 1e3),
                _ = Math.max(0, (o._sprite[e][0] + o._sprite[e][1]) / 1e3 - d),
                l = (1e3 * _) / Math.abs(s._rate),
                c = o._sprite[e][0] / 1e3,
                p = (o._sprite[e][0] + o._sprite[e][1]) / 1e3;
            ((s._sprite = e), (s._ended = !1));
            var f = function () {
                ((s._paused = !1), (s._seek = d), (s._start = c), (s._stop = p), (s._loop = !(!s._loop && !o._sprite[e][2])));
            };
            if (!(d >= p)) {
                var h = s._node;
                if (o._webAudio) {
                    var m = function () {
                        ((o._playLock = !1), f(), o._refreshBuffer(s));
                        var e = s._muted || o._muted ? 0 : s._volume;
                        (h.gain.setValueAtTime(e, t.ctx.currentTime),
                            (s._playStart = t.ctx.currentTime),
                            void 0 === h.bufferSource.start ? (s._loop ? h.bufferSource.noteGrainOn(0, d, 86400) : h.bufferSource.noteGrainOn(0, d, _)) : s._loop ? h.bufferSource.start(0, d, 86400) : h.bufferSource.start(0, d, _),
                            l !== 1 / 0 && (o._endTimers[s._id] = setTimeout(o._ended.bind(o, s), l)),
                            n ||
                                setTimeout(function () {
                                    (o._emit('play', s._id), o._loadQueue());
                                }, 0));
                    };
                    'running' === t.state && 'interrupted' !== t.ctx.state ? m() : ((o._playLock = !0), o.once('resume', m), o._clearTimer(s._id));
                } else {
                    var v = function () {
                        ((h.currentTime = d), (h.muted = s._muted || o._muted || t._muted || h.muted), (h.volume = s._volume * t.volume()), (h.playbackRate = s._rate));
                        try {
                            var r = h.play();
                            if (
                                (r && 'undefined' != typeof Promise && (r instanceof Promise || 'function' == typeof r.then)
                                    ? ((o._playLock = !0),
                                      f(),
                                      r
                                          .then(function () {
                                              ((o._playLock = !1), (h._unlocked = !0), n ? o._loadQueue() : o._emit('play', s._id));
                                          })
                                          .catch(function () {
                                              ((o._playLock = !1), o._emit('playerror', s._id, 'Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.'), (s._ended = !0), (s._paused = !0));
                                          }))
                                    : n || ((o._playLock = !1), f(), o._emit('play', s._id)),
                                (h.playbackRate = s._rate),
                                h.paused)
                            )
                                return void o._emit('playerror', s._id, 'Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.');
                            '__default' !== e || s._loop
                                ? (o._endTimers[s._id] = setTimeout(o._ended.bind(o, s), l))
                                : ((o._endTimers[s._id] = function () {
                                      (o._ended(s), h.removeEventListener('ended', o._endTimers[s._id], !1));
                                  }),
                                  h.addEventListener('ended', o._endTimers[s._id], !1));
                        } catch (e) {
                            o._emit('playerror', s._id, e);
                        }
                    };
                    'data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA' === h.src && ((h.src = o._src), h.load());
                    var A = (window && window.ejecta) || (!h.readyState && t._navigator.isCocoonJS);
                    if (h.readyState >= 3 || A) v();
                    else {
                        ((o._playLock = !0), (o._state = 'loading'));
                        var y = function () {
                            ((o._state = 'loaded'), v(), h.removeEventListener(t._canPlayEvent, y, !1));
                        };
                        (h.addEventListener(t._canPlayEvent, y, !1), o._clearTimer(s._id));
                    }
                }
                return s._id;
            }
            o._ended(s);
        },
        pause: function (e) {
            var t = this;
            if ('loaded' !== t._state || t._playLock)
                return (
                    t._queue.push({
                        event: 'pause',
                        action: function () {
                            t.pause(e);
                        },
                    }),
                    t
                );
            for (var n = t._getSoundIds(e), o = 0; o < n.length; o++) {
                t._clearTimer(n[o]);
                var r = t._soundById(n[o]);
                if (r && !r._paused && ((r._seek = t.seek(n[o])), (r._rateSeek = 0), (r._paused = !0), t._stopFade(n[o]), r._node))
                    if (t._webAudio) {
                        if (!r._node.bufferSource) continue;
                        (void 0 === r._node.bufferSource.stop ? r._node.bufferSource.noteOff(0) : r._node.bufferSource.stop(0), t._cleanBuffer(r._node));
                    } else (isNaN(r._node.duration) && r._node.duration !== 1 / 0) || r._node.pause();
                arguments[1] || t._emit('pause', r ? r._id : null);
            }
            return t;
        },
        stop: function (e, t) {
            var n = this;
            if ('loaded' !== n._state || n._playLock)
                return (
                    n._queue.push({
                        event: 'stop',
                        action: function () {
                            n.stop(e);
                        },
                    }),
                    n
                );
            for (var o = n._getSoundIds(e), r = 0; r < o.length; r++) {
                n._clearTimer(o[r]);
                var i = n._soundById(o[r]);
                i && ((i._seek = i._start || 0), (i._rateSeek = 0), (i._paused = !0), (i._ended = !0), n._stopFade(o[r]), i._node && (n._webAudio ? i._node.bufferSource && (void 0 === i._node.bufferSource.stop ? i._node.bufferSource.noteOff(0) : i._node.bufferSource.stop(0), n._cleanBuffer(i._node)) : (isNaN(i._node.duration) && i._node.duration !== 1 / 0) || ((i._node.currentTime = i._start || 0), i._node.pause(), i._node.duration === 1 / 0 && n._clearSound(i._node))), t || n._emit('stop', i._id));
            }
            return n;
        },
        mute: function (e, n) {
            var o = this;
            if ('loaded' !== o._state || o._playLock)
                return (
                    o._queue.push({
                        event: 'mute',
                        action: function () {
                            o.mute(e, n);
                        },
                    }),
                    o
                );
            if (void 0 === n) {
                if ('boolean' != typeof e) return o._muted;
                o._muted = e;
            }
            for (var r = o._getSoundIds(n), i = 0; i < r.length; i++) {
                var a = o._soundById(r[i]);
                a && ((a._muted = e), a._interval && o._stopFade(a._id), o._webAudio && a._node ? a._node.gain.setValueAtTime(e ? 0 : a._volume, t.ctx.currentTime) : a._node && (a._node.muted = !!t._muted || e), o._emit('mute', a._id));
            }
            return o;
        },
        volume: function () {
            var e,
                n,
                o,
                r = this,
                i = arguments;
            if (0 === i.length) return r._volume;
            if ((1 === i.length || (2 === i.length && void 0 === i[1]) ? (r._getSoundIds().indexOf(i[0]) >= 0 ? (n = parseInt(i[0], 10)) : (e = parseFloat(i[0]))) : i.length >= 2 && ((e = parseFloat(i[0])), (n = parseInt(i[1], 10))), !(void 0 !== e && e >= 0 && e <= 1))) return (o = n ? r._soundById(n) : r._sounds[0]) ? o._volume : 0;
            if ('loaded' !== r._state || r._playLock)
                return (
                    r._queue.push({
                        event: 'volume',
                        action: function () {
                            r.volume.apply(r, i);
                        },
                    }),
                    r
                );
            (void 0 === n && (r._volume = e), (n = r._getSoundIds(n)));
            for (var a = 0; a < n.length; a++) (o = r._soundById(n[a])) && ((o._volume = e), i[2] || r._stopFade(n[a]), r._webAudio && o._node && !o._muted ? o._node.gain.setValueAtTime(e, t.ctx.currentTime) : o._node && !o._muted && (o._node.volume = e * t.volume()), r._emit('volume', o._id));
            return r;
        },
        fade: function (e, n, o, r) {
            var i = this;
            if ('loaded' !== i._state || i._playLock)
                return (
                    i._queue.push({
                        event: 'fade',
                        action: function () {
                            i.fade(e, n, o, r);
                        },
                    }),
                    i
                );
            ((e = Math.min(Math.max(0, parseFloat(e)), 1)), (n = Math.min(Math.max(0, parseFloat(n)), 1)), (o = parseFloat(o)), i.volume(e, r));
            for (var a = i._getSoundIds(r), s = 0; s < a.length; s++) {
                var u = i._soundById(a[s]);
                if (u) {
                    if ((r || i._stopFade(a[s]), i._webAudio && !u._muted)) {
                        var d = t.ctx.currentTime,
                            _ = d + o / 1e3;
                        ((u._volume = e), u._node.gain.setValueAtTime(e, d), u._node.gain.linearRampToValueAtTime(n, _));
                    }
                    i._startFadeInterval(u, e, n, o, a[s], void 0 === r);
                }
            }
            return i;
        },
        _startFadeInterval: function (e, t, n, o, r, i) {
            var a = this,
                s = t,
                u = n - t,
                d = Math.abs(u / 0.01),
                _ = Math.max(4, d > 0 ? o / d : o),
                l = Date.now();
            ((e._fadeTo = n),
                (e._interval = setInterval(function () {
                    var r = (Date.now() - l) / o;
                    ((l = Date.now()), (s += u * r), (s = Math.round(100 * s) / 100), (s = u < 0 ? Math.max(n, s) : Math.min(n, s)), a._webAudio ? (e._volume = s) : a.volume(s, e._id, !0), i && (a._volume = s), ((n < t && s <= n) || (n > t && s >= n)) && (clearInterval(e._interval), (e._interval = null), (e._fadeTo = null), a.volume(n, e._id), a._emit('fade', e._id)));
                }, _)));
        },
        _stopFade: function (e) {
            var n = this._soundById(e);
            return (n && n._interval && (this._webAudio && n._node.gain.cancelScheduledValues(t.ctx.currentTime), clearInterval(n._interval), (n._interval = null), this.volume(n._fadeTo, e), (n._fadeTo = null), this._emit('fade', e)), this);
        },
        loop: function () {
            var e,
                t,
                n,
                o = arguments;
            if (0 === o.length) return this._loop;
            if (1 === o.length) {
                if ('boolean' != typeof o[0]) return !!(n = this._soundById(parseInt(o[0], 10))) && n._loop;
                ((e = o[0]), (this._loop = e));
            } else 2 === o.length && ((e = o[0]), (t = parseInt(o[1], 10)));
            for (var r = this._getSoundIds(t), i = 0; i < r.length; i++) (n = this._soundById(r[i])) && ((n._loop = e), this._webAudio && n._node && n._node.bufferSource && ((n._node.bufferSource.loop = e), e && ((n._node.bufferSource.loopStart = n._start || 0), (n._node.bufferSource.loopEnd = n._stop), this.playing(r[i]) && (this.pause(r[i], !0), this.play(r[i], !0)))));
            return this;
        },
        rate: function () {
            var e,
                n,
                o,
                r = this,
                i = arguments;
            if (0 === i.length) n = r._sounds[0]._id;
            else if (1 === i.length) {
                r._getSoundIds().indexOf(i[0]) >= 0 ? (n = parseInt(i[0], 10)) : (e = parseFloat(i[0]));
            } else 2 === i.length && ((e = parseFloat(i[0])), (n = parseInt(i[1], 10)));
            if ('number' != typeof e) return (o = r._soundById(n)) ? o._rate : r._rate;
            if ('loaded' !== r._state || r._playLock)
                return (
                    r._queue.push({
                        event: 'rate',
                        action: function () {
                            r.rate.apply(r, i);
                        },
                    }),
                    r
                );
            (void 0 === n && (r._rate = e), (n = r._getSoundIds(n)));
            for (var a = 0; a < n.length; a++)
                if ((o = r._soundById(n[a]))) {
                    (r.playing(n[a]) && ((o._rateSeek = r.seek(n[a])), (o._playStart = r._webAudio ? t.ctx.currentTime : o._playStart)), (o._rate = e), r._webAudio && o._node && o._node.bufferSource ? o._node.bufferSource.playbackRate.setValueAtTime(e, t.ctx.currentTime) : o._node && (o._node.playbackRate = e));
                    var s = r.seek(n[a]),
                        u = (1e3 * ((r._sprite[o._sprite][0] + r._sprite[o._sprite][1]) / 1e3 - s)) / Math.abs(o._rate);
                    ((!r._endTimers[n[a]] && o._paused) || (r._clearTimer(n[a]), (r._endTimers[n[a]] = setTimeout(r._ended.bind(r, o), u))), r._emit('rate', o._id));
                }
            return r;
        },
        seek: function () {
            var e,
                n,
                o = this,
                r = arguments;
            if (0 === r.length) o._sounds.length && (n = o._sounds[0]._id);
            else if (1 === r.length) {
                o._getSoundIds().indexOf(r[0]) >= 0 ? (n = parseInt(r[0], 10)) : o._sounds.length && ((n = o._sounds[0]._id), (e = parseFloat(r[0])));
            } else 2 === r.length && ((e = parseFloat(r[0])), (n = parseInt(r[1], 10)));
            if (void 0 === n) return 0;
            if ('number' == typeof e && ('loaded' !== o._state || o._playLock))
                return (
                    o._queue.push({
                        event: 'seek',
                        action: function () {
                            o.seek.apply(o, r);
                        },
                    }),
                    o
                );
            var i = o._soundById(n);
            if (i) {
                if (!('number' == typeof e && e >= 0)) {
                    if (o._webAudio) {
                        var a = o.playing(n) ? t.ctx.currentTime - i._playStart : 0,
                            s = i._rateSeek ? i._rateSeek - i._seek : 0;
                        return i._seek + (s + a * Math.abs(i._rate));
                    }
                    return i._node.currentTime;
                }
                var u = o.playing(n);
                (u && o.pause(n, !0), (i._seek = e), (i._ended = !1), o._clearTimer(n), o._webAudio || !i._node || isNaN(i._node.duration) || (i._node.currentTime = e));
                var d = function () {
                    (u && o.play(n, !0), o._emit('seek', n));
                };
                if (u && !o._webAudio) {
                    var _ = function () {
                        o._playLock ? setTimeout(_, 0) : d();
                    };
                    setTimeout(_, 0);
                } else d();
            }
            return o;
        },
        playing: function (e) {
            if ('number' == typeof e) {
                var t = this._soundById(e);
                return !!t && !t._paused;
            }
            for (var n = 0; n < this._sounds.length; n++) if (!this._sounds[n]._paused) return !0;
            return !1;
        },
        duration: function (e) {
            var t = this._duration,
                n = this._soundById(e);
            return (n && (t = this._sprite[n._sprite][1] / 1e3), t);
        },
        state: function () {
            return this._state;
        },
        unload: function () {
            for (var e = this, n = e._sounds, o = 0; o < n.length; o++) (n[o]._paused || e.stop(n[o]._id), e._webAudio || (e._clearSound(n[o]._node), n[o]._node.removeEventListener('error', n[o]._errorFn, !1), n[o]._node.removeEventListener(t._canPlayEvent, n[o]._loadFn, !1), n[o]._node.removeEventListener('ended', n[o]._endFn, !1), t._releaseHtml5Audio(n[o]._node)), delete n[o]._node, e._clearTimer(n[o]._id));
            var i = t._howls.indexOf(e);
            i >= 0 && t._howls.splice(i, 1);
            var a = !0;
            for (o = 0; o < t._howls.length; o++)
                if (t._howls[o]._src === e._src || e._src.indexOf(t._howls[o]._src) >= 0) {
                    a = !1;
                    break;
                }
            return (r && a && delete r[e._src], (t.noAudio = !1), (e._state = 'unloaded'), (e._sounds = []), (e = null), null);
        },
        on: function (e, t, n, o) {
            var r = this['_on' + e];
            return ('function' == typeof t && r.push(o ? { id: n, fn: t, once: o } : { id: n, fn: t }), this);
        },
        off: function (e, t, n) {
            var o = this['_on' + e],
                r = 0;
            if (('number' == typeof t && ((n = t), (t = null)), t || n))
                for (r = 0; r < o.length; r++) {
                    var i = n === o[r].id;
                    if ((t === o[r].fn && i) || (!t && i)) {
                        o.splice(r, 1);
                        break;
                    }
                }
            else if (e) this['_on' + e] = [];
            else {
                var a = Object.keys(this);
                for (r = 0; r < a.length; r++) 0 === a[r].indexOf('_on') && Array.isArray(this[a[r]]) && (this[a[r]] = []);
            }
            return this;
        },
        once: function (e, t, n) {
            return (this.on(e, t, n, 1), this);
        },
        _emit: function (e, t, n) {
            for (var o = this['_on' + e], r = o.length - 1; r >= 0; r--)
                (o[r].id && o[r].id !== t && 'load' !== e) ||
                    (setTimeout(
                        function (e) {
                            e.call(this, t, n);
                        }.bind(this, o[r].fn),
                        0
                    ),
                    o[r].once && this.off(e, o[r].fn, o[r].id));
            return (this._loadQueue(e), this);
        },
        _loadQueue: function (e) {
            if (this._queue.length > 0) {
                var t = this._queue[0];
                (t.event === e && (this._queue.shift(), this._loadQueue()), e || t.action());
            }
            return this;
        },
        _ended: function (e) {
            var n = e._sprite;
            if (!this._webAudio && e._node && !e._node.paused && !e._node.ended && e._node.currentTime < e._stop) return (setTimeout(this._ended.bind(this, e), 100), this);
            var o = !(!e._loop && !this._sprite[n][2]);
            if ((this._emit('end', e._id), !this._webAudio && o && this.stop(e._id, !0).play(e._id), this._webAudio && o)) {
                (this._emit('play', e._id), (e._seek = e._start || 0), (e._rateSeek = 0), (e._playStart = t.ctx.currentTime));
                var r = (1e3 * (e._stop - e._start)) / Math.abs(e._rate);
                this._endTimers[e._id] = setTimeout(this._ended.bind(this, e), r);
            }
            return (this._webAudio && !o && ((e._paused = !0), (e._ended = !0), (e._seek = e._start || 0), (e._rateSeek = 0), this._clearTimer(e._id), this._cleanBuffer(e._node), t._autoSuspend()), this._webAudio || o || this.stop(e._id, !0), this);
        },
        _clearTimer: function (e) {
            if (this._endTimers[e]) {
                if ('function' != typeof this._endTimers[e]) clearTimeout(this._endTimers[e]);
                else {
                    var t = this._soundById(e);
                    t && t._node && t._node.removeEventListener('ended', this._endTimers[e], !1);
                }
                delete this._endTimers[e];
            }
            return this;
        },
        _soundById: function (e) {
            for (var t = 0; t < this._sounds.length; t++) if (e === this._sounds[t]._id) return this._sounds[t];
            return null;
        },
        _inactiveSound: function () {
            this._drain();
            for (var e = 0; e < this._sounds.length; e++) if (this._sounds[e]._ended) return this._sounds[e].reset();
            return new o(this);
        },
        _drain: function () {
            var e = this._pool,
                t = 0,
                n = 0;
            if (!(this._sounds.length < e)) {
                for (n = 0; n < this._sounds.length; n++) this._sounds[n]._ended && t++;
                for (n = this._sounds.length - 1; n >= 0; n--) {
                    if (t <= e) return;
                    this._sounds[n]._ended && (this._webAudio && this._sounds[n]._node && this._sounds[n]._node.disconnect(0), this._sounds.splice(n, 1), t--);
                }
            }
        },
        _getSoundIds: function (e) {
            if (void 0 === e) {
                for (var t = [], n = 0; n < this._sounds.length; n++) t.push(this._sounds[n]._id);
                return t;
            }
            return [e];
        },
        _refreshBuffer: function (e) {
            return ((e._node.bufferSource = t.ctx.createBufferSource()), (e._node.bufferSource.buffer = r[this._src]), e._panner ? e._node.bufferSource.connect(e._panner) : e._node.bufferSource.connect(e._node), (e._node.bufferSource.loop = e._loop), e._loop && ((e._node.bufferSource.loopStart = e._start || 0), (e._node.bufferSource.loopEnd = e._stop || 0)), e._node.bufferSource.playbackRate.setValueAtTime(e._rate, t.ctx.currentTime), this);
        },
        _cleanBuffer: function (e) {
            var n = t._navigator && t._navigator.vendor.indexOf('Apple') >= 0;
            if (t._scratchBuffer && e.bufferSource && ((e.bufferSource.onended = null), e.bufferSource.disconnect(0), n))
                try {
                    e.bufferSource.buffer = t._scratchBuffer;
                } catch (e) {}
            return ((e.bufferSource = null), this);
        },
        _clearSound: function (e) {
            /MSIE |Trident\//.test(t._navigator && t._navigator.userAgent) || (e.src = 'data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA');
        },
    };
    var o = function (e) {
        ((this._parent = e), this.init());
    };
    o.prototype = {
        init: function () {
            var e = this._parent;
            return ((this._muted = e._muted), (this._loop = e._loop), (this._volume = e._volume), (this._rate = e._rate), (this._seek = 0), (this._paused = !0), (this._ended = !0), (this._sprite = '__default'), (this._id = ++t._counter), e._sounds.push(this), this.create(), this);
        },
        create: function () {
            var e = this._parent,
                n = t._muted || this._muted || this._parent._muted ? 0 : this._volume;
            return (e._webAudio ? ((this._node = void 0 === t.ctx.createGain ? t.ctx.createGainNode() : t.ctx.createGain()), this._node.gain.setValueAtTime(n, t.ctx.currentTime), (this._node.paused = !0), this._node.connect(t.masterGain)) : t.noAudio || ((this._node = t._obtainHtml5Audio()), (this._errorFn = this._errorListener.bind(this)), this._node.addEventListener('error', this._errorFn, !1), (this._loadFn = this._loadListener.bind(this)), this._node.addEventListener(t._canPlayEvent, this._loadFn, !1), (this._endFn = this._endListener.bind(this)), this._node.addEventListener('ended', this._endFn, !1), (this._node.src = e._src), (this._node.preload = !0 === e._preload ? 'auto' : e._preload), (this._node.volume = n * t.volume()), this._node.load()), this);
        },
        reset: function () {
            var e = this._parent;
            return ((this._muted = e._muted), (this._loop = e._loop), (this._volume = e._volume), (this._rate = e._rate), (this._seek = 0), (this._rateSeek = 0), (this._paused = !0), (this._ended = !0), (this._sprite = '__default'), (this._id = ++t._counter), this);
        },
        _errorListener: function () {
            (this._parent._emit('loaderror', this._id, this._node.error ? this._node.error.code : 0), this._node.removeEventListener('error', this._errorFn, !1));
        },
        _loadListener: function () {
            var e = this._parent;
            ((e._duration = Math.ceil(10 * this._node.duration) / 10), 0 === Object.keys(e._sprite).length && (e._sprite = { __default: [0, 1e3 * e._duration] }), 'loaded' !== e._state && ((e._state = 'loaded'), e._emit('load'), e._loadQueue()), this._node.removeEventListener(t._canPlayEvent, this._loadFn, !1));
        },
        _endListener: function () {
            var e = this._parent;
            (e._duration === 1 / 0 && ((e._duration = Math.ceil(10 * this._node.duration) / 10), e._sprite.__default[1] === 1 / 0 && (e._sprite.__default[1] = 1e3 * e._duration), e._ended(this)), this._node.removeEventListener('ended', this._endFn, !1));
        },
    };
    var r = {},
        i = function (e) {
            var t = e._src;
            if (r[t]) return ((e._duration = r[t].duration), void u(e));
            if (/^data:[^;]+;base64,/.test(t)) {
                for (var n = atob(t.split(',')[1]), o = new Uint8Array(n.length), i = 0; i < n.length; ++i) o[i] = n.charCodeAt(i);
                s(o.buffer, e);
            } else {
                var d = new XMLHttpRequest();
                (d.open(e._xhr.method, t, !0),
                    (d.withCredentials = e._xhr.withCredentials),
                    (d.responseType = 'arraybuffer'),
                    e._xhr.headers &&
                        Object.keys(e._xhr.headers).forEach(function (t) {
                            d.setRequestHeader(t, e._xhr.headers[t]);
                        }),
                    (d.onload = function () {
                        var t = (d.status + '')[0];
                        '0' === t || '2' === t || '3' === t ? s(d.response, e) : e._emit('loaderror', null, 'Failed loading audio file with status: ' + d.status + '.');
                    }),
                    (d.onerror = function () {
                        e._webAudio && ((e._html5 = !0), (e._webAudio = !1), (e._sounds = []), delete r[t], e.load());
                    }),
                    (d.onprogress = e._onloadprogress),
                    a(d));
            }
        },
        a = function (e) {
            try {
                e.send();
            } catch (t) {
                e.onerror();
            }
        },
        s = function (e, n) {
            var o = function () {
                    n._emit('loaderror', null, 'Decoding audio data failed.');
                },
                i = function (e) {
                    e && n._sounds.length > 0 ? ((r[n._src] = e), u(n, e)) : o();
                };
            'undefined' != typeof Promise && 1 === t.ctx.decodeAudioData.length ? t.ctx.decodeAudioData(e).then(i).catch(o) : t.ctx.decodeAudioData(e, i, o);
        },
        u = function (e, t) {
            (t && !e._duration && (e._duration = t.duration), 0 === Object.keys(e._sprite).length && (e._sprite = { __default: [0, 1e3 * e._duration] }), 'loaded' !== e._state && ((e._state = 'loaded'), e._emit('load'), e._loadQueue()));
        },
        d = function () {
            if (t.usingWebAudio) {
                try {
                    'undefined' != typeof AudioContext ? (t.ctx = new AudioContext()) : 'undefined' != typeof webkitAudioContext ? (t.ctx = new webkitAudioContext()) : (t.usingWebAudio = !1);
                } catch (e) {
                    t.usingWebAudio = !1;
                }
                t.ctx || (t.usingWebAudio = !1);
                var e = /iP(hone|od|ad)/.test(t._navigator && t._navigator.platform),
                    n = t._navigator && t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),
                    o = n ? parseInt(n[1], 10) : null;
                if (e && o && o < 9) {
                    var r = /safari/.test(t._navigator && t._navigator.userAgent.toLowerCase());
                    t._navigator && !r && (t.usingWebAudio = !1);
                }
                (t.usingWebAudio && ((t.masterGain = void 0 === t.ctx.createGain ? t.ctx.createGainNode() : t.ctx.createGain()), t.masterGain.gain.setValueAtTime(t._muted ? 0 : t._volume, t.ctx.currentTime), t.masterGain.connect(t.ctx.destination)), t._setup());
            }
        };
    ('function' == typeof define &&
        define.amd &&
        define([], function () {
            return { Howler: t, Howl: n };
        }),
        'undefined' != typeof exports && ((exports.Howler = t), (exports.Howl = n)),
        'undefined' != typeof global ? ((global.HowlerGlobal = e), (global.Howler = t), (global.Howl = n), (global.Sound = o)) : 'undefined' != typeof window && ((window.HowlerGlobal = e), (window.Howler = t), (window.Howl = n), (window.Sound = o)));
})(),
    (function () {
        'use strict';
        var e;
        ((HowlerGlobal.prototype._pos = [0, 0, 0]),
            (HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0]),
            (HowlerGlobal.prototype.stereo = function (e) {
                if (!this.ctx || !this.ctx.listener) return this;
                for (var t = this._howls.length - 1; t >= 0; t--) this._howls[t].stereo(e);
                return this;
            }),
            (HowlerGlobal.prototype.pos = function (e, t, n) {
                return this.ctx && this.ctx.listener ? ((t = 'number' != typeof t ? this._pos[1] : t), (n = 'number' != typeof n ? this._pos[2] : n), 'number' != typeof e ? this._pos : ((this._pos = [e, t, n]), void 0 !== this.ctx.listener.positionX ? (this.ctx.listener.positionX.setTargetAtTime(this._pos[0], Howler.ctx.currentTime, 0.1), this.ctx.listener.positionY.setTargetAtTime(this._pos[1], Howler.ctx.currentTime, 0.1), this.ctx.listener.positionZ.setTargetAtTime(this._pos[2], Howler.ctx.currentTime, 0.1)) : this.ctx.listener.setPosition(this._pos[0], this._pos[1], this._pos[2]), this)) : this;
            }),
            (HowlerGlobal.prototype.orientation = function (e, t, n, o, r, i) {
                if (!this.ctx || !this.ctx.listener) return this;
                var a = this._orientation;
                return ((t = 'number' != typeof t ? a[1] : t), (n = 'number' != typeof n ? a[2] : n), (o = 'number' != typeof o ? a[3] : o), (r = 'number' != typeof r ? a[4] : r), (i = 'number' != typeof i ? a[5] : i), 'number' != typeof e ? a : ((this._orientation = [e, t, n, o, r, i]), void 0 !== this.ctx.listener.forwardX ? (this.ctx.listener.forwardX.setTargetAtTime(e, Howler.ctx.currentTime, 0.1), this.ctx.listener.forwardY.setTargetAtTime(t, Howler.ctx.currentTime, 0.1), this.ctx.listener.forwardZ.setTargetAtTime(n, Howler.ctx.currentTime, 0.1), this.ctx.listener.upX.setTargetAtTime(o, Howler.ctx.currentTime, 0.1), this.ctx.listener.upY.setTargetAtTime(r, Howler.ctx.currentTime, 0.1), this.ctx.listener.upZ.setTargetAtTime(i, Howler.ctx.currentTime, 0.1)) : this.ctx.listener.setOrientation(e, t, n, o, r, i), this));
            }),
            (Howl.prototype.init =
                ((e = Howl.prototype.init),
                function (t) {
                    return ((this._orientation = t.orientation || [1, 0, 0]), (this._stereo = t.stereo || null), (this._pos = t.pos || null), (this._pannerAttr = { coneInnerAngle: void 0 !== t.coneInnerAngle ? t.coneInnerAngle : 360, coneOuterAngle: void 0 !== t.coneOuterAngle ? t.coneOuterAngle : 360, coneOuterGain: void 0 !== t.coneOuterGain ? t.coneOuterGain : 0, distanceModel: void 0 !== t.distanceModel ? t.distanceModel : 'inverse', maxDistance: void 0 !== t.maxDistance ? t.maxDistance : 1e4, panningModel: void 0 !== t.panningModel ? t.panningModel : 'HRTF', refDistance: void 0 !== t.refDistance ? t.refDistance : 1, rolloffFactor: void 0 !== t.rolloffFactor ? t.rolloffFactor : 1 }), (this._onstereo = t.onstereo ? [{ fn: t.onstereo }] : []), (this._onpos = t.onpos ? [{ fn: t.onpos }] : []), (this._onorientation = t.onorientation ? [{ fn: t.onorientation }] : []), e.call(this, t));
                })),
            (Howl.prototype.stereo = function (e, n) {
                var o = this;
                if (!o._webAudio) return o;
                if ('loaded' !== o._state)
                    return (
                        o._queue.push({
                            event: 'stereo',
                            action: function () {
                                o.stereo(e, n);
                            },
                        }),
                        o
                    );
                var r = void 0 === Howler.ctx.createStereoPanner ? 'spatial' : 'stereo';
                if (void 0 === n) {
                    if ('number' != typeof e) return o._stereo;
                    ((o._stereo = e), (o._pos = [e, 0, 0]));
                }
                for (var i = o._getSoundIds(n), a = 0; a < i.length; a++) {
                    var s = o._soundById(i[a]);
                    if (s) {
                        if ('number' != typeof e) return s._stereo;
                        ((s._stereo = e), (s._pos = [e, 0, 0]), s._node && ((s._pannerAttr.panningModel = 'equalpower'), (s._panner && s._panner.pan) || t(s, r), 'spatial' === r ? (void 0 !== s._panner.positionX ? (s._panner.positionX.setValueAtTime(e, Howler.ctx.currentTime), s._panner.positionY.setValueAtTime(0, Howler.ctx.currentTime), s._panner.positionZ.setValueAtTime(0, Howler.ctx.currentTime)) : s._panner.setPosition(e, 0, 0)) : s._panner.pan.setValueAtTime(e, Howler.ctx.currentTime)), o._emit('stereo', s._id));
                    }
                }
                return o;
            }),
            (Howl.prototype.pos = function (e, n, o, r) {
                var i = this;
                if (!i._webAudio) return i;
                if ('loaded' !== i._state)
                    return (
                        i._queue.push({
                            event: 'pos',
                            action: function () {
                                i.pos(e, n, o, r);
                            },
                        }),
                        i
                    );
                if (((n = 'number' != typeof n ? 0 : n), (o = 'number' != typeof o ? -0.5 : o), void 0 === r)) {
                    if ('number' != typeof e) return i._pos;
                    i._pos = [e, n, o];
                }
                for (var a = i._getSoundIds(r), s = 0; s < a.length; s++) {
                    var u = i._soundById(a[s]);
                    if (u) {
                        if ('number' != typeof e) return u._pos;
                        ((u._pos = [e, n, o]), u._node && ((u._panner && !u._panner.pan) || t(u, 'spatial'), void 0 !== u._panner.positionX ? (u._panner.positionX.setValueAtTime(e, Howler.ctx.currentTime), u._panner.positionY.setValueAtTime(n, Howler.ctx.currentTime), u._panner.positionZ.setValueAtTime(o, Howler.ctx.currentTime)) : u._panner.setPosition(e, n, o)), i._emit('pos', u._id));
                    }
                }
                return i;
            }),
            (Howl.prototype.orientation = function (e, n, o, r) {
                var i = this;
                if (!i._webAudio) return i;
                if ('loaded' !== i._state)
                    return (
                        i._queue.push({
                            event: 'orientation',
                            action: function () {
                                i.orientation(e, n, o, r);
                            },
                        }),
                        i
                    );
                if (((n = 'number' != typeof n ? i._orientation[1] : n), (o = 'number' != typeof o ? i._orientation[2] : o), void 0 === r)) {
                    if ('number' != typeof e) return i._orientation;
                    i._orientation = [e, n, o];
                }
                for (var a = i._getSoundIds(r), s = 0; s < a.length; s++) {
                    var u = i._soundById(a[s]);
                    if (u) {
                        if ('number' != typeof e) return u._orientation;
                        ((u._orientation = [e, n, o]), u._node && (u._panner || (u._pos || (u._pos = i._pos || [0, 0, -0.5]), t(u, 'spatial')), void 0 !== u._panner.orientationX ? (u._panner.orientationX.setValueAtTime(e, Howler.ctx.currentTime), u._panner.orientationY.setValueAtTime(n, Howler.ctx.currentTime), u._panner.orientationZ.setValueAtTime(o, Howler.ctx.currentTime)) : u._panner.setOrientation(e, n, o)), i._emit('orientation', u._id));
                    }
                }
                return i;
            }),
            (Howl.prototype.pannerAttr = function () {
                var e,
                    n,
                    o,
                    r = arguments;
                if (!this._webAudio) return this;
                if (0 === r.length) return this._pannerAttr;
                if (1 === r.length) {
                    if ('object' != typeof r[0]) return (o = this._soundById(parseInt(r[0], 10))) ? o._pannerAttr : this._pannerAttr;
                    ((e = r[0]),
                        void 0 === n &&
                            (e.pannerAttr || (e.pannerAttr = { coneInnerAngle: e.coneInnerAngle, coneOuterAngle: e.coneOuterAngle, coneOuterGain: e.coneOuterGain, distanceModel: e.distanceModel, maxDistance: e.maxDistance, refDistance: e.refDistance, rolloffFactor: e.rolloffFactor, panningModel: e.panningModel }),
                            (this._pannerAttr = { coneInnerAngle: void 0 !== e.pannerAttr.coneInnerAngle ? e.pannerAttr.coneInnerAngle : this._coneInnerAngle, coneOuterAngle: void 0 !== e.pannerAttr.coneOuterAngle ? e.pannerAttr.coneOuterAngle : this._coneOuterAngle, coneOuterGain: void 0 !== e.pannerAttr.coneOuterGain ? e.pannerAttr.coneOuterGain : this._coneOuterGain, distanceModel: void 0 !== e.pannerAttr.distanceModel ? e.pannerAttr.distanceModel : this._distanceModel, maxDistance: void 0 !== e.pannerAttr.maxDistance ? e.pannerAttr.maxDistance : this._maxDistance, refDistance: void 0 !== e.pannerAttr.refDistance ? e.pannerAttr.refDistance : this._refDistance, rolloffFactor: void 0 !== e.pannerAttr.rolloffFactor ? e.pannerAttr.rolloffFactor : this._rolloffFactor, panningModel: void 0 !== e.pannerAttr.panningModel ? e.pannerAttr.panningModel : this._panningModel })));
                } else 2 === r.length && ((e = r[0]), (n = parseInt(r[1], 10)));
                for (var i = this._getSoundIds(n), a = 0; a < i.length; a++)
                    if ((o = this._soundById(i[a]))) {
                        var s = o._pannerAttr;
                        s = { coneInnerAngle: void 0 !== e.coneInnerAngle ? e.coneInnerAngle : s.coneInnerAngle, coneOuterAngle: void 0 !== e.coneOuterAngle ? e.coneOuterAngle : s.coneOuterAngle, coneOuterGain: void 0 !== e.coneOuterGain ? e.coneOuterGain : s.coneOuterGain, distanceModel: void 0 !== e.distanceModel ? e.distanceModel : s.distanceModel, maxDistance: void 0 !== e.maxDistance ? e.maxDistance : s.maxDistance, refDistance: void 0 !== e.refDistance ? e.refDistance : s.refDistance, rolloffFactor: void 0 !== e.rolloffFactor ? e.rolloffFactor : s.rolloffFactor, panningModel: void 0 !== e.panningModel ? e.panningModel : s.panningModel };
                        var u = o._panner;
                        u ? ((u.coneInnerAngle = s.coneInnerAngle), (u.coneOuterAngle = s.coneOuterAngle), (u.coneOuterGain = s.coneOuterGain), (u.distanceModel = s.distanceModel), (u.maxDistance = s.maxDistance), (u.refDistance = s.refDistance), (u.rolloffFactor = s.rolloffFactor), (u.panningModel = s.panningModel)) : (o._pos || (o._pos = this._pos || [0, 0, -0.5]), t(o, 'spatial'));
                    }
                return this;
            }),
            (Sound.prototype.init = (function (e) {
                return function () {
                    var t = this._parent;
                    ((this._orientation = t._orientation), (this._stereo = t._stereo), (this._pos = t._pos), (this._pannerAttr = t._pannerAttr), e.call(this), this._stereo ? t.stereo(this._stereo) : this._pos && t.pos(this._pos[0], this._pos[1], this._pos[2], this._id));
                };
            })(Sound.prototype.init)),
            (Sound.prototype.reset = (function (e) {
                return function () {
                    var t = this._parent;
                    return ((this._orientation = t._orientation), (this._stereo = t._stereo), (this._pos = t._pos), (this._pannerAttr = t._pannerAttr), this._stereo ? t.stereo(this._stereo) : this._pos ? t.pos(this._pos[0], this._pos[1], this._pos[2], this._id) : this._panner && (this._panner.disconnect(0), (this._panner = void 0), t._refreshBuffer(this)), e.call(this));
                };
            })(Sound.prototype.reset)));
        var t = function (e, t) {
            ('spatial' === (t = t || 'spatial')
                ? ((e._panner = Howler.ctx.createPanner()),
                  (e._panner.coneInnerAngle = e._pannerAttr.coneInnerAngle),
                  (e._panner.coneOuterAngle = e._pannerAttr.coneOuterAngle),
                  (e._panner.coneOuterGain = e._pannerAttr.coneOuterGain),
                  (e._panner.distanceModel = e._pannerAttr.distanceModel),
                  (e._panner.maxDistance = e._pannerAttr.maxDistance),
                  (e._panner.refDistance = e._pannerAttr.refDistance),
                  (e._panner.rolloffFactor = e._pannerAttr.rolloffFactor),
                  (e._panner.panningModel = e._pannerAttr.panningModel),
                  void 0 !== e._panner.positionX ? (e._panner.positionX.setValueAtTime(e._pos[0], Howler.ctx.currentTime), e._panner.positionY.setValueAtTime(e._pos[1], Howler.ctx.currentTime), e._panner.positionZ.setValueAtTime(e._pos[2], Howler.ctx.currentTime)) : e._panner.setPosition(e._pos[0], e._pos[1], e._pos[2]),
                  void 0 !== e._panner.orientationX ? (e._panner.orientationX.setValueAtTime(e._orientation[0], Howler.ctx.currentTime), e._panner.orientationY.setValueAtTime(e._orientation[1], Howler.ctx.currentTime), e._panner.orientationZ.setValueAtTime(e._orientation[2], Howler.ctx.currentTime)) : e._panner.setOrientation(e._orientation[0], e._orientation[1], e._orientation[2]))
                : ((e._panner = Howler.ctx.createStereoPanner()), e._panner.pan.setValueAtTime(e._stereo, Howler.ctx.currentTime)),
                e._panner.connect(e._node),
                e._paused || e._parent.pause(e._id, !0).play(e._id, !0));
        };
    })());
/*!@license Copyright 2013, Heinrich Goebl, License: MIT, see https://github.com/hgoebl/mobile-detect.js*/
!(function (a, b) {
    a(function () {
        'use strict';
        function a(a, b) {
            return null != a && null != b && a.toLowerCase() === b.toLowerCase();
        }
        function c(a, b) {
            var c,
                d,
                e = a.length;
            if (!e || !b) return !1;
            for (c = b.toLowerCase(), d = 0; d < e; ++d) if (c === a[d].toLowerCase()) return !0;
            return !1;
        }
        function d(a) {
            for (var b in a) i.call(a, b) && (a[b] = new RegExp(a[b], 'i'));
        }
        function e(a) {
            return (a || '').substr(0, 500);
        }
        function f(a, b) {
            ((this.ua = e(a)), (this._cache = {}), (this.maxPhoneWidth = b || 600));
        }
        var g = {};
        ((g.mobileDetectRules = {
            phones: {
                iPhone: '\\biPhone\\b|\\biPod\\b',
                BlackBerry: 'BlackBerry|\\bBB10\\b|rim[0-9]+|\\b(BBA100|BBB100|BBD100|BBE100|BBF100|STH100)\\b-[0-9]+',
                Pixel: '; \\bPixel\\b',
                HTC: 'HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel',
                Nexus: 'Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 5X|Nexus 6',
                Dell: 'Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b',
                Motorola: 'Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052',
                Samsung:
                    '\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F|SM-G610F|SM-G981B|SM-G892A|SM-A530F',
                LG: '\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|MS323|M257)|LM-G710',
                Sony: 'SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533|SOV34|601SO|F8332',
                Asus: 'Asus.*Galaxy|PadFone.*Mobile',
                Xiaomi: '^(?!.*\\bx11\\b).*xiaomi.*$|POCOPHONE F1|MI 8|Redmi Note 9S|Redmi Note 5A Prime|N2G47H|M2001J2G|M2001J2I|M1805E10A|M2004J11G|M1902F1G|M2002J9G|M2004J19G|M2003J6A1G',
                NokiaLumia: 'Lumia [0-9]{3,4}',
                Micromax: 'Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b',
                Palm: 'PalmSource|Palm',
                Vertu: 'Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature',
                Pantech: 'PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790',
                Fly: 'IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250',
                Wiko: 'KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM',
                iMobile: 'i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)',
                SimValley: '\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b',
                Wolfgang: 'AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q',
                Alcatel: 'Alcatel',
                Nintendo: 'Nintendo (3DS|Switch)',
                Amoi: 'Amoi',
                INQ: 'INQ',
                OnePlus: 'ONEPLUS',
                GenericPhone: 'Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser',
            },
            tablets: {
                iPad: 'iPad|iPad.*Mobile',
                NexusTablet: 'Android.*Nexus[\\s]+(7|9|10)',
                GoogleTablet: 'Android.*Pixel C',
                SamsungTablet:
                    'SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|SM-T719|SM-T813|SM-T819|SM-T580|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-T830|SM-T837V|SM-T720|SM-T510|SM-T387V|SM-P610|SM-T290|SM-T515|SM-T590|SM-T595|SM-T725|SM-T817P|SM-P585N0|SM-T395|SM-T295|SM-T865|SM-P610N|SM-P615|SM-T970|SM-T380|SM-T5950|SM-T905|SM-T231|SM-T500|SM-T860',
                Kindle: 'Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome/[0-9.]+ (?!Mobile)',
                SurfaceTablet: 'Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)',
                HPTablet: 'HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10',
                AsusTablet: '^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b',
                BlackBerryTablet: 'PlayBook|RIM Tablet',
                HTCtablet: 'HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410',
                MotorolaTablet: 'xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617',
                NookTablet: 'Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2',
                AcerTablet: 'Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\\bA3-A20\\b|\\bA3-A30|A3-A40',
                ToshibaTablet: 'Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO',
                LGTablet: '\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b',
                FujitsuTablet: 'Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b',
                PrestigioTablet: 'PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|PMT5887|PMT5001|PMT5002',
                LenovoTablet: 'Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)|TB-X103F|TB-X304X|TB-X304F|TB-X304L|TB-X505F|TB-X505L|TB-X505X|TB-X605F|TB-X605L|TB-8703F|TB-8703X|TB-8703N|TB-8704N|TB-8704F|TB-8704X|TB-8704V|TB-7304F|TB-7304I|TB-7304X|Tab2A7-10F|Tab2A7-20F|TB2-X30L|YT3-X50L|YT3-X50F|YT3-X50M|YT-X705F|YT-X703F|YT-X703L|YT-X705L|YT-X705X|TB2-X30F|TB2-X30L|TB2-X30M|A2107A-F|A2107A-H|TB3-730F|TB3-730M|TB3-730X|TB-7504F|TB-7504X|TB-X704F|TB-X104F|TB3-X70F|TB-X705F|TB-8504F|TB3-X70L|TB3-710F|TB-X704L',
                DellTablet: 'Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7',
                YarvikTablet: 'Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b',
                MedionTablet: 'Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB',
                ArnovaTablet: '97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2',
                IntensoTablet: 'INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004',
                IRUTablet: 'M702pro',
                MegafonTablet: 'MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b',
                EbodaTablet: 'E-Boda (Supreme|Impresspeed|Izzycomm|Essential)',
                AllViewTablet: 'Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)',
                ArchosTablet: '\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b',
                AinolTablet: 'NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark',
                NokiaLumiaTablet: 'Lumia 2520',
                SonyTablet: 'Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|SGP612|SGP712',
                PhilipsTablet: '\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b',
                CubeTablet: 'Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT',
                CobyTablet: 'MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010',
                MIDTablet: 'M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10',
                MSITablet: 'MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b',
                SMiTTablet: 'Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)',
                RockChipTablet: 'Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A',
                FlyTablet: 'IQ310|Fly Vision',
                bqTablet: 'Android.*(bq)?.*\\b(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))\\b|Maxwell.*Lite|Maxwell.*Plus',
                HuaweiTablet: 'MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-L09|CMR-AL19',
                NecTablet: '\\bN-06D|\\bN-08D',
                PantechTablet: 'Pantech.*P4100',
                BronchoTablet: 'Broncho.*(N701|N708|N802|a710)',
                VersusTablet: 'TOUCHPAD.*[78910]|\\bTOUCHTAB\\b',
                ZyncTablet: 'z1000|Z99 2G|z930|z990|z909|Z919|z900',
                PositivoTablet: 'TB07STA|TB10STA|TB07FTA|TB10FTA',
                NabiTablet: 'Android.*\\bNabi',
                KoboTablet: 'Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build',
                DanewTablet: 'DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b',
                TexetTablet: 'NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE',
                PlaystationTablet: 'Playstation.*(Portable|Vita)',
                TrekstorTablet: 'ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab',
                PyleAudioTablet: '\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b',
                AdvanTablet: 'Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ',
                DanyTechTablet: 'Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1',
                GalapadTablet: 'Android [0-9.]+; [a-z-]+; \\bG1\\b',
                MicromaxTablet: 'Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b',
                KarbonnTablet: 'Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b',
                AllFineTablet: 'Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide',
                PROSCANTablet: '\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b',
                YONESTablet: 'BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026',
                ChangJiaTablet: 'TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503',
                GUTablet: 'TX-A1301|TX-M9002|Q702|kf026',
                PointOfViewTablet: 'TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10',
                OvermaxTablet: 'OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)|Qualcore 1027',
                HCLTablet: 'HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync',
                DPSTablet: 'DPS Dream 9|DPS Dual 7',
                VistureTablet: 'V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10',
                CrestaTablet: 'CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989',
                MediatekTablet: '\\bMT8125|MT8389|MT8135|MT8377\\b',
                ConcordeTablet: 'Concorde([ ]+)?Tab|ConCorde ReadMan',
                GoCleverTablet: 'GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042',
                ModecomTablet: 'FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003',
                VoninoTablet: '\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b',
                ECSTablet: 'V07OT2|TM105A|S10OT1|TR10CS1',
                StorexTablet: "eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab",
                VodafoneTablet: 'SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497|VFD 1400',
                EssentielBTablet: "Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2",
                RossMoorTablet: 'RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711',
                iMobileTablet: 'i-mobile i-note',
                TolinoTablet: 'tolino tab [0-9.]+|tolino shine',
                AudioSonicTablet: '\\bC-22Q|T7-QC|T-17B|T-17P\\b',
                AMPETablet: 'Android.* A78 ',
                SkkTablet: 'Android.* (SKYPAD|PHOENIX|CYCLOPS)',
                TecnoTablet: 'TECNO P9|TECNO DP8D',
                JXDTablet: 'Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b',
                iJoyTablet: 'Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)',
                FX2Tablet: 'FX2 PAD7|FX2 PAD10',
                XoroTablet: 'KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151',
                ViewsonicTablet: 'ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a',
                VerizonTablet: 'QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1',
                OdysTablet: 'LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10',
                CaptivaTablet: 'CAPTIVA PAD',
                IconbitTablet: 'NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S',
                TeclastTablet: 'T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi',
                OndaTablet: '\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\b[\\s]+|V10 \\b4G\\b',
                JaytechTablet: 'TPC-PA762',
                BlaupunktTablet: 'Endeavour 800NG|Endeavour 1010',
                DigmaTablet: '\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b',
                EvolioTablet: 'ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b',
                LavaTablet: 'QPAD E704|\\bIvoryS\\b|E-TAB IVORY|\\bE-TAB\\b',
                AocTablet: 'MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712',
                MpmanTablet: 'MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010',
                CelkonTablet: 'CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b',
                WolderTablet: 'miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b',
                MediacomTablet: 'M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA',
                MiTablet: '\\bMI PAD\\b|\\bHM NOTE 1W\\b',
                NibiruTablet: 'Nibiru M1|Nibiru Jupiter One',
                NexoTablet: 'NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI',
                LeaderTablet: 'TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100',
                UbislateTablet: 'UbiSlate[\\s]?7C',
                PocketBookTablet: 'Pocketbook',
                KocasoTablet: '\\b(TB-1207)\\b',
                HisenseTablet: '\\b(F5281|E2371)\\b',
                Hudl: 'Hudl HT7S3|Hudl 2',
                TelstraTablet: 'T-Hub2',
                GenericTablet: 'Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107',
            },
            oss: { AndroidOS: 'Android', BlackBerryOS: 'blackberry|\\bBB10\\b|rim tablet os', PalmOS: 'PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino', SymbianOS: 'Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b', WindowsMobileOS: 'Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Windows Mobile|Windows Phone [0-9.]+|WCE;', WindowsPhoneOS: 'Windows Phone 10.0|Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;', iOS: '\\biPhone.*Mobile|\\biPod|\\biPad|AppleCoreMedia', iPadOS: 'CPU OS 13', SailfishOS: 'Sailfish', MeeGoOS: 'MeeGo', MaemoOS: 'Maemo', JavaOS: 'J2ME/|\\bMIDP\\b|\\bCLDC\\b', webOS: 'webOS|hpwOS', badaOS: '\\bBada\\b', BREWOS: 'BREW' },
            uas: { Chrome: '\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?', Dolfin: '\\bDolfin\\b', Opera: 'Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+$|Coast/[0-9.]+', Skyfire: 'Skyfire', Edge: '\\bEdgiOS\\b|Mobile Safari/[.0-9]* Edge', IE: 'IEMobile|MSIEMobile', Firefox: 'fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile|FxiOS', Bolt: 'bolt', TeaShark: 'teashark', Blazer: 'Blazer', Safari: 'Version((?!\\bEdgiOS\\b).)*Mobile.*Safari|Safari.*Mobile|MobileSafari', WeChat: '\\bMicroMessenger\\b', UCBrowser: 'UC.*Browser|UCWEB', baiduboxapp: 'baiduboxapp', baidubrowser: 'baidubrowser', DiigoBrowser: 'DiigoBrowser', Mercury: '\\bMercury\\b', ObigoBrowser: 'Obigo', NetFront: 'NF-Browser', GenericBrowser: 'NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger', PaleMoon: 'Android.*PaleMoon|Mobile.*PaleMoon' },
            props: {
                Mobile: 'Mobile/[VER]',
                Build: 'Build/[VER]',
                Version: 'Version/[VER]',
                VendorID: 'VendorID/[VER]',
                iPad: 'iPad.*CPU[a-z ]+[VER]',
                iPhone: 'iPhone.*CPU[a-z ]+[VER]',
                iPod: 'iPod.*CPU[a-z ]+[VER]',
                Kindle: 'Kindle/[VER]',
                Chrome: ['Chrome/[VER]', 'CriOS/[VER]', 'CrMo/[VER]'],
                Coast: ['Coast/[VER]'],
                Dolfin: 'Dolfin/[VER]',
                Firefox: ['Firefox/[VER]', 'FxiOS/[VER]'],
                Fennec: 'Fennec/[VER]',
                Edge: 'Edge/[VER]',
                IE: ['IEMobile/[VER];', 'IEMobile [VER]', 'MSIE [VER];', 'Trident/[0-9.]+;.*rv:[VER]'],
                NetFront: 'NetFront/[VER]',
                NokiaBrowser: 'NokiaBrowser/[VER]',
                Opera: [' OPR/[VER]', 'Opera Mini/[VER]', 'Version/[VER]'],
                'Opera Mini': 'Opera Mini/[VER]',
                'Opera Mobi': 'Version/[VER]',
                UCBrowser: ['UCWEB[VER]', 'UC.*Browser/[VER]'],
                MQQBrowser: 'MQQBrowser/[VER]',
                MicroMessenger: 'MicroMessenger/[VER]',
                baiduboxapp: 'baiduboxapp/[VER]',
                baidubrowser: 'baidubrowser/[VER]',
                SamsungBrowser: 'SamsungBrowser/[VER]',
                Iron: 'Iron/[VER]',
                Safari: ['Version/[VER]', 'Safari/[VER]'],
                Skyfire: 'Skyfire/[VER]',
                Tizen: 'Tizen/[VER]',
                Webkit: 'webkit[ /][VER]',
                PaleMoon: 'PaleMoon/[VER]',
                SailfishBrowser: 'SailfishBrowser/[VER]',
                Gecko: 'Gecko/[VER]',
                Trident: 'Trident/[VER]',
                Presto: 'Presto/[VER]',
                Goanna: 'Goanna/[VER]',
                iOS: ' \\bi?OS\\b [VER][ ;]{1}',
                Android: 'Android [VER]',
                Sailfish: 'Sailfish [VER]',
                BlackBerry: ['BlackBerry[\\w]+/[VER]', 'BlackBerry.*Version/[VER]', 'Version/[VER]'],
                BREW: 'BREW [VER]',
                Java: 'Java/[VER]',
                'Windows Phone OS': ['Windows Phone OS [VER]', 'Windows Phone [VER]'],
                'Windows Phone': 'Windows Phone [VER]',
                'Windows CE': 'Windows CE/[VER]',
                'Windows NT': 'Windows NT [VER]',
                Symbian: ['SymbianOS/[VER]', 'Symbian/[VER]'],
                webOS: ['webOS/[VER]', 'hpwOS/[VER];'],
            },
            utils: { Bot: 'Googlebot|facebookexternalhit|Google-AMPHTML|s~amp-validator|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|YandexMobileBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|Exabot|MJ12bot|YandexImages|TurnitinBot|Pingdom|contentkingapp|AspiegelBot', MobileBot: 'Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker/M1A1-R2D2', DesktopMode: 'WPDesktop', TV: 'SonyDTV|HbbTV', WebKit: '(webkit)[ /]([\\w.]+)', Console: '\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|Nintendo Switch|PLAYSTATION|Xbox)\\b', Watch: 'SM-V700' },
        }),
            (g.detectMobileBrowsers = {
                fullPattern: /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,
                shortPattern:
                    /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,
                tabletPattern: /android|ipad|playbook|silk/i,
            }));
        var h,
            i = Object.prototype.hasOwnProperty;
        return (
            (g.FALLBACK_PHONE = 'UnknownPhone'),
            (g.FALLBACK_TABLET = 'UnknownTablet'),
            (g.FALLBACK_MOBILE = 'UnknownMobile'),
            (h =
                'isArray' in Array
                    ? Array.isArray
                    : function (a) {
                          return '[object Array]' === Object.prototype.toString.call(a);
                      }),
            (function () {
                var a,
                    b,
                    c,
                    e,
                    f,
                    j,
                    k = g.mobileDetectRules;
                for (a in k.props)
                    if (i.call(k.props, a)) {
                        for (b = k.props[a], h(b) || (b = [b]), f = b.length, e = 0; e < f; ++e) ((c = b[e]), (j = c.indexOf('[VER]')), j >= 0 && (c = c.substring(0, j) + '([\\w._\\+]+)' + c.substring(j + 5)), (b[e] = new RegExp(c, 'i')));
                        k.props[a] = b;
                    }
                (d(k.oss), d(k.phones), d(k.tablets), d(k.uas), d(k.utils), (k.oss0 = { WindowsPhoneOS: k.oss.WindowsPhoneOS, WindowsMobileOS: k.oss.WindowsMobileOS }));
            })(),
            (g.findMatch = function (a, b) {
                for (var c in a) if (i.call(a, c) && a[c].test(b)) return c;
                return null;
            }),
            (g.findMatches = function (a, b) {
                var c = [];
                for (var d in a) i.call(a, d) && a[d].test(b) && c.push(d);
                return c;
            }),
            (g.getVersionStr = function (a, b) {
                var c,
                    d,
                    e,
                    f,
                    h = g.mobileDetectRules.props;
                if (i.call(h, a)) for (c = h[a], e = c.length, d = 0; d < e; ++d) if (((f = c[d].exec(b)), null !== f)) return f[1];
                return null;
            }),
            (g.getVersion = function (a, b) {
                var c = g.getVersionStr(a, b);
                return c ? g.prepareVersionNo(c) : NaN;
            }),
            (g.prepareVersionNo = function (a) {
                var b;
                return ((b = a.split(/[a-z._ \/\-]/i)), 1 === b.length && (a = b[0]), b.length > 1 && ((a = b[0] + '.'), b.shift(), (a += b.join(''))), Number(a));
            }),
            (g.isMobileFallback = function (a) {
                return g.detectMobileBrowsers.fullPattern.test(a) || g.detectMobileBrowsers.shortPattern.test(a.substr(0, 4));
            }),
            (g.isTabletFallback = function (a) {
                return g.detectMobileBrowsers.tabletPattern.test(a);
            }),
            (g.prepareDetectionCache = function (a, c, d) {
                if (a.mobile === b) {
                    var e, h, i;
                    return (h = g.findMatch(g.mobileDetectRules.tablets, c)) ? ((a.mobile = a.tablet = h), void (a.phone = null)) : (e = g.findMatch(g.mobileDetectRules.phones, c)) ? ((a.mobile = a.phone = e), void (a.tablet = null)) : void (g.isMobileFallback(c) ? ((i = f.isPhoneSized(d)), i === b ? ((a.mobile = g.FALLBACK_MOBILE), (a.tablet = a.phone = null)) : i ? ((a.mobile = a.phone = g.FALLBACK_PHONE), (a.tablet = null)) : ((a.mobile = a.tablet = g.FALLBACK_TABLET), (a.phone = null))) : g.isTabletFallback(c) ? ((a.mobile = a.tablet = g.FALLBACK_TABLET), (a.phone = null)) : (a.mobile = a.tablet = a.phone = null));
                }
            }),
            (g.mobileGrade = function (a) {
                var b = null !== a.mobile();
                return (a.os('iOS') && a.version('iPad') >= 4.3) ||
                    (a.os('iOS') && a.version('iPhone') >= 3.1) ||
                    (a.os('iOS') && a.version('iPod') >= 3.1) ||
                    (a.version('Android') > 2.1 && a.is('Webkit')) ||
                    a.version('Windows Phone OS') >= 7 ||
                    (a.is('BlackBerry') && a.version('BlackBerry') >= 6) ||
                    a.match('Playbook.*Tablet') ||
                    (a.version('webOS') >= 1.4 && a.match('Palm|Pre|Pixi')) ||
                    a.match('hp.*TouchPad') ||
                    (a.is('Firefox') && a.version('Firefox') >= 12) ||
                    (a.is('Chrome') && a.is('AndroidOS') && a.version('Android') >= 4) ||
                    (a.is('Skyfire') && a.version('Skyfire') >= 4.1 && a.is('AndroidOS') && a.version('Android') >= 2.3) ||
                    (a.is('Opera') && a.version('Opera Mobi') > 11 && a.is('AndroidOS')) ||
                    a.is('MeeGoOS') ||
                    a.is('Tizen') ||
                    (a.is('Dolfin') && a.version('Bada') >= 2) ||
                    ((a.is('UC Browser') || a.is('Dolfin')) && a.version('Android') >= 2.3) ||
                    a.match('Kindle Fire') ||
                    (a.is('Kindle') && a.version('Kindle') >= 3) ||
                    (a.is('AndroidOS') && a.is('NookTablet')) ||
                    (a.version('Chrome') >= 11 && !b) ||
                    (a.version('Safari') >= 5 && !b) ||
                    (a.version('Firefox') >= 4 && !b) ||
                    (a.version('MSIE') >= 7 && !b) ||
                    (a.version('Opera') >= 10 && !b)
                    ? 'A'
                    : (a.os('iOS') && a.version('iPad') < 4.3) || (a.os('iOS') && a.version('iPhone') < 3.1) || (a.os('iOS') && a.version('iPod') < 3.1) || (a.is('Blackberry') && a.version('BlackBerry') >= 5 && a.version('BlackBerry') < 6) || (a.version('Opera Mini') >= 5 && a.version('Opera Mini') <= 6.5 && (a.version('Android') >= 2.3 || a.is('iOS'))) || a.match('NokiaN8|NokiaC7|N97.*Series60|Symbian/3') || (a.version('Opera Mobi') >= 11 && a.is('SymbianOS'))
                      ? 'B'
                      : (a.version('BlackBerry') < 5 || a.match('MSIEMobile|Windows CE.*Mobile') || a.version('Windows Mobile') <= 5.2, 'C');
            }),
            (g.detectOS = function (a) {
                return g.findMatch(g.mobileDetectRules.oss0, a) || g.findMatch(g.mobileDetectRules.oss, a);
            }),
            (g.getDeviceSmallerSide = function () {
                return window.screen.width < window.screen.height ? window.screen.width : window.screen.height;
            }),
            (f.prototype = {
                constructor: f,
                mobile: function () {
                    return (g.prepareDetectionCache(this._cache, this.ua, this.maxPhoneWidth), this._cache.mobile);
                },
                phone: function () {
                    return (g.prepareDetectionCache(this._cache, this.ua, this.maxPhoneWidth), this._cache.phone);
                },
                tablet: function () {
                    return (g.prepareDetectionCache(this._cache, this.ua, this.maxPhoneWidth), this._cache.tablet);
                },
                userAgent: function () {
                    return (this._cache.userAgent === b && (this._cache.userAgent = g.findMatch(g.mobileDetectRules.uas, this.ua)), this._cache.userAgent);
                },
                userAgents: function () {
                    return (this._cache.userAgents === b && (this._cache.userAgents = g.findMatches(g.mobileDetectRules.uas, this.ua)), this._cache.userAgents);
                },
                os: function () {
                    return (this._cache.os === b && (this._cache.os = g.detectOS(this.ua)), this._cache.os);
                },
                version: function (a) {
                    return g.getVersion(a, this.ua);
                },
                versionStr: function (a) {
                    return g.getVersionStr(a, this.ua);
                },
                is: function (b) {
                    return c(this.userAgents(), b) || a(b, this.os()) || a(b, this.phone()) || a(b, this.tablet()) || c(g.findMatches(g.mobileDetectRules.utils, this.ua), b);
                },
                match: function (a) {
                    return (a instanceof RegExp || (a = new RegExp(a, 'i')), a.test(this.ua));
                },
                isPhoneSized: function (a) {
                    return f.isPhoneSized(a || this.maxPhoneWidth);
                },
                mobileGrade: function () {
                    return (this._cache.grade === b && (this._cache.grade = g.mobileGrade(this)), this._cache.grade);
                },
            }),
            'undefined' != typeof window && window.screen
                ? (f.isPhoneSized = function (a) {
                      return a < 0 ? b : g.getDeviceSmallerSide() <= a;
                  })
                : (f.isPhoneSized = function () {}),
            (f._impl = g),
            (f.version = '1.4.5 2021-03-13'),
            f
        );
    });
})(
    (function (a) {
        if ('undefined' != typeof module && module.exports)
            return function (a) {
                module.exports = a();
            };
        if ('function' == typeof define && define.amd) return define;
        if ('undefined' != typeof window)
            return function (a) {
                window.MobileDetect = a();
            };
        throw new Error('unknown environment');
    })()
);
/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */
!(function (t, e) {
    'object' == typeof exports && 'undefined' != typeof module ? e(exports) : 'function' == typeof define && define.amd ? define(['exports'], e) : e(((t = 'undefined' != typeof globalThis ? globalThis : t || self).pako = {}));
})(this, function (t) {
    'use strict';
    function e(t) {
        for (var e = t.length; --e >= 0; ) t[e] = 0;
    }
    var a = 256,
        i = 286,
        n = 30,
        r = 15,
        s = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0]),
        o = new Uint8Array([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13]),
        l = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7]),
        h = new Uint8Array([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]),
        d = new Array(576);
    e(d);
    var _ = new Array(60);
    e(_);
    var f = new Array(512);
    e(f);
    var u = new Array(256);
    e(u);
    var c = new Array(29);
    e(c);
    var w,
        b,
        g,
        p = new Array(n);
    function m(t, e, a, i, n) {
        ((this.static_tree = t), (this.extra_bits = e), (this.extra_base = a), (this.elems = i), (this.max_length = n), (this.has_stree = t && t.length));
    }
    function v(t, e) {
        ((this.dyn_tree = t), (this.max_code = 0), (this.stat_desc = e));
    }
    e(p);
    var k = function (t) {
            return t < 256 ? f[t] : f[256 + (t >>> 7)];
        },
        y = function (t, e) {
            ((t.pending_buf[t.pending++] = 255 & e), (t.pending_buf[t.pending++] = (e >>> 8) & 255));
        },
        x = function (t, e, a) {
            t.bi_valid > 16 - a ? ((t.bi_buf |= (e << t.bi_valid) & 65535), y(t, t.bi_buf), (t.bi_buf = e >> (16 - t.bi_valid)), (t.bi_valid += a - 16)) : ((t.bi_buf |= (e << t.bi_valid) & 65535), (t.bi_valid += a));
        },
        z = function (t, e, a) {
            x(t, a[2 * e], a[2 * e + 1]);
        },
        A = function (t, e) {
            var a = 0;
            do {
                ((a |= 1 & t), (t >>>= 1), (a <<= 1));
            } while (--e > 0);
            return a >>> 1;
        },
        E = function (t, e, a) {
            var i,
                n,
                s = new Array(16),
                o = 0;
            for (i = 1; i <= r; i++) s[i] = o = (o + a[i - 1]) << 1;
            for (n = 0; n <= e; n++) {
                var l = t[2 * n + 1];
                0 !== l && (t[2 * n] = A(s[l]++, l));
            }
        },
        R = function (t) {
            var e;
            for (e = 0; e < i; e++) t.dyn_ltree[2 * e] = 0;
            for (e = 0; e < n; e++) t.dyn_dtree[2 * e] = 0;
            for (e = 0; e < 19; e++) t.bl_tree[2 * e] = 0;
            ((t.dyn_ltree[512] = 1), (t.opt_len = t.static_len = 0), (t.last_lit = t.matches = 0));
        },
        Z = function (t) {
            (t.bi_valid > 8 ? y(t, t.bi_buf) : t.bi_valid > 0 && (t.pending_buf[t.pending++] = t.bi_buf), (t.bi_buf = 0), (t.bi_valid = 0));
        },
        S = function (t, e, a, i) {
            var n = 2 * e,
                r = 2 * a;
            return t[n] < t[r] || (t[n] === t[r] && i[e] <= i[a]);
        },
        U = function (t, e, a) {
            for (var i = t.heap[a], n = a << 1; n <= t.heap_len && (n < t.heap_len && S(e, t.heap[n + 1], t.heap[n], t.depth) && n++, !S(e, i, t.heap[n], t.depth)); ) ((t.heap[a] = t.heap[n]), (a = n), (n <<= 1));
            t.heap[a] = i;
        },
        D = function (t, e, i) {
            var n,
                r,
                l,
                h,
                d = 0;
            if (0 !== t.last_lit)
                do {
                    ((n = (t.pending_buf[t.d_buf + 2 * d] << 8) | t.pending_buf[t.d_buf + 2 * d + 1]), (r = t.pending_buf[t.l_buf + d]), d++, 0 === n ? z(t, r, e) : ((l = u[r]), z(t, l + a + 1, e), 0 !== (h = s[l]) && ((r -= c[l]), x(t, r, h)), n--, (l = k(n)), z(t, l, i), 0 !== (h = o[l]) && ((n -= p[l]), x(t, n, h))));
                } while (d < t.last_lit);
            z(t, 256, e);
        },
        T = function (t, e) {
            var a,
                i,
                n,
                s = e.dyn_tree,
                o = e.stat_desc.static_tree,
                l = e.stat_desc.has_stree,
                h = e.stat_desc.elems,
                d = -1;
            for (t.heap_len = 0, t.heap_max = 573, a = 0; a < h; a++) 0 !== s[2 * a] ? ((t.heap[++t.heap_len] = d = a), (t.depth[a] = 0)) : (s[2 * a + 1] = 0);
            for (; t.heap_len < 2; ) ((s[2 * (n = t.heap[++t.heap_len] = d < 2 ? ++d : 0)] = 1), (t.depth[n] = 0), t.opt_len--, l && (t.static_len -= o[2 * n + 1]));
            for (e.max_code = d, a = t.heap_len >> 1; a >= 1; a--) U(t, s, a);
            n = h;
            do {
                ((a = t.heap[1]), (t.heap[1] = t.heap[t.heap_len--]), U(t, s, 1), (i = t.heap[1]), (t.heap[--t.heap_max] = a), (t.heap[--t.heap_max] = i), (s[2 * n] = s[2 * a] + s[2 * i]), (t.depth[n] = (t.depth[a] >= t.depth[i] ? t.depth[a] : t.depth[i]) + 1), (s[2 * a + 1] = s[2 * i + 1] = n), (t.heap[1] = n++), U(t, s, 1));
            } while (t.heap_len >= 2);
            ((t.heap[--t.heap_max] = t.heap[1]),
                (function (t, e) {
                    var a,
                        i,
                        n,
                        s,
                        o,
                        l,
                        h = e.dyn_tree,
                        d = e.max_code,
                        _ = e.stat_desc.static_tree,
                        f = e.stat_desc.has_stree,
                        u = e.stat_desc.extra_bits,
                        c = e.stat_desc.extra_base,
                        w = e.stat_desc.max_length,
                        b = 0;
                    for (s = 0; s <= r; s++) t.bl_count[s] = 0;
                    for (h[2 * t.heap[t.heap_max] + 1] = 0, a = t.heap_max + 1; a < 573; a++) ((s = h[2 * h[2 * (i = t.heap[a]) + 1] + 1] + 1) > w && ((s = w), b++), (h[2 * i + 1] = s), i > d || (t.bl_count[s]++, (o = 0), i >= c && (o = u[i - c]), (l = h[2 * i]), (t.opt_len += l * (s + o)), f && (t.static_len += l * (_[2 * i + 1] + o))));
                    if (0 !== b) {
                        do {
                            for (s = w - 1; 0 === t.bl_count[s]; ) s--;
                            (t.bl_count[s]--, (t.bl_count[s + 1] += 2), t.bl_count[w]--, (b -= 2));
                        } while (b > 0);
                        for (s = w; 0 !== s; s--) for (i = t.bl_count[s]; 0 !== i; ) (n = t.heap[--a]) > d || (h[2 * n + 1] !== s && ((t.opt_len += (s - h[2 * n + 1]) * h[2 * n]), (h[2 * n + 1] = s)), i--);
                    }
                })(t, e),
                E(s, d, t.bl_count));
        },
        O = function (t, e, a) {
            var i,
                n,
                r = -1,
                s = e[1],
                o = 0,
                l = 7,
                h = 4;
            for (0 === s && ((l = 138), (h = 3)), e[2 * (a + 1) + 1] = 65535, i = 0; i <= a; i++) ((n = s), (s = e[2 * (i + 1) + 1]), (++o < l && n === s) || (o < h ? (t.bl_tree[2 * n] += o) : 0 !== n ? (n !== r && t.bl_tree[2 * n]++, t.bl_tree[32]++) : o <= 10 ? t.bl_tree[34]++ : t.bl_tree[36]++, (o = 0), (r = n), 0 === s ? ((l = 138), (h = 3)) : n === s ? ((l = 6), (h = 3)) : ((l = 7), (h = 4))));
        },
        I = function (t, e, a) {
            var i,
                n,
                r = -1,
                s = e[1],
                o = 0,
                l = 7,
                h = 4;
            for (0 === s && ((l = 138), (h = 3)), i = 0; i <= a; i++)
                if (((n = s), (s = e[2 * (i + 1) + 1]), !(++o < l && n === s))) {
                    if (o < h)
                        do {
                            z(t, n, t.bl_tree);
                        } while (0 != --o);
                    else 0 !== n ? (n !== r && (z(t, n, t.bl_tree), o--), z(t, 16, t.bl_tree), x(t, o - 3, 2)) : o <= 10 ? (z(t, 17, t.bl_tree), x(t, o - 3, 3)) : (z(t, 18, t.bl_tree), x(t, o - 11, 7));
                    ((o = 0), (r = n), 0 === s ? ((l = 138), (h = 3)) : n === s ? ((l = 6), (h = 3)) : ((l = 7), (h = 4)));
                }
        },
        F = !1,
        L = function (t, e, a, i) {
            (x(t, 0 + (i ? 1 : 0), 3),
                (function (t, e, a, i) {
                    (Z(t), i && (y(t, a), y(t, ~a)), t.pending_buf.set(t.window.subarray(e, e + a), t.pending), (t.pending += a));
                })(t, e, a, !0));
        },
        N = {
            _tr_init: function (t) {
                (F ||
                    (!(function () {
                        var t,
                            e,
                            a,
                            h,
                            v,
                            k = new Array(16);
                        for (a = 0, h = 0; h < 28; h++) for (c[h] = a, t = 0; t < 1 << s[h]; t++) u[a++] = h;
                        for (u[a - 1] = h, v = 0, h = 0; h < 16; h++) for (p[h] = v, t = 0; t < 1 << o[h]; t++) f[v++] = h;
                        for (v >>= 7; h < n; h++) for (p[h] = v << 7, t = 0; t < 1 << (o[h] - 7); t++) f[256 + v++] = h;
                        for (e = 0; e <= r; e++) k[e] = 0;
                        for (t = 0; t <= 143; ) ((d[2 * t + 1] = 8), t++, k[8]++);
                        for (; t <= 255; ) ((d[2 * t + 1] = 9), t++, k[9]++);
                        for (; t <= 279; ) ((d[2 * t + 1] = 7), t++, k[7]++);
                        for (; t <= 287; ) ((d[2 * t + 1] = 8), t++, k[8]++);
                        for (E(d, 287, k), t = 0; t < n; t++) ((_[2 * t + 1] = 5), (_[2 * t] = A(t, 5)));
                        ((w = new m(d, s, 257, i, r)), (b = new m(_, o, 0, n, r)), (g = new m(new Array(0), l, 0, 19, 7)));
                    })(),
                    (F = !0)),
                    (t.l_desc = new v(t.dyn_ltree, w)),
                    (t.d_desc = new v(t.dyn_dtree, b)),
                    (t.bl_desc = new v(t.bl_tree, g)),
                    (t.bi_buf = 0),
                    (t.bi_valid = 0),
                    R(t));
            },
            _tr_stored_block: L,
            _tr_flush_block: function (t, e, i, n) {
                var r,
                    s,
                    o = 0;
                (t.level > 0
                    ? (2 === t.strm.data_type &&
                          (t.strm.data_type = (function (t) {
                              var e,
                                  i = 4093624447;
                              for (e = 0; e <= 31; e++, i >>>= 1) if (1 & i && 0 !== t.dyn_ltree[2 * e]) return 0;
                              if (0 !== t.dyn_ltree[18] || 0 !== t.dyn_ltree[20] || 0 !== t.dyn_ltree[26]) return 1;
                              for (e = 32; e < a; e++) if (0 !== t.dyn_ltree[2 * e]) return 1;
                              return 0;
                          })(t)),
                      T(t, t.l_desc),
                      T(t, t.d_desc),
                      (o = (function (t) {
                          var e;
                          for (O(t, t.dyn_ltree, t.l_desc.max_code), O(t, t.dyn_dtree, t.d_desc.max_code), T(t, t.bl_desc), e = 18; e >= 3 && 0 === t.bl_tree[2 * h[e] + 1]; e--);
                          return ((t.opt_len += 3 * (e + 1) + 5 + 5 + 4), e);
                      })(t)),
                      (r = (t.opt_len + 3 + 7) >>> 3),
                      (s = (t.static_len + 3 + 7) >>> 3) <= r && (r = s))
                    : (r = s = i + 5),
                    i + 4 <= r && -1 !== e
                        ? L(t, e, i, n)
                        : 4 === t.strategy || s === r
                          ? (x(t, 2 + (n ? 1 : 0), 3), D(t, d, _))
                          : (x(t, 4 + (n ? 1 : 0), 3),
                            (function (t, e, a, i) {
                                var n;
                                for (x(t, e - 257, 5), x(t, a - 1, 5), x(t, i - 4, 4), n = 0; n < i; n++) x(t, t.bl_tree[2 * h[n] + 1], 3);
                                (I(t, t.dyn_ltree, e - 1), I(t, t.dyn_dtree, a - 1));
                            })(t, t.l_desc.max_code + 1, t.d_desc.max_code + 1, o + 1),
                            D(t, t.dyn_ltree, t.dyn_dtree)),
                    R(t),
                    n && Z(t));
            },
            _tr_tally: function (t, e, i) {
                return ((t.pending_buf[t.d_buf + 2 * t.last_lit] = (e >>> 8) & 255), (t.pending_buf[t.d_buf + 2 * t.last_lit + 1] = 255 & e), (t.pending_buf[t.l_buf + t.last_lit] = 255 & i), t.last_lit++, 0 === e ? t.dyn_ltree[2 * i]++ : (t.matches++, e--, t.dyn_ltree[2 * (u[i] + a + 1)]++, t.dyn_dtree[2 * k(e)]++), t.last_lit === t.lit_bufsize - 1);
            },
            _tr_align: function (t) {
                (x(t, 2, 3),
                    z(t, 256, d),
                    (function (t) {
                        16 === t.bi_valid ? (y(t, t.bi_buf), (t.bi_buf = 0), (t.bi_valid = 0)) : t.bi_valid >= 8 && ((t.pending_buf[t.pending++] = 255 & t.bi_buf), (t.bi_buf >>= 8), (t.bi_valid -= 8));
                    })(t));
            },
        },
        B = function (t, e, a, i) {
            for (var n = (65535 & t) | 0, r = ((t >>> 16) & 65535) | 0, s = 0; 0 !== a; ) {
                a -= s = a > 2e3 ? 2e3 : a;
                do {
                    r = (r + (n = (n + e[i++]) | 0)) | 0;
                } while (--s);
                ((n %= 65521), (r %= 65521));
            }
            return n | (r << 16) | 0;
        },
        C = new Uint32Array(
            (function () {
                for (var t, e = [], a = 0; a < 256; a++) {
                    t = a;
                    for (var i = 0; i < 8; i++) t = 1 & t ? 3988292384 ^ (t >>> 1) : t >>> 1;
                    e[a] = t;
                }
                return e;
            })()
        ),
        M = function (t, e, a, i) {
            var n = C,
                r = i + a;
            t ^= -1;
            for (var s = i; s < r; s++) t = (t >>> 8) ^ n[255 & (t ^ e[s])];
            return -1 ^ t;
        },
        H = { 2: 'need dictionary', 1: 'stream end', 0: '', '-1': 'file error', '-2': 'stream error', '-3': 'data error', '-4': 'insufficient memory', '-5': 'buffer error', '-6': 'incompatible version' },
        j = { Z_NO_FLUSH: 0, Z_PARTIAL_FLUSH: 1, Z_SYNC_FLUSH: 2, Z_FULL_FLUSH: 3, Z_FINISH: 4, Z_BLOCK: 5, Z_TREES: 6, Z_OK: 0, Z_STREAM_END: 1, Z_NEED_DICT: 2, Z_ERRNO: -1, Z_STREAM_ERROR: -2, Z_DATA_ERROR: -3, Z_MEM_ERROR: -4, Z_BUF_ERROR: -5, Z_NO_COMPRESSION: 0, Z_BEST_SPEED: 1, Z_BEST_COMPRESSION: 9, Z_DEFAULT_COMPRESSION: -1, Z_FILTERED: 1, Z_HUFFMAN_ONLY: 2, Z_RLE: 3, Z_FIXED: 4, Z_DEFAULT_STRATEGY: 0, Z_BINARY: 0, Z_TEXT: 1, Z_UNKNOWN: 2, Z_DEFLATED: 8 },
        K = N._tr_init,
        P = N._tr_stored_block,
        Y = N._tr_flush_block,
        G = N._tr_tally,
        X = N._tr_align,
        W = j.Z_NO_FLUSH,
        q = j.Z_PARTIAL_FLUSH,
        J = j.Z_FULL_FLUSH,
        Q = j.Z_FINISH,
        V = j.Z_BLOCK,
        $ = j.Z_OK,
        tt = j.Z_STREAM_END,
        et = j.Z_STREAM_ERROR,
        at = j.Z_DATA_ERROR,
        it = j.Z_BUF_ERROR,
        nt = j.Z_DEFAULT_COMPRESSION,
        rt = j.Z_FILTERED,
        st = j.Z_HUFFMAN_ONLY,
        ot = j.Z_RLE,
        lt = j.Z_FIXED,
        ht = j.Z_DEFAULT_STRATEGY,
        dt = j.Z_UNKNOWN,
        _t = j.Z_DEFLATED,
        ft = 258,
        ut = 262,
        ct = 103,
        wt = 113,
        bt = 666,
        gt = function (t, e) {
            return ((t.msg = H[e]), e);
        },
        pt = function (t) {
            return (t << 1) - (t > 4 ? 9 : 0);
        },
        mt = function (t) {
            for (var e = t.length; --e >= 0; ) t[e] = 0;
        },
        vt = function (t, e, a) {
            return ((e << t.hash_shift) ^ a) & t.hash_mask;
        },
        kt = function (t) {
            var e = t.state,
                a = e.pending;
            (a > t.avail_out && (a = t.avail_out), 0 !== a && (t.output.set(e.pending_buf.subarray(e.pending_out, e.pending_out + a), t.next_out), (t.next_out += a), (e.pending_out += a), (t.total_out += a), (t.avail_out -= a), (e.pending -= a), 0 === e.pending && (e.pending_out = 0)));
        },
        yt = function (t, e) {
            (Y(t, t.block_start >= 0 ? t.block_start : -1, t.strstart - t.block_start, e), (t.block_start = t.strstart), kt(t.strm));
        },
        xt = function (t, e) {
            t.pending_buf[t.pending++] = e;
        },
        zt = function (t, e) {
            ((t.pending_buf[t.pending++] = (e >>> 8) & 255), (t.pending_buf[t.pending++] = 255 & e));
        },
        At = function (t, e) {
            var a,
                i,
                n = t.max_chain_length,
                r = t.strstart,
                s = t.prev_length,
                o = t.nice_match,
                l = t.strstart > t.w_size - ut ? t.strstart - (t.w_size - ut) : 0,
                h = t.window,
                d = t.w_mask,
                _ = t.prev,
                f = t.strstart + ft,
                u = h[r + s - 1],
                c = h[r + s];
            (t.prev_length >= t.good_match && (n >>= 2), o > t.lookahead && (o = t.lookahead));
            do {
                if (h[(a = e) + s] === c && h[a + s - 1] === u && h[a] === h[r] && h[++a] === h[r + 1]) {
                    ((r += 2), a++);
                    do {} while (h[++r] === h[++a] && h[++r] === h[++a] && h[++r] === h[++a] && h[++r] === h[++a] && h[++r] === h[++a] && h[++r] === h[++a] && h[++r] === h[++a] && h[++r] === h[++a] && r < f);
                    if (((i = ft - (f - r)), (r = f - ft), i > s)) {
                        if (((t.match_start = e), (s = i), i >= o)) break;
                        ((u = h[r + s - 1]), (c = h[r + s]));
                    }
                }
            } while ((e = _[e & d]) > l && 0 != --n);
            return s <= t.lookahead ? s : t.lookahead;
        },
        Et = function (t) {
            var e,
                a,
                i,
                n,
                r,
                s,
                o,
                l,
                h,
                d,
                _ = t.w_size;
            do {
                if (((n = t.window_size - t.lookahead - t.strstart), t.strstart >= _ + (_ - ut))) {
                    (t.window.set(t.window.subarray(_, _ + _), 0), (t.match_start -= _), (t.strstart -= _), (t.block_start -= _), (e = a = t.hash_size));
                    do {
                        ((i = t.head[--e]), (t.head[e] = i >= _ ? i - _ : 0));
                    } while (--a);
                    e = a = _;
                    do {
                        ((i = t.prev[--e]), (t.prev[e] = i >= _ ? i - _ : 0));
                    } while (--a);
                    n += _;
                }
                if (0 === t.strm.avail_in) break;
                if (((s = t.strm), (o = t.window), (l = t.strstart + t.lookahead), (h = n), (d = void 0), (d = s.avail_in) > h && (d = h), (a = 0 === d ? 0 : ((s.avail_in -= d), o.set(s.input.subarray(s.next_in, s.next_in + d), l), 1 === s.state.wrap ? (s.adler = B(s.adler, o, d, l)) : 2 === s.state.wrap && (s.adler = M(s.adler, o, d, l)), (s.next_in += d), (s.total_in += d), d)), (t.lookahead += a), t.lookahead + t.insert >= 3)) for (r = t.strstart - t.insert, t.ins_h = t.window[r], t.ins_h = vt(t, t.ins_h, t.window[r + 1]); t.insert && ((t.ins_h = vt(t, t.ins_h, t.window[r + 3 - 1])), (t.prev[r & t.w_mask] = t.head[t.ins_h]), (t.head[t.ins_h] = r), r++, t.insert--, !(t.lookahead + t.insert < 3)); );
            } while (t.lookahead < ut && 0 !== t.strm.avail_in);
        },
        Rt = function (t, e) {
            for (var a, i; ; ) {
                if (t.lookahead < ut) {
                    if ((Et(t), t.lookahead < ut && e === W)) return 1;
                    if (0 === t.lookahead) break;
                }
                if (((a = 0), t.lookahead >= 3 && ((t.ins_h = vt(t, t.ins_h, t.window[t.strstart + 3 - 1])), (a = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h]), (t.head[t.ins_h] = t.strstart)), 0 !== a && t.strstart - a <= t.w_size - ut && (t.match_length = At(t, a)), t.match_length >= 3))
                    if (((i = G(t, t.strstart - t.match_start, t.match_length - 3)), (t.lookahead -= t.match_length), t.match_length <= t.max_lazy_match && t.lookahead >= 3)) {
                        t.match_length--;
                        do {
                            (t.strstart++, (t.ins_h = vt(t, t.ins_h, t.window[t.strstart + 3 - 1])), (a = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h]), (t.head[t.ins_h] = t.strstart));
                        } while (0 != --t.match_length);
                        t.strstart++;
                    } else ((t.strstart += t.match_length), (t.match_length = 0), (t.ins_h = t.window[t.strstart]), (t.ins_h = vt(t, t.ins_h, t.window[t.strstart + 1])));
                else ((i = G(t, 0, t.window[t.strstart])), t.lookahead--, t.strstart++);
                if (i && (yt(t, !1), 0 === t.strm.avail_out)) return 1;
            }
            return ((t.insert = t.strstart < 2 ? t.strstart : 2), e === Q ? (yt(t, !0), 0 === t.strm.avail_out ? 3 : 4) : t.last_lit && (yt(t, !1), 0 === t.strm.avail_out) ? 1 : 2);
        },
        Zt = function (t, e) {
            for (var a, i, n; ; ) {
                if (t.lookahead < ut) {
                    if ((Et(t), t.lookahead < ut && e === W)) return 1;
                    if (0 === t.lookahead) break;
                }
                if (((a = 0), t.lookahead >= 3 && ((t.ins_h = vt(t, t.ins_h, t.window[t.strstart + 3 - 1])), (a = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h]), (t.head[t.ins_h] = t.strstart)), (t.prev_length = t.match_length), (t.prev_match = t.match_start), (t.match_length = 2), 0 !== a && t.prev_length < t.max_lazy_match && t.strstart - a <= t.w_size - ut && ((t.match_length = At(t, a)), t.match_length <= 5 && (t.strategy === rt || (3 === t.match_length && t.strstart - t.match_start > 4096)) && (t.match_length = 2)), t.prev_length >= 3 && t.match_length <= t.prev_length)) {
                    ((n = t.strstart + t.lookahead - 3), (i = G(t, t.strstart - 1 - t.prev_match, t.prev_length - 3)), (t.lookahead -= t.prev_length - 1), (t.prev_length -= 2));
                    do {
                        ++t.strstart <= n && ((t.ins_h = vt(t, t.ins_h, t.window[t.strstart + 3 - 1])), (a = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h]), (t.head[t.ins_h] = t.strstart));
                    } while (0 != --t.prev_length);
                    if (((t.match_available = 0), (t.match_length = 2), t.strstart++, i && (yt(t, !1), 0 === t.strm.avail_out))) return 1;
                } else if (t.match_available) {
                    if (((i = G(t, 0, t.window[t.strstart - 1])) && yt(t, !1), t.strstart++, t.lookahead--, 0 === t.strm.avail_out)) return 1;
                } else ((t.match_available = 1), t.strstart++, t.lookahead--);
            }
            return (t.match_available && ((i = G(t, 0, t.window[t.strstart - 1])), (t.match_available = 0)), (t.insert = t.strstart < 2 ? t.strstart : 2), e === Q ? (yt(t, !0), 0 === t.strm.avail_out ? 3 : 4) : t.last_lit && (yt(t, !1), 0 === t.strm.avail_out) ? 1 : 2);
        };
    function St(t, e, a, i, n) {
        ((this.good_length = t), (this.max_lazy = e), (this.nice_length = a), (this.max_chain = i), (this.func = n));
    }
    var Ut = [
        new St(0, 0, 0, 0, function (t, e) {
            var a = 65535;
            for (a > t.pending_buf_size - 5 && (a = t.pending_buf_size - 5); ; ) {
                if (t.lookahead <= 1) {
                    if ((Et(t), 0 === t.lookahead && e === W)) return 1;
                    if (0 === t.lookahead) break;
                }
                ((t.strstart += t.lookahead), (t.lookahead = 0));
                var i = t.block_start + a;
                if ((0 === t.strstart || t.strstart >= i) && ((t.lookahead = t.strstart - i), (t.strstart = i), yt(t, !1), 0 === t.strm.avail_out)) return 1;
                if (t.strstart - t.block_start >= t.w_size - ut && (yt(t, !1), 0 === t.strm.avail_out)) return 1;
            }
            return ((t.insert = 0), e === Q ? (yt(t, !0), 0 === t.strm.avail_out ? 3 : 4) : (t.strstart > t.block_start && (yt(t, !1), t.strm.avail_out), 1));
        }),
        new St(4, 4, 8, 4, Rt),
        new St(4, 5, 16, 8, Rt),
        new St(4, 6, 32, 32, Rt),
        new St(4, 4, 16, 16, Zt),
        new St(8, 16, 32, 32, Zt),
        new St(8, 16, 128, 128, Zt),
        new St(8, 32, 128, 256, Zt),
        new St(32, 128, 258, 1024, Zt),
        new St(32, 258, 258, 4096, Zt),
    ];
    function Dt() {
        ((this.strm = null),
            (this.status = 0),
            (this.pending_buf = null),
            (this.pending_buf_size = 0),
            (this.pending_out = 0),
            (this.pending = 0),
            (this.wrap = 0),
            (this.gzhead = null),
            (this.gzindex = 0),
            (this.method = _t),
            (this.last_flush = -1),
            (this.w_size = 0),
            (this.w_bits = 0),
            (this.w_mask = 0),
            (this.window = null),
            (this.window_size = 0),
            (this.prev = null),
            (this.head = null),
            (this.ins_h = 0),
            (this.hash_size = 0),
            (this.hash_bits = 0),
            (this.hash_mask = 0),
            (this.hash_shift = 0),
            (this.block_start = 0),
            (this.match_length = 0),
            (this.prev_match = 0),
            (this.match_available = 0),
            (this.strstart = 0),
            (this.match_start = 0),
            (this.lookahead = 0),
            (this.prev_length = 0),
            (this.max_chain_length = 0),
            (this.max_lazy_match = 0),
            (this.level = 0),
            (this.strategy = 0),
            (this.good_match = 0),
            (this.nice_match = 0),
            (this.dyn_ltree = new Uint16Array(1146)),
            (this.dyn_dtree = new Uint16Array(122)),
            (this.bl_tree = new Uint16Array(78)),
            mt(this.dyn_ltree),
            mt(this.dyn_dtree),
            mt(this.bl_tree),
            (this.l_desc = null),
            (this.d_desc = null),
            (this.bl_desc = null),
            (this.bl_count = new Uint16Array(16)),
            (this.heap = new Uint16Array(573)),
            mt(this.heap),
            (this.heap_len = 0),
            (this.heap_max = 0),
            (this.depth = new Uint16Array(573)),
            mt(this.depth),
            (this.l_buf = 0),
            (this.lit_bufsize = 0),
            (this.last_lit = 0),
            (this.d_buf = 0),
            (this.opt_len = 0),
            (this.static_len = 0),
            (this.matches = 0),
            (this.insert = 0),
            (this.bi_buf = 0),
            (this.bi_valid = 0));
    }
    var Tt = function (t) {
            if (!t || !t.state) return gt(t, et);
            ((t.total_in = t.total_out = 0), (t.data_type = dt));
            var e = t.state;
            return ((e.pending = 0), (e.pending_out = 0), e.wrap < 0 && (e.wrap = -e.wrap), (e.status = e.wrap ? 42 : wt), (t.adler = 2 === e.wrap ? 0 : 1), (e.last_flush = W), K(e), $);
        },
        Ot = function (t) {
            var e,
                a = Tt(t);
            return (a === $ && (((e = t.state).window_size = 2 * e.w_size), mt(e.head), (e.max_lazy_match = Ut[e.level].max_lazy), (e.good_match = Ut[e.level].good_length), (e.nice_match = Ut[e.level].nice_length), (e.max_chain_length = Ut[e.level].max_chain), (e.strstart = 0), (e.block_start = 0), (e.lookahead = 0), (e.insert = 0), (e.match_length = e.prev_length = 2), (e.match_available = 0), (e.ins_h = 0)), a);
        },
        It = function (t, e, a, i, n, r) {
            if (!t) return et;
            var s = 1;
            if ((e === nt && (e = 6), i < 0 ? ((s = 0), (i = -i)) : i > 15 && ((s = 2), (i -= 16)), n < 1 || n > 9 || a !== _t || i < 8 || i > 15 || e < 0 || e > 9 || r < 0 || r > lt)) return gt(t, et);
            8 === i && (i = 9);
            var o = new Dt();
            return ((t.state = o), (o.strm = t), (o.wrap = s), (o.gzhead = null), (o.w_bits = i), (o.w_size = 1 << o.w_bits), (o.w_mask = o.w_size - 1), (o.hash_bits = n + 7), (o.hash_size = 1 << o.hash_bits), (o.hash_mask = o.hash_size - 1), (o.hash_shift = ~~((o.hash_bits + 3 - 1) / 3)), (o.window = new Uint8Array(2 * o.w_size)), (o.head = new Uint16Array(o.hash_size)), (o.prev = new Uint16Array(o.w_size)), (o.lit_bufsize = 1 << (n + 6)), (o.pending_buf_size = 4 * o.lit_bufsize), (o.pending_buf = new Uint8Array(o.pending_buf_size)), (o.d_buf = 1 * o.lit_bufsize), (o.l_buf = 3 * o.lit_bufsize), (o.level = e), (o.strategy = r), (o.method = a), Ot(t));
        },
        Ft = {
            deflateInit: function (t, e) {
                return It(t, e, _t, 15, 8, ht);
            },
            deflateInit2: It,
            deflateReset: Ot,
            deflateResetKeep: Tt,
            deflateSetHeader: function (t, e) {
                return t && t.state ? (2 !== t.state.wrap ? et : ((t.state.gzhead = e), $)) : et;
            },
            deflate: function (t, e) {
                var a, i;
                if (!t || !t.state || e > V || e < 0) return t ? gt(t, et) : et;
                var n = t.state;
                if (!t.output || (!t.input && 0 !== t.avail_in) || (n.status === bt && e !== Q)) return gt(t, 0 === t.avail_out ? it : et);
                n.strm = t;
                var r = n.last_flush;
                if (((n.last_flush = e), 42 === n.status))
                    if (2 === n.wrap) ((t.adler = 0), xt(n, 31), xt(n, 139), xt(n, 8), n.gzhead ? (xt(n, (n.gzhead.text ? 1 : 0) + (n.gzhead.hcrc ? 2 : 0) + (n.gzhead.extra ? 4 : 0) + (n.gzhead.name ? 8 : 0) + (n.gzhead.comment ? 16 : 0)), xt(n, 255 & n.gzhead.time), xt(n, (n.gzhead.time >> 8) & 255), xt(n, (n.gzhead.time >> 16) & 255), xt(n, (n.gzhead.time >> 24) & 255), xt(n, 9 === n.level ? 2 : n.strategy >= st || n.level < 2 ? 4 : 0), xt(n, 255 & n.gzhead.os), n.gzhead.extra && n.gzhead.extra.length && (xt(n, 255 & n.gzhead.extra.length), xt(n, (n.gzhead.extra.length >> 8) & 255)), n.gzhead.hcrc && (t.adler = M(t.adler, n.pending_buf, n.pending, 0)), (n.gzindex = 0), (n.status = 69)) : (xt(n, 0), xt(n, 0), xt(n, 0), xt(n, 0), xt(n, 0), xt(n, 9 === n.level ? 2 : n.strategy >= st || n.level < 2 ? 4 : 0), xt(n, 3), (n.status = wt)));
                    else {
                        var s = (_t + ((n.w_bits - 8) << 4)) << 8;
                        ((s |= (n.strategy >= st || n.level < 2 ? 0 : n.level < 6 ? 1 : 6 === n.level ? 2 : 3) << 6), 0 !== n.strstart && (s |= 32), (s += 31 - (s % 31)), (n.status = wt), zt(n, s), 0 !== n.strstart && (zt(n, t.adler >>> 16), zt(n, 65535 & t.adler)), (t.adler = 1));
                    }
                if (69 === n.status)
                    if (n.gzhead.extra) {
                        for (a = n.pending; n.gzindex < (65535 & n.gzhead.extra.length) && (n.pending !== n.pending_buf_size || (n.gzhead.hcrc && n.pending > a && (t.adler = M(t.adler, n.pending_buf, n.pending - a, a)), kt(t), (a = n.pending), n.pending !== n.pending_buf_size)); ) (xt(n, 255 & n.gzhead.extra[n.gzindex]), n.gzindex++);
                        (n.gzhead.hcrc && n.pending > a && (t.adler = M(t.adler, n.pending_buf, n.pending - a, a)), n.gzindex === n.gzhead.extra.length && ((n.gzindex = 0), (n.status = 73)));
                    } else n.status = 73;
                if (73 === n.status)
                    if (n.gzhead.name) {
                        a = n.pending;
                        do {
                            if (n.pending === n.pending_buf_size && (n.gzhead.hcrc && n.pending > a && (t.adler = M(t.adler, n.pending_buf, n.pending - a, a)), kt(t), (a = n.pending), n.pending === n.pending_buf_size)) {
                                i = 1;
                                break;
                            }
                            ((i = n.gzindex < n.gzhead.name.length ? 255 & n.gzhead.name.charCodeAt(n.gzindex++) : 0), xt(n, i));
                        } while (0 !== i);
                        (n.gzhead.hcrc && n.pending > a && (t.adler = M(t.adler, n.pending_buf, n.pending - a, a)), 0 === i && ((n.gzindex = 0), (n.status = 91)));
                    } else n.status = 91;
                if (91 === n.status)
                    if (n.gzhead.comment) {
                        a = n.pending;
                        do {
                            if (n.pending === n.pending_buf_size && (n.gzhead.hcrc && n.pending > a && (t.adler = M(t.adler, n.pending_buf, n.pending - a, a)), kt(t), (a = n.pending), n.pending === n.pending_buf_size)) {
                                i = 1;
                                break;
                            }
                            ((i = n.gzindex < n.gzhead.comment.length ? 255 & n.gzhead.comment.charCodeAt(n.gzindex++) : 0), xt(n, i));
                        } while (0 !== i);
                        (n.gzhead.hcrc && n.pending > a && (t.adler = M(t.adler, n.pending_buf, n.pending - a, a)), 0 === i && (n.status = ct));
                    } else n.status = ct;
                if ((n.status === ct && (n.gzhead.hcrc ? (n.pending + 2 > n.pending_buf_size && kt(t), n.pending + 2 <= n.pending_buf_size && (xt(n, 255 & t.adler), xt(n, (t.adler >> 8) & 255), (t.adler = 0), (n.status = wt))) : (n.status = wt)), 0 !== n.pending)) {
                    if ((kt(t), 0 === t.avail_out)) return ((n.last_flush = -1), $);
                } else if (0 === t.avail_in && pt(e) <= pt(r) && e !== Q) return gt(t, it);
                if (n.status === bt && 0 !== t.avail_in) return gt(t, it);
                if (0 !== t.avail_in || 0 !== n.lookahead || (e !== W && n.status !== bt)) {
                    var o =
                        n.strategy === st
                            ? (function (t, e) {
                                  for (var a; ; ) {
                                      if (0 === t.lookahead && (Et(t), 0 === t.lookahead)) {
                                          if (e === W) return 1;
                                          break;
                                      }
                                      if (((t.match_length = 0), (a = G(t, 0, t.window[t.strstart])), t.lookahead--, t.strstart++, a && (yt(t, !1), 0 === t.strm.avail_out))) return 1;
                                  }
                                  return ((t.insert = 0), e === Q ? (yt(t, !0), 0 === t.strm.avail_out ? 3 : 4) : t.last_lit && (yt(t, !1), 0 === t.strm.avail_out) ? 1 : 2);
                              })(n, e)
                            : n.strategy === ot
                              ? (function (t, e) {
                                    for (var a, i, n, r, s = t.window; ; ) {
                                        if (t.lookahead <= ft) {
                                            if ((Et(t), t.lookahead <= ft && e === W)) return 1;
                                            if (0 === t.lookahead) break;
                                        }
                                        if (((t.match_length = 0), t.lookahead >= 3 && t.strstart > 0 && (i = s[(n = t.strstart - 1)]) === s[++n] && i === s[++n] && i === s[++n])) {
                                            r = t.strstart + ft;
                                            do {} while (i === s[++n] && i === s[++n] && i === s[++n] && i === s[++n] && i === s[++n] && i === s[++n] && i === s[++n] && i === s[++n] && n < r);
                                            ((t.match_length = ft - (r - n)), t.match_length > t.lookahead && (t.match_length = t.lookahead));
                                        }
                                        if ((t.match_length >= 3 ? ((a = G(t, 1, t.match_length - 3)), (t.lookahead -= t.match_length), (t.strstart += t.match_length), (t.match_length = 0)) : ((a = G(t, 0, t.window[t.strstart])), t.lookahead--, t.strstart++), a && (yt(t, !1), 0 === t.strm.avail_out))) return 1;
                                    }
                                    return ((t.insert = 0), e === Q ? (yt(t, !0), 0 === t.strm.avail_out ? 3 : 4) : t.last_lit && (yt(t, !1), 0 === t.strm.avail_out) ? 1 : 2);
                                })(n, e)
                              : Ut[n.level].func(n, e);
                    if (((3 !== o && 4 !== o) || (n.status = bt), 1 === o || 3 === o)) return (0 === t.avail_out && (n.last_flush = -1), $);
                    if (2 === o && (e === q ? X(n) : e !== V && (P(n, 0, 0, !1), e === J && (mt(n.head), 0 === n.lookahead && ((n.strstart = 0), (n.block_start = 0), (n.insert = 0)))), kt(t), 0 === t.avail_out)) return ((n.last_flush = -1), $);
                }
                return e !== Q ? $ : n.wrap <= 0 ? tt : (2 === n.wrap ? (xt(n, 255 & t.adler), xt(n, (t.adler >> 8) & 255), xt(n, (t.adler >> 16) & 255), xt(n, (t.adler >> 24) & 255), xt(n, 255 & t.total_in), xt(n, (t.total_in >> 8) & 255), xt(n, (t.total_in >> 16) & 255), xt(n, (t.total_in >> 24) & 255)) : (zt(n, t.adler >>> 16), zt(n, 65535 & t.adler)), kt(t), n.wrap > 0 && (n.wrap = -n.wrap), 0 !== n.pending ? $ : tt);
            },
            deflateEnd: function (t) {
                if (!t || !t.state) return et;
                var e = t.state.status;
                return 42 !== e && 69 !== e && 73 !== e && 91 !== e && e !== ct && e !== wt && e !== bt ? gt(t, et) : ((t.state = null), e === wt ? gt(t, at) : $);
            },
            deflateSetDictionary: function (t, e) {
                var a = e.length;
                if (!t || !t.state) return et;
                var i = t.state,
                    n = i.wrap;
                if (2 === n || (1 === n && 42 !== i.status) || i.lookahead) return et;
                if ((1 === n && (t.adler = B(t.adler, e, a, 0)), (i.wrap = 0), a >= i.w_size)) {
                    0 === n && (mt(i.head), (i.strstart = 0), (i.block_start = 0), (i.insert = 0));
                    var r = new Uint8Array(i.w_size);
                    (r.set(e.subarray(a - i.w_size, a), 0), (e = r), (a = i.w_size));
                }
                var s = t.avail_in,
                    o = t.next_in,
                    l = t.input;
                for (t.avail_in = a, t.next_in = 0, t.input = e, Et(i); i.lookahead >= 3; ) {
                    var h = i.strstart,
                        d = i.lookahead - 2;
                    do {
                        ((i.ins_h = vt(i, i.ins_h, i.window[h + 3 - 1])), (i.prev[h & i.w_mask] = i.head[i.ins_h]), (i.head[i.ins_h] = h), h++);
                    } while (--d);
                    ((i.strstart = h), (i.lookahead = 2), Et(i));
                }
                return ((i.strstart += i.lookahead), (i.block_start = i.strstart), (i.insert = i.lookahead), (i.lookahead = 0), (i.match_length = i.prev_length = 2), (i.match_available = 0), (t.next_in = o), (t.input = l), (t.avail_in = s), (i.wrap = n), $);
            },
            deflateInfo: 'pako deflate (from Nodeca project)',
        };
    function Lt(t) {
        return (Lt =
            'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator
                ? function (t) {
                      return typeof t;
                  }
                : function (t) {
                      return t && 'function' == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? 'symbol' : typeof t;
                  })(t);
    }
    var Nt = function (t, e) {
            return Object.prototype.hasOwnProperty.call(t, e);
        },
        Bt = function (t) {
            for (var e = Array.prototype.slice.call(arguments, 1); e.length; ) {
                var a = e.shift();
                if (a) {
                    if ('object' !== Lt(a)) throw new TypeError(a + 'must be non-object');
                    for (var i in a) Nt(a, i) && (t[i] = a[i]);
                }
            }
            return t;
        },
        Ct = function (t) {
            for (var e = 0, a = 0, i = t.length; a < i; a++) e += t[a].length;
            for (var n = new Uint8Array(e), r = 0, s = 0, o = t.length; r < o; r++) {
                var l = t[r];
                (n.set(l, s), (s += l.length));
            }
            return n;
        },
        Mt = !0;
    try {
        String.fromCharCode.apply(null, new Uint8Array(1));
    } catch (t) {
        Mt = !1;
    }
    for (var Ht = new Uint8Array(256), jt = 0; jt < 256; jt++) Ht[jt] = jt >= 252 ? 6 : jt >= 248 ? 5 : jt >= 240 ? 4 : jt >= 224 ? 3 : jt >= 192 ? 2 : 1;
    Ht[254] = Ht[254] = 1;
    var Kt = function (t) {
            if ('function' == typeof TextEncoder && TextEncoder.prototype.encode) return new TextEncoder().encode(t);
            var e,
                a,
                i,
                n,
                r,
                s = t.length,
                o = 0;
            for (n = 0; n < s; n++) (55296 == (64512 & (a = t.charCodeAt(n))) && n + 1 < s && 56320 == (64512 & (i = t.charCodeAt(n + 1))) && ((a = 65536 + ((a - 55296) << 10) + (i - 56320)), n++), (o += a < 128 ? 1 : a < 2048 ? 2 : a < 65536 ? 3 : 4));
            for (e = new Uint8Array(o), r = 0, n = 0; r < o; n++) (55296 == (64512 & (a = t.charCodeAt(n))) && n + 1 < s && 56320 == (64512 & (i = t.charCodeAt(n + 1))) && ((a = 65536 + ((a - 55296) << 10) + (i - 56320)), n++), a < 128 ? (e[r++] = a) : a < 2048 ? ((e[r++] = 192 | (a >>> 6)), (e[r++] = 128 | (63 & a))) : a < 65536 ? ((e[r++] = 224 | (a >>> 12)), (e[r++] = 128 | ((a >>> 6) & 63)), (e[r++] = 128 | (63 & a))) : ((e[r++] = 240 | (a >>> 18)), (e[r++] = 128 | ((a >>> 12) & 63)), (e[r++] = 128 | ((a >>> 6) & 63)), (e[r++] = 128 | (63 & a))));
            return e;
        },
        Pt = function (t, e) {
            var a,
                i,
                n = e || t.length;
            if ('function' == typeof TextDecoder && TextDecoder.prototype.decode) return new TextDecoder().decode(t.subarray(0, e));
            var r = new Array(2 * n);
            for (i = 0, a = 0; a < n; ) {
                var s = t[a++];
                if (s < 128) r[i++] = s;
                else {
                    var o = Ht[s];
                    if (o > 4) ((r[i++] = 65533), (a += o - 1));
                    else {
                        for (s &= 2 === o ? 31 : 3 === o ? 15 : 7; o > 1 && a < n; ) ((s = (s << 6) | (63 & t[a++])), o--);
                        o > 1 ? (r[i++] = 65533) : s < 65536 ? (r[i++] = s) : ((s -= 65536), (r[i++] = 55296 | ((s >> 10) & 1023)), (r[i++] = 56320 | (1023 & s)));
                    }
                }
            }
            return (function (t, e) {
                if (e < 65534 && t.subarray && Mt) return String.fromCharCode.apply(null, t.length === e ? t : t.subarray(0, e));
                for (var a = '', i = 0; i < e; i++) a += String.fromCharCode(t[i]);
                return a;
            })(r, i);
        },
        Yt = function (t, e) {
            (e = e || t.length) > t.length && (e = t.length);
            for (var a = e - 1; a >= 0 && 128 == (192 & t[a]); ) a--;
            return a < 0 || 0 === a ? e : a + Ht[t[a]] > e ? a : e;
        };
    var Gt = function () {
            ((this.input = null), (this.next_in = 0), (this.avail_in = 0), (this.total_in = 0), (this.output = null), (this.next_out = 0), (this.avail_out = 0), (this.total_out = 0), (this.msg = ''), (this.state = null), (this.data_type = 2), (this.adler = 0));
        },
        Xt = Object.prototype.toString,
        Wt = j.Z_NO_FLUSH,
        qt = j.Z_SYNC_FLUSH,
        Jt = j.Z_FULL_FLUSH,
        Qt = j.Z_FINISH,
        Vt = j.Z_OK,
        $t = j.Z_STREAM_END,
        te = j.Z_DEFAULT_COMPRESSION,
        ee = j.Z_DEFAULT_STRATEGY,
        ae = j.Z_DEFLATED;
    function ie(t) {
        this.options = Bt({ level: te, method: ae, chunkSize: 16384, windowBits: 15, memLevel: 8, strategy: ee }, t || {});
        var e = this.options;
        (e.raw && e.windowBits > 0 ? (e.windowBits = -e.windowBits) : e.gzip && e.windowBits > 0 && e.windowBits < 16 && (e.windowBits += 16), (this.err = 0), (this.msg = ''), (this.ended = !1), (this.chunks = []), (this.strm = new Gt()), (this.strm.avail_out = 0));
        var a = Ft.deflateInit2(this.strm, e.level, e.method, e.windowBits, e.memLevel, e.strategy);
        if (a !== Vt) throw new Error(H[a]);
        if ((e.header && Ft.deflateSetHeader(this.strm, e.header), e.dictionary)) {
            var i;
            if (((i = 'string' == typeof e.dictionary ? Kt(e.dictionary) : '[object ArrayBuffer]' === Xt.call(e.dictionary) ? new Uint8Array(e.dictionary) : e.dictionary), (a = Ft.deflateSetDictionary(this.strm, i)) !== Vt)) throw new Error(H[a]);
            this._dict_set = !0;
        }
    }
    function ne(t, e) {
        var a = new ie(e);
        if ((a.push(t, !0), a.err)) throw a.msg || H[a.err];
        return a.result;
    }
    ((ie.prototype.push = function (t, e) {
        var a,
            i,
            n = this.strm,
            r = this.options.chunkSize;
        if (this.ended) return !1;
        for (i = e === ~~e ? e : !0 === e ? Qt : Wt, 'string' == typeof t ? (n.input = Kt(t)) : '[object ArrayBuffer]' === Xt.call(t) ? (n.input = new Uint8Array(t)) : (n.input = t), n.next_in = 0, n.avail_in = n.input.length; ; )
            if ((0 === n.avail_out && ((n.output = new Uint8Array(r)), (n.next_out = 0), (n.avail_out = r)), (i === qt || i === Jt) && n.avail_out <= 6)) (this.onData(n.output.subarray(0, n.next_out)), (n.avail_out = 0));
            else {
                if ((a = Ft.deflate(n, i)) === $t) return (n.next_out > 0 && this.onData(n.output.subarray(0, n.next_out)), (a = Ft.deflateEnd(this.strm)), this.onEnd(a), (this.ended = !0), a === Vt);
                if (0 !== n.avail_out) {
                    if (i > 0 && n.next_out > 0) (this.onData(n.output.subarray(0, n.next_out)), (n.avail_out = 0));
                    else if (0 === n.avail_in) break;
                } else this.onData(n.output);
            }
        return !0;
    }),
        (ie.prototype.onData = function (t) {
            this.chunks.push(t);
        }),
        (ie.prototype.onEnd = function (t) {
            (t === Vt && (this.result = Ct(this.chunks)), (this.chunks = []), (this.err = t), (this.msg = this.strm.msg));
        }));
    var re = {
            Deflate: ie,
            deflate: ne,
            deflateRaw: function (t, e) {
                return (((e = e || {}).raw = !0), ne(t, e));
            },
            gzip: function (t, e) {
                return (((e = e || {}).gzip = !0), ne(t, e));
            },
            constants: j,
        },
        se = function (t, e) {
            var a,
                i,
                n,
                r,
                s,
                o,
                l,
                h,
                d,
                _,
                f,
                u,
                c,
                w,
                b,
                g,
                p,
                m,
                v,
                k,
                y,
                x,
                z,
                A,
                E = t.state;
            ((a = t.next_in), (z = t.input), (i = a + (t.avail_in - 5)), (n = t.next_out), (A = t.output), (r = n - (e - t.avail_out)), (s = n + (t.avail_out - 257)), (o = E.dmax), (l = E.wsize), (h = E.whave), (d = E.wnext), (_ = E.window), (f = E.hold), (u = E.bits), (c = E.lencode), (w = E.distcode), (b = (1 << E.lenbits) - 1), (g = (1 << E.distbits) - 1));
            t: do {
                (u < 15 && ((f += z[a++] << u), (u += 8), (f += z[a++] << u), (u += 8)), (p = c[f & b]));
                e: for (;;) {
                    if (((f >>>= m = p >>> 24), (u -= m), 0 === (m = (p >>> 16) & 255))) A[n++] = 65535 & p;
                    else {
                        if (!(16 & m)) {
                            if (0 == (64 & m)) {
                                p = c[(65535 & p) + (f & ((1 << m) - 1))];
                                continue e;
                            }
                            if (32 & m) {
                                E.mode = 12;
                                break t;
                            }
                            ((t.msg = 'invalid literal/length code'), (E.mode = 30));
                            break t;
                        }
                        ((v = 65535 & p), (m &= 15) && (u < m && ((f += z[a++] << u), (u += 8)), (v += f & ((1 << m) - 1)), (f >>>= m), (u -= m)), u < 15 && ((f += z[a++] << u), (u += 8), (f += z[a++] << u), (u += 8)), (p = w[f & g]));
                        a: for (;;) {
                            if (((f >>>= m = p >>> 24), (u -= m), !(16 & (m = (p >>> 16) & 255)))) {
                                if (0 == (64 & m)) {
                                    p = w[(65535 & p) + (f & ((1 << m) - 1))];
                                    continue a;
                                }
                                ((t.msg = 'invalid distance code'), (E.mode = 30));
                                break t;
                            }
                            if (((k = 65535 & p), u < (m &= 15) && ((f += z[a++] << u), (u += 8) < m && ((f += z[a++] << u), (u += 8))), (k += f & ((1 << m) - 1)) > o)) {
                                ((t.msg = 'invalid distance too far back'), (E.mode = 30));
                                break t;
                            }
                            if (((f >>>= m), (u -= m), k > (m = n - r))) {
                                if ((m = k - m) > h && E.sane) {
                                    ((t.msg = 'invalid distance too far back'), (E.mode = 30));
                                    break t;
                                }
                                if (((y = 0), (x = _), 0 === d)) {
                                    if (((y += l - m), m < v)) {
                                        v -= m;
                                        do {
                                            A[n++] = _[y++];
                                        } while (--m);
                                        ((y = n - k), (x = A));
                                    }
                                } else if (d < m) {
                                    if (((y += l + d - m), (m -= d) < v)) {
                                        v -= m;
                                        do {
                                            A[n++] = _[y++];
                                        } while (--m);
                                        if (((y = 0), d < v)) {
                                            v -= m = d;
                                            do {
                                                A[n++] = _[y++];
                                            } while (--m);
                                            ((y = n - k), (x = A));
                                        }
                                    }
                                } else if (((y += d - m), m < v)) {
                                    v -= m;
                                    do {
                                        A[n++] = _[y++];
                                    } while (--m);
                                    ((y = n - k), (x = A));
                                }
                                for (; v > 2; ) ((A[n++] = x[y++]), (A[n++] = x[y++]), (A[n++] = x[y++]), (v -= 3));
                                v && ((A[n++] = x[y++]), v > 1 && (A[n++] = x[y++]));
                            } else {
                                y = n - k;
                                do {
                                    ((A[n++] = A[y++]), (A[n++] = A[y++]), (A[n++] = A[y++]), (v -= 3));
                                } while (v > 2);
                                v && ((A[n++] = A[y++]), v > 1 && (A[n++] = A[y++]));
                            }
                            break;
                        }
                    }
                    break;
                }
            } while (a < i && n < s);
            ((a -= v = u >> 3), (f &= (1 << (u -= v << 3)) - 1), (t.next_in = a), (t.next_out = n), (t.avail_in = a < i ? i - a + 5 : 5 - (a - i)), (t.avail_out = n < s ? s - n + 257 : 257 - (n - s)), (E.hold = f), (E.bits = u));
        },
        oe = 15,
        le = new Uint16Array([3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0]),
        he = new Uint8Array([16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18, 19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78]),
        de = new Uint16Array([1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577, 0, 0]),
        _e = new Uint8Array([16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 24, 25, 25, 26, 26, 27, 27, 28, 28, 29, 29, 64, 64]),
        fe = function (t, e, a, i, n, r, s, o) {
            var l,
                h,
                d,
                _,
                f,
                u,
                c,
                w,
                b,
                g = o.bits,
                p = 0,
                m = 0,
                v = 0,
                k = 0,
                y = 0,
                x = 0,
                z = 0,
                A = 0,
                E = 0,
                R = 0,
                Z = null,
                S = 0,
                U = new Uint16Array(16),
                D = new Uint16Array(16),
                T = null,
                O = 0;
            for (p = 0; p <= oe; p++) U[p] = 0;
            for (m = 0; m < i; m++) U[e[a + m]]++;
            for (y = g, k = oe; k >= 1 && 0 === U[k]; k--);
            if ((y > k && (y = k), 0 === k)) return ((n[r++] = 20971520), (n[r++] = 20971520), (o.bits = 1), 0);
            for (v = 1; v < k && 0 === U[v]; v++);
            for (y < v && (y = v), A = 1, p = 1; p <= oe; p++) if (((A <<= 1), (A -= U[p]) < 0)) return -1;
            if (A > 0 && (0 === t || 1 !== k)) return -1;
            for (D[1] = 0, p = 1; p < oe; p++) D[p + 1] = D[p] + U[p];
            for (m = 0; m < i; m++) 0 !== e[a + m] && (s[D[e[a + m]]++] = m);
            if ((0 === t ? ((Z = T = s), (u = 19)) : 1 === t ? ((Z = le), (S -= 257), (T = he), (O -= 257), (u = 256)) : ((Z = de), (T = _e), (u = -1)), (R = 0), (m = 0), (p = v), (f = r), (x = y), (z = 0), (d = -1), (_ = (E = 1 << y) - 1), (1 === t && E > 852) || (2 === t && E > 592))) return 1;
            for (;;) {
                ((c = p - z), s[m] < u ? ((w = 0), (b = s[m])) : s[m] > u ? ((w = T[O + s[m]]), (b = Z[S + s[m]])) : ((w = 96), (b = 0)), (l = 1 << (p - z)), (v = h = 1 << x));
                do {
                    n[f + (R >> z) + (h -= l)] = (c << 24) | (w << 16) | b | 0;
                } while (0 !== h);
                for (l = 1 << (p - 1); R & l; ) l >>= 1;
                if ((0 !== l ? ((R &= l - 1), (R += l)) : (R = 0), m++, 0 == --U[p])) {
                    if (p === k) break;
                    p = e[a + s[m]];
                }
                if (p > y && (R & _) !== d) {
                    for (0 === z && (z = y), f += v, A = 1 << (x = p - z); x + z < k && !((A -= U[x + z]) <= 0); ) (x++, (A <<= 1));
                    if (((E += 1 << x), (1 === t && E > 852) || (2 === t && E > 592))) return 1;
                    n[(d = R & _)] = (y << 24) | (x << 16) | (f - r) | 0;
                }
            }
            return (0 !== R && (n[f + R] = ((p - z) << 24) | (64 << 16) | 0), (o.bits = y), 0);
        },
        ue = j.Z_FINISH,
        ce = j.Z_BLOCK,
        we = j.Z_TREES,
        be = j.Z_OK,
        ge = j.Z_STREAM_END,
        pe = j.Z_NEED_DICT,
        me = j.Z_STREAM_ERROR,
        ve = j.Z_DATA_ERROR,
        ke = j.Z_MEM_ERROR,
        ye = j.Z_BUF_ERROR,
        xe = j.Z_DEFLATED,
        ze = 12,
        Ae = 30,
        Ee = function (t) {
            return ((t >>> 24) & 255) + ((t >>> 8) & 65280) + ((65280 & t) << 8) + ((255 & t) << 24);
        };
    function Re() {
        ((this.mode = 0), (this.last = !1), (this.wrap = 0), (this.havedict = !1), (this.flags = 0), (this.dmax = 0), (this.check = 0), (this.total = 0), (this.head = null), (this.wbits = 0), (this.wsize = 0), (this.whave = 0), (this.wnext = 0), (this.window = null), (this.hold = 0), (this.bits = 0), (this.length = 0), (this.offset = 0), (this.extra = 0), (this.lencode = null), (this.distcode = null), (this.lenbits = 0), (this.distbits = 0), (this.ncode = 0), (this.nlen = 0), (this.ndist = 0), (this.have = 0), (this.next = null), (this.lens = new Uint16Array(320)), (this.work = new Uint16Array(288)), (this.lendyn = null), (this.distdyn = null), (this.sane = 0), (this.back = 0), (this.was = 0));
    }
    var Ze,
        Se,
        Ue = function (t) {
            if (!t || !t.state) return me;
            var e = t.state;
            return ((t.total_in = t.total_out = e.total = 0), (t.msg = ''), e.wrap && (t.adler = 1 & e.wrap), (e.mode = 1), (e.last = 0), (e.havedict = 0), (e.dmax = 32768), (e.head = null), (e.hold = 0), (e.bits = 0), (e.lencode = e.lendyn = new Int32Array(852)), (e.distcode = e.distdyn = new Int32Array(592)), (e.sane = 1), (e.back = -1), be);
        },
        De = function (t) {
            if (!t || !t.state) return me;
            var e = t.state;
            return ((e.wsize = 0), (e.whave = 0), (e.wnext = 0), Ue(t));
        },
        Te = function (t, e) {
            var a;
            if (!t || !t.state) return me;
            var i = t.state;
            return (e < 0 ? ((a = 0), (e = -e)) : ((a = 1 + (e >> 4)), e < 48 && (e &= 15)), e && (e < 8 || e > 15) ? me : (null !== i.window && i.wbits !== e && (i.window = null), (i.wrap = a), (i.wbits = e), De(t)));
        },
        Oe = function (t, e) {
            if (!t) return me;
            var a = new Re();
            ((t.state = a), (a.window = null));
            var i = Te(t, e);
            return (i !== be && (t.state = null), i);
        },
        Ie = !0,
        Fe = function (t) {
            if (Ie) {
                ((Ze = new Int32Array(512)), (Se = new Int32Array(32)));
                for (var e = 0; e < 144; ) t.lens[e++] = 8;
                for (; e < 256; ) t.lens[e++] = 9;
                for (; e < 280; ) t.lens[e++] = 7;
                for (; e < 288; ) t.lens[e++] = 8;
                for (fe(1, t.lens, 0, 288, Ze, 0, t.work, { bits: 9 }), e = 0; e < 32; ) t.lens[e++] = 5;
                (fe(2, t.lens, 0, 32, Se, 0, t.work, { bits: 5 }), (Ie = !1));
            }
            ((t.lencode = Ze), (t.lenbits = 9), (t.distcode = Se), (t.distbits = 5));
        },
        Le = function (t, e, a, i) {
            var n,
                r = t.state;
            return (null === r.window && ((r.wsize = 1 << r.wbits), (r.wnext = 0), (r.whave = 0), (r.window = new Uint8Array(r.wsize))), i >= r.wsize ? (r.window.set(e.subarray(a - r.wsize, a), 0), (r.wnext = 0), (r.whave = r.wsize)) : ((n = r.wsize - r.wnext) > i && (n = i), r.window.set(e.subarray(a - i, a - i + n), r.wnext), (i -= n) ? (r.window.set(e.subarray(a - i, a), 0), (r.wnext = i), (r.whave = r.wsize)) : ((r.wnext += n), r.wnext === r.wsize && (r.wnext = 0), r.whave < r.wsize && (r.whave += n))), 0);
        },
        Ne = {
            inflateReset: De,
            inflateReset2: Te,
            inflateResetKeep: Ue,
            inflateInit: function (t) {
                return Oe(t, 15);
            },
            inflateInit2: Oe,
            inflate: function (t, e) {
                var a,
                    i,
                    n,
                    r,
                    s,
                    o,
                    l,
                    h,
                    d,
                    _,
                    f,
                    u,
                    c,
                    w,
                    b,
                    g,
                    p,
                    m,
                    v,
                    k,
                    y,
                    x,
                    z,
                    A,
                    E = 0,
                    R = new Uint8Array(4),
                    Z = new Uint8Array([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);
                if (!t || !t.state || !t.output || (!t.input && 0 !== t.avail_in)) return me;
                ((a = t.state).mode === ze && (a.mode = 13), (s = t.next_out), (n = t.output), (l = t.avail_out), (r = t.next_in), (i = t.input), (o = t.avail_in), (h = a.hold), (d = a.bits), (_ = o), (f = l), (x = be));
                t: for (;;)
                    switch (a.mode) {
                        case 1:
                            if (0 === a.wrap) {
                                a.mode = 13;
                                break;
                            }
                            for (; d < 16; ) {
                                if (0 === o) break t;
                                (o--, (h += i[r++] << d), (d += 8));
                            }
                            if (2 & a.wrap && 35615 === h) {
                                ((a.check = 0), (R[0] = 255 & h), (R[1] = (h >>> 8) & 255), (a.check = M(a.check, R, 2, 0)), (h = 0), (d = 0), (a.mode = 2));
                                break;
                            }
                            if (((a.flags = 0), a.head && (a.head.done = !1), !(1 & a.wrap) || (((255 & h) << 8) + (h >> 8)) % 31)) {
                                ((t.msg = 'incorrect header check'), (a.mode = Ae));
                                break;
                            }
                            if ((15 & h) !== xe) {
                                ((t.msg = 'unknown compression method'), (a.mode = Ae));
                                break;
                            }
                            if (((d -= 4), (y = 8 + (15 & (h >>>= 4))), 0 === a.wbits)) a.wbits = y;
                            else if (y > a.wbits) {
                                ((t.msg = 'invalid window size'), (a.mode = Ae));
                                break;
                            }
                            ((a.dmax = 1 << a.wbits), (t.adler = a.check = 1), (a.mode = 512 & h ? 10 : ze), (h = 0), (d = 0));
                            break;
                        case 2:
                            for (; d < 16; ) {
                                if (0 === o) break t;
                                (o--, (h += i[r++] << d), (d += 8));
                            }
                            if (((a.flags = h), (255 & a.flags) !== xe)) {
                                ((t.msg = 'unknown compression method'), (a.mode = Ae));
                                break;
                            }
                            if (57344 & a.flags) {
                                ((t.msg = 'unknown header flags set'), (a.mode = Ae));
                                break;
                            }
                            (a.head && (a.head.text = (h >> 8) & 1), 512 & a.flags && ((R[0] = 255 & h), (R[1] = (h >>> 8) & 255), (a.check = M(a.check, R, 2, 0))), (h = 0), (d = 0), (a.mode = 3));
                        case 3:
                            for (; d < 32; ) {
                                if (0 === o) break t;
                                (o--, (h += i[r++] << d), (d += 8));
                            }
                            (a.head && (a.head.time = h), 512 & a.flags && ((R[0] = 255 & h), (R[1] = (h >>> 8) & 255), (R[2] = (h >>> 16) & 255), (R[3] = (h >>> 24) & 255), (a.check = M(a.check, R, 4, 0))), (h = 0), (d = 0), (a.mode = 4));
                        case 4:
                            for (; d < 16; ) {
                                if (0 === o) break t;
                                (o--, (h += i[r++] << d), (d += 8));
                            }
                            (a.head && ((a.head.xflags = 255 & h), (a.head.os = h >> 8)), 512 & a.flags && ((R[0] = 255 & h), (R[1] = (h >>> 8) & 255), (a.check = M(a.check, R, 2, 0))), (h = 0), (d = 0), (a.mode = 5));
                        case 5:
                            if (1024 & a.flags) {
                                for (; d < 16; ) {
                                    if (0 === o) break t;
                                    (o--, (h += i[r++] << d), (d += 8));
                                }
                                ((a.length = h), a.head && (a.head.extra_len = h), 512 & a.flags && ((R[0] = 255 & h), (R[1] = (h >>> 8) & 255), (a.check = M(a.check, R, 2, 0))), (h = 0), (d = 0));
                            } else a.head && (a.head.extra = null);
                            a.mode = 6;
                        case 6:
                            if (1024 & a.flags && ((u = a.length) > o && (u = o), u && (a.head && ((y = a.head.extra_len - a.length), a.head.extra || (a.head.extra = new Uint8Array(a.head.extra_len)), a.head.extra.set(i.subarray(r, r + u), y)), 512 & a.flags && (a.check = M(a.check, i, u, r)), (o -= u), (r += u), (a.length -= u)), a.length)) break t;
                            ((a.length = 0), (a.mode = 7));
                        case 7:
                            if (2048 & a.flags) {
                                if (0 === o) break t;
                                u = 0;
                                do {
                                    ((y = i[r + u++]), a.head && y && a.length < 65536 && (a.head.name += String.fromCharCode(y)));
                                } while (y && u < o);
                                if ((512 & a.flags && (a.check = M(a.check, i, u, r)), (o -= u), (r += u), y)) break t;
                            } else a.head && (a.head.name = null);
                            ((a.length = 0), (a.mode = 8));
                        case 8:
                            if (4096 & a.flags) {
                                if (0 === o) break t;
                                u = 0;
                                do {
                                    ((y = i[r + u++]), a.head && y && a.length < 65536 && (a.head.comment += String.fromCharCode(y)));
                                } while (y && u < o);
                                if ((512 & a.flags && (a.check = M(a.check, i, u, r)), (o -= u), (r += u), y)) break t;
                            } else a.head && (a.head.comment = null);
                            a.mode = 9;
                        case 9:
                            if (512 & a.flags) {
                                for (; d < 16; ) {
                                    if (0 === o) break t;
                                    (o--, (h += i[r++] << d), (d += 8));
                                }
                                if (h !== (65535 & a.check)) {
                                    ((t.msg = 'header crc mismatch'), (a.mode = Ae));
                                    break;
                                }
                                ((h = 0), (d = 0));
                            }
                            (a.head && ((a.head.hcrc = (a.flags >> 9) & 1), (a.head.done = !0)), (t.adler = a.check = 0), (a.mode = ze));
                            break;
                        case 10:
                            for (; d < 32; ) {
                                if (0 === o) break t;
                                (o--, (h += i[r++] << d), (d += 8));
                            }
                            ((t.adler = a.check = Ee(h)), (h = 0), (d = 0), (a.mode = 11));
                        case 11:
                            if (0 === a.havedict) return ((t.next_out = s), (t.avail_out = l), (t.next_in = r), (t.avail_in = o), (a.hold = h), (a.bits = d), pe);
                            ((t.adler = a.check = 1), (a.mode = ze));
                        case ze:
                            if (e === ce || e === we) break t;
                        case 13:
                            if (a.last) {
                                ((h >>>= 7 & d), (d -= 7 & d), (a.mode = 27));
                                break;
                            }
                            for (; d < 3; ) {
                                if (0 === o) break t;
                                (o--, (h += i[r++] << d), (d += 8));
                            }
                            switch (((a.last = 1 & h), (d -= 1), 3 & (h >>>= 1))) {
                                case 0:
                                    a.mode = 14;
                                    break;
                                case 1:
                                    if ((Fe(a), (a.mode = 20), e === we)) {
                                        ((h >>>= 2), (d -= 2));
                                        break t;
                                    }
                                    break;
                                case 2:
                                    a.mode = 17;
                                    break;
                                case 3:
                                    ((t.msg = 'invalid block type'), (a.mode = Ae));
                            }
                            ((h >>>= 2), (d -= 2));
                            break;
                        case 14:
                            for (h >>>= 7 & d, d -= 7 & d; d < 32; ) {
                                if (0 === o) break t;
                                (o--, (h += i[r++] << d), (d += 8));
                            }
                            if ((65535 & h) != ((h >>> 16) ^ 65535)) {
                                ((t.msg = 'invalid stored block lengths'), (a.mode = Ae));
                                break;
                            }
                            if (((a.length = 65535 & h), (h = 0), (d = 0), (a.mode = 15), e === we)) break t;
                        case 15:
                            a.mode = 16;
                        case 16:
                            if ((u = a.length)) {
                                if ((u > o && (u = o), u > l && (u = l), 0 === u)) break t;
                                (n.set(i.subarray(r, r + u), s), (o -= u), (r += u), (l -= u), (s += u), (a.length -= u));
                                break;
                            }
                            a.mode = ze;
                            break;
                        case 17:
                            for (; d < 14; ) {
                                if (0 === o) break t;
                                (o--, (h += i[r++] << d), (d += 8));
                            }
                            if (((a.nlen = 257 + (31 & h)), (h >>>= 5), (d -= 5), (a.ndist = 1 + (31 & h)), (h >>>= 5), (d -= 5), (a.ncode = 4 + (15 & h)), (h >>>= 4), (d -= 4), a.nlen > 286 || a.ndist > 30)) {
                                ((t.msg = 'too many length or distance symbols'), (a.mode = Ae));
                                break;
                            }
                            ((a.have = 0), (a.mode = 18));
                        case 18:
                            for (; a.have < a.ncode; ) {
                                for (; d < 3; ) {
                                    if (0 === o) break t;
                                    (o--, (h += i[r++] << d), (d += 8));
                                }
                                ((a.lens[Z[a.have++]] = 7 & h), (h >>>= 3), (d -= 3));
                            }
                            for (; a.have < 19; ) a.lens[Z[a.have++]] = 0;
                            if (((a.lencode = a.lendyn), (a.lenbits = 7), (z = { bits: a.lenbits }), (x = fe(0, a.lens, 0, 19, a.lencode, 0, a.work, z)), (a.lenbits = z.bits), x)) {
                                ((t.msg = 'invalid code lengths set'), (a.mode = Ae));
                                break;
                            }
                            ((a.have = 0), (a.mode = 19));
                        case 19:
                            for (; a.have < a.nlen + a.ndist; ) {
                                for (; (g = ((E = a.lencode[h & ((1 << a.lenbits) - 1)]) >>> 16) & 255), (p = 65535 & E), !((b = E >>> 24) <= d); ) {
                                    if (0 === o) break t;
                                    (o--, (h += i[r++] << d), (d += 8));
                                }
                                if (p < 16) ((h >>>= b), (d -= b), (a.lens[a.have++] = p));
                                else {
                                    if (16 === p) {
                                        for (A = b + 2; d < A; ) {
                                            if (0 === o) break t;
                                            (o--, (h += i[r++] << d), (d += 8));
                                        }
                                        if (((h >>>= b), (d -= b), 0 === a.have)) {
                                            ((t.msg = 'invalid bit length repeat'), (a.mode = Ae));
                                            break;
                                        }
                                        ((y = a.lens[a.have - 1]), (u = 3 + (3 & h)), (h >>>= 2), (d -= 2));
                                    } else if (17 === p) {
                                        for (A = b + 3; d < A; ) {
                                            if (0 === o) break t;
                                            (o--, (h += i[r++] << d), (d += 8));
                                        }
                                        ((d -= b), (y = 0), (u = 3 + (7 & (h >>>= b))), (h >>>= 3), (d -= 3));
                                    } else {
                                        for (A = b + 7; d < A; ) {
                                            if (0 === o) break t;
                                            (o--, (h += i[r++] << d), (d += 8));
                                        }
                                        ((d -= b), (y = 0), (u = 11 + (127 & (h >>>= b))), (h >>>= 7), (d -= 7));
                                    }
                                    if (a.have + u > a.nlen + a.ndist) {
                                        ((t.msg = 'invalid bit length repeat'), (a.mode = Ae));
                                        break;
                                    }
                                    for (; u--; ) a.lens[a.have++] = y;
                                }
                            }
                            if (a.mode === Ae) break;
                            if (0 === a.lens[256]) {
                                ((t.msg = 'invalid code -- missing end-of-block'), (a.mode = Ae));
                                break;
                            }
                            if (((a.lenbits = 9), (z = { bits: a.lenbits }), (x = fe(1, a.lens, 0, a.nlen, a.lencode, 0, a.work, z)), (a.lenbits = z.bits), x)) {
                                ((t.msg = 'invalid literal/lengths set'), (a.mode = Ae));
                                break;
                            }
                            if (((a.distbits = 6), (a.distcode = a.distdyn), (z = { bits: a.distbits }), (x = fe(2, a.lens, a.nlen, a.ndist, a.distcode, 0, a.work, z)), (a.distbits = z.bits), x)) {
                                ((t.msg = 'invalid distances set'), (a.mode = Ae));
                                break;
                            }
                            if (((a.mode = 20), e === we)) break t;
                        case 20:
                            a.mode = 21;
                        case 21:
                            if (o >= 6 && l >= 258) {
                                ((t.next_out = s), (t.avail_out = l), (t.next_in = r), (t.avail_in = o), (a.hold = h), (a.bits = d), se(t, f), (s = t.next_out), (n = t.output), (l = t.avail_out), (r = t.next_in), (i = t.input), (o = t.avail_in), (h = a.hold), (d = a.bits), a.mode === ze && (a.back = -1));
                                break;
                            }
                            for (a.back = 0; (g = ((E = a.lencode[h & ((1 << a.lenbits) - 1)]) >>> 16) & 255), (p = 65535 & E), !((b = E >>> 24) <= d); ) {
                                if (0 === o) break t;
                                (o--, (h += i[r++] << d), (d += 8));
                            }
                            if (g && 0 == (240 & g)) {
                                for (m = b, v = g, k = p; (g = ((E = a.lencode[k + ((h & ((1 << (m + v)) - 1)) >> m)]) >>> 16) & 255), (p = 65535 & E), !(m + (b = E >>> 24) <= d); ) {
                                    if (0 === o) break t;
                                    (o--, (h += i[r++] << d), (d += 8));
                                }
                                ((h >>>= m), (d -= m), (a.back += m));
                            }
                            if (((h >>>= b), (d -= b), (a.back += b), (a.length = p), 0 === g)) {
                                a.mode = 26;
                                break;
                            }
                            if (32 & g) {
                                ((a.back = -1), (a.mode = ze));
                                break;
                            }
                            if (64 & g) {
                                ((t.msg = 'invalid literal/length code'), (a.mode = Ae));
                                break;
                            }
                            ((a.extra = 15 & g), (a.mode = 22));
                        case 22:
                            if (a.extra) {
                                for (A = a.extra; d < A; ) {
                                    if (0 === o) break t;
                                    (o--, (h += i[r++] << d), (d += 8));
                                }
                                ((a.length += h & ((1 << a.extra) - 1)), (h >>>= a.extra), (d -= a.extra), (a.back += a.extra));
                            }
                            ((a.was = a.length), (a.mode = 23));
                        case 23:
                            for (; (g = ((E = a.distcode[h & ((1 << a.distbits) - 1)]) >>> 16) & 255), (p = 65535 & E), !((b = E >>> 24) <= d); ) {
                                if (0 === o) break t;
                                (o--, (h += i[r++] << d), (d += 8));
                            }
                            if (0 == (240 & g)) {
                                for (m = b, v = g, k = p; (g = ((E = a.distcode[k + ((h & ((1 << (m + v)) - 1)) >> m)]) >>> 16) & 255), (p = 65535 & E), !(m + (b = E >>> 24) <= d); ) {
                                    if (0 === o) break t;
                                    (o--, (h += i[r++] << d), (d += 8));
                                }
                                ((h >>>= m), (d -= m), (a.back += m));
                            }
                            if (((h >>>= b), (d -= b), (a.back += b), 64 & g)) {
                                ((t.msg = 'invalid distance code'), (a.mode = Ae));
                                break;
                            }
                            ((a.offset = p), (a.extra = 15 & g), (a.mode = 24));
                        case 24:
                            if (a.extra) {
                                for (A = a.extra; d < A; ) {
                                    if (0 === o) break t;
                                    (o--, (h += i[r++] << d), (d += 8));
                                }
                                ((a.offset += h & ((1 << a.extra) - 1)), (h >>>= a.extra), (d -= a.extra), (a.back += a.extra));
                            }
                            if (a.offset > a.dmax) {
                                ((t.msg = 'invalid distance too far back'), (a.mode = Ae));
                                break;
                            }
                            a.mode = 25;
                        case 25:
                            if (0 === l) break t;
                            if (((u = f - l), a.offset > u)) {
                                if ((u = a.offset - u) > a.whave && a.sane) {
                                    ((t.msg = 'invalid distance too far back'), (a.mode = Ae));
                                    break;
                                }
                                (u > a.wnext ? ((u -= a.wnext), (c = a.wsize - u)) : (c = a.wnext - u), u > a.length && (u = a.length), (w = a.window));
                            } else ((w = n), (c = s - a.offset), (u = a.length));
                            (u > l && (u = l), (l -= u), (a.length -= u));
                            do {
                                n[s++] = w[c++];
                            } while (--u);
                            0 === a.length && (a.mode = 21);
                            break;
                        case 26:
                            if (0 === l) break t;
                            ((n[s++] = a.length), l--, (a.mode = 21));
                            break;
                        case 27:
                            if (a.wrap) {
                                for (; d < 32; ) {
                                    if (0 === o) break t;
                                    (o--, (h |= i[r++] << d), (d += 8));
                                }
                                if (((f -= l), (t.total_out += f), (a.total += f), f && (t.adler = a.check = a.flags ? M(a.check, n, f, s - f) : B(a.check, n, f, s - f)), (f = l), (a.flags ? h : Ee(h)) !== a.check)) {
                                    ((t.msg = 'incorrect data check'), (a.mode = Ae));
                                    break;
                                }
                                ((h = 0), (d = 0));
                            }
                            a.mode = 28;
                        case 28:
                            if (a.wrap && a.flags) {
                                for (; d < 32; ) {
                                    if (0 === o) break t;
                                    (o--, (h += i[r++] << d), (d += 8));
                                }
                                if (h !== (4294967295 & a.total)) {
                                    ((t.msg = 'incorrect length check'), (a.mode = Ae));
                                    break;
                                }
                                ((h = 0), (d = 0));
                            }
                            a.mode = 29;
                        case 29:
                            x = ge;
                            break t;
                        case Ae:
                            x = ve;
                            break t;
                        case 31:
                            return ke;
                        case 32:
                        default:
                            return me;
                    }
                return ((t.next_out = s), (t.avail_out = l), (t.next_in = r), (t.avail_in = o), (a.hold = h), (a.bits = d), (a.wsize || (f !== t.avail_out && a.mode < Ae && (a.mode < 27 || e !== ue))) && Le(t, t.output, t.next_out, f - t.avail_out), (_ -= t.avail_in), (f -= t.avail_out), (t.total_in += _), (t.total_out += f), (a.total += f), a.wrap && f && (t.adler = a.check = a.flags ? M(a.check, n, f, t.next_out - f) : B(a.check, n, f, t.next_out - f)), (t.data_type = a.bits + (a.last ? 64 : 0) + (a.mode === ze ? 128 : 0) + (20 === a.mode || 15 === a.mode ? 256 : 0)), ((0 === _ && 0 === f) || e === ue) && x === be && (x = ye), x);
            },
            inflateEnd: function (t) {
                if (!t || !t.state) return me;
                var e = t.state;
                return (e.window && (e.window = null), (t.state = null), be);
            },
            inflateGetHeader: function (t, e) {
                if (!t || !t.state) return me;
                var a = t.state;
                return 0 == (2 & a.wrap) ? me : ((a.head = e), (e.done = !1), be);
            },
            inflateSetDictionary: function (t, e) {
                var a,
                    i = e.length;
                return t && t.state ? (0 !== (a = t.state).wrap && 11 !== a.mode ? me : 11 === a.mode && B(1, e, i, 0) !== a.check ? ve : Le(t, e, i, i) ? ((a.mode = 31), ke) : ((a.havedict = 1), be)) : me;
            },
            inflateInfo: 'pako inflate (from Nodeca project)',
        };
    var Be = function () {
            ((this.text = 0), (this.time = 0), (this.xflags = 0), (this.os = 0), (this.extra = null), (this.extra_len = 0), (this.name = ''), (this.comment = ''), (this.hcrc = 0), (this.done = !1));
        },
        Ce = Object.prototype.toString,
        Me = j.Z_NO_FLUSH,
        He = j.Z_FINISH,
        je = j.Z_OK,
        Ke = j.Z_STREAM_END,
        Pe = j.Z_NEED_DICT,
        Ye = j.Z_STREAM_ERROR,
        Ge = j.Z_DATA_ERROR,
        Xe = j.Z_MEM_ERROR;
    function We(t) {
        this.options = Bt({ chunkSize: 65536, windowBits: 15, to: '' }, t || {});
        var e = this.options;
        (e.raw && e.windowBits >= 0 && e.windowBits < 16 && ((e.windowBits = -e.windowBits), 0 === e.windowBits && (e.windowBits = -15)), !(e.windowBits >= 0 && e.windowBits < 16) || (t && t.windowBits) || (e.windowBits += 32), e.windowBits > 15 && e.windowBits < 48 && 0 == (15 & e.windowBits) && (e.windowBits |= 15), (this.err = 0), (this.msg = ''), (this.ended = !1), (this.chunks = []), (this.strm = new Gt()), (this.strm.avail_out = 0));
        var a = Ne.inflateInit2(this.strm, e.windowBits);
        if (a !== je) throw new Error(H[a]);
        if (((this.header = new Be()), Ne.inflateGetHeader(this.strm, this.header), e.dictionary && ('string' == typeof e.dictionary ? (e.dictionary = Kt(e.dictionary)) : '[object ArrayBuffer]' === Ce.call(e.dictionary) && (e.dictionary = new Uint8Array(e.dictionary)), e.raw && (a = Ne.inflateSetDictionary(this.strm, e.dictionary)) !== je))) throw new Error(H[a]);
    }
    function qe(t, e) {
        var a = new We(e);
        if ((a.push(t), a.err)) throw a.msg || H[a.err];
        return a.result;
    }
    ((We.prototype.push = function (t, e) {
        var a,
            i,
            n,
            r = this.strm,
            s = this.options.chunkSize,
            o = this.options.dictionary;
        if (this.ended) return !1;
        for (i = e === ~~e ? e : !0 === e ? He : Me, '[object ArrayBuffer]' === Ce.call(t) ? (r.input = new Uint8Array(t)) : (r.input = t), r.next_in = 0, r.avail_in = r.input.length; ; ) {
            for (0 === r.avail_out && ((r.output = new Uint8Array(s)), (r.next_out = 0), (r.avail_out = s)), (a = Ne.inflate(r, i)) === Pe && o && ((a = Ne.inflateSetDictionary(r, o)) === je ? (a = Ne.inflate(r, i)) : a === Ge && (a = Pe)); r.avail_in > 0 && a === Ke && r.state.wrap > 0 && 0 !== t[r.next_in]; ) (Ne.inflateReset(r), (a = Ne.inflate(r, i)));
            switch (a) {
                case Ye:
                case Ge:
                case Pe:
                case Xe:
                    return (this.onEnd(a), (this.ended = !0), !1);
            }
            if (((n = r.avail_out), r.next_out && (0 === r.avail_out || a === Ke)))
                if ('string' === this.options.to) {
                    var l = Yt(r.output, r.next_out),
                        h = r.next_out - l,
                        d = Pt(r.output, l);
                    ((r.next_out = h), (r.avail_out = s - h), h && r.output.set(r.output.subarray(l, l + h), 0), this.onData(d));
                } else this.onData(r.output.length === r.next_out ? r.output : r.output.subarray(0, r.next_out));
            if (a !== je || 0 !== n) {
                if (a === Ke) return ((a = Ne.inflateEnd(this.strm)), this.onEnd(a), (this.ended = !0), !0);
                if (0 === r.avail_in) break;
            }
        }
        return !0;
    }),
        (We.prototype.onData = function (t) {
            this.chunks.push(t);
        }),
        (We.prototype.onEnd = function (t) {
            (t === je && ('string' === this.options.to ? (this.result = this.chunks.join('')) : (this.result = Ct(this.chunks))), (this.chunks = []), (this.err = t), (this.msg = this.strm.msg));
        }));
    var Je = {
            Inflate: We,
            inflate: qe,
            inflateRaw: function (t, e) {
                return (((e = e || {}).raw = !0), qe(t, e));
            },
            ungzip: qe,
            constants: j,
        },
        Qe = re.Deflate,
        Ve = re.deflate,
        $e = re.deflateRaw,
        ta = re.gzip,
        ea = Je.Inflate,
        aa = Je.inflate,
        ia = Je.inflateRaw,
        na = Je.ungzip,
        ra = j,
        sa = { Deflate: Qe, deflate: Ve, deflateRaw: $e, gzip: ta, Inflate: ea, inflate: aa, inflateRaw: ia, ungzip: na, constants: ra };
    ((t.Deflate = Qe), (t.Inflate = ea), (t.constants = ra), (t.default = sa), (t.deflate = Ve), (t.deflateRaw = $e), (t.gzip = ta), (t.inflate = aa), (t.inflateRaw = ia), (t.ungzip = na), Object.defineProperty(t, '__esModule', { value: !0 }));
});
('use strict');
!(function () {
    var e = (function () {
        function e(e) {
            var t = this;
            ((this.app = e),
                (this.eventHandler = function (e) {
                    return t.onMouseWheel(e);
                }),
                this.app.view.addEventListener('mousewheel', this.eventHandler, { passive: !1 }),
                this.app.view.addEventListener('DOMMouseScroll', this.eventHandler, { passive: !1 }));
        }
        var t = e.prototype;
        return (
            (t.onMouseWheel = function (e) {
                var t = this.findScrollTarget({ x: e.offsetX, y: e.offsetY });
                t && (e.preventDefault(), t.emit('mousewheel', this.deriveNormalizedWheelDelta(e), e));
            }),
            (t.findScrollTarget = function (e) {
                return Stage && Stage.stage ? Stage.stage : null;
            }),
            (t.deriveNormalizedWheelDelta = function (e) {
                return e.detail ? (e.wheelDelta ? (e.wheelDelta / e.detail / 40) * (e.detail > 0 ? 1 : -1) : -e.detail / 3) : e.wheelDelta / 120;
            }),
            (t.destroy = function () {
                (this.app.view.removeEventListener('mousewheel', this.eventHandler), this.app.view.removeEventListener('DOMMouseScroll', this.eventHandler));
            }),
            e
        );
    })();
    (Object.defineProperty(PIXI.DisplayObject.prototype, 'interactiveMousewheel', {
        get: function () {
            return this._interactiveMousewheel;
        },
        set: function (e) {
            ((this._interactiveMousewheel = e), e && !this.interactive && (this.interactive = !0));
        },
    }),
        PIXI.Application.registerPlugin({
            init: function (t) {
                this._mousewheelPlugin = new e(this);
            },
            destroy: function () {
                this._mousewheelPlugin.destroy();
            },
        }));
})();
var __extends =
        (this && this.__extends) ||
        (function () {
            var o =
                Object.setPrototypeOf ||
                ({ __proto__: [] } instanceof Array &&
                    function (t, e) {
                        t.__proto__ = e;
                    }) ||
                function (t, e) {
                    for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);
                };
            return function (t, e) {
                function n() {
                    this.constructor = t;
                }
                (o(t, e), (t.prototype = null === e ? Object.create(e) : ((n.prototype = e.prototype), new n())));
            };
        })(),
    INTERACTION_EVENTS = ['pointerover', 'pointerenter', 'pointerdown', 'pointermove', 'pointerup', 'pointercancel', 'pointerout', 'pointerleave', 'gotpointercapture', 'lostpointercapture', 'mouseover', 'mouseenter', 'mousedown', 'mousemove', 'mouseup', 'mousecancel', 'mouseout', 'mouseleave', 'touchover', 'touchenter', 'touchdown', 'touchmove', 'touchup', 'touchcancel', 'touchout', 'touchleave'],
    MultiStyleText = (function (i) {
        function E(t, e, n) {
            var o = i.call(this, t) || this;
            return (
                (o.styles = e),
                1 == n &&
                    INTERACTION_EVENTS.forEach(function (t) {
                        o.on(t, function (t) {
                            return o.handleInteraction(t);
                        });
                    }),
                o
            );
        }
        return (
            __extends(E, i),
            (E.prototype.handleInteraction = function (t) {
                var e = t,
                    n = t.data.getLocalPosition(this),
                    t = this.hitboxes.reduce(
                        function (t, e) {
                            return void 0 !== t ? t : e.hitbox.contains(n.x, n.y) ? e : void 0;
                        },
                        void 0
                    );
                e.targetTag = void 0 === t ? void 0 : t.tag;
            }),
            Object.defineProperty(E.prototype, 'styles', {
                set: function (t) {
                    for (var e in ((this.textStyles = {}), (this.textStyles.default = this.assign({}, E.DEFAULT_TAG_STYLE)), t)) 'default' === e ? this.assign(this.textStyles.default, t[e]) : (this.textStyles[e] = this.assign({}, t[e]));
                    ((this._style = new PIXI.TextStyle(this.textStyles.default)), (this.dirty = !0));
                },
                enumerable: !0,
                configurable: !0,
            }),
            (E.prototype.setTagStyle = function (t, e) {
                (t in this.textStyles ? this.assign(this.textStyles[t], e) : (this.textStyles[t] = this.assign({}, e)), (this._style = new PIXI.TextStyle(this.textStyles.default)), (this.dirty = !0));
            }),
            (E.prototype.deleteTagStyle = function (t) {
                ('default' === t ? (this.textStyles.default = this.assign({}, E.DEFAULT_TAG_STYLE)) : delete this.textStyles[t], (this._style = new PIXI.TextStyle(this.textStyles.default)), (this.dirty = !0));
            }),
            (E.prototype.getTagRegex = function (t, e) {
                var n = Object.keys(this.textStyles).join('|'),
                    n = '<' + (n = t ? '(' + n + ')' : '(?:' + n + ')') + '(?:\\s+[A-Za-z0-9_\\-]+=(?:"(?:[^"]+|\\\\")*"|\'(?:[^\']+|\\\\\')*\'))*\\s*>|</' + n + '\\s*>';
                return (e && (n = '(' + n + ')'), new RegExp(n, 'g'));
            }),
            (E.prototype.getPropertyRegex = function () {
                return new RegExp('([A-Za-z0-9_\\-]+)=(?:"((?:[^"]+|\\\\")*)"|\'((?:[^\']+|\\\\\')*)\')', 'g');
            }),
            (E.prototype._getTextDataPerLine = function (t) {
                for (var e = [], n = this.getTagRegex(!0, !1), o = [this.assign({}, this.textStyles.default)], i = [{ name: 'default', properties: {} }], s = 0; s < t.length; s++) {
                    for (var r, a = [], h = []; (r = n.exec(t[s])); ) h.push(r);
                    if (0 === h.length) a.push(this.createTextData(t[s], o[o.length - 1], i[i.length - 1]));
                    else {
                        for (var l = 0, c = 0; c < h.length; c++) {
                            if ((h[c].index > l && a.push(this.createTextData(t[s].substring(l, h[c].index), o[o.length - 1], i[i.length - 1])), '/' === h[c][0][1])) 1 < o.length && (o.pop(), i.pop());
                            else {
                                o.push(this.assign({}, o[o.length - 1], this.textStyles[h[c][1]]));
                                for (var x, d = {}, u = this.getPropertyRegex(); (x = u.exec(h[c][0])); ) d[x[1]] = x[2] || x[3];
                                i.push({ name: h[c][1], properties: d });
                            }
                            l = h[c].index + h[c][0].length;
                        }
                        l < t[s].length && a.push(this.createTextData(t[s].substring(l), o[o.length - 1], i[i.length - 1]));
                    }
                    e.push(a);
                }
                return e;
            }),
            (E.prototype.getFontString = function (t) {
                return new PIXI.TextStyle(t).toFontString();
            }),
            (E.prototype.createTextData = function (t, e, n) {
                return { text: t, style: e, width: 0, height: 0, fontProperties: void 0, tag: n };
            }),
            (E.prototype.getDropShadowPadding = function () {
                var n = this,
                    o = 0,
                    i = 0;
                return (
                    Object.keys(this.textStyles).forEach(function (t) {
                        var e = n.textStyles[t],
                            t = e.dropShadowDistance,
                            e = e.dropShadowBlur;
                        ((o = Math.max(o, t || 0)), (i = Math.max(i, e || 0)));
                    }),
                    o + i
                );
            }),
            (E.prototype.updateText = function () {
                var d = this;
                if (this.dirty) {
                    ((this.hitboxes = []), (this.texture.baseTexture.resolution = this.resolution));
                    var e = this.textStyles,
                        t = this.text;
                    this._style.wordWrap && (t = this.wordWrap(this.text));
                    for (var n = t.split(/(?:\r\n|\r|\n)/), o = this._getTextDataPerLine(n), i = [], s = [], r = [], a = 0, h = 0; h < n.length; h++) {
                        var l = 0,
                            c = 0,
                            x = 0;
                        var t = 0;
                        for (var u = 0; u < o[h].length; u++) {
                            var g = o[h][u].style;
                            ((this.context.font = this.getFontString(g)), (o[h][u].width = this.context.measureText(o[h][u].text).width), 0 === o[h][u].text.length && ((o[h][u].width += (o[h][u].text.length - 1) * g.letterSpacing), 0 < u && (l += g.letterSpacing / 2), u < o[h].length - 1 && (l += g.letterSpacing / 2)), (l += o[h][u].width), (o[h][u].fontProperties = PIXI.TextMetrics.measureFont(this.context.font)), (o[h][u].height = o[h][u].fontProperties.fontSize + o[h][u].style.strokeThickness), (x = 'number' == typeof g.valign ? ((c = Math.min(c, g.valign - o[h][u].fontProperties.descent)), Math.max(x, g.valign + o[h][u].fontProperties.ascent)) : ((c = Math.min(c, -o[h][u].fontProperties.descent)), Math.max(x, o[h][u].fontProperties.ascent))), g.leading && (t = g.leading));
                        }
                        ((i[h] = l), (s[h] = c), (r[h] = x + t), (a = Math.max(a, l)));
                    }
                    var p = Object.keys(e)
                            .map(function (t) {
                                return e[t];
                            })
                            .reduce(function (t, e) {
                                return Math.max(t, e.strokeThickness || 0);
                            }, 0),
                        f = this.getDropShadowPadding(),
                        y = a + p + 2 * f,
                        t =
                            r.reduce(function (t, e) {
                                return t + e;
                            }, 0) -
                            s.reduce(function (t, e) {
                                return t + e;
                            }, 0) +
                            2 * (f + this._style.padding);
                    ((this.canvas.width = (y + this.context.lineWidth) * this.resolution), (this.canvas.height = t * this.resolution), this.context.scale(this.resolution, this.resolution), (this.context.textBaseline = 'alphabetic'), (this.context.lineJoin = 'round'));
                    for (var b = f, S = [], h = 0; h < o.length; h++) {
                        var T = o[h],
                            v = void 0;
                        switch (this._style.align) {
                            case 'left':
                                v = f;
                                break;
                            case 'center':
                                v = f + (a - i[h]) / 2;
                                break;
                            case 'right':
                                v = f + a - i[h];
                        }
                        for (u = 0; u < T.length; u++) {
                            var w = T[u],
                                m = w.style,
                                _ = w.text,
                                k = w.fontProperties,
                                P = w.width,
                                I = (w.height, w.tag);
                            v += p / 2;
                            var O = p / 2 + b + k.ascent;
                            switch (m.valign) {
                                case 'top':
                                    break;
                                case 'baseline':
                                    O += r[h] - k.ascent;
                                    break;
                                case 'middle':
                                    O += (r[h] - s[h] - k.ascent - k.descent) / 2;
                                    break;
                                case 'bottom':
                                    O += r[h] - s[h] - k.ascent - k.descent;
                                    break;
                                default:
                                    O += r[h] - k.ascent - m.valign;
                            }
                            if (0 === m.letterSpacing) (S.push({ text: _, style: m, x: v, y: O, width: P, ascent: k.ascent, descent: k.descent, tag: I }), (v += T[u].width));
                            else {
                                this.context.font = this.getFontString(T[u].style);
                                for (var A = 0; A < _.length; A++) ((0 < A || 0 < u) && (v += m.letterSpacing / 2), S.push({ text: _.charAt(A), style: m, x: v, y: O, width: P, ascent: k.ascent, descent: k.descent, tag: I }), (v += this.context.measureText(_.charAt(A)).width), (A < _.length - 1 || u < T.length - 1) && (v += m.letterSpacing / 2));
                            }
                            v -= p / 2;
                        }
                        b += r[h] - s[h];
                    }
                    (this.context.save(),
                        S.forEach(function (t) {
                            var e = t.style,
                                n = t.text,
                                o = t.x,
                                i = t.y;
                            e.dropShadow && ((d.context.font = d.getFontString(e)), 'number' == typeof (t = e.dropShadowColor) && (t = PIXI.utils.hex2string(t)), (d.context.shadowColor = t), (d.context.shadowBlur = e.dropShadowBlur), (d.context.shadowOffsetX = Math.cos(e.dropShadowAngle) * e.dropShadowDistance * d.resolution), (d.context.shadowOffsetY = Math.sin(e.dropShadowAngle) * e.dropShadowDistance * d.resolution), d.context.fillText(n, o, i));
                        }),
                        this.context.restore(),
                        S.forEach(function (t) {
                            var e = t.style,
                                n = t.text,
                                o = t.x,
                                i = t.y,
                                s = t.width,
                                r = t.ascent,
                                a = t.descent,
                                h = t.tag;
                            d.context.font = d.getFontString(e);
                            t = e.stroke;
                            ('number' == typeof t && (t = PIXI.utils.hex2string(t)), (d.context.strokeStyle = t), (d.context.lineWidth = e.strokeThickness));
                            var l = e.fill;
                            if ('number' == typeof l) l = PIXI.utils.hex2string(l);
                            else if (Array.isArray(l))
                                for (var c = 0; c < l.length; c++) {
                                    var x = l[c];
                                    'number' == typeof x && (l[c] = PIXI.utils.hex2string(x));
                                }
                            ((d.context.fillStyle = d._generateFillStyle(new PIXI.TextStyle(e), [n])), e.stroke && e.strokeThickness && d.context.strokeText(n, o, i), e.fill && d.context.fillText(n, o, i));
                            n = -d._style.padding - d.getDropShadowPadding();
                            (d.hitboxes.push({ tag: h, hitbox: new PIXI.Rectangle(o + n, i - r + n, s, r + a) }),
                                (void 0 === e.debug ? E.debugOptions.spans.enabled : e.debug) &&
                                    ((d.context.lineWidth = 1),
                                    E.debugOptions.spans.bounding && ((d.context.fillStyle = E.debugOptions.spans.bounding), (d.context.strokeStyle = E.debugOptions.spans.bounding), d.context.beginPath(), d.context.rect(o, i - r, s, r + a), d.context.fill(), d.context.stroke(), d.context.stroke()),
                                    E.debugOptions.spans.baseline && ((d.context.strokeStyle = E.debugOptions.spans.baseline), d.context.beginPath(), d.context.moveTo(o, i), d.context.lineTo(o + s, i), d.context.closePath(), d.context.stroke()),
                                    E.debugOptions.spans.top && ((d.context.strokeStyle = E.debugOptions.spans.top), d.context.beginPath(), d.context.moveTo(o, i - r), d.context.lineTo(o + s, i - r), d.context.closePath(), d.context.stroke()),
                                    E.debugOptions.spans.bottom && ((d.context.strokeStyle = E.debugOptions.spans.bottom), d.context.beginPath(), d.context.moveTo(o, i + a), d.context.lineTo(o + s, i + a), d.context.closePath(), d.context.stroke()),
                                    E.debugOptions.spans.text && ((d.context.fillStyle = '#ffffff'), (d.context.strokeStyle = '#000000'), (d.context.lineWidth = 2), (d.context.font = '8px monospace'), d.context.strokeText(h.name, o, i - r + 8), d.context.fillText(h.name, o, i - r + 8), d.context.strokeText(s.toFixed(2) + 'x' + (r + a).toFixed(2), o, i - r + 16), d.context.fillText(s.toFixed(2) + 'x' + (r + a).toFixed(2), o, i - r + 16))));
                        }),
                        E.debugOptions.objects.enabled && (E.debugOptions.objects.bounding && ((this.context.fillStyle = E.debugOptions.objects.bounding), this.context.beginPath(), this.context.rect(0, 0, y, t), this.context.fill()), E.debugOptions.objects.text && ((this.context.fillStyle = '#ffffff'), (this.context.strokeStyle = '#000000'), (this.context.lineWidth = 2), (this.context.font = '8px monospace'), this.context.strokeText(y.toFixed(2) + 'x' + t.toFixed(2), 0, 8, y), this.context.fillText(y.toFixed(2) + 'x' + t.toFixed(2), 0, 8, y))),
                        this.updateTexture());
                }
            }),
            (E.prototype.wordWrap = function (t) {
                var e = '',
                    n = this.getTagRegex(!0, !0),
                    o = t.split('\n'),
                    i = this._style.wordWrapWidth,
                    s = [this.assign({}, this.textStyles.default)];
                this.context.font = this.getFontString(this.textStyles.default);
                for (var r = 0; r < o.length; r++) {
                    for (var a = i, h = o[r].split(n), l = !0, c = 0; c < h.length; c++)
                        if (n.test(h[c])) ((e += h[c]), '/' === h[c][1] ? ((c += 2), s.pop()) : (c++, s.push(this.assign({}, s[s.length - 1], this.textStyles[h[c]])), c++), (this.context.font = this.getFontString(s[s.length - 1])));
                        else
                            for (var x = h[c].split(' '), d = 0; d < x.length; d++) {
                                var u,
                                    g = this.context.measureText(x[d]).width;
                                if (this._style.breakWords && a < g) {
                                    var p = x[d].split('');
                                    0 < d && ((e += ' '), (a -= this.context.measureText(' ').width));
                                    for (var f = 0; f < p.length; f++) {
                                        var y = this.context.measureText(p[f]).width;
                                        a < y ? ((e += '\n' + p[f]), (a = i - y)) : ((e += p[f]), (a -= y));
                                    }
                                } else this._style.breakWords ? ((e += x[d]), (a -= g)) : a < (u = g + (0 < d ? this.context.measureText(' ').width : 0)) ? (l || (e += '\n'), (e += x[d]), (a = i - g)) : ((a -= u), 0 < d && (e += ' '), (e += x[d]));
                                l = !1;
                            }
                    r < o.length - 1 && (e += '\n');
                }
                return e;
            }),
            (E.prototype.updateTexture = function () {
                var t = this._texture,
                    e = this.getDropShadowPadding();
                ((t.baseTexture.hasLoaded = !0), (t.baseTexture.resolution = this.resolution), (t.baseTexture.realWidth = this.canvas.width), (t.baseTexture.realHeight = this.canvas.height), (t.baseTexture.width = this.canvas.width / this.resolution), (t.baseTexture.height = this.canvas.height / this.resolution), (t.trim.width = t.frame.width = this.canvas.width / this.resolution), (t.trim.height = t.frame.height = this.canvas.height / this.resolution), (t.trim.x = -this._style.padding - e), (t.trim.y = -this._style.padding - e), (t.orig.width = t.frame.width - 2 * (this._style.padding + e)), (t.orig.height = t.frame.height - 2 * (this._style.padding + e)), this._onTextureUpdate(), t.baseTexture.update(), t.baseTexture.emit('update', t.baseTexture), (this.dirty = !1));
            }),
            (E.prototype.assign = function (t) {
                for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
                for (var o = 0, i = e; o < i.length; o++) {
                    var s,
                        r = i[o];
                    for (s in r) t[s] = r[s];
                }
                return t;
            }),
            (E.DEFAULT_TAG_STYLE = { align: 'left', breakWords: !1, dropShadow: !1, dropShadowAngle: Math.PI / 6, dropShadowBlur: 0, dropShadowColor: '#000000', dropShadowDistance: 5, fill: 'black', fillGradientType: PIXI.TEXT_GRADIENT.LINEAR_VERTICAL, fontFamily: 'Arial', fontSize: 26, fontStyle: 'normal', fontVariant: 'normal', fontWeight: 'normal', letterSpacing: 0, lineHeight: 0, lineJoin: 'miter', miterLimit: 10, padding: 0, stroke: 'black', strokeThickness: 0, textBaseline: 'alphabetic', valign: 'baseline', wordWrap: !1, wordWrapWidth: 100 }),
            (E.debugOptions = { spans: { enabled: !1, baseline: '#44BB44', top: '#BB4444', bottom: '#4444BB', bounding: 'rgba(255, 255, 255, 0.1)', text: !0 }, objects: { enabled: !1, bounding: 'rgba(255, 255, 255, 0.05)', text: !0 } }),
            E
        );
    })(PIXI.Text);
((this.PIXI = this.PIXI || {}),
    (function (t, i) {
        'use strict';
        var e,
            s,
            a = (function () {
                function i(i, e, s) {
                    ((this.value = i), (this.time = e), (this.next = null), (this.isStepped = !1), (this.ease = s ? ('function' == typeof s ? s : t.ParticleUtils.generateEase(s)) : null));
                }
                return (
                    (i.createList = function (e) {
                        if ('list' in e) {
                            var s = e.list,
                                a = void 0,
                                n = void 0,
                                r = s[0],
                                o = r.value,
                                h = r.time;
                            if (((n = a = new i('string' == typeof o ? t.ParticleUtils.hexToRGB(o) : o, h, e.ease)), s.length > 2 || (2 === s.length && s[1].value !== o)))
                                for (var l = 1; l < s.length; ++l) {
                                    var p = s[l],
                                        c = p.value,
                                        u = p.time;
                                    ((a.next = new i('string' == typeof c ? t.ParticleUtils.hexToRGB(c) : c, u)), (a = a.next));
                                }
                            return ((n.isStepped = !!e.isStepped), n);
                        }
                        var m = new i('string' == typeof e.start ? t.ParticleUtils.hexToRGB(e.start) : e.start, 0);
                        return (e.end !== e.start && (m.next = new i('string' == typeof e.end ? t.ParticleUtils.hexToRGB(e.end) : e.end, 1)), m);
                    }),
                    i
                );
            })(),
            n = i;
        function r(t) {
            return e(t);
        }
        ((e = parseInt(/^(\d+)\./.exec(i.VERSION)[1]) < 5 ? n.Texture.fromImage : n.Texture.from),
            ((s = t.ParticleUtils || (t.ParticleUtils = {})).verbose = !1),
            (s.DEG_TO_RADS = Math.PI / 180),
            (s.rotatePoint = function (t, i) {
                if (t) {
                    t *= s.DEG_TO_RADS;
                    var e = Math.sin(t),
                        a = Math.cos(t),
                        n = i.x * a - i.y * e,
                        r = i.x * e + i.y * a;
                    ((i.x = n), (i.y = r));
                }
            }),
            (s.combineRGBComponents = function (t, i, e) {
                return (t << 16) | (i << 8) | e;
            }),
            (s.normalize = function (t) {
                var i = 1 / s.length(t);
                ((t.x *= i), (t.y *= i));
            }),
            (s.scaleBy = function (t, i) {
                ((t.x *= i), (t.y *= i));
            }),
            (s.length = function (t) {
                return Math.sqrt(t.x * t.x + t.y * t.y);
            }),
            (s.hexToRGB = function (t, i) {
                var e;
                return (i || (i = {}), '#' == t.charAt(0) ? (t = t.substr(1)) : 0 === t.indexOf('0x') && (t = t.substr(2)), 8 == t.length && ((e = t.substr(0, 2)), (t = t.substr(2))), (i.r = parseInt(t.substr(0, 2), 16)), (i.g = parseInt(t.substr(2, 2), 16)), (i.b = parseInt(t.substr(4, 2), 16)), e && (i.a = parseInt(e, 16)), i);
            }),
            (s.generateEase = function (t) {
                var i = t.length,
                    e = 1 / i;
                return function (s) {
                    var a,
                        n,
                        r = (i * s) | 0;
                    return ((a = (s - r * e) * i), (n = t[r] || t[i - 1]).s + a * (2 * (1 - a) * (n.cp - n.s) + a * (n.e - n.s)));
                };
            }),
            (s.getBlendMode = function (t) {
                if (!t) return i.BLEND_MODES.NORMAL;
                for (t = t.toUpperCase(); t.indexOf(' ') >= 0; ) t = t.replace(' ', '_');
                return i.BLEND_MODES[t] || i.BLEND_MODES.NORMAL;
            }),
            (s.createSteppedGradient = function (t, i) {
                (void 0 === i && (i = 10), ('number' != typeof i || i <= 0) && (i = 10));
                var e = new a(s.hexToRGB(t[0].value), t[0].time);
                e.isStepped = !0;
                for (var n = e, r = t[0], o = 1, h = t[o], l = 1; l < i; ++l) {
                    for (var p = l / i; p > h.time; ) ((r = h), (h = t[++o]));
                    p = (p - r.time) / (h.time - r.time);
                    var c = s.hexToRGB(r.value),
                        u = s.hexToRGB(h.value),
                        m = { r: (u.r - c.r) * p + c.r, g: (u.g - c.g) * p + c.g, b: (u.b - c.b) * p + c.b };
                    ((n.next = new a(m, l / i)), (n = n.next));
                }
                return e;
            }));
        var o = function (t, i) {
            return (
                (o =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                        function (t, i) {
                            t.__proto__ = i;
                        }) ||
                    function (t, i) {
                        for (var e in i) i.hasOwnProperty(e) && (t[e] = i[e]);
                    }),
                o(t, i)
            );
        };
        function h(t, i) {
            function e() {
                this.constructor = t;
            }
            (o(t, i), (t.prototype = null === i ? Object.create(i) : ((e.prototype = i.prototype), new e())));
        }
        var l = (function () {
            function t(t) {
                (void 0 === t && (t = !1), (this.current = null), (this.next = null), (this.isColor = !!t), (this.interpolate = null), (this.ease = null));
            }
            return (
                (t.prototype.reset = function (t) {
                    ((this.current = t), (this.next = t.next), this.next && this.next.time >= 1 ? (this.interpolate = this.isColor ? c : p) : t.isStepped ? (this.interpolate = this.isColor ? f : d) : (this.interpolate = this.isColor ? m : u), (this.ease = this.current.ease));
                }),
                t
            );
        })();
        function p(t) {
            return (this.ease && (t = this.ease(t)), (this.next.value - this.current.value) * t + this.current.value);
        }
        function c(i) {
            this.ease && (i = this.ease(i));
            var e = this.current.value,
                s = this.next.value,
                a = (s.r - e.r) * i + e.r,
                n = (s.g - e.g) * i + e.g,
                r = (s.b - e.b) * i + e.b;
            return t.ParticleUtils.combineRGBComponents(a, n, r);
        }
        function u(t) {
            for (this.ease && (t = this.ease(t)); t > this.next.time; ) ((this.current = this.next), (this.next = this.next.next));
            return ((t = (t - this.current.time) / (this.next.time - this.current.time)), (this.next.value - this.current.value) * t + this.current.value);
        }
        function m(i) {
            for (this.ease && (i = this.ease(i)); i > this.next.time; ) ((this.current = this.next), (this.next = this.next.next));
            i = (i - this.current.time) / (this.next.time - this.current.time);
            var e = this.current.value,
                s = this.next.value,
                a = (s.r - e.r) * i + e.r,
                n = (s.g - e.g) * i + e.g,
                r = (s.b - e.b) * i + e.b;
            return t.ParticleUtils.combineRGBComponents(a, n, r);
        }
        function d(t) {
            for (this.ease && (t = this.ease(t)); this.next && t > this.next.time; ) ((this.current = this.next), (this.next = this.next.next));
            return this.current.value;
        }
        function f(i) {
            for (this.ease && (i = this.ease(i)); this.next && i > this.next.time; ) ((this.current = this.next), (this.next = this.next.next));
            var e = this.current.value;
            return t.ParticleUtils.combineRGBComponents(e.r, e.g, e.b);
        }
        var x,
            y = (function (e) {
                function s(t) {
                    var a = e.call(this) || this;
                    return ((a.emitter = t), (a.anchor.x = a.anchor.y = 0.5), (a.velocity = new i.Point()), (a.rotationSpeed = 0), (a.rotationAcceleration = 0), (a.maxLife = 0), (a.age = 0), (a.ease = null), (a.extraData = null), (a.alphaList = new l()), (a.speedList = new l()), (a.speedMultiplier = 1), (a.acceleration = new i.Point()), (a.maxSpeed = NaN), (a.scaleList = new l()), (a.scaleMultiplier = 1), (a.colorList = new l(!0)), (a._doAlpha = !1), (a._doScale = !1), (a._doSpeed = !1), (a._doAcceleration = !1), (a._doColor = !1), (a._doNormalMovement = !1), (a._oneOverLife = 0), (a.next = null), (a.prev = null), (a.init = a.init), (a.Particle_init = s.prototype.init), (a.update = a.update), (a.Particle_update = s.prototype.update), (a.Sprite_destroy = e.prototype.destroy), (a.Particle_destroy = s.prototype.destroy), (a.applyArt = a.applyArt), (a.kill = a.kill), a);
                }
                return (
                    h(s, e),
                    (s.prototype.init = function () {
                        ((this.age = 0), (this.velocity.x = this.speedList.current.value * this.speedMultiplier), (this.velocity.y = 0), t.ParticleUtils.rotatePoint(this.rotation, this.velocity), this.noRotation ? (this.rotation = 0) : (this.rotation *= t.ParticleUtils.DEG_TO_RADS), (this.rotationSpeed *= t.ParticleUtils.DEG_TO_RADS), (this.rotationAcceleration *= t.ParticleUtils.DEG_TO_RADS), (this.alpha = this.alphaList.current.value), (this.scale.x = this.scale.y = this.scaleList.current.value), (this._doAlpha = !!this.alphaList.current.next), (this._doSpeed = !!this.speedList.current.next), (this._doScale = !!this.scaleList.current.next), (this._doColor = !!this.colorList.current.next), (this._doAcceleration = 0 !== this.acceleration.x || 0 !== this.acceleration.y), (this._doNormalMovement = this._doSpeed || 0 !== this.speedList.current.value || this._doAcceleration), (this._oneOverLife = 1 / this.maxLife));
                        var i = this.colorList.current.value;
                        ((this.tint = t.ParticleUtils.combineRGBComponents(i.r, i.g, i.b)), (this.visible = !0));
                    }),
                    (s.prototype.applyArt = function (t) {
                        this.texture = t || i.Texture.EMPTY;
                    }),
                    (s.prototype.update = function (i) {
                        if (((this.age += i), this.age >= this.maxLife || this.age < 0)) return (this.kill(), -1);
                        var e = this.age * this._oneOverLife;
                        if ((this.ease && (e = 4 == this.ease.length ? this.ease(e, 0, 1, 1) : this.ease(e)), this._doAlpha && (this.alpha = this.alphaList.interpolate(e)), this._doScale)) {
                            var s = this.scaleList.interpolate(e) * this.scaleMultiplier;
                            this.scale.x = this.scale.y = s;
                        }
                        if (this._doNormalMovement) {
                            var a = void 0,
                                n = void 0;
                            if (this._doSpeed) {
                                var r = this.speedList.interpolate(e) * this.speedMultiplier;
                                (t.ParticleUtils.normalize(this.velocity), t.ParticleUtils.scaleBy(this.velocity, r), (a = this.velocity.x * i), (n = this.velocity.y * i));
                            } else if (this._doAcceleration) {
                                var o = this.velocity.x,
                                    h = this.velocity.y;
                                if (((this.velocity.x += this.acceleration.x * i), (this.velocity.y += this.acceleration.y * i), this.maxSpeed)) {
                                    var l = t.ParticleUtils.length(this.velocity);
                                    l > this.maxSpeed && t.ParticleUtils.scaleBy(this.velocity, this.maxSpeed / l);
                                }
                                ((a = ((o + this.velocity.x) / 2) * i), (n = ((h + this.velocity.y) / 2) * i));
                            } else ((a = this.velocity.x * i), (n = this.velocity.y * i));
                            ((this.position.x += a), (this.position.y += n));
                        }
                        if ((this._doColor && (this.tint = this.colorList.interpolate(e)), 0 !== this.rotationAcceleration)) {
                            var p = this.rotationSpeed + this.rotationAcceleration * i;
                            ((this.rotation += ((this.rotationSpeed + p) / 2) * i), (this.rotationSpeed = p));
                        } else 0 !== this.rotationSpeed ? (this.rotation += this.rotationSpeed * i) : this.acceleration && !this.noRotation && (this.rotation = Math.atan2(this.velocity.y, this.velocity.x));
                        return e;
                    }),
                    (s.prototype.kill = function () {
                        this.emitter.recycle(this);
                    }),
                    (s.prototype.destroy = function () {
                        (this.parent && this.parent.removeChild(this), this.Sprite_destroy(), (this.emitter = this.velocity = this.colorList = this.scaleList = this.alphaList = this.speedList = this.ease = this.next = this.prev = null));
                    }),
                    (s.parseArt = function (i) {
                        var e;
                        for (e = i.length; e >= 0; --e) 'string' == typeof i[e] && (i[e] = r(i[e]));
                        if (t.ParticleUtils.verbose)
                            for (e = i.length - 1; e > 0; --e)
                                if (i[e].baseTexture != i[e - 1].baseTexture) {
                                    window.console && console.warn('PixiParticles: using particle textures from different images may hinder performance in WebGL');
                                    break;
                                }
                        return i;
                    }),
                    (s.parseData = function (t) {
                        return t;
                    }),
                    s
                );
            })(i.Sprite),
            _ = (function () {
                function t(t) {
                    ((this.segments = []), (this.countingLengths = []), (this.totalLength = 0), this.init(t));
                }
                return (
                    (t.prototype.init = function (t) {
                        if (t && t.length)
                            if (Array.isArray(t[0]))
                                for (var i = 0; i < t.length; ++i)
                                    for (var e = t[i], s = e[0], a = 1; a < e.length; ++a) {
                                        var n = e[a];
                                        (this.segments.push({ p1: s, p2: n, l: 0 }), (s = n));
                                    }
                            else
                                for (s = t[0], i = 1; i < t.length; ++i) {
                                    n = t[i];
                                    (this.segments.push({ p1: s, p2: n, l: 0 }), (s = n));
                                }
                        else this.segments.push({ p1: { x: 0, y: 0 }, p2: { x: 0, y: 0 }, l: 0 });
                        for (i = 0; i < this.segments.length; ++i) {
                            var r = this.segments[i],
                                o = r.p1,
                                h = r.p2,
                                l = Math.sqrt((h.x - o.x) * (h.x - o.x) + (h.y - o.y) * (h.y - o.y));
                            ((this.segments[i].l = l), (this.totalLength += l), this.countingLengths.push(this.totalLength));
                        }
                    }),
                    (t.prototype.getRandomPoint = function (t) {
                        var i,
                            e,
                            s = Math.random() * this.totalLength;
                        if (1 === this.segments.length) ((i = this.segments[0]), (e = s));
                        else
                            for (var a = 0; a < this.countingLengths.length; ++a)
                                if (s < this.countingLengths[a]) {
                                    ((i = this.segments[a]), (e = 0 === a ? s : s - this.countingLengths[a - 1]));
                                    break;
                                }
                        e /= i.l || 1;
                        var n = i.p1,
                            r = i.p2;
                        ((t.x = n.x + e * (r.x - n.x)), (t.y = n.y + e * (r.y - n.y)));
                    }),
                    t
                );
            })(),
            v = i;
        x = parseInt(/^(\d+)\./.exec(i.VERSION)[1]) < 5 ? v.ticker.shared : v.Ticker.shared;
        var P = new i.Point(),
            g = (function () {
                function e(t, i, e) {
                    ((this._currentImageIndex = -1),
                        (this._particleConstructor = y),
                        (this.particleImages = null),
                        (this.startAlpha = null),
                        (this.startSpeed = null),
                        (this.minimumSpeedMultiplier = 1),
                        (this.acceleration = null),
                        (this.maxSpeed = NaN),
                        (this.startScale = null),
                        (this.minimumScaleMultiplier = 1),
                        (this.startColor = null),
                        (this.minLifetime = 0),
                        (this.maxLifetime = 0),
                        (this.minStartRotation = 0),
                        (this.maxStartRotation = 0),
                        (this.noRotation = !1),
                        (this.minRotationSpeed = 0),
                        (this.maxRotationSpeed = 0),
                        (this.particleBlendMode = 0),
                        (this.customEase = null),
                        (this.extraData = null),
                        (this._frequency = 1),
                        (this.spawnChance = 1),
                        (this.maxParticles = 1e3),
                        (this.emitterLifetime = -1),
                        (this.spawnPos = null),
                        (this.spawnType = null),
                        (this._spawnFunc = null),
                        (this.spawnRect = null),
                        (this.spawnCircle = null),
                        (this.spawnPolygonalChain = null),
                        (this.particlesPerWave = 1),
                        (this.particleSpacing = 0),
                        (this.angleStart = 0),
                        (this.rotation = 0),
                        (this.ownerPos = null),
                        (this._prevEmitterPos = null),
                        (this._prevPosIsValid = !1),
                        (this._posChanged = !1),
                        (this._parent = null),
                        (this.addAtBack = !1),
                        (this.particleCount = 0),
                        (this._emit = !1),
                        (this._spawnTimer = 0),
                        (this._emitterLife = -1),
                        (this._activeParticlesFirst = null),
                        (this._activeParticlesLast = null),
                        (this._poolFirst = null),
                        (this._origConfig = null),
                        (this._origArt = null),
                        (this._autoUpdate = !1),
                        (this._currentImageIndex = -1),
                        (this._destroyWhenComplete = !1),
                        (this._completeCallback = null),
                        (this.parent = t),
                        i && e && this.init(i, e),
                        (this.recycle = this.recycle),
                        (this.update = this.update),
                        (this.rotate = this.rotate),
                        (this.updateSpawnPos = this.updateSpawnPos),
                        (this.updateOwnerPos = this.updateOwnerPos));
                }
                return (
                    Object.defineProperty(e.prototype, 'orderedArt', {
                        get: function () {
                            return -1 !== this._currentImageIndex;
                        },
                        set: function (t) {
                            this._currentImageIndex = t ? 0 : -1;
                        },
                        enumerable: !0,
                        configurable: !0,
                    }),
                    Object.defineProperty(e.prototype, 'frequency', {
                        get: function () {
                            return this._frequency;
                        },
                        set: function (t) {
                            this._frequency = 'number' == typeof t && t > 0 ? t : 1;
                        },
                        enumerable: !0,
                        configurable: !0,
                    }),
                    Object.defineProperty(e.prototype, 'particleConstructor', {
                        get: function () {
                            return this._particleConstructor;
                        },
                        set: function (t) {
                            if (t != this._particleConstructor) {
                                ((this._particleConstructor = t), this.cleanup());
                                for (var i = this._poolFirst; i; i = i.next) i.destroy();
                                ((this._poolFirst = null), this._origConfig && this._origArt && this.init(this._origArt, this._origConfig));
                            }
                        },
                        enumerable: !0,
                        configurable: !0,
                    }),
                    Object.defineProperty(e.prototype, 'parent', {
                        get: function () {
                            return this._parent;
                        },
                        set: function (t) {
                            (this.cleanup(), (this._parent = t));
                        },
                        enumerable: !0,
                        configurable: !0,
                    }),
                    (e.prototype.init = function (e, s) {
                        if (e && s) {
                            (this.cleanup(), (this._origConfig = s), (this._origArt = e), (e = Array.isArray(e) ? e.slice() : [e]));
                            var n = this._particleConstructor;
                            ((this.particleImages = n.parseArt ? n.parseArt(e) : e), s.alpha ? (this.startAlpha = a.createList(s.alpha)) : (this.startAlpha = new a(1, 0)), s.speed ? ((this.startSpeed = a.createList(s.speed)), (this.minimumSpeedMultiplier = ('minimumSpeedMultiplier' in s ? s.minimumSpeedMultiplier : s.speed.minimumSpeedMultiplier) || 1)) : ((this.minimumSpeedMultiplier = 1), (this.startSpeed = new a(0, 0))));
                            var r = s.acceleration;
                            (r && (r.x || r.y) ? ((this.startSpeed.next = null), (this.acceleration = new i.Point(r.x, r.y)), (this.maxSpeed = s.maxSpeed || NaN)) : (this.acceleration = new i.Point()),
                                s.scale ? ((this.startScale = a.createList(s.scale)), (this.minimumScaleMultiplier = ('minimumScaleMultiplier' in s ? s.minimumScaleMultiplier : s.scale.minimumScaleMultiplier) || 1)) : ((this.startScale = new a(1, 0)), (this.minimumScaleMultiplier = 1)),
                                s.color ? (this.startColor = a.createList(s.color)) : (this.startColor = new a({ r: 255, g: 255, b: 255 }, 0)),
                                s.startRotation ? ((this.minStartRotation = s.startRotation.min), (this.maxStartRotation = s.startRotation.max)) : (this.minStartRotation = this.maxStartRotation = 0),
                                s.noRotation && (this.minStartRotation || this.maxStartRotation) ? (this.noRotation = !!s.noRotation) : (this.noRotation = !1),
                                s.rotationSpeed ? ((this.minRotationSpeed = s.rotationSpeed.min), (this.maxRotationSpeed = s.rotationSpeed.max)) : (this.minRotationSpeed = this.maxRotationSpeed = 0),
                                (this.rotationAcceleration = s.rotationAcceleration || 0),
                                (this.minLifetime = s.lifetime.min),
                                (this.maxLifetime = s.lifetime.max),
                                (this.particleBlendMode = t.ParticleUtils.getBlendMode(s.blendMode)),
                                s.ease ? (this.customEase = 'function' == typeof s.ease ? s.ease : t.ParticleUtils.generateEase(s.ease)) : (this.customEase = null),
                                n.parseData ? (this.extraData = n.parseData(s.extraData)) : (this.extraData = s.extraData || null),
                                (this.spawnRect = this.spawnCircle = null),
                                (this.particlesPerWave = 1),
                                s.particlesPerWave && s.particlesPerWave > 1 && (this.particlesPerWave = s.particlesPerWave),
                                (this.particleSpacing = 0),
                                (this.angleStart = 0),
                                this.parseSpawnType(s),
                                (this.frequency = s.frequency),
                                (this.spawnChance = 'number' == typeof s.spawnChance && s.spawnChance > 0 ? s.spawnChance : 1),
                                (this.emitterLifetime = s.emitterLifetime || -1),
                                (this.maxParticles = s.maxParticles > 0 ? s.maxParticles : 1e3),
                                (this.addAtBack = !!s.addAtBack),
                                (this.rotation = 0),
                                (this.ownerPos = new i.Point()),
                                (this.spawnPos = new i.Point(s.pos.x, s.pos.y)),
                                this.initAdditional(e, s),
                                (this._prevEmitterPos = this.spawnPos.clone()),
                                (this._prevPosIsValid = !1),
                                (this._spawnTimer = 0),
                                (this.emit = void 0 === s.emit || !!s.emit),
                                (this.autoUpdate = !!s.autoUpdate),
                                (this.orderedArt = !!s.orderedArt));
                        }
                    }),
                    (e.prototype.initAdditional = function (t, i) {}),
                    (e.prototype.parseSpawnType = function (t) {
                        var e;
                        switch (t.spawnType) {
                            case 'rect':
                                ((this.spawnType = 'rect'), (this._spawnFunc = this._spawnRect));
                                var s = t.spawnRect;
                                this.spawnRect = new i.Rectangle(s.x, s.y, s.w, s.h);
                                break;
                            case 'circle':
                                ((this.spawnType = 'circle'), (this._spawnFunc = this._spawnCircle), (e = t.spawnCircle), (this.spawnCircle = new i.Circle(e.x, e.y, e.r)));
                                break;
                            case 'ring':
                                ((this.spawnType = 'ring'), (this._spawnFunc = this._spawnRing), (e = t.spawnCircle), (this.spawnCircle = new i.Circle(e.x, e.y, e.r)), (this.spawnCircle.minRadius = e.minR));
                                break;
                            case 'burst':
                                ((this.spawnType = 'burst'), (this._spawnFunc = this._spawnBurst), (this.particleSpacing = t.particleSpacing), (this.angleStart = t.angleStart ? t.angleStart : 0));
                                break;
                            case 'point':
                            default:
                                ((this.spawnType = 'point'), (this._spawnFunc = this._spawnPoint));
                                break;
                            case 'polygonalChain':
                                ((this.spawnType = 'polygonalChain'), (this._spawnFunc = this._spawnPolygonalChain), (this.spawnPolygonalChain = new _(t.spawnPolygon)));
                        }
                    }),
                    (e.prototype.recycle = function (t) {
                        (t.next && (t.next.prev = t.prev), t.prev && (t.prev.next = t.next), t == this._activeParticlesLast && (this._activeParticlesLast = t.prev), t == this._activeParticlesFirst && (this._activeParticlesFirst = t.next), (t.prev = null), (t.next = this._poolFirst), (this._poolFirst = t), t.parent && t.parent.removeChild(t), --this.particleCount);
                    }),
                    (e.prototype.rotate = function (i) {
                        if (this.rotation != i) {
                            var e = i - this.rotation;
                            ((this.rotation = i), t.ParticleUtils.rotatePoint(e, this.spawnPos), (this._posChanged = !0));
                        }
                    }),
                    (e.prototype.updateSpawnPos = function (t, i) {
                        ((this._posChanged = !0), (this.spawnPos.x = t), (this.spawnPos.y = i));
                    }),
                    (e.prototype.updateOwnerPos = function (t, i) {
                        ((this._posChanged = !0), (this.ownerPos.x = t), (this.ownerPos.y = i));
                    }),
                    (e.prototype.resetPositionTracking = function () {
                        this._prevPosIsValid = !1;
                    }),
                    Object.defineProperty(e.prototype, 'emit', {
                        get: function () {
                            return this._emit;
                        },
                        set: function (t) {
                            ((this._emit = !!t), (this._emitterLife = this.emitterLifetime));
                        },
                        enumerable: !0,
                        configurable: !0,
                    }),
                    Object.defineProperty(e.prototype, 'autoUpdate', {
                        get: function () {
                            return this._autoUpdate;
                        },
                        set: function (t) {
                            (this._autoUpdate && !t ? x.remove(this.update, this) : !this._autoUpdate && t && x.add(this.update, this), (this._autoUpdate = !!t));
                        },
                        enumerable: !0,
                        configurable: !0,
                    }),
                    (e.prototype.playOnceAndDestroy = function (t) {
                        ((this.autoUpdate = !0), (this.emit = !0), (this._destroyWhenComplete = !0), (this._completeCallback = t));
                    }),
                    (e.prototype.playOnce = function (t) {
                        ((this.emit = !0), (this._completeCallback = t));
                    }),
                    (e.prototype.update = function (t) {
                        if ((this._autoUpdate && (t = t / i.settings.TARGET_FPMS / 1e3), this._parent)) {
                            var e, s, a, n, r;
                            for (s = this._activeParticlesFirst; s; s = a) ((a = s.next), s.update(t));
                            this._prevPosIsValid && ((n = this._prevEmitterPos.x), (r = this._prevEmitterPos.y));
                            var o = this.ownerPos.x + this.spawnPos.x,
                                h = this.ownerPos.y + this.spawnPos.y;
                            if (this._emit)
                                for (this._spawnTimer -= t < 0 ? 0 : t; this._spawnTimer <= 0; ) {
                                    if (this._emitterLife > 0 && ((this._emitterLife -= this._frequency), this._emitterLife <= 0)) {
                                        ((this._spawnTimer = 0), (this._emitterLife = 0), (this.emit = !1));
                                        break;
                                    }
                                    if (this.particleCount >= this.maxParticles) this._spawnTimer += this._frequency;
                                    else {
                                        var l = void 0;
                                        if (((l = this.minLifetime == this.maxLifetime ? this.minLifetime : Math.random() * (this.maxLifetime - this.minLifetime) + this.minLifetime), -this._spawnTimer < l)) {
                                            var p = void 0,
                                                c = void 0;
                                            if (this._prevPosIsValid && this._posChanged) {
                                                var u = 1 + this._spawnTimer / t;
                                                ((p = (o - n) * u + n), (c = (h - r) * u + r));
                                            } else ((p = o), (c = h));
                                            e = 0;
                                            for (var m = Math.min(this.particlesPerWave, this.maxParticles - this.particleCount); e < m; ++e)
                                                if (!(this.spawnChance < 1 && Math.random() >= this.spawnChance)) {
                                                    var d = void 0;
                                                    if (
                                                        (this._poolFirst ? ((d = this._poolFirst), (this._poolFirst = this._poolFirst.next), (d.next = null)) : (d = new this.particleConstructor(this)),
                                                        this.particleImages.length > 1 ? (-1 !== this._currentImageIndex ? (d.applyArt(this.particleImages[this._currentImageIndex++]), (this._currentImageIndex < 0 || this._currentImageIndex >= this.particleImages.length) && (this._currentImageIndex = 0)) : d.applyArt(this.particleImages[Math.floor(Math.random() * this.particleImages.length)])) : d.applyArt(this.particleImages[0]),
                                                        d.alphaList.reset(this.startAlpha),
                                                        1 != this.minimumSpeedMultiplier && (d.speedMultiplier = Math.random() * (1 - this.minimumSpeedMultiplier) + this.minimumSpeedMultiplier),
                                                        d.speedList.reset(this.startSpeed),
                                                        (d.acceleration.x = this.acceleration.x),
                                                        (d.acceleration.y = this.acceleration.y),
                                                        (d.maxSpeed = this.maxSpeed),
                                                        1 != this.minimumScaleMultiplier && (d.scaleMultiplier = Math.random() * (1 - this.minimumScaleMultiplier) + this.minimumScaleMultiplier),
                                                        d.scaleList.reset(this.startScale),
                                                        d.colorList.reset(this.startColor),
                                                        this.minRotationSpeed == this.maxRotationSpeed ? (d.rotationSpeed = this.minRotationSpeed) : (d.rotationSpeed = Math.random() * (this.maxRotationSpeed - this.minRotationSpeed) + this.minRotationSpeed),
                                                        (d.rotationAcceleration = this.rotationAcceleration),
                                                        (d.noRotation = this.noRotation),
                                                        (d.maxLife = l),
                                                        (d.blendMode = this.particleBlendMode),
                                                        (d.ease = this.customEase),
                                                        (d.extraData = this.extraData),
                                                        this.applyAdditionalProperties(d),
                                                        this._spawnFunc(d, p, c, e),
                                                        d.init(),
                                                        d.update(-this._spawnTimer),
                                                        d.parent)
                                                    ) {
                                                        var f = this._parent.children;
                                                        if (f[0] == d) f.shift();
                                                        else if (f[f.length - 1] == d) f.pop();
                                                        else {
                                                            var x = f.indexOf(d);
                                                            f.splice(x, 1);
                                                        }
                                                        this.addAtBack ? f.unshift(d) : f.push(d);
                                                    } else this.addAtBack ? this._parent.addChildAt(d, 0) : this._parent.addChild(d);
                                                    (this._activeParticlesLast ? ((this._activeParticlesLast.next = d), (d.prev = this._activeParticlesLast), (this._activeParticlesLast = d)) : (this._activeParticlesLast = this._activeParticlesFirst = d), ++this.particleCount);
                                                }
                                        }
                                        this._spawnTimer += this._frequency;
                                    }
                                }
                            if ((this._posChanged && ((this._prevEmitterPos.x = o), (this._prevEmitterPos.y = h), (this._prevPosIsValid = !0), (this._posChanged = !1)), !this._emit && !this._activeParticlesFirst)) {
                                if (this._completeCallback) {
                                    var y = this._completeCallback;
                                    ((this._completeCallback = null), y());
                                }
                                this._destroyWhenComplete && this.destroy();
                            }
                        }
                    }),
                    (e.prototype.applyAdditionalProperties = function (t) {}),
                    (e.prototype._spawnPoint = function (t, i, e) {
                        (this.minStartRotation == this.maxStartRotation ? (t.rotation = this.minStartRotation + this.rotation) : (t.rotation = Math.random() * (this.maxStartRotation - this.minStartRotation) + this.minStartRotation + this.rotation), (t.position.x = i), (t.position.y = e));
                    }),
                    (e.prototype._spawnRect = function (i, e, s) {
                        (this.minStartRotation == this.maxStartRotation ? (i.rotation = this.minStartRotation + this.rotation) : (i.rotation = Math.random() * (this.maxStartRotation - this.minStartRotation) + this.minStartRotation + this.rotation), (P.x = Math.random() * this.spawnRect.width + this.spawnRect.x), (P.y = Math.random() * this.spawnRect.height + this.spawnRect.y), 0 !== this.rotation && t.ParticleUtils.rotatePoint(this.rotation, P), (i.position.x = e + P.x), (i.position.y = s + P.y));
                    }),
                    (e.prototype._spawnCircle = function (i, e, s) {
                        (this.minStartRotation == this.maxStartRotation ? (i.rotation = this.minStartRotation + this.rotation) : (i.rotation = Math.random() * (this.maxStartRotation - this.minStartRotation) + this.minStartRotation + this.rotation), (P.x = Math.random() * this.spawnCircle.radius), (P.y = 0), t.ParticleUtils.rotatePoint(360 * Math.random(), P), (P.x += this.spawnCircle.x), (P.y += this.spawnCircle.y), 0 !== this.rotation && t.ParticleUtils.rotatePoint(this.rotation, P), (i.position.x = e + P.x), (i.position.y = s + P.y));
                    }),
                    (e.prototype._spawnRing = function (i, e, s) {
                        var a = this.spawnCircle;
                        (this.minStartRotation == this.maxStartRotation ? (i.rotation = this.minStartRotation + this.rotation) : (i.rotation = Math.random() * (this.maxStartRotation - this.minStartRotation) + this.minStartRotation + this.rotation), a.minRadius !== a.radius ? (P.x = Math.random() * (a.radius - a.minRadius) + a.minRadius) : (P.x = a.radius), (P.y = 0));
                        var n = 360 * Math.random();
                        ((i.rotation += n), t.ParticleUtils.rotatePoint(n, P), (P.x += this.spawnCircle.x), (P.y += this.spawnCircle.y), 0 !== this.rotation && t.ParticleUtils.rotatePoint(this.rotation, P), (i.position.x = e + P.x), (i.position.y = s + P.y));
                    }),
                    (e.prototype._spawnPolygonalChain = function (i, e, s) {
                        (this.minStartRotation == this.maxStartRotation ? (i.rotation = this.minStartRotation + this.rotation) : (i.rotation = Math.random() * (this.maxStartRotation - this.minStartRotation) + this.minStartRotation + this.rotation), this.spawnPolygonalChain.getRandomPoint(P), 0 !== this.rotation && t.ParticleUtils.rotatePoint(this.rotation, P), (i.position.x = e + P.x), (i.position.y = s + P.y));
                    }),
                    (e.prototype._spawnBurst = function (t, i, e, s) {
                        (0 === this.particleSpacing ? (t.rotation = 360 * Math.random()) : (t.rotation = this.angleStart + this.particleSpacing * s + this.rotation), (t.position.x = i), (t.position.y = e));
                    }),
                    (e.prototype.cleanup = function () {
                        var t, i;
                        for (t = this._activeParticlesFirst; t; t = i) ((i = t.next), this.recycle(t), t.parent && t.parent.removeChild(t));
                        ((this._activeParticlesFirst = this._activeParticlesLast = null), (this.particleCount = 0));
                    }),
                    (e.prototype.destroy = function () {
                        var t;
                        ((this.autoUpdate = !1), this.cleanup());
                        for (var i = this._poolFirst; i; i = t) ((t = i.next), i.destroy());
                        this._poolFirst = this._parent = this.particleImages = this.spawnPos = this.ownerPos = this.startColor = this.startScale = this.startAlpha = this.startSpeed = this.customEase = this._completeCallback = null;
                    }),
                    e
                );
            })(),
            S = new i.Point(),
            w = ['pow', 'sqrt', 'abs', 'floor', 'round', 'ceil', 'E', 'PI', 'sin', 'cos', 'tan', 'asin', 'acos', 'atan', 'atan2', 'log'],
            R = new RegExp(['[01234567890\\.\\*\\-\\+\\/\\(\\)x ,]'].concat(w).join('|'), 'g'),
            C = (function (e) {
                function s(t) {
                    var s = e.call(this, t) || this;
                    return ((s.path = null), (s.initialRotation = 0), (s.initialPosition = new i.Point()), (s.movement = 0), s);
                }
                return (
                    h(s, e),
                    (s.prototype.init = function () {
                        ((this.initialRotation = this.rotation), this.Particle_init(), (this.path = this.extraData.path), (this._doNormalMovement = !this.path), (this.movement = 0), (this.initialPosition.x = this.position.x), (this.initialPosition.y = this.position.y));
                    }),
                    (s.prototype.update = function (i) {
                        var e = this.Particle_update(i);
                        if (e >= 0 && this.path) {
                            var s = this.speedList.interpolate(e) * this.speedMultiplier;
                            ((this.movement += s * i), (S.x = this.movement), (S.y = this.path(this.movement)), t.ParticleUtils.rotatePoint(this.initialRotation, S), (this.position.x = this.initialPosition.x + S.x), (this.position.y = this.initialPosition.y + S.y));
                        }
                        return e;
                    }),
                    (s.prototype.destroy = function () {
                        (this.Particle_destroy(), (this.path = this.initialPosition = null));
                    }),
                    (s.parseArt = function (t) {
                        return y.parseArt(t);
                    }),
                    (s.parseData = function (i) {
                        var e = {};
                        if (i && i.path)
                            try {
                                e.path = (function (t) {
                                    for (var i = t.match(R), e = i.length - 1; e >= 0; --e) w.indexOf(i[e]) >= 0 && (i[e] = 'Math.' + i[e]);
                                    return ((t = i.join('')), new Function('x', 'return ' + t + ';'));
                                })(i.path);
                            } catch (i) {
                                (t.ParticleUtils.verbose && console.error('PathParticle: error in parsing path expression'), (e.path = null));
                            }
                        else (t.ParticleUtils.verbose && console.error('PathParticle requires a path string in extraData!'), (e.path = null));
                        return e;
                    }),
                    s
                );
            })(y),
            L = (function (t) {
                function e(i) {
                    var e = t.call(this, i) || this;
                    return ((e.textures = null), (e.duration = 0), (e.framerate = 0), (e.elapsed = 0), (e.loop = !1), e);
                }
                return (
                    h(e, t),
                    (e.prototype.init = function () {
                        (this.Particle_init(), (this.elapsed = 0), this.framerate < 0 && ((this.duration = this.maxLife), (this.framerate = this.textures.length / this.duration)));
                    }),
                    (e.prototype.applyArt = function (t) {
                        ((this.textures = t.textures), (this.framerate = t.framerate), (this.duration = t.duration), (this.loop = t.loop));
                    }),
                    (e.prototype.update = function (t) {
                        var e = this.Particle_update(t);
                        if (e >= 0) {
                            ((this.elapsed += t), this.elapsed > this.duration && (this.loop ? (this.elapsed = this.elapsed % this.duration) : (this.elapsed = this.duration - 1e-6)));
                            var s = (this.elapsed * this.framerate + 1e-7) | 0;
                            this.texture = this.textures[s] || i.Texture.EMPTY;
                        }
                        return e;
                    }),
                    (e.prototype.destroy = function () {
                        (this.Particle_destroy(), (this.textures = null));
                    }),
                    (e.parseArt = function (t) {
                        for (var e, s, a, n, o, h = [], l = 0; l < t.length; ++l) {
                            ((e = t[l]), (h[l] = s = {}), (s.textures = o = []), (a = e.textures));
                            for (var p = 0; p < a.length; ++p)
                                if ('string' == typeof (n = a[p])) o.push(r(n));
                                else if (n instanceof i.Texture) o.push(n);
                                else {
                                    var c = n.count || 1;
                                    for (n = 'string' == typeof n.texture ? r(n.texture) : n.texture; c > 0; --c) o.push(n);
                                }
                            'matchLife' == e.framerate ? ((s.framerate = -1), (s.duration = 0), (s.loop = !1)) : ((s.loop = !!e.loop), (s.framerate = e.framerate > 0 ? e.framerate : 60), (s.duration = o.length / s.framerate));
                        }
                        return h;
                    }),
                    e
                );
            })(y);
        ((t.GetTextureFromString = r), (t.Particle = y), (t.Emitter = g), (t.PathParticle = C), (t.AnimatedParticle = L), (t.PolygonalChain = _), (t.PropertyList = l), (t.PropertyNode = a));
    })((this.PIXI.particles = this.PIXI.particles || {}), PIXI));
/*https://www.npmjs.com/package/promise-polyfill*/
!(function (e, n) {
    'object' == typeof exports && 'undefined' != typeof module ? n() : 'function' == typeof define && define.amd ? define(n) : n();
})(0, function () {
    'use strict';
    function e(e) {
        var n = this.constructor;
        return this.then(
            function (t) {
                return n.resolve(e()).then(function () {
                    return t;
                });
            },
            function (t) {
                return n.resolve(e()).then(function () {
                    return n.reject(t);
                });
            }
        );
    }
    function n(e) {
        return !(!e || 'undefined' == typeof e.length);
    }
    function t() {}
    function o(e) {
        if (!(this instanceof o)) throw new TypeError('Promises must be constructed via new');
        if ('function' != typeof e) throw new TypeError('not a function');
        ((this._state = 0), (this._handled = !1), (this._value = undefined), (this._deferreds = []), c(e, this));
    }
    function r(e, n) {
        for (; 3 === e._state; ) e = e._value;
        0 !== e._state
            ? ((e._handled = !0),
              o._immediateFn(function () {
                  var t = 1 === e._state ? n.onFulfilled : n.onRejected;
                  if (null !== t) {
                      var o;
                      try {
                          o = t(e._value);
                      } catch (r) {
                          return void f(n.promise, r);
                      }
                      i(n.promise, o);
                  } else (1 === e._state ? i : f)(n.promise, e._value);
              }))
            : e._deferreds.push(n);
    }
    function i(e, n) {
        try {
            if (n === e) throw new TypeError('A promise cannot be resolved with itself.');
            if (n && ('object' == typeof n || 'function' == typeof n)) {
                var t = n.then;
                if (n instanceof o) return ((e._state = 3), (e._value = n), void u(e));
                if ('function' == typeof t)
                    return void c(
                        (function (e, n) {
                            return function () {
                                e.apply(n, arguments);
                            };
                        })(t, n),
                        e
                    );
            }
            ((e._state = 1), (e._value = n), u(e));
        } catch (r) {
            f(e, r);
        }
    }
    function f(e, n) {
        ((e._state = 2), (e._value = n), u(e));
    }
    function u(e) {
        2 === e._state &&
            0 === e._deferreds.length &&
            o._immediateFn(function () {
                e._handled || o._unhandledRejectionFn(e._value);
            });
        for (var n = 0, t = e._deferreds.length; t > n; n++) r(e, e._deferreds[n]);
        e._deferreds = null;
    }
    function c(e, n) {
        var t = !1;
        try {
            e(
                function (e) {
                    t || ((t = !0), i(n, e));
                },
                function (e) {
                    t || ((t = !0), f(n, e));
                }
            );
        } catch (o) {
            if (t) return;
            ((t = !0), f(n, o));
        }
    }
    var a = setTimeout;
    ((o.prototype['catch'] = function (e) {
        return this.then(null, e);
    }),
        (o.prototype.then = function (e, n) {
            var o = new this.constructor(t);
            return (
                r(
                    this,
                    new (function (e, n, t) {
                        ((this.onFulfilled = 'function' == typeof e ? e : null), (this.onRejected = 'function' == typeof n ? n : null), (this.promise = t));
                    })(e, n, o)
                ),
                o
            );
        }),
        (o.prototype['finally'] = e),
        (o.all = function (e) {
            return new o(function (t, o) {
                function r(e, n) {
                    try {
                        if (n && ('object' == typeof n || 'function' == typeof n)) {
                            var u = n.then;
                            if ('function' == typeof u)
                                return void u.call(
                                    n,
                                    function (n) {
                                        r(e, n);
                                    },
                                    o
                                );
                        }
                        ((i[e] = n), 0 == --f && t(i));
                    } catch (c) {
                        o(c);
                    }
                }
                if (!n(e)) return o(new TypeError('Promise.all accepts an array'));
                var i = Array.prototype.slice.call(e);
                if (0 === i.length) return t([]);
                for (var f = i.length, u = 0; i.length > u; u++) r(u, i[u]);
            });
        }),
        (o.resolve = function (e) {
            return e && 'object' == typeof e && e.constructor === o
                ? e
                : new o(function (n) {
                      n(e);
                  });
        }),
        (o.reject = function (e) {
            return new o(function (n, t) {
                t(e);
            });
        }),
        (o.race = function (e) {
            return new o(function (t, r) {
                if (!n(e)) return r(new TypeError('Promise.race accepts an array'));
                for (var i = 0, f = e.length; f > i; i++) o.resolve(e[i]).then(t, r);
            });
        }),
        (o._immediateFn =
            ('function' == typeof setImmediate &&
                function (e) {
                    setImmediate(e);
                }) ||
            function (e) {
                a(e, 0);
            }),
        (o._unhandledRejectionFn = function (e) {
            void 0 !== console && console && console.warn('Possible Unhandled Promise Rejection:', e);
        }));
    var l = (function () {
        if ('undefined' != typeof self) return self;
        if ('undefined' != typeof window) return window;
        if ('undefined' != typeof global) return global;
        throw Error('unable to locate global object');
    })();
    'Promise' in l ? l.Promise.prototype['finally'] || (l.Promise.prototype['finally'] = e) : (l.Promise = o);
});
StageEvent = {};
StageEvent.ENTER_FRAME = 'enter_frame';
StageEvent.LOST_FOCUS = 'lost_focus';
StageEvent.FOCUSED = 'focused';
StageEvent.RESIZE = 'resize';

// stats.js - http://github.com/mrdoob/stats.js
var Stats = function () {
    function h(a) {
        c.appendChild(a.dom);
        return a;
    }
    function k(a) {
        for (var d = 0; d < c.children.length; d++) c.children[d].style.display = d === a ? 'block' : 'none';
        l = a;
    }
    var l = 0,
        c = document.createElement('div');
    c.style.cssText = 'position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000';
    c.addEventListener(
        'click',
        function (a) {
            a.preventDefault();
            k(++l % c.children.length);
        },
        !1
    );
    var g = (performance || Date).now(),
        e = g,
        a = 0,
        r = h(new Stats.Panel('FPS', '#0ff', '#002')),
        f = h(new Stats.Panel('MS', '#0f0', '#020'));
    if (self.performance && self.performance.memory) var t = h(new Stats.Panel('MB', '#f08', '#201'));
    k(0);
    return {
        REVISION: 16,
        dom: c,
        addPanel: h,
        showPanel: k,
        begin: function () {
            g = (performance || Date).now();
        },
        end: function () {
            a++;
            var c = (performance || Date).now();
            f.update(c - g, 200);
            if (c > e + 1e3 && (r.update((1e3 * a) / (c - e), 100), (e = c), (a = 0), t)) {
                var d = performance.memory;
                t.update(d.usedJSHeapSize / 1048576, d.jsHeapSizeLimit / 1048576);
            }
            return c;
        },
        update: function () {
            g = this.end();
        },
        domElement: c,
        setMode: k,
    };
};
Stats.Panel = function (h, k, l) {
    var c = Infinity,
        g = 0,
        e = Math.round,
        a = e(window.devicePixelRatio || 1),
        r = 80 * a,
        f = 48 * a,
        t = 3 * a,
        u = 2 * a,
        d = 3 * a,
        m = 15 * a,
        n = 74 * a,
        p = 30 * a,
        q = document.createElement('canvas');
    q.width = r;
    q.height = f;
    q.style.cssText = 'width:80px;height:48px';
    var b = q.getContext('2d');
    b.font = 'bold ' + 9 * a + 'px Helvetica,Arial,sans-serif';
    b.textBaseline = 'top';
    b.fillStyle = l;
    b.fillRect(0, 0, r, f);
    b.fillStyle = k;
    b.fillText(h, t, u);
    b.fillRect(d, m, n, p);
    b.fillStyle = l;
    b.globalAlpha = 0.9;
    b.fillRect(d, m, n, p);
    return {
        dom: q,
        update: function (f, v) {
            c = Math.min(c, f);
            g = Math.max(g, f);
            b.fillStyle = l;
            b.globalAlpha = 1;
            b.fillRect(0, 0, r, m);
            b.fillStyle = k;
            b.fillText(e(f) + ' ' + h + ' (' + e(c) + '-' + e(g) + ')', t, u);
            b.drawImage(q, d + a, m, n - a, p, d, m, n - a, p);
            b.fillRect(d + n - a, m, a, p);
            b.fillStyle = l;
            b.globalAlpha = 0.9;
            b.fillRect(d + n - a, m, a, e((1 - f / v) * p));
        },
    };
};
'object' === typeof module && (module.exports = Stats);

/*!
 * VERSION: 2.1.3
 * DATE: 2019-05-17
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, EasePack, CSSPlugin, RoundPropsPlugin, BezierPlugin, AttrPlugin, DirectionalRotationPlugin
 *
 * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 *
 * @author: Jack Doyle, jack@greensock.com
 **/
var _gsScope = 'undefined' != typeof module && module.exports && 'undefined' != typeof global ? global : this || window;
((_gsScope._gsQueue || (_gsScope._gsQueue = [])).push(function () {
    'use strict';
    (_gsScope._gsDefine(
        'TweenMax',
        ['core.Animation', 'core.SimpleTimeline', 'TweenLite'],
        function (a, b, c) {
            var d = function (a) {
                    var b,
                        c = [],
                        d = a.length;
                    for (b = 0; b !== d; c.push(a[b++]));
                    return c;
                },
                e = function (a, b, c) {
                    var d,
                        e,
                        f = a.cycle;
                    for (d in f) ((e = f[d]), (a[d] = 'function' == typeof e ? e(c, b[c], b) : e[c % e.length]));
                    delete a.cycle;
                },
                f = function (a) {
                    if ('function' == typeof a) return a;
                    var b = 'object' == typeof a ? a : { each: a },
                        c = b.ease,
                        d = b.from || 0,
                        e = b.base || 0,
                        f = {},
                        g = isNaN(d),
                        h = b.axis,
                        i = { center: 0.5, end: 1 }[d] || 0;
                    return function (a, j, k) {
                        var l,
                            m,
                            n,
                            o,
                            p,
                            q,
                            r,
                            s,
                            t,
                            u = (k || b).length,
                            v = f[u];
                        if (!v) {
                            if (((t = 'auto' === b.grid ? 0 : (b.grid || [1 / 0])[0]), !t)) {
                                for (r = -(1 / 0); r < (r = k[t++].getBoundingClientRect().left) && u > t; );
                                t--;
                            }
                            for (v = f[u] = [], l = g ? Math.min(t, u) * i - 0.5 : d % t, m = g ? (u * i) / t - 0.5 : (d / t) | 0, r = 0, s = 1 / 0, q = 0; u > q; q++) ((n = (q % t) - l), (o = m - ((q / t) | 0)), (v[q] = p = h ? Math.abs('y' === h ? o : n) : Math.sqrt(n * n + o * o)), p > r && (r = p), s > p && (s = p));
                            ((v.max = r - s), (v.min = s), (v.v = u = b.amount || b.each * (t > u ? u - 1 : h ? ('y' === h ? u / t : t) : Math.max(t, u / t)) || 0), (v.b = 0 > u ? e - u : e));
                        }
                        return ((u = (v[a] - v.min) / v.max), v.b + (c ? c.getRatio(u) : u) * v.v);
                    };
                },
                g = function (a, b, d) {
                    (c.call(this, a, b, d), (this._cycle = 0), (this._yoyo = this.vars.yoyo === !0 || !!this.vars.yoyoEase), (this._repeat = this.vars.repeat || 0), (this._repeatDelay = this.vars.repeatDelay || 0), this._repeat && this._uncache(!0), (this.render = g.prototype.render));
                },
                h = 1e-8,
                i = c._internals,
                j = i.isSelector,
                k = i.isArray,
                l = (g.prototype = c.to({}, 0.1, {})),
                m = [];
            ((g.version = '2.1.3'),
                (l.constructor = g),
                (l.kill()._gc = !1),
                (g.killTweensOf = g.killDelayedCallsTo = c.killTweensOf),
                (g.getTweensOf = c.getTweensOf),
                (g.lagSmoothing = c.lagSmoothing),
                (g.ticker = c.ticker),
                (g.render = c.render),
                (g.distribute = f),
                (l.invalidate = function () {
                    return ((this._yoyo = this.vars.yoyo === !0 || !!this.vars.yoyoEase), (this._repeat = this.vars.repeat || 0), (this._repeatDelay = this.vars.repeatDelay || 0), (this._yoyoEase = null), this._uncache(!0), c.prototype.invalidate.call(this));
                }),
                (l.updateTo = function (a, b) {
                    var d,
                        e = this,
                        f = e.ratio,
                        g = e.vars.immediateRender || a.immediateRender;
                    b && e._startTime < e._timeline._time && ((e._startTime = e._timeline._time), e._uncache(!1), e._gc ? e._enabled(!0, !1) : e._timeline.insert(e, e._startTime - e._delay));
                    for (d in a) e.vars[d] = a[d];
                    if (e._initted || g)
                        if (b) ((e._initted = !1), g && e.render(0, !0, !0));
                        else if ((e._gc && e._enabled(!0, !1), e._notifyPluginsOfEnabled && e._firstPT && c._onPluginEvent('_onDisable', e), e._time / e._duration > 0.998)) {
                            var h = e._totalTime;
                            (e.render(0, !0, !1), (e._initted = !1), e.render(h, !0, !1));
                        } else if (((e._initted = !1), e._init(), e._time > 0 || g)) for (var i, j = 1 / (1 - f), k = e._firstPT; k; ) ((i = k.s + k.c), (k.c *= j), (k.s = i - k.c), (k = k._next));
                    return e;
                }),
                (l.render = function (a, b, d) {
                    this._initted || (0 === this._duration && this.vars.repeat && this.invalidate());
                    var e,
                        f,
                        g,
                        j,
                        k,
                        l,
                        m,
                        n,
                        o,
                        p = this,
                        q = p._dirty ? p.totalDuration() : p._totalDuration,
                        r = p._time,
                        s = p._totalTime,
                        t = p._cycle,
                        u = p._duration,
                        v = p._rawPrevTime;
                    if (
                        (a >= q - h && a >= 0
                            ? ((p._totalTime = q), (p._cycle = p._repeat), p._yoyo && 0 !== (1 & p._cycle) ? ((p._time = 0), (p.ratio = p._ease._calcEnd ? p._ease.getRatio(0) : 0)) : ((p._time = u), (p.ratio = p._ease._calcEnd ? p._ease.getRatio(1) : 1)), p._reversed || ((e = !0), (f = 'onComplete'), (d = d || p._timeline.autoRemoveChildren)), 0 === u && (p._initted || !p.vars.lazy || d) && (p._startTime === p._timeline._duration && (a = 0), (0 > v || (0 >= a && a >= -h) || (v === h && 'isPause' !== p.data)) && v !== a && ((d = !0), v > h && (f = 'onReverseComplete')), (p._rawPrevTime = n = !b || a || v === a ? a : h)))
                            : h > a
                              ? ((p._totalTime = p._time = p._cycle = 0), (p.ratio = p._ease._calcEnd ? p._ease.getRatio(0) : 0), (0 !== s || (0 === u && v > 0)) && ((f = 'onReverseComplete'), (e = p._reversed)), a > -h ? (a = 0) : 0 > a && ((p._active = !1), 0 === u && (p._initted || !p.vars.lazy || d) && (v >= 0 && (d = !0), (p._rawPrevTime = n = !b || a || v === a ? a : h))), p._initted || (d = !0))
                              : ((p._totalTime = p._time = a),
                                0 !== p._repeat && ((j = u + p._repeatDelay), (p._cycle = (p._totalTime / j) >> 0), 0 !== p._cycle && p._cycle === p._totalTime / j && a >= s && p._cycle--, (p._time = p._totalTime - p._cycle * j), p._yoyo && 0 !== (1 & p._cycle) && ((p._time = u - p._time), (o = p._yoyoEase || p.vars.yoyoEase), o && (p._yoyoEase || (o !== !0 || p._initted ? (p._yoyoEase = o = o === !0 ? p._ease : o instanceof Ease ? o : Ease.map[o]) : ((o = p.vars.ease), (p._yoyoEase = o = o ? (o instanceof Ease ? o : 'function' == typeof o ? new Ease(o, p.vars.easeParams) : Ease.map[o] || c.defaultEase) : c.defaultEase))), (p.ratio = o ? 1 - o.getRatio((u - p._time) / u) : 0))), p._time > u ? (p._time = u) : p._time < 0 && (p._time = 0)),
                                p._easeType && !o ? ((k = p._time / u), (l = p._easeType), (m = p._easePower), (1 === l || (3 === l && k >= 0.5)) && (k = 1 - k), 3 === l && (k *= 2), 1 === m ? (k *= k) : 2 === m ? (k *= k * k) : 3 === m ? (k *= k * k * k) : 4 === m && (k *= k * k * k * k), (p.ratio = 1 === l ? 1 - k : 2 === l ? k : p._time / u < 0.5 ? k / 2 : 1 - k / 2)) : o || (p.ratio = p._ease.getRatio(p._time / u))),
                        r === p._time && !d && t === p._cycle)
                    )
                        return void (s !== p._totalTime && p._onUpdate && (b || p._callback('onUpdate')));
                    if (!p._initted) {
                        if ((p._init(), !p._initted || p._gc)) return;
                        if (!d && p._firstPT && ((p.vars.lazy !== !1 && p._duration) || (p.vars.lazy && !p._duration))) return ((p._time = r), (p._totalTime = s), (p._rawPrevTime = v), (p._cycle = t), i.lazyTweens.push(p), void (p._lazy = [a, b]));
                        !p._time || e || o ? e && this._ease._calcEnd && !o && (p.ratio = p._ease.getRatio(0 === p._time ? 0 : 1)) : (p.ratio = p._ease.getRatio(p._time / u));
                    }
                    for (p._lazy !== !1 && (p._lazy = !1), p._active || (!p._paused && p._time !== r && a >= 0 && (p._active = !0)), 0 === s && (2 === p._initted && a > 0 && p._init(), p._startAt && (a >= 0 ? p._startAt.render(a, !0, d) : f || (f = '_dummyGS')), p.vars.onStart && (0 !== p._totalTime || 0 === u) && (b || p._callback('onStart'))), g = p._firstPT; g; ) (g.f ? g.t[g.p](g.c * p.ratio + g.s) : (g.t[g.p] = g.c * p.ratio + g.s), (g = g._next));
                    (p._onUpdate && (0 > a && p._startAt && p._startTime && p._startAt.render(a, !0, d), b || ((p._totalTime !== s || f) && p._callback('onUpdate'))), p._cycle !== t && (b || p._gc || (p.vars.onRepeat && p._callback('onRepeat'))), f && (!p._gc || d) && (0 > a && p._startAt && !p._onUpdate && p._startTime && p._startAt.render(a, !0, d), e && (p._timeline.autoRemoveChildren && p._enabled(!1, !1), (p._active = !1)), !b && p.vars[f] && p._callback(f), 0 === u && p._rawPrevTime === h && n !== h && (p._rawPrevTime = 0)));
                }),
                (g.to = function (a, b, c) {
                    return new g(a, b, c);
                }),
                (g.from = function (a, b, c) {
                    return ((c.runBackwards = !0), (c.immediateRender = 0 != c.immediateRender), new g(a, b, c));
                }),
                (g.fromTo = function (a, b, c, d) {
                    return ((d.startAt = c), (d.immediateRender = 0 != d.immediateRender && 0 != c.immediateRender), new g(a, b, d));
                }),
                (g.staggerTo = g.allTo =
                    function (a, b, h, i, l, n, o) {
                        var p,
                            q,
                            r,
                            s,
                            t = [],
                            u = f(h.stagger || i),
                            v = h.cycle,
                            w = (h.startAt || m).cycle;
                        for (k(a) || ('string' == typeof a && (a = c.selector(a) || a), j(a) && (a = d(a))), a = a || [], p = a.length - 1, r = 0; p >= r; r++) {
                            q = {};
                            for (s in h) q[s] = h[s];
                            if ((v && (e(q, a, r), null != q.duration && ((b = q.duration), delete q.duration)), w)) {
                                w = q.startAt = {};
                                for (s in h.startAt) w[s] = h.startAt[s];
                                e(q.startAt, a, r);
                            }
                            ((q.delay = u(r, a[r], a) + (q.delay || 0)),
                                r === p &&
                                    l &&
                                    (q.onComplete = function () {
                                        (h.onComplete && h.onComplete.apply(h.onCompleteScope || this, arguments), l.apply(o || h.callbackScope || this, n || m));
                                    }),
                                (t[r] = new g(a[r], b, q)));
                        }
                        return t;
                    }),
                (g.staggerFrom = g.allFrom =
                    function (a, b, c, d, e, f, h) {
                        return ((c.runBackwards = !0), (c.immediateRender = 0 != c.immediateRender), g.staggerTo(a, b, c, d, e, f, h));
                    }),
                (g.staggerFromTo = g.allFromTo =
                    function (a, b, c, d, e, f, h, i) {
                        return ((d.startAt = c), (d.immediateRender = 0 != d.immediateRender && 0 != c.immediateRender), g.staggerTo(a, b, d, e, f, h, i));
                    }),
                (g.delayedCall = function (a, b, c, d, e) {
                    return new g(b, 0, { delay: a, onComplete: b, onCompleteParams: c, callbackScope: d, onReverseComplete: b, onReverseCompleteParams: c, immediateRender: !1, useFrames: e, overwrite: 0 });
                }),
                (g.set = function (a, b) {
                    return new g(a, 0, b);
                }),
                (g.isTweening = function (a) {
                    return c.getTweensOf(a, !0).length > 0;
                }));
            var n = function (a, b) {
                    for (var d = [], e = 0, f = a._first; f; ) (f instanceof c ? (d[e++] = f) : (b && (d[e++] = f), (d = d.concat(n(f, b))), (e = d.length)), (f = f._next));
                    return d;
                },
                o = (g.getAllTweens = function (b) {
                    return n(a._rootTimeline, b).concat(n(a._rootFramesTimeline, b));
                });
            ((g.killAll = function (a, c, d, e) {
                (null == c && (c = !0), null == d && (d = !0));
                var f,
                    g,
                    h,
                    i = o(0 != e),
                    j = i.length,
                    k = c && d && e;
                for (h = 0; j > h; h++) ((g = i[h]), (k || g instanceof b || ((f = g.target === g.vars.onComplete) && d) || (c && !f)) && (a ? g.totalTime(g._reversed ? 0 : g.totalDuration()) : g._enabled(!1, !1)));
            }),
                (g.killChildTweensOf = function (a, b) {
                    if (null != a) {
                        var e,
                            f,
                            h,
                            l,
                            m,
                            n = i.tweenLookup;
                        if (('string' == typeof a && (a = c.selector(a) || a), j(a) && (a = d(a)), k(a))) for (l = a.length; --l > -1; ) g.killChildTweensOf(a[l], b);
                        else {
                            e = [];
                            for (h in n) for (f = n[h].target.parentNode; f; ) (f === a && (e = e.concat(n[h].tweens)), (f = f.parentNode));
                            for (m = e.length, l = 0; m > l; l++) (b && e[l].totalTime(e[l].totalDuration()), e[l]._enabled(!1, !1));
                        }
                    }
                }));
            var p = function (a, c, d, e) {
                ((c = c !== !1), (d = d !== !1), (e = e !== !1));
                for (var f, g, h = o(e), i = c && d && e, j = h.length; --j > -1; ) ((g = h[j]), (i || g instanceof b || ((f = g.target === g.vars.onComplete) && d) || (c && !f)) && g.paused(a));
            };
            return (
                (g.pauseAll = function (a, b, c) {
                    p(!0, a, b, c);
                }),
                (g.resumeAll = function (a, b, c) {
                    p(!1, a, b, c);
                }),
                (g.globalTimeScale = function (b) {
                    var d = a._rootTimeline,
                        e = c.ticker.time;
                    return arguments.length ? ((b = b || h), (d._startTime = e - ((e - d._startTime) * d._timeScale) / b), (d = a._rootFramesTimeline), (e = c.ticker.frame), (d._startTime = e - ((e - d._startTime) * d._timeScale) / b), (d._timeScale = a._rootTimeline._timeScale = b), b) : d._timeScale;
                }),
                (l.progress = function (a, b) {
                    return arguments.length ? this.totalTime(this.duration() * (this._yoyo && 0 !== (1 & this._cycle) ? 1 - a : a) + this._cycle * (this._duration + this._repeatDelay), b) : this.duration() ? this._time / this._duration : this.ratio;
                }),
                (l.totalProgress = function (a, b) {
                    return arguments.length ? this.totalTime(this.totalDuration() * a, b) : this._totalTime / this.totalDuration();
                }),
                (l.time = function (a, b) {
                    if (!arguments.length) return this._time;
                    this._dirty && this.totalDuration();
                    var c = this._duration,
                        d = this._cycle,
                        e = d * (c + this._repeatDelay);
                    return (a > c && (a = c), this.totalTime(this._yoyo && 1 & d ? c - a + e : this._repeat ? a + e : a, b));
                }),
                (l.duration = function (b) {
                    return arguments.length ? a.prototype.duration.call(this, b) : this._duration;
                }),
                (l.totalDuration = function (a) {
                    return arguments.length ? (-1 === this._repeat ? this : this.duration((a - this._repeat * this._repeatDelay) / (this._repeat + 1))) : (this._dirty && ((this._totalDuration = -1 === this._repeat ? 999999999999 : this._duration * (this._repeat + 1) + this._repeatDelay * this._repeat), (this._dirty = !1)), this._totalDuration);
                }),
                (l.repeat = function (a) {
                    return arguments.length ? ((this._repeat = a), this._uncache(!0)) : this._repeat;
                }),
                (l.repeatDelay = function (a) {
                    return arguments.length ? ((this._repeatDelay = a), this._uncache(!0)) : this._repeatDelay;
                }),
                (l.yoyo = function (a) {
                    return arguments.length ? ((this._yoyo = a), this) : this._yoyo;
                }),
                g
            );
        },
        !0
    ),
        _gsScope._gsDefine(
            'TimelineLite',
            ['core.Animation', 'core.SimpleTimeline', 'TweenLite'],
            function (a, b, c) {
                var d = function (a) {
                        b.call(this, a);
                        var c,
                            d,
                            e = this,
                            f = e.vars;
                        ((e._labels = {}), (e.autoRemoveChildren = !!f.autoRemoveChildren), (e.smoothChildTiming = !!f.smoothChildTiming), (e._sortChildren = !0), (e._onUpdate = f.onUpdate));
                        for (d in f) ((c = f[d]), i(c) && -1 !== c.join('').indexOf('{self}') && (f[d] = e._swapSelfInParams(c)));
                        i(f.tweens) && e.add(f.tweens, 0, f.align, f.stagger);
                    },
                    e = 1e-8,
                    f = c._internals,
                    g = (d._internals = {}),
                    h = f.isSelector,
                    i = f.isArray,
                    j = f.lazyTweens,
                    k = f.lazyRender,
                    l = _gsScope._gsDefine.globals,
                    m = function (a) {
                        var b,
                            c = {};
                        for (b in a) c[b] = a[b];
                        return c;
                    },
                    n = function (a, b, c) {
                        var d,
                            e,
                            f = a.cycle;
                        for (d in f) ((e = f[d]), (a[d] = 'function' == typeof e ? e(c, b[c], b) : e[c % e.length]));
                        delete a.cycle;
                    },
                    o = (g.pauseCallback = function () {}),
                    p = function (a) {
                        var b,
                            c = [],
                            d = a.length;
                        for (b = 0; b !== d; c.push(a[b++]));
                        return c;
                    },
                    q = function (a, b, c, d) {
                        var e = 'immediateRender';
                        return (e in b || (b[e] = !((c && c[e] === !1) || d)), b);
                    },
                    r = function (a) {
                        if ('function' == typeof a) return a;
                        var b = 'object' == typeof a ? a : { each: a },
                            c = b.ease,
                            d = b.from || 0,
                            e = b.base || 0,
                            f = {},
                            g = isNaN(d),
                            h = b.axis,
                            i = { center: 0.5, end: 1 }[d] || 0;
                        return function (a, j, k) {
                            var l,
                                m,
                                n,
                                o,
                                p,
                                q,
                                r,
                                s,
                                t,
                                u = (k || b).length,
                                v = f[u];
                            if (!v) {
                                if (((t = 'auto' === b.grid ? 0 : (b.grid || [1 / 0])[0]), !t)) {
                                    for (r = -(1 / 0); r < (r = k[t++].getBoundingClientRect().left) && u > t; );
                                    t--;
                                }
                                for (v = f[u] = [], l = g ? Math.min(t, u) * i - 0.5 : d % t, m = g ? (u * i) / t - 0.5 : (d / t) | 0, r = 0, s = 1 / 0, q = 0; u > q; q++) ((n = (q % t) - l), (o = m - ((q / t) | 0)), (v[q] = p = h ? Math.abs('y' === h ? o : n) : Math.sqrt(n * n + o * o)), p > r && (r = p), s > p && (s = p));
                                ((v.max = r - s), (v.min = s), (v.v = u = b.amount || b.each * (t > u ? u - 1 : h ? ('y' === h ? u / t : t) : Math.max(t, u / t)) || 0), (v.b = 0 > u ? e - u : e));
                            }
                            return ((u = (v[a] - v.min) / v.max), v.b + (c ? c.getRatio(u) : u) * v.v);
                        };
                    },
                    s = (d.prototype = new b());
                return (
                    (d.version = '2.1.3'),
                    (d.distribute = r),
                    (s.constructor = d),
                    (s.kill()._gc = s._forcingPlayhead = s._hasPause = !1),
                    (s.to = function (a, b, d, e) {
                        var f = (d.repeat && l.TweenMax) || c;
                        return b ? this.add(new f(a, b, d), e) : this.set(a, d, e);
                    }),
                    (s.from = function (a, b, d, e) {
                        return this.add(((d.repeat && l.TweenMax) || c).from(a, b, q(this, d)), e);
                    }),
                    (s.fromTo = function (a, b, d, e, f) {
                        var g = (e.repeat && l.TweenMax) || c;
                        return ((e = q(this, e, d)), b ? this.add(g.fromTo(a, b, d, e), f) : this.set(a, e, f));
                    }),
                    (s.staggerTo = function (a, b, e, f, g, i, j, k) {
                        var l,
                            o,
                            q = new d({ onComplete: i, onCompleteParams: j, callbackScope: k, smoothChildTiming: this.smoothChildTiming }),
                            s = r(e.stagger || f),
                            t = e.startAt,
                            u = e.cycle;
                        for ('string' == typeof a && (a = c.selector(a) || a), a = a || [], h(a) && (a = p(a)), o = 0; o < a.length; o++) ((l = m(e)), t && ((l.startAt = m(t)), t.cycle && n(l.startAt, a, o)), u && (n(l, a, o), null != l.duration && ((b = l.duration), delete l.duration)), q.to(a[o], b, l, s(o, a[o], a)));
                        return this.add(q, g);
                    }),
                    (s.staggerFrom = function (a, b, c, d, e, f, g, h) {
                        return ((c.runBackwards = !0), this.staggerTo(a, b, q(this, c), d, e, f, g, h));
                    }),
                    (s.staggerFromTo = function (a, b, c, d, e, f, g, h, i) {
                        return ((d.startAt = c), this.staggerTo(a, b, q(this, d, c), e, f, g, h, i));
                    }),
                    (s.call = function (a, b, d, e) {
                        return this.add(c.delayedCall(0, a, b, d), e);
                    }),
                    (s.set = function (a, b, d) {
                        return this.add(new c(a, 0, q(this, b, null, !0)), d);
                    }),
                    (d.exportRoot = function (a, b) {
                        ((a = a || {}), null == a.smoothChildTiming && (a.smoothChildTiming = !0));
                        var e,
                            f,
                            g,
                            h,
                            i = new d(a),
                            j = i._timeline;
                        for (null == b && (b = !0), j._remove(i, !0), i._startTime = 0, i._rawPrevTime = i._time = i._totalTime = j._time, g = j._first; g; ) ((h = g._next), (b && g instanceof c && g.target === g.vars.onComplete) || ((f = g._startTime - g._delay), 0 > f && (e = 1), i.add(g, f)), (g = h));
                        return (j.add(i, 0), e && i.totalDuration(), i);
                    }),
                    (s.add = function (e, f, g, h) {
                        var j,
                            k,
                            l,
                            m,
                            n,
                            o,
                            p = this;
                        if (('number' != typeof f && (f = p._parseTimeOrLabel(f, 0, !0, e)), !(e instanceof a))) {
                            if (e instanceof Array || (e && e.push && i(e))) {
                                for (g = g || 'normal', h = h || 0, j = f, k = e.length, l = 0; k > l; l++) (i((m = e[l])) && (m = new d({ tweens: m })), p.add(m, j), 'string' != typeof m && 'function' != typeof m && ('sequence' === g ? (j = m._startTime + m.totalDuration() / m._timeScale) : 'start' === g && (m._startTime -= m.delay())), (j += h));
                                return p._uncache(!0);
                            }
                            if ('string' == typeof e) return p.addLabel(e, f);
                            if ('function' != typeof e) throw 'Cannot add ' + e + ' into the timeline; it is not a tween, timeline, function, or string.';
                            e = c.delayedCall(0, e);
                        }
                        if ((b.prototype.add.call(p, e, f), (e._time || (!e._duration && e._initted)) && ((j = (p.rawTime() - e._startTime) * e._timeScale), (!e._duration || Math.abs(Math.max(0, Math.min(e.totalDuration(), j))) - e._totalTime > 1e-5) && e.render(j, !1, !1)), (p._gc || p._time === p._duration) && !p._paused && p._duration < p.duration())) for (n = p, o = n.rawTime() > e._startTime; n._timeline; ) (o && n._timeline.smoothChildTiming ? n.totalTime(n._totalTime, !0) : n._gc && n._enabled(!0, !1), (n = n._timeline));
                        return p;
                    }),
                    (s.remove = function (b) {
                        if (b instanceof a) {
                            this._remove(b, !1);
                            var c = (b._timeline = b.vars.useFrames ? a._rootFramesTimeline : a._rootTimeline);
                            return ((b._startTime = (b._paused ? b._pauseTime : c._time) - (b._reversed ? b.totalDuration() - b._totalTime : b._totalTime) / b._timeScale), this);
                        }
                        if (b instanceof Array || (b && b.push && i(b))) {
                            for (var d = b.length; --d > -1; ) this.remove(b[d]);
                            return this;
                        }
                        return 'string' == typeof b ? this.removeLabel(b) : this.kill(null, b);
                    }),
                    (s._remove = function (a, c) {
                        b.prototype._remove.call(this, a, c);
                        var d = this._last;
                        return (d ? this._time > this.duration() && ((this._time = this._duration), (this._totalTime = this._totalDuration)) : (this._time = this._totalTime = this._duration = this._totalDuration = 0), this);
                    }),
                    (s.append = function (a, b) {
                        return this.add(a, this._parseTimeOrLabel(null, b, !0, a));
                    }),
                    (s.insert = s.insertMultiple =
                        function (a, b, c, d) {
                            return this.add(a, b || 0, c, d);
                        }),
                    (s.appendMultiple = function (a, b, c, d) {
                        return this.add(a, this._parseTimeOrLabel(null, b, !0, a), c, d);
                    }),
                    (s.addLabel = function (a, b) {
                        return ((this._labels[a] = this._parseTimeOrLabel(b)), this);
                    }),
                    (s.addPause = function (a, b, d, e) {
                        var f = c.delayedCall(0, o, d, e || this);
                        return ((f.vars.onComplete = f.vars.onReverseComplete = b), (f.data = 'isPause'), (this._hasPause = !0), this.add(f, a));
                    }),
                    (s.removeLabel = function (a) {
                        return (delete this._labels[a], this);
                    }),
                    (s.getLabelTime = function (a) {
                        return null != this._labels[a] ? this._labels[a] : -1;
                    }),
                    (s._parseTimeOrLabel = function (b, c, d, e) {
                        var f, g;
                        if (e instanceof a && e.timeline === this) this.remove(e);
                        else if (e && (e instanceof Array || (e.push && i(e)))) for (g = e.length; --g > -1; ) e[g] instanceof a && e[g].timeline === this && this.remove(e[g]);
                        if (((f = 'number' != typeof b || c ? (this.duration() > 99999999999 ? this.recent().endTime(!1) : this._duration) : 0), 'string' == typeof c)) return this._parseTimeOrLabel(c, d && 'number' == typeof b && null == this._labels[c] ? b - f : 0, d);
                        if (((c = c || 0), 'string' != typeof b || (!isNaN(b) && null == this._labels[b]))) null == b && (b = f);
                        else {
                            if (((g = b.indexOf('=')), -1 === g)) return null == this._labels[b] ? (d ? (this._labels[b] = f + c) : c) : this._labels[b] + c;
                            ((c = parseInt(b.charAt(g - 1) + '1', 10) * Number(b.substr(g + 1))), (b = g > 1 ? this._parseTimeOrLabel(b.substr(0, g - 1), 0, d) : f));
                        }
                        return Number(b) + c;
                    }),
                    (s.seek = function (a, b) {
                        return this.totalTime('number' == typeof a ? a : this._parseTimeOrLabel(a), b !== !1);
                    }),
                    (s.stop = function () {
                        return this.paused(!0);
                    }),
                    (s.gotoAndPlay = function (a, b) {
                        return this.play(a, b);
                    }),
                    (s.gotoAndStop = function (a, b) {
                        return this.pause(a, b);
                    }),
                    (s.render = function (a, b, c) {
                        this._gc && this._enabled(!0, !1);
                        var d,
                            f,
                            g,
                            h,
                            i,
                            l,
                            m,
                            n,
                            o = this,
                            p = o._time,
                            q = o._dirty ? o.totalDuration() : o._totalDuration,
                            r = o._startTime,
                            s = o._timeScale,
                            t = o._paused;
                        if ((p !== o._time && (a += o._time - p), o._hasPause && !o._forcingPlayhead && !b)) {
                            if (a > p) for (d = o._first; d && d._startTime <= a && !l; ) (d._duration || 'isPause' !== d.data || d.ratio || (0 === d._startTime && 0 === o._rawPrevTime) || (l = d), (d = d._next));
                            else for (d = o._last; d && d._startTime >= a && !l; ) (d._duration || ('isPause' === d.data && d._rawPrevTime > 0 && (l = d)), (d = d._prev));
                            l && ((o._time = o._totalTime = a = l._startTime), (n = o._startTime + (o._reversed ? o._duration - a : a) / o._timeScale));
                        }
                        if (a >= q - e && a >= 0) ((o._totalTime = o._time = q), o._reversed || o._hasPausedChild() || ((f = !0), (h = 'onComplete'), (i = !!o._timeline.autoRemoveChildren), 0 === o._duration && ((0 >= a && a >= -e) || o._rawPrevTime < 0 || o._rawPrevTime === e) && o._rawPrevTime !== a && o._first && ((i = !0), o._rawPrevTime > e && (h = 'onReverseComplete'))), (o._rawPrevTime = o._duration || !b || a || o._rawPrevTime === a ? a : e), (a = q + 1e-4));
                        else if (e > a)
                            if (((o._totalTime = o._time = 0), a > -e && (a = 0), (0 !== p || (0 === o._duration && o._rawPrevTime !== e && (o._rawPrevTime > 0 || (0 > a && o._rawPrevTime >= 0)))) && ((h = 'onReverseComplete'), (f = o._reversed)), 0 > a)) ((o._active = !1), o._timeline.autoRemoveChildren && o._reversed ? ((i = f = !0), (h = 'onReverseComplete')) : o._rawPrevTime >= 0 && o._first && (i = !0), (o._rawPrevTime = a));
                            else {
                                if (((o._rawPrevTime = o._duration || !b || a || o._rawPrevTime === a ? a : e), 0 === a && f)) for (d = o._first; d && 0 === d._startTime; ) (d._duration || (f = !1), (d = d._next));
                                ((a = 0), o._initted || (i = !0));
                            }
                        else o._totalTime = o._time = o._rawPrevTime = a;
                        if ((o._time !== p && o._first) || c || i || l) {
                            if ((o._initted || (o._initted = !0), o._active || (!o._paused && o._time !== p && a > 0 && (o._active = !0)), 0 === p && o.vars.onStart && ((0 === o._time && o._duration) || b || o._callback('onStart')), (m = o._time), m >= p)) for (d = o._first; d && ((g = d._next), m === o._time && (!o._paused || t)); ) ((d._active || (d._startTime <= m && !d._paused && !d._gc)) && (l === d && (o.pause(), (o._pauseTime = n)), d._reversed ? d.render((d._dirty ? d.totalDuration() : d._totalDuration) - (a - d._startTime) * d._timeScale, b, c) : d.render((a - d._startTime) * d._timeScale, b, c)), (d = g));
                            else
                                for (d = o._last; d && ((g = d._prev), m === o._time && (!o._paused || t)); ) {
                                    if (d._active || (d._startTime <= p && !d._paused && !d._gc)) {
                                        if (l === d) {
                                            for (l = d._prev; l && l.endTime() > o._time; ) (l.render(l._reversed ? l.totalDuration() - (a - l._startTime) * l._timeScale : (a - l._startTime) * l._timeScale, b, c), (l = l._prev));
                                            ((l = null), o.pause(), (o._pauseTime = n));
                                        }
                                        d._reversed ? d.render((d._dirty ? d.totalDuration() : d._totalDuration) - (a - d._startTime) * d._timeScale, b, c) : d.render((a - d._startTime) * d._timeScale, b, c);
                                    }
                                    d = g;
                                }
                            (o._onUpdate && (b || (j.length && k(), o._callback('onUpdate'))), h && (o._gc || ((r === o._startTime || s !== o._timeScale) && (0 === o._time || q >= o.totalDuration()) && (f && (j.length && k(), o._timeline.autoRemoveChildren && o._enabled(!1, !1), (o._active = !1)), !b && o.vars[h] && o._callback(h)))));
                        }
                    }),
                    (s._hasPausedChild = function () {
                        for (var a = this._first; a; ) {
                            if (a._paused || (a instanceof d && a._hasPausedChild())) return !0;
                            a = a._next;
                        }
                        return !1;
                    }),
                    (s.getChildren = function (a, b, d, e) {
                        e = e || -9999999999;
                        for (var f = [], g = this._first, h = 0; g; ) (g._startTime < e || (g instanceof c ? b !== !1 && (f[h++] = g) : (d !== !1 && (f[h++] = g), a !== !1 && ((f = f.concat(g.getChildren(!0, b, d))), (h = f.length)))), (g = g._next));
                        return f;
                    }),
                    (s.getTweensOf = function (a, b) {
                        var d,
                            e,
                            f = this._gc,
                            g = [],
                            h = 0;
                        for (f && this._enabled(!0, !0), d = c.getTweensOf(a), e = d.length; --e > -1; ) (d[e].timeline === this || (b && this._contains(d[e]))) && (g[h++] = d[e]);
                        return (f && this._enabled(!1, !0), g);
                    }),
                    (s.recent = function () {
                        return this._recent;
                    }),
                    (s._contains = function (a) {
                        for (var b = a.timeline; b; ) {
                            if (b === this) return !0;
                            b = b.timeline;
                        }
                        return !1;
                    }),
                    (s.shiftChildren = function (a, b, c) {
                        c = c || 0;
                        for (var d, e = this._first, f = this._labels; e; ) (e._startTime >= c && (e._startTime += a), (e = e._next));
                        if (b) for (d in f) f[d] >= c && (f[d] += a);
                        return this._uncache(!0);
                    }),
                    (s._kill = function (a, b) {
                        if (!a && !b) return this._enabled(!1, !1);
                        for (var c = b ? this.getTweensOf(b) : this.getChildren(!0, !0, !1), d = c.length, e = !1; --d > -1; ) c[d]._kill(a, b) && (e = !0);
                        return e;
                    }),
                    (s.clear = function (a) {
                        var b = this.getChildren(!1, !0, !0),
                            c = b.length;
                        for (this._time = this._totalTime = 0; --c > -1; ) b[c]._enabled(!1, !1);
                        return (a !== !1 && (this._labels = {}), this._uncache(!0));
                    }),
                    (s.invalidate = function () {
                        for (var b = this._first; b; ) (b.invalidate(), (b = b._next));
                        return a.prototype.invalidate.call(this);
                    }),
                    (s._enabled = function (a, c) {
                        if (a === this._gc) for (var d = this._first; d; ) (d._enabled(a, !0), (d = d._next));
                        return b.prototype._enabled.call(this, a, c);
                    }),
                    (s.totalTime = function (b, c, d) {
                        this._forcingPlayhead = !0;
                        var e = a.prototype.totalTime.apply(this, arguments);
                        return ((this._forcingPlayhead = !1), e);
                    }),
                    (s.duration = function (a) {
                        return arguments.length ? (0 !== this.duration() && 0 !== a && this.timeScale(this._duration / a), this) : (this._dirty && this.totalDuration(), this._duration);
                    }),
                    (s.totalDuration = function (a) {
                        if (!arguments.length) {
                            if (this._dirty) {
                                for (var b, c, d = 0, e = this, f = e._last, g = 999999999999; f; ) ((b = f._prev), f._dirty && f.totalDuration(), f._startTime > g && e._sortChildren && !f._paused && !e._calculatingDuration ? ((e._calculatingDuration = 1), e.add(f, f._startTime - f._delay), (e._calculatingDuration = 0)) : (g = f._startTime), f._startTime < 0 && !f._paused && ((d -= f._startTime), e._timeline.smoothChildTiming && ((e._startTime += f._startTime / e._timeScale), (e._time -= f._startTime), (e._totalTime -= f._startTime), (e._rawPrevTime -= f._startTime)), e.shiftChildren(-f._startTime, !1, -9999999999), (g = 0)), (c = f._startTime + f._totalDuration / f._timeScale), c > d && (d = c), (f = b));
                                ((e._duration = e._totalDuration = d), (e._dirty = !1));
                            }
                            return this._totalDuration;
                        }
                        return a && this.totalDuration() ? this.timeScale(this._totalDuration / a) : this;
                    }),
                    (s.paused = function (b) {
                        if (b === !1 && this._paused) for (var c = this._first; c; ) (c._startTime === this._time && 'isPause' === c.data && (c._rawPrevTime = 0), (c = c._next));
                        return a.prototype.paused.apply(this, arguments);
                    }),
                    (s.usesFrames = function () {
                        for (var b = this._timeline; b._timeline; ) b = b._timeline;
                        return b === a._rootFramesTimeline;
                    }),
                    (s.rawTime = function (a) {
                        return a && (this._paused || (this._repeat && this.time() > 0 && this.totalProgress() < 1)) ? this._totalTime % (this._duration + this._repeatDelay) : this._paused ? this._totalTime : (this._timeline.rawTime(a) - this._startTime) * this._timeScale;
                    }),
                    d
                );
            },
            !0
        ),
        _gsScope._gsDefine(
            'TimelineMax',
            ['TimelineLite', 'TweenLite', 'easing.Ease'],
            function (a, b, c) {
                var d = function (b) {
                        (a.call(this, b), (this._repeat = this.vars.repeat || 0), (this._repeatDelay = this.vars.repeatDelay || 0), (this._cycle = 0), (this._yoyo = !!this.vars.yoyo), (this._dirty = !0));
                    },
                    e = 1e-8,
                    f = b._internals,
                    g = f.lazyTweens,
                    h = f.lazyRender,
                    i = _gsScope._gsDefine.globals,
                    j = new c(null, null, 1, 0),
                    k = (d.prototype = new a());
                return (
                    (k.constructor = d),
                    (k.kill()._gc = !1),
                    (d.version = '2.1.3'),
                    (k.invalidate = function () {
                        return ((this._yoyo = !!this.vars.yoyo), (this._repeat = this.vars.repeat || 0), (this._repeatDelay = this.vars.repeatDelay || 0), this._uncache(!0), a.prototype.invalidate.call(this));
                    }),
                    (k.addCallback = function (a, c, d, e) {
                        return this.add(b.delayedCall(0, a, d, e), c);
                    }),
                    (k.removeCallback = function (a, b) {
                        if (a)
                            if (null == b) this._kill(null, a);
                            else for (var c = this.getTweensOf(a, !1), d = c.length, e = this._parseTimeOrLabel(b); --d > -1; ) c[d]._startTime === e && c[d]._enabled(!1, !1);
                        return this;
                    }),
                    (k.removePause = function (b) {
                        return this.removeCallback(a._internals.pauseCallback, b);
                    }),
                    (k.tweenTo = function (a, c) {
                        c = c || {};
                        var d,
                            e,
                            f,
                            g = { ease: j, useFrames: this.usesFrames(), immediateRender: !1, lazy: !1 },
                            h = (c.repeat && i.TweenMax) || b;
                        for (e in c) g[e] = c[e];
                        return (
                            (g.time = this._parseTimeOrLabel(a)),
                            (d = Math.abs(Number(g.time) - this._time) / this._timeScale || 0.001),
                            (f = new h(this, d, g)),
                            (g.onStart = function () {
                                (f.target.paused(!0), f.vars.time === f.target.time() || d !== f.duration() || f.isFromTo || f.duration(Math.abs(f.vars.time - f.target.time()) / f.target._timeScale).render(f.time(), !0, !0), c.onStart && c.onStart.apply(c.onStartScope || c.callbackScope || f, c.onStartParams || []));
                            }),
                            f
                        );
                    }),
                    (k.tweenFromTo = function (a, b, c) {
                        ((c = c || {}), (a = this._parseTimeOrLabel(a)), (c.startAt = { onComplete: this.seek, onCompleteParams: [a], callbackScope: this }), (c.immediateRender = c.immediateRender !== !1));
                        var d = this.tweenTo(b, c);
                        return ((d.isFromTo = 1), d.duration(Math.abs(d.vars.time - a) / this._timeScale || 0.001));
                    }),
                    (k.render = function (a, b, c) {
                        this._gc && this._enabled(!0, !1);
                        var d,
                            f,
                            i,
                            j,
                            k,
                            l,
                            m,
                            n,
                            o,
                            p = this,
                            q = p._time,
                            r = p._dirty ? p.totalDuration() : p._totalDuration,
                            s = p._duration,
                            t = p._totalTime,
                            u = p._startTime,
                            v = p._timeScale,
                            w = p._rawPrevTime,
                            x = p._paused,
                            y = p._cycle;
                        if ((q !== p._time && (a += p._time - q), a >= r - e && a >= 0)) (p._locked || ((p._totalTime = r), (p._cycle = p._repeat)), p._reversed || p._hasPausedChild() || ((f = !0), (j = 'onComplete'), (k = !!p._timeline.autoRemoveChildren), 0 === p._duration && ((0 >= a && a >= -e) || 0 > w || w === e) && w !== a && p._first && ((k = !0), w > e && (j = 'onReverseComplete'))), (p._rawPrevTime = p._duration || !b || a || p._rawPrevTime === a ? a : e), p._yoyo && 1 & p._cycle ? (p._time = a = 0) : ((p._time = s), (a = s + 1e-4)));
                        else if (e > a)
                            if ((p._locked || (p._totalTime = p._cycle = 0), (p._time = 0), a > -e && (a = 0), (0 !== q || (0 === s && w !== e && (w > 0 || (0 > a && w >= 0)) && !p._locked)) && ((j = 'onReverseComplete'), (f = p._reversed)), 0 > a)) ((p._active = !1), p._timeline.autoRemoveChildren && p._reversed ? ((k = f = !0), (j = 'onReverseComplete')) : w >= 0 && p._first && (k = !0), (p._rawPrevTime = a));
                            else {
                                if (((p._rawPrevTime = s || !b || a || p._rawPrevTime === a ? a : e), 0 === a && f)) for (d = p._first; d && 0 === d._startTime; ) (d._duration || (f = !1), (d = d._next));
                                ((a = 0), p._initted || (k = !0));
                            }
                        else (0 === s && 0 > w && (k = !0), (p._time = p._rawPrevTime = a), p._locked || ((p._totalTime = a), 0 !== p._repeat && ((l = s + p._repeatDelay), (p._cycle = (p._totalTime / l) >> 0), p._cycle && p._cycle === p._totalTime / l && a >= t && p._cycle--, (p._time = p._totalTime - p._cycle * l), p._yoyo && 1 & p._cycle && (p._time = s - p._time), p._time > s ? ((p._time = s), (a = s + 1e-4)) : p._time < 0 ? (p._time = a = 0) : (a = p._time))));
                        if (p._hasPause && !p._forcingPlayhead && !b) {
                            if (((a = p._time), a > q || (p._repeat && y !== p._cycle))) for (d = p._first; d && d._startTime <= a && !m; ) (d._duration || 'isPause' !== d.data || d.ratio || (0 === d._startTime && 0 === p._rawPrevTime) || (m = d), (d = d._next));
                            else for (d = p._last; d && d._startTime >= a && !m; ) (d._duration || ('isPause' === d.data && d._rawPrevTime > 0 && (m = d)), (d = d._prev));
                            m && ((o = p._startTime + (p._reversed ? p._duration - m._startTime : m._startTime) / p._timeScale), m._startTime < s && ((p._time = p._rawPrevTime = a = m._startTime), (p._totalTime = a + p._cycle * (p._totalDuration + p._repeatDelay))));
                        }
                        if (p._cycle !== y && !p._locked) {
                            var z = p._yoyo && 0 !== (1 & y),
                                A = z === (p._yoyo && 0 !== (1 & p._cycle)),
                                B = p._totalTime,
                                C = p._cycle,
                                D = p._rawPrevTime,
                                E = p._time;
                            if (((p._totalTime = y * s), p._cycle < y ? (z = !z) : (p._totalTime += s), (p._time = q), (p._rawPrevTime = 0 === s ? w - 1e-4 : w), (p._cycle = y), (p._locked = !0), (q = z ? 0 : s), p.render(q, b, 0 === s), b || p._gc || (p.vars.onRepeat && ((p._cycle = C), (p._locked = !1), p._callback('onRepeat'))), q !== p._time)) return;
                            if ((A && ((p._cycle = y), (p._locked = !0), (q = z ? s + 1e-4 : -1e-4), p.render(q, !0, !1)), (p._locked = !1), p._paused && !x)) return;
                            ((p._time = E), (p._totalTime = B), (p._cycle = C), (p._rawPrevTime = D));
                        }
                        if (!((p._time !== q && p._first) || c || k || m)) return void (t !== p._totalTime && p._onUpdate && (b || p._callback('onUpdate')));
                        if ((p._initted || (p._initted = !0), p._active || (!p._paused && p._totalTime !== t && a > 0 && (p._active = !0)), 0 === t && p.vars.onStart && ((0 === p._totalTime && p._totalDuration) || b || p._callback('onStart')), (n = p._time), n >= q)) for (d = p._first; d && ((i = d._next), n === p._time && (!p._paused || x)); ) ((d._active || (d._startTime <= p._time && !d._paused && !d._gc)) && (m === d && (p.pause(), (p._pauseTime = o)), d._reversed ? d.render((d._dirty ? d.totalDuration() : d._totalDuration) - (a - d._startTime) * d._timeScale, b, c) : d.render((a - d._startTime) * d._timeScale, b, c)), (d = i));
                        else
                            for (d = p._last; d && ((i = d._prev), n === p._time && (!p._paused || x)); ) {
                                if (d._active || (d._startTime <= q && !d._paused && !d._gc)) {
                                    if (m === d) {
                                        for (m = d._prev; m && m.endTime() > p._time; ) (m.render(m._reversed ? m.totalDuration() - (a - m._startTime) * m._timeScale : (a - m._startTime) * m._timeScale, b, c), (m = m._prev));
                                        ((m = null), p.pause(), (p._pauseTime = o));
                                    }
                                    d._reversed ? d.render((d._dirty ? d.totalDuration() : d._totalDuration) - (a - d._startTime) * d._timeScale, b, c) : d.render((a - d._startTime) * d._timeScale, b, c);
                                }
                                d = i;
                            }
                        (p._onUpdate && (b || (g.length && h(), p._callback('onUpdate'))), j && (p._locked || p._gc || ((u === p._startTime || v !== p._timeScale) && (0 === p._time || r >= p.totalDuration()) && (f && (g.length && h(), p._timeline.autoRemoveChildren && p._enabled(!1, !1), (p._active = !1)), !b && p.vars[j] && p._callback(j)))));
                    }),
                    (k.getActive = function (a, b, c) {
                        var d,
                            e,
                            f = [],
                            g = this.getChildren(a || null == a, b || null == a, !!c),
                            h = 0,
                            i = g.length;
                        for (d = 0; i > d; d++) ((e = g[d]), e.isActive() && (f[h++] = e));
                        return f;
                    }),
                    (k.getLabelAfter = function (a) {
                        a || (0 !== a && (a = this._time));
                        var b,
                            c = this.getLabelsArray(),
                            d = c.length;
                        for (b = 0; d > b; b++) if (c[b].time > a) return c[b].name;
                        return null;
                    }),
                    (k.getLabelBefore = function (a) {
                        null == a && (a = this._time);
                        for (var b = this.getLabelsArray(), c = b.length; --c > -1; ) if (b[c].time < a) return b[c].name;
                        return null;
                    }),
                    (k.getLabelsArray = function () {
                        var a,
                            b = [],
                            c = 0;
                        for (a in this._labels) b[c++] = { time: this._labels[a], name: a };
                        return (
                            b.sort(function (a, b) {
                                return a.time - b.time;
                            }),
                            b
                        );
                    }),
                    (k.invalidate = function () {
                        return ((this._locked = !1), a.prototype.invalidate.call(this));
                    }),
                    (k.progress = function (a, b) {
                        return arguments.length ? this.totalTime(this.duration() * (this._yoyo && 0 !== (1 & this._cycle) ? 1 - a : a) + this._cycle * (this._duration + this._repeatDelay), b) : this._time / this.duration() || 0;
                    }),
                    (k.totalProgress = function (a, b) {
                        return arguments.length ? this.totalTime(this.totalDuration() * a, b) : this._totalTime / this.totalDuration() || 0;
                    }),
                    (k.totalDuration = function (b) {
                        return arguments.length ? (-1 !== this._repeat && b ? this.timeScale(this.totalDuration() / b) : this) : (this._dirty && (a.prototype.totalDuration.call(this), (this._totalDuration = -1 === this._repeat ? 999999999999 : this._duration * (this._repeat + 1) + this._repeatDelay * this._repeat)), this._totalDuration);
                    }),
                    (k.time = function (a, b) {
                        if (!arguments.length) return this._time;
                        this._dirty && this.totalDuration();
                        var c = this._duration,
                            d = this._cycle,
                            e = d * (c + this._repeatDelay);
                        return (a > c && (a = c), this.totalTime(this._yoyo && 1 & d ? c - a + e : this._repeat ? a + e : a, b));
                    }),
                    (k.repeat = function (a) {
                        return arguments.length ? ((this._repeat = a), this._uncache(!0)) : this._repeat;
                    }),
                    (k.repeatDelay = function (a) {
                        return arguments.length ? ((this._repeatDelay = a), this._uncache(!0)) : this._repeatDelay;
                    }),
                    (k.yoyo = function (a) {
                        return arguments.length ? ((this._yoyo = a), this) : this._yoyo;
                    }),
                    (k.currentLabel = function (a) {
                        return arguments.length ? this.seek(a, !0) : this.getLabelBefore(this._time + e);
                    }),
                    d
                );
            },
            !0
        ),
        (function () {
            var a = 180 / Math.PI,
                b = [],
                c = [],
                d = [],
                e = {},
                f = _gsScope._gsDefine.globals,
                g = function (a, b, c, d) {
                    (c === d && (c = d - (d - b) / 1e6), a === b && (b = a + (c - a) / 1e6), (this.a = a), (this.b = b), (this.c = c), (this.d = d), (this.da = d - a), (this.ca = c - a), (this.ba = b - a));
                },
                h = ',x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,',
                i = function (a, b, c, d) {
                    var e = { a: a },
                        f = {},
                        g = {},
                        h = { c: d },
                        i = (a + b) / 2,
                        j = (b + c) / 2,
                        k = (c + d) / 2,
                        l = (i + j) / 2,
                        m = (j + k) / 2,
                        n = (m - l) / 8;
                    return ((e.b = i + (a - i) / 4), (f.b = l + n), (e.c = f.a = (e.b + f.b) / 2), (f.c = g.a = (l + m) / 2), (g.b = m - n), (h.b = k + (d - k) / 4), (g.c = h.a = (g.b + h.b) / 2), [e, f, g, h]);
                },
                j = function (a, e, f, g, h) {
                    var j,
                        k,
                        l,
                        m,
                        n,
                        o,
                        p,
                        q,
                        r,
                        s,
                        t,
                        u,
                        v,
                        w = a.length - 1,
                        x = 0,
                        y = a[0].a;
                    for (j = 0; w > j; j++) ((n = a[x]), (k = n.a), (l = n.d), (m = a[x + 1].d), h ? ((t = b[j]), (u = c[j]), (v = ((u + t) * e * 0.25) / (g ? 0.5 : d[j] || 0.5)), (o = l - (l - k) * (g ? 0.5 * e : 0 !== t ? v / t : 0)), (p = l + (m - l) * (g ? 0.5 * e : 0 !== u ? v / u : 0)), (q = l - (o + (((p - o) * ((3 * t) / (t + u) + 0.5)) / 4 || 0)))) : ((o = l - (l - k) * e * 0.5), (p = l + (m - l) * e * 0.5), (q = l - (o + p) / 2)), (o += q), (p += q), (n.c = r = o), 0 !== j ? (n.b = y) : (n.b = y = n.a + 0.6 * (n.c - n.a)), (n.da = l - k), (n.ca = r - k), (n.ba = y - k), f ? ((s = i(k, y, r, l)), a.splice(x, 1, s[0], s[1], s[2], s[3]), (x += 4)) : x++, (y = p));
                    ((n = a[x]), (n.b = y), (n.c = y + 0.4 * (n.d - y)), (n.da = n.d - n.a), (n.ca = n.c - n.a), (n.ba = y - n.a), f && ((s = i(n.a, y, n.c, n.d)), a.splice(x, 1, s[0], s[1], s[2], s[3])));
                },
                k = function (a, d, e, f) {
                    var h,
                        i,
                        j,
                        k,
                        l,
                        m,
                        n = [];
                    if (f) for (a = [f].concat(a), i = a.length; --i > -1; ) 'string' == typeof (m = a[i][d]) && '=' === m.charAt(1) && (a[i][d] = f[d] + Number(m.charAt(0) + m.substr(2)));
                    if (((h = a.length - 2), 0 > h)) return ((n[0] = new g(a[0][d], 0, 0, a[0][d])), n);
                    for (i = 0; h > i; i++) ((j = a[i][d]), (k = a[i + 1][d]), (n[i] = new g(j, 0, 0, k)), e && ((l = a[i + 2][d]), (b[i] = (b[i] || 0) + (k - j) * (k - j)), (c[i] = (c[i] || 0) + (l - k) * (l - k))));
                    return ((n[i] = new g(a[i][d], 0, 0, a[i + 1][d])), n);
                },
                l = function (a, f, g, i, l, m) {
                    var n,
                        o,
                        p,
                        q,
                        r,
                        s,
                        t,
                        u,
                        v = {},
                        w = [],
                        x = m || a[0];
                    ((l = 'string' == typeof l ? ',' + l + ',' : h), null == f && (f = 1));
                    for (o in a[0]) w.push(o);
                    if (a.length > 1) {
                        for (u = a[a.length - 1], t = !0, n = w.length; --n > -1; )
                            if (((o = w[n]), Math.abs(x[o] - u[o]) > 0.05)) {
                                t = !1;
                                break;
                            }
                        t && ((a = a.concat()), m && a.unshift(m), a.push(a[1]), (m = a[a.length - 3]));
                    }
                    for (b.length = c.length = d.length = 0, n = w.length; --n > -1; ) ((o = w[n]), (e[o] = -1 !== l.indexOf(',' + o + ',')), (v[o] = k(a, o, e[o], m)));
                    for (n = b.length; --n > -1; ) ((b[n] = Math.sqrt(b[n])), (c[n] = Math.sqrt(c[n])));
                    if (!i) {
                        for (n = w.length; --n > -1; ) if (e[o]) for (p = v[w[n]], s = p.length - 1, q = 0; s > q; q++) ((r = p[q + 1].da / c[q] + p[q].da / b[q] || 0), (d[q] = (d[q] || 0) + r * r));
                        for (n = d.length; --n > -1; ) d[n] = Math.sqrt(d[n]);
                    }
                    for (n = w.length, q = g ? 4 : 1; --n > -1; ) ((o = w[n]), (p = v[o]), j(p, f, g, i, e[o]), t && (p.splice(0, q), p.splice(p.length - q, q)));
                    return v;
                },
                m = function (a, b, c) {
                    b = b || 'soft';
                    var d,
                        e,
                        f,
                        h,
                        i,
                        j,
                        k,
                        l,
                        m,
                        n,
                        o,
                        p = {},
                        q = 'cubic' === b ? 3 : 2,
                        r = 'soft' === b,
                        s = [];
                    if ((r && c && (a = [c].concat(a)), null == a || a.length < q + 1)) throw 'invalid Bezier data';
                    for (m in a[0]) s.push(m);
                    for (j = s.length; --j > -1; ) {
                        for (m = s[j], p[m] = i = [], n = 0, l = a.length, k = 0; l > k; k++) ((d = null == c ? a[k][m] : 'string' == typeof (o = a[k][m]) && '=' === o.charAt(1) ? c[m] + Number(o.charAt(0) + o.substr(2)) : Number(o)), r && k > 1 && l - 1 > k && (i[n++] = (d + i[n - 2]) / 2), (i[n++] = d));
                        for (l = n - q + 1, n = 0, k = 0; l > k; k += q) ((d = i[k]), (e = i[k + 1]), (f = i[k + 2]), (h = 2 === q ? 0 : i[k + 3]), (i[n++] = o = 3 === q ? new g(d, e, f, h) : new g(d, (2 * e + d) / 3, (2 * e + f) / 3, f)));
                        i.length = n;
                    }
                    return p;
                },
                n = function (a, b, c) {
                    for (var d, e, f, g, h, i, j, k, l, m, n, o = 1 / c, p = a.length; --p > -1; ) for (m = a[p], f = m.a, g = m.d - f, h = m.c - f, i = m.b - f, d = e = 0, k = 1; c >= k; k++) ((j = o * k), (l = 1 - j), (d = e - (e = (j * j * g + 3 * l * (j * h + l * i)) * j)), (n = p * c + k - 1), (b[n] = (b[n] || 0) + d * d));
                },
                o = function (a, b) {
                    b = b >> 0 || 6;
                    var c,
                        d,
                        e,
                        f,
                        g = [],
                        h = [],
                        i = 0,
                        j = 0,
                        k = b - 1,
                        l = [],
                        m = [];
                    for (c in a) n(a[c], g, b);
                    for (e = g.length, d = 0; e > d; d++) ((i += Math.sqrt(g[d])), (f = d % b), (m[f] = i), f === k && ((j += i), (f = (d / b) >> 0), (l[f] = m), (h[f] = j), (i = 0), (m = [])));
                    return { length: j, lengths: h, segments: l };
                },
                p = _gsScope._gsDefine.plugin({
                    propName: 'bezier',
                    priority: -1,
                    version: '1.3.9',
                    API: 2,
                    global: !0,
                    init: function (a, b, c) {
                        ((this._target = a), b instanceof Array && (b = { values: b }), (this._func = {}), (this._mod = {}), (this._props = []), (this._timeRes = null == b.timeResolution ? 6 : parseInt(b.timeResolution, 10)));
                        var d,
                            e,
                            f,
                            g,
                            h,
                            i = b.values || [],
                            j = {},
                            k = i[0],
                            n = b.autoRotate || c.vars.orientToBezier;
                        this._autoRotate = n ? (n instanceof Array ? n : [['x', 'y', 'rotation', n === !0 ? 0 : Number(n) || 0]]) : null;
                        for (d in k) this._props.push(d);
                        for (f = this._props.length; --f > -1; ) ((d = this._props[f]), this._overwriteProps.push(d), (e = this._func[d] = 'function' == typeof a[d]), (j[d] = e ? a[d.indexOf('set') || 'function' != typeof a['get' + d.substr(3)] ? d : 'get' + d.substr(3)]() : parseFloat(a[d])), h || (j[d] !== i[0][d] && (h = j)));
                        if (((this._beziers = 'cubic' !== b.type && 'quadratic' !== b.type && 'soft' !== b.type ? l(i, isNaN(b.curviness) ? 1 : b.curviness, !1, 'thruBasic' === b.type, b.correlate, h) : m(i, b.type, j)), (this._segCount = this._beziers[d].length), this._timeRes)) {
                            var p = o(this._beziers, this._timeRes);
                            ((this._length = p.length), (this._lengths = p.lengths), (this._segments = p.segments), (this._l1 = this._li = this._s1 = this._si = 0), (this._l2 = this._lengths[0]), (this._curSeg = this._segments[0]), (this._s2 = this._curSeg[0]), (this._prec = 1 / this._curSeg.length));
                        }
                        if ((n = this._autoRotate))
                            for (this._initialRotations = [], n[0] instanceof Array || (this._autoRotate = n = [n]), f = n.length; --f > -1; ) {
                                for (g = 0; 3 > g; g++) ((d = n[f][g]), (this._func[d] = 'function' == typeof a[d] ? a[d.indexOf('set') || 'function' != typeof a['get' + d.substr(3)] ? d : 'get' + d.substr(3)] : !1));
                                ((d = n[f][2]), (this._initialRotations[f] = (this._func[d] ? this._func[d].call(this._target) : this._target[d]) || 0), this._overwriteProps.push(d));
                            }
                        return ((this._startRatio = c.vars.runBackwards ? 1 : 0), !0);
                    },
                    set: function (b) {
                        var c,
                            d,
                            e,
                            f,
                            g,
                            h,
                            i,
                            j,
                            k,
                            l,
                            m,
                            n = this._segCount,
                            o = this._func,
                            p = this._target,
                            q = b !== this._startRatio;
                        if (this._timeRes) {
                            if (((k = this._lengths), (l = this._curSeg), (m = b * this._length), (e = this._li), m > this._l2 && n - 1 > e)) {
                                for (j = n - 1; j > e && (this._l2 = k[++e]) <= m; );
                                ((this._l1 = k[e - 1]), (this._li = e), (this._curSeg = l = this._segments[e]), (this._s2 = l[(this._s1 = this._si = 0)]));
                            } else if (m < this._l1 && e > 0) {
                                for (; e > 0 && (this._l1 = k[--e]) >= m; );
                                (0 === e && m < this._l1 ? (this._l1 = 0) : e++, (this._l2 = k[e]), (this._li = e), (this._curSeg = l = this._segments[e]), (this._s1 = l[(this._si = l.length - 1) - 1] || 0), (this._s2 = l[this._si]));
                            }
                            if (((c = e), (m -= this._l1), (e = this._si), m > this._s2 && e < l.length - 1)) {
                                for (j = l.length - 1; j > e && (this._s2 = l[++e]) <= m; );
                                ((this._s1 = l[e - 1]), (this._si = e));
                            } else if (m < this._s1 && e > 0) {
                                for (; e > 0 && (this._s1 = l[--e]) >= m; );
                                (0 === e && m < this._s1 ? (this._s1 = 0) : e++, (this._s2 = l[e]), (this._si = e));
                            }
                            h = 1 === b ? 1 : (e + (m - this._s1) / (this._s2 - this._s1)) * this._prec || 0;
                        } else ((c = 0 > b ? 0 : b >= 1 ? n - 1 : (n * b) >> 0), (h = (b - c * (1 / n)) * n));
                        for (d = 1 - h, e = this._props.length; --e > -1; ) ((f = this._props[e]), (g = this._beziers[f][c]), (i = (h * h * g.da + 3 * d * (h * g.ca + d * g.ba)) * h + g.a), this._mod[f] && (i = this._mod[f](i, p)), o[f] ? p[f](i) : (p[f] = i));
                        if (this._autoRotate) {
                            var r,
                                s,
                                t,
                                u,
                                v,
                                w,
                                x,
                                y = this._autoRotate;
                            for (e = y.length; --e > -1; ) ((f = y[e][2]), (w = y[e][3] || 0), (x = y[e][4] === !0 ? 1 : a), (g = this._beziers[y[e][0]]), (r = this._beziers[y[e][1]]), g && r && ((g = g[c]), (r = r[c]), (s = g.a + (g.b - g.a) * h), (u = g.b + (g.c - g.b) * h), (s += (u - s) * h), (u += (g.c + (g.d - g.c) * h - u) * h), (t = r.a + (r.b - r.a) * h), (v = r.b + (r.c - r.b) * h), (t += (v - t) * h), (v += (r.c + (r.d - r.c) * h - v) * h), (i = q ? Math.atan2(v - t, u - s) * x + w : this._initialRotations[e]), this._mod[f] && (i = this._mod[f](i, p)), o[f] ? p[f](i) : (p[f] = i)));
                        }
                    },
                }),
                q = p.prototype;
            ((p.bezierThrough = l),
                (p.cubicToQuadratic = i),
                (p._autoCSS = !0),
                (p.quadraticToCubic = function (a, b, c) {
                    return new g(a, (2 * b + a) / 3, (2 * b + c) / 3, c);
                }),
                (p._cssRegister = function () {
                    var a = f.CSSPlugin;
                    if (a) {
                        var b = a._internals,
                            c = b._parseToProxy,
                            d = b._setPluginRatio,
                            e = b.CSSPropTween;
                        b._registerComplexSpecialProp('bezier', {
                            parser: function (a, b, f, g, h, i) {
                                (b instanceof Array && (b = { values: b }), (i = new p()));
                                var j,
                                    k,
                                    l,
                                    m = b.values,
                                    n = m.length - 1,
                                    o = [],
                                    q = {};
                                if (0 > n) return h;
                                for (j = 0; n >= j; j++) ((l = c(a, m[j], g, h, i, n !== j)), (o[j] = l.end));
                                for (k in b) q[k] = b[k];
                                return ((q.values = o), (h = new e(a, 'bezier', 0, 0, l.pt, 2)), (h.data = l), (h.plugin = i), (h.setRatio = d), 0 === q.autoRotate && (q.autoRotate = !0), !q.autoRotate || q.autoRotate instanceof Array || ((j = q.autoRotate === !0 ? 0 : Number(q.autoRotate)), (q.autoRotate = null != l.end.left ? [['left', 'top', 'rotation', j, !1]] : null != l.end.x ? [['x', 'y', 'rotation', j, !1]] : !1)), q.autoRotate && (g._transform || g._enableTransforms(!1), (l.autoRotate = g._target._gsTransform), (l.proxy.rotation = l.autoRotate.rotation || 0), g._overwriteProps.push('rotation')), i._onInitTween(l.proxy, q, g._tween), h);
                            },
                        });
                    }
                }),
                (q._mod = function (a) {
                    for (var b, c = this._overwriteProps, d = c.length; --d > -1; ) ((b = a[c[d]]), b && 'function' == typeof b && (this._mod[c[d]] = b));
                }),
                (q._kill = function (a) {
                    var b,
                        c,
                        d = this._props;
                    for (b in this._beziers) if (b in a) for (delete this._beziers[b], delete this._func[b], c = d.length; --c > -1; ) d[c] === b && d.splice(c, 1);
                    if ((d = this._autoRotate)) for (c = d.length; --c > -1; ) a[d[c][2]] && d.splice(c, 1);
                    return this._super._kill.call(this, a);
                }));
        })(),
        _gsScope._gsDefine(
            'plugins.CSSPlugin',
            ['plugins.TweenPlugin', 'TweenLite'],
            function (a, b) {
                var c,
                    d,
                    e,
                    f,
                    g = function () {
                        (a.call(this, 'css'), (this._overwriteProps.length = 0), (this.setRatio = g.prototype.setRatio));
                    },
                    h = _gsScope._gsDefine.globals,
                    i = {},
                    j = (g.prototype = new a('css'));
                ((j.constructor = g), (g.version = '2.1.3'), (g.API = 2), (g.defaultTransformPerspective = 0), (g.defaultSkewType = 'compensated'), (g.defaultSmoothOrigin = !0), (j = 'px'), (g.suffixMap = { top: j, right: j, bottom: j, left: j, width: j, height: j, fontSize: j, padding: j, margin: j, perspective: j, lineHeight: '' }));
                var k,
                    l,
                    m,
                    n,
                    o,
                    p,
                    q,
                    r,
                    s = /(?:\-|\.|\b)(\d|\.|e\-)+/g,
                    t = /(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,
                    u = /(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,
                    v = /(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b),?/gi,
                    w = /(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,
                    x = /(?:\d|\-|\+|=|#|\.)*/g,
                    y = /opacity *= *([^)]*)/i,
                    z = /opacity:([^;]*)/i,
                    A = /alpha\(opacity *=.+?\)/i,
                    B = /^(rgb|hsl)/,
                    C = /([A-Z])/g,
                    D = /-([a-z])/gi,
                    E = /(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,
                    F = function (a, b) {
                        return b.toUpperCase();
                    },
                    G = /(?:Left|Right|Width)/i,
                    H = /(M11|M12|M21|M22)=[\d\-\.e]+/gi,
                    I = /progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,
                    J = /,(?=[^\)]*(?:\(|$))/gi,
                    K = /[\s,\(]/i,
                    L = Math.PI / 180,
                    M = 180 / Math.PI,
                    N = {},
                    O = { style: {} },
                    P = _gsScope.document || {
                        createElement: function () {
                            return O;
                        },
                    },
                    Q = function (a, b) {
                        var c = P.createElementNS ? P.createElementNS(b || 'http://www.w3.org/1999/xhtml', a) : P.createElement(a);
                        return c.style ? c : P.createElement(a);
                    },
                    R = Q('div'),
                    S = Q('img'),
                    T = (g._internals = { _specialProps: i }),
                    U = (_gsScope.navigator || {}).userAgent || '',
                    V = (function () {
                        var a = U.indexOf('Android'),
                            b = Q('a');
                        return ((m = -1 !== U.indexOf('Safari') && -1 === U.indexOf('Chrome') && (-1 === a || parseFloat(U.substr(a + 8, 2)) > 3)), (o = m && parseFloat(U.substr(U.indexOf('Version/') + 8, 2)) < 6), (n = -1 !== U.indexOf('Firefox')), (/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(U) || /Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(U)) && (p = parseFloat(RegExp.$1)), b ? ((b.style.cssText = 'top:1px;opacity:.55;'), /^0.55/.test(b.style.opacity)) : !1);
                    })(),
                    W = function (a) {
                        return y.test('string' == typeof a ? a : (a.currentStyle ? a.currentStyle.filter : a.style.filter) || '') ? parseFloat(RegExp.$1) / 100 : 1;
                    },
                    X = function (a) {
                        _gsScope.console && console.log(a);
                    },
                    Y = '',
                    Z = '',
                    $ = function (a, b) {
                        b = b || R;
                        var c,
                            d,
                            e = b.style;
                        if (void 0 !== e[a]) return a;
                        for (a = a.charAt(0).toUpperCase() + a.substr(1), c = ['O', 'Moz', 'ms', 'Ms', 'Webkit'], d = 5; --d > -1 && void 0 === e[c[d] + a]; );
                        return d >= 0 ? ((Z = 3 === d ? 'ms' : c[d]), (Y = '-' + Z.toLowerCase() + '-'), Z + a) : null;
                    },
                    _ = 'undefined' != typeof window ? window : P.defaultView || { getComputedStyle: function () {} },
                    aa = function (a) {
                        return _.getComputedStyle(a);
                    },
                    ba = (g.getStyle = function (a, b, c, d, e) {
                        var f;
                        return V || 'opacity' !== b ? (!d && a.style[b] ? (f = a.style[b]) : (c = c || aa(a)) ? (f = c[b] || c.getPropertyValue(b) || c.getPropertyValue(b.replace(C, '-$1').toLowerCase())) : a.currentStyle && (f = a.currentStyle[b]), null == e || (f && 'none' !== f && 'auto' !== f && 'auto auto' !== f) ? f : e) : W(a);
                    }),
                    ca = (T.convertToPixels = function (a, c, d, e, f) {
                        if ('px' === e || (!e && 'lineHeight' !== c)) return d;
                        if ('auto' === e || !d) return 0;
                        var h,
                            i,
                            j,
                            k = G.test(c),
                            l = a,
                            m = R.style,
                            n = 0 > d,
                            o = 1 === d;
                        if ((n && (d = -d), o && (d *= 100), 'lineHeight' !== c || e))
                            if ('%' === e && -1 !== c.indexOf('border')) h = (d / 100) * (k ? a.clientWidth : a.clientHeight);
                            else {
                                if (((m.cssText = 'border:0 solid red;position:' + ba(a, 'position') + ';line-height:0;'), '%' !== e && l.appendChild && 'v' !== e.charAt(0) && 'rem' !== e)) m[k ? 'borderLeftWidth' : 'borderTopWidth'] = d + e;
                                else {
                                    if (((l = a.parentNode || P.body), -1 !== ba(l, 'display').indexOf('flex') && (m.position = 'absolute'), (i = l._gsCache), (j = b.ticker.frame), i && k && i.time === j)) return (i.width * d) / 100;
                                    m[k ? 'width' : 'height'] = d + e;
                                }
                                (l.appendChild(R), (h = parseFloat(R[k ? 'offsetWidth' : 'offsetHeight'])), l.removeChild(R), k && '%' === e && g.cacheWidths !== !1 && ((i = l._gsCache = l._gsCache || {}), (i.time = j), (i.width = (h / d) * 100)), 0 !== h || f || (h = ca(a, c, d, e, !0)));
                            }
                        else ((i = aa(a).lineHeight), (a.style.lineHeight = d), (h = parseFloat(aa(a).lineHeight)), (a.style.lineHeight = i));
                        return (o && (h /= 100), n ? -h : h);
                    }),
                    da = (T.calculateOffset = function (a, b, c) {
                        if ('absolute' !== ba(a, 'position', c)) return 0;
                        var d = 'left' === b ? 'Left' : 'Top',
                            e = ba(a, 'margin' + d, c);
                        return a['offset' + d] - (ca(a, b, parseFloat(e), e.replace(x, '')) || 0);
                    }),
                    ea = function (a, b) {
                        var c,
                            d,
                            e,
                            f = {};
                        if ((b = b || aa(a, null)))
                            if ((c = b.length)) for (; --c > -1; ) ((e = b[c]), (-1 === e.indexOf('-transform') || Fa === e) && (f[e.replace(D, F)] = b.getPropertyValue(e)));
                            else for (c in b) (-1 === c.indexOf('Transform') || Ea === c) && (f[c] = b[c]);
                        else if ((b = a.currentStyle || a.style)) for (c in b) 'string' == typeof c && void 0 === f[c] && (f[c.replace(D, F)] = b[c]);
                        return (V || (f.opacity = W(a)), (d = Ta(a, b, !1)), (f.rotation = d.rotation), (f.skewX = d.skewX), (f.scaleX = d.scaleX), (f.scaleY = d.scaleY), (f.x = d.x), (f.y = d.y), Ha && ((f.z = d.z), (f.rotationX = d.rotationX), (f.rotationY = d.rotationY), (f.scaleZ = d.scaleZ)), f.filters && delete f.filters, f);
                    },
                    fa = function (a, b, c, d, e) {
                        var f,
                            g,
                            h,
                            i = {},
                            j = a.style;
                        for (g in c) 'cssText' !== g && 'length' !== g && isNaN(g) && (b[g] !== (f = c[g]) || (e && e[g])) && -1 === g.indexOf('Origin') && ('number' == typeof f || 'string' == typeof f) && ((i[g] = 'auto' !== f || ('left' !== g && 'top' !== g) ? (('' !== f && 'auto' !== f && 'none' !== f) || 'string' != typeof b[g] || '' === b[g].replace(w, '') ? f : 0) : da(a, g)), void 0 !== j[g] && (h = new ua(j, g, j[g], h)));
                        if (d) for (g in d) 'className' !== g && (i[g] = d[g]);
                        return { difs: i, firstMPT: h };
                    },
                    ga = { width: ['Left', 'Right'], height: ['Top', 'Bottom'] },
                    ha = ['marginLeft', 'marginRight', 'marginTop', 'marginBottom'],
                    ia = function (a, b, c) {
                        if ('svg' === (a.nodeName + '').toLowerCase()) return (c || aa(a))[b] || 0;
                        if (a.getCTM && Qa(a)) return a.getBBox()[b] || 0;
                        var d = parseFloat('width' === b ? a.offsetWidth : a.offsetHeight),
                            e = ga[b],
                            f = e.length;
                        for (c = c || aa(a, null); --f > -1; ) ((d -= parseFloat(ba(a, 'padding' + e[f], c, !0)) || 0), (d -= parseFloat(ba(a, 'border' + e[f] + 'Width', c, !0)) || 0));
                        return d;
                    },
                    ja = function (a, b) {
                        if ('contain' === a || 'auto' === a || 'auto auto' === a) return a + ' ';
                        (null == a || '' === a) && (a = '0 0');
                        var c,
                            d = a.split(' '),
                            e = -1 !== a.indexOf('left') ? '0%' : -1 !== a.indexOf('right') ? '100%' : d[0],
                            f = -1 !== a.indexOf('top') ? '0%' : -1 !== a.indexOf('bottom') ? '100%' : d[1];
                        if (d.length > 3 && !b) {
                            for (d = a.split(', ').join(',').split(','), a = [], c = 0; c < d.length; c++) a.push(ja(d[c]));
                            return a.join(',');
                        }
                        return (null == f ? (f = 'center' === e ? '50%' : '0') : 'center' === f && (f = '50%'), ('center' === e || (isNaN(parseFloat(e)) && -1 === (e + '').indexOf('='))) && (e = '50%'), (a = e + ' ' + f + (d.length > 2 ? ' ' + d[2] : '')), b && ((b.oxp = -1 !== e.indexOf('%')), (b.oyp = -1 !== f.indexOf('%')), (b.oxr = '=' === e.charAt(1)), (b.oyr = '=' === f.charAt(1)), (b.ox = parseFloat(e.replace(w, ''))), (b.oy = parseFloat(f.replace(w, ''))), (b.v = a)), b || a);
                    },
                    ka = function (a, b) {
                        return ('function' == typeof a && (a = a(r, q)), 'string' == typeof a && '=' === a.charAt(1) ? parseInt(a.charAt(0) + '1', 10) * parseFloat(a.substr(2)) : parseFloat(a) - parseFloat(b) || 0);
                    },
                    la = function (a, b) {
                        'function' == typeof a && (a = a(r, q));
                        var c = 'string' == typeof a && '=' === a.charAt(1);
                        return ('string' == typeof a && 'v' === a.charAt(a.length - 2) && (a = (c ? a.substr(0, 2) : 0) + window['inner' + ('vh' === a.substr(-2) ? 'Height' : 'Width')] * (parseFloat(c ? a.substr(2) : a) / 100)), null == a ? b : c ? parseInt(a.charAt(0) + '1', 10) * parseFloat(a.substr(2)) + b : parseFloat(a) || 0);
                    },
                    ma = function (a, b, c, d) {
                        var e,
                            f,
                            g,
                            h,
                            i,
                            j = 1e-6;
                        return ('function' == typeof a && (a = a(r, q)), null == a ? (h = b) : 'number' == typeof a ? (h = a) : ((e = 360), (f = a.split('_')), (i = '=' === a.charAt(1)), (g = (i ? parseInt(a.charAt(0) + '1', 10) * parseFloat(f[0].substr(2)) : parseFloat(f[0])) * (-1 === a.indexOf('rad') ? 1 : M) - (i ? 0 : b)), f.length && (d && (d[c] = b + g), -1 !== a.indexOf('short') && ((g %= e), g !== g % (e / 2) && (g = 0 > g ? g + e : g - e)), -1 !== a.indexOf('_cw') && 0 > g ? (g = ((g + 9999999999 * e) % e) - ((g / e) | 0) * e) : -1 !== a.indexOf('ccw') && g > 0 && (g = ((g - 9999999999 * e) % e) - ((g / e) | 0) * e)), (h = b + g)), j > h && h > -j && (h = 0), h);
                    },
                    na = { aqua: [0, 255, 255], lime: [0, 255, 0], silver: [192, 192, 192], black: [0, 0, 0], maroon: [128, 0, 0], teal: [0, 128, 128], blue: [0, 0, 255], navy: [0, 0, 128], white: [255, 255, 255], fuchsia: [255, 0, 255], olive: [128, 128, 0], yellow: [255, 255, 0], orange: [255, 165, 0], gray: [128, 128, 128], purple: [128, 0, 128], green: [0, 128, 0], red: [255, 0, 0], pink: [255, 192, 203], cyan: [0, 255, 255], transparent: [255, 255, 255, 0] },
                    oa = function (a, b, c) {
                        return ((a = 0 > a ? a + 1 : a > 1 ? a - 1 : a), (255 * (1 > 6 * a ? b + (c - b) * a * 6 : 0.5 > a ? c : 2 > 3 * a ? b + (c - b) * (2 / 3 - a) * 6 : b) + 0.5) | 0);
                    },
                    pa = (g.parseColor = function (a, b) {
                        var c, d, e, f, g, h, i, j, k, l, m;
                        if (a)
                            if ('number' == typeof a) c = [a >> 16, (a >> 8) & 255, 255 & a];
                            else {
                                if ((',' === a.charAt(a.length - 1) && (a = a.substr(0, a.length - 1)), na[a])) c = na[a];
                                else if ('#' === a.charAt(0)) (4 === a.length && ((d = a.charAt(1)), (e = a.charAt(2)), (f = a.charAt(3)), (a = '#' + d + d + e + e + f + f)), (a = parseInt(a.substr(1), 16)), (c = [a >> 16, (a >> 8) & 255, 255 & a]));
                                else if ('hsl' === a.substr(0, 3))
                                    if (((c = m = a.match(s)), b)) {
                                        if (-1 !== a.indexOf('=')) return a.match(t);
                                    } else ((g = (Number(c[0]) % 360) / 360), (h = Number(c[1]) / 100), (i = Number(c[2]) / 100), (e = 0.5 >= i ? i * (h + 1) : i + h - i * h), (d = 2 * i - e), c.length > 3 && (c[3] = Number(c[3])), (c[0] = oa(g + 1 / 3, d, e)), (c[1] = oa(g, d, e)), (c[2] = oa(g - 1 / 3, d, e)));
                                else c = a.match(s) || na.transparent;
                                ((c[0] = Number(c[0])), (c[1] = Number(c[1])), (c[2] = Number(c[2])), c.length > 3 && (c[3] = Number(c[3])));
                            }
                        else c = na.black;
                        return (b && !m && ((d = c[0] / 255), (e = c[1] / 255), (f = c[2] / 255), (j = Math.max(d, e, f)), (k = Math.min(d, e, f)), (i = (j + k) / 2), j === k ? (g = h = 0) : ((l = j - k), (h = i > 0.5 ? l / (2 - j - k) : l / (j + k)), (g = j === d ? (e - f) / l + (f > e ? 6 : 0) : j === e ? (f - d) / l + 2 : (d - e) / l + 4), (g *= 60)), (c[0] = (g + 0.5) | 0), (c[1] = (100 * h + 0.5) | 0), (c[2] = (100 * i + 0.5) | 0)), c);
                    }),
                    qa = function (a, b) {
                        var c,
                            d,
                            e,
                            f = a.match(ra) || [],
                            g = 0,
                            h = '';
                        if (!f.length) return a;
                        for (c = 0; c < f.length; c++) ((d = f[c]), (e = a.substr(g, a.indexOf(d, g) - g)), (g += e.length + d.length), (d = pa(d, b)), 3 === d.length && d.push(1), (h += e + (b ? 'hsla(' + d[0] + ',' + d[1] + '%,' + d[2] + '%,' + d[3] : 'rgba(' + d.join(',')) + ')'));
                        return h + a.substr(g);
                    },
                    ra = '(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b';
                for (j in na) ra += '|' + j + '\\b';
                ((ra = new RegExp(ra + ')', 'gi')),
                    (g.colorStringFilter = function (a) {
                        var b,
                            c = a[0] + ' ' + a[1];
                        (ra.test(c) && ((b = -1 !== c.indexOf('hsl(') || -1 !== c.indexOf('hsla(')), (a[0] = qa(a[0], b)), (a[1] = qa(a[1], b))), (ra.lastIndex = 0));
                    }),
                    b.defaultStringFilter || (b.defaultStringFilter = g.colorStringFilter));
                var sa = function (a, b, c, d) {
                        if (null == a)
                            return function (a) {
                                return a;
                            };
                        var e,
                            f = b ? (a.match(ra) || [''])[0] : '',
                            g = a.split(f).join('').match(u) || [],
                            h = a.substr(0, a.indexOf(g[0])),
                            i = ')' === a.charAt(a.length - 1) ? ')' : '',
                            j = -1 !== a.indexOf(' ') ? ' ' : ',',
                            k = g.length,
                            l = k > 0 ? g[0].replace(s, '') : '';
                        return k
                            ? (e = b
                                  ? function (a) {
                                        var b, m, n, o;
                                        if ('number' == typeof a) a += l;
                                        else if (d && J.test(a)) {
                                            for (o = a.replace(J, '|').split('|'), n = 0; n < o.length; n++) o[n] = e(o[n]);
                                            return o.join(',');
                                        }
                                        if (((b = (a.match(ra) || [f])[0]), (m = a.split(b).join('').match(u) || []), (n = m.length), k > n--)) for (; ++n < k; ) m[n] = c ? m[((n - 1) / 2) | 0] : g[n];
                                        return h + m.join(j) + j + b + i + (-1 !== a.indexOf('inset') ? ' inset' : '');
                                    }
                                  : function (a) {
                                        var b, f, m;
                                        if ('number' == typeof a) a += l;
                                        else if (d && J.test(a)) {
                                            for (f = a.replace(J, '|').split('|'), m = 0; m < f.length; m++) f[m] = e(f[m]);
                                            return f.join(',');
                                        }
                                        if (((b = a.match(',' === j ? u : v) || []), (m = b.length), k > m--)) for (; ++m < k; ) b[m] = c ? b[((m - 1) / 2) | 0] : g[m];
                                        return (h && 'none' !== a ? a.substr(0, a.indexOf(b[0])) || h : h) + b.join(j) + i;
                                    })
                            : function (a) {
                                  return a;
                              };
                    },
                    ta = function (a) {
                        return (
                            (a = a.split(',')),
                            function (b, c, d, e, f, g, h) {
                                var i,
                                    j = (c + '').split(' ');
                                for (h = {}, i = 0; 4 > i; i++) h[a[i]] = j[i] = j[i] || j[((i - 1) / 2) >> 0];
                                return e.parse(b, h, f, g);
                            }
                        );
                    },
                    ua =
                        ((T._setPluginRatio = function (a) {
                            this.plugin.setRatio(a);
                            for (var b, c, d, e, f, g = this.data, h = g.proxy, i = g.firstMPT, j = 1e-6; i; ) ((b = h[i.v]), i.r ? (b = i.r(b)) : j > b && b > -j && (b = 0), (i.t[i.p] = b), (i = i._next));
                            if ((g.autoRotate && (g.autoRotate.rotation = g.mod ? g.mod.call(this._tween, h.rotation, this.t, this._tween) : h.rotation), 1 === a || 0 === a))
                                for (i = g.firstMPT, f = 1 === a ? 'e' : 'b'; i; ) {
                                    if (((c = i.t), c.type)) {
                                        if (1 === c.type) {
                                            for (e = c.xs0 + c.s + c.xs1, d = 1; d < c.l; d++) e += c['xn' + d] + c['xs' + (d + 1)];
                                            c[f] = e;
                                        }
                                    } else c[f] = c.s + c.xs0;
                                    i = i._next;
                                }
                        }),
                        function (a, b, c, d, e) {
                            ((this.t = a), (this.p = b), (this.v = c), (this.r = e), d && ((d._prev = this), (this._next = d)));
                        }),
                    va =
                        ((T._parseToProxy = function (a, b, c, d, e, f) {
                            var g,
                                h,
                                i,
                                j,
                                k,
                                l = d,
                                m = {},
                                n = {},
                                o = c._transform,
                                p = N;
                            for (c._transform = null, N = b, d = k = c.parse(a, b, d, e), N = p, f && ((c._transform = o), l && ((l._prev = null), l._prev && (l._prev._next = null))); d && d !== l; ) {
                                if (d.type <= 1 && ((h = d.p), (n[h] = d.s + d.c), (m[h] = d.s), f || ((j = new ua(d, 's', h, j, d.r)), (d.c = 0)), 1 === d.type)) for (g = d.l; --g > 0; ) ((i = 'xn' + g), (h = d.p + '_' + i), (n[h] = d.data[i]), (m[h] = d[i]), f || (j = new ua(d, i, h, j, d.rxp[i])));
                                d = d._next;
                            }
                            return { proxy: m, end: n, firstMPT: j, pt: k };
                        }),
                        (T.CSSPropTween = function (a, b, d, e, g, h, i, j, k, l, m) {
                            ((this.t = a), (this.p = b), (this.s = d), (this.c = e), (this.n = i || b), a instanceof va || f.push(this.n), (this.r = j ? ('function' == typeof j ? j : Math.round) : j), (this.type = h || 0), k && ((this.pr = k), (c = !0)), (this.b = void 0 === l ? d : l), (this.e = void 0 === m ? d + e : m), g && ((this._next = g), (g._prev = this)));
                        })),
                    wa = function (a, b, c, d, e, f) {
                        var g = new va(a, b, c, d - c, e, -1, f);
                        return ((g.b = c), (g.e = g.xs0 = d), g);
                    },
                    xa = (g.parseComplex = function (a, b, c, d, e, f, h, i, j, l) {
                        ((c = c || f || ''), 'function' == typeof d && (d = d(r, q)), (h = new va(a, b, 0, 0, h, l ? 2 : 1, null, !1, i, c, d)), (d += ''), e && ra.test(d + c) && ((d = [c, d]), g.colorStringFilter(d), (c = d[0]), (d = d[1])));
                        var m,
                            n,
                            o,
                            p,
                            u,
                            v,
                            w,
                            x,
                            y,
                            z,
                            A,
                            B,
                            C,
                            D = c.split(', ').join(',').split(' '),
                            E = d.split(', ').join(',').split(' '),
                            F = D.length,
                            G = k !== !1;
                        for ((-1 !== d.indexOf(',') || -1 !== c.indexOf(',')) && (-1 !== (d + c).indexOf('rgb') || -1 !== (d + c).indexOf('hsl') ? ((D = D.join(' ').replace(J, ', ').split(' ')), (E = E.join(' ').replace(J, ', ').split(' '))) : ((D = D.join(' ').split(',').join(', ').split(' ')), (E = E.join(' ').split(',').join(', ').split(' '))), (F = D.length)), F !== E.length && ((D = (f || '').split(' ')), (F = D.length)), h.plugin = j, h.setRatio = l, ra.lastIndex = 0, m = 0; F > m; m++)
                            if (((p = D[m]), (u = E[m] + ''), (x = parseFloat(p)), x || 0 === x)) h.appendXtra('', x, ka(u, x), u.replace(t, ''), G && -1 !== u.indexOf('px') ? Math.round : !1, !0);
                            else if (e && ra.test(p))
                                ((B = u.indexOf(')') + 1),
                                    (B = ')' + (B ? u.substr(B) : '')),
                                    (C = -1 !== u.indexOf('hsl') && V),
                                    (z = u),
                                    (p = pa(p, C)),
                                    (u = pa(u, C)),
                                    (y = p.length + u.length > 6),
                                    y && !V && 0 === u[3]
                                        ? ((h['xs' + h.l] += h.l ? ' transparent' : 'transparent'), (h.e = h.e.split(E[m]).join('transparent')))
                                        : (V || (y = !1),
                                          C
                                              ? h
                                                    .appendXtra(z.substr(0, z.indexOf('hsl')) + (y ? 'hsla(' : 'hsl('), p[0], ka(u[0], p[0]), ',', !1, !0)
                                                    .appendXtra('', p[1], ka(u[1], p[1]), '%,', !1)
                                                    .appendXtra('', p[2], ka(u[2], p[2]), y ? '%,' : '%' + B, !1)
                                              : h
                                                    .appendXtra(z.substr(0, z.indexOf('rgb')) + (y ? 'rgba(' : 'rgb('), p[0], u[0] - p[0], ',', Math.round, !0)
                                                    .appendXtra('', p[1], u[1] - p[1], ',', Math.round)
                                                    .appendXtra('', p[2], u[2] - p[2], y ? ',' : B, Math.round),
                                          y && ((p = p.length < 4 ? 1 : p[3]), h.appendXtra('', p, (u.length < 4 ? 1 : u[3]) - p, B, !1))),
                                    (ra.lastIndex = 0));
                            else if ((v = p.match(s))) {
                                if (((w = u.match(t)), !w || w.length !== v.length)) return h;
                                for (o = 0, n = 0; n < v.length; n++) ((A = v[n]), (z = p.indexOf(A, o)), h.appendXtra(p.substr(o, z - o), Number(A), ka(w[n], A), '', G && 'px' === p.substr(z + A.length, 2) ? Math.round : !1, 0 === n), (o = z + A.length));
                                h['xs' + h.l] += p.substr(o);
                            } else h['xs' + h.l] += h.l || h['xs' + h.l] ? ' ' + u : u;
                        if (-1 !== d.indexOf('=') && h.data) {
                            for (B = h.xs0 + h.data.s, m = 1; m < h.l; m++) B += h['xs' + m] + h.data['xn' + m];
                            h.e = B + h['xs' + m];
                        }
                        return (h.l || ((h.type = -1), (h.xs0 = h.e)), h.xfirst || h);
                    }),
                    ya = 9;
                for (j = va.prototype, j.l = j.pr = 0; --ya > 0; ) ((j['xn' + ya] = 0), (j['xs' + ya] = ''));
                ((j.xs0 = ''),
                    (j._next = j._prev = j.xfirst = j.data = j.plugin = j.setRatio = j.rxp = null),
                    (j.appendXtra = function (a, b, c, d, e, f) {
                        var g = this,
                            h = g.l;
                        return ((g['xs' + h] += f && (h || g['xs' + h]) ? ' ' + a : a || ''), c || 0 === h || g.plugin ? (g.l++, (g.type = g.setRatio ? 2 : 1), (g['xs' + g.l] = d || ''), h > 0 ? ((g.data['xn' + h] = b + c), (g.rxp['xn' + h] = e), (g['xn' + h] = b), g.plugin || ((g.xfirst = new va(g, 'xn' + h, b, c, g.xfirst || g, 0, g.n, e, g.pr)), (g.xfirst.xs0 = 0)), g) : ((g.data = { s: b + c }), (g.rxp = {}), (g.s = b), (g.c = c), (g.r = e), g)) : ((g['xs' + h] += b + (d || '')), g));
                    }));
                var za = function (a, b) {
                        ((b = b || {}), (this.p = b.prefix ? $(a) || a : a), (i[a] = i[this.p] = this), (this.format = b.formatter || sa(b.defaultValue, b.color, b.collapsible, b.multi)), b.parser && (this.parse = b.parser), (this.clrs = b.color), (this.multi = b.multi), (this.keyword = b.keyword), (this.dflt = b.defaultValue), (this.allowFunc = b.allowFunc), (this.pr = b.priority || 0));
                    },
                    Aa = (T._registerComplexSpecialProp = function (a, b, c) {
                        'object' != typeof b && (b = { parser: c });
                        var d,
                            e,
                            f = a.split(','),
                            g = b.defaultValue;
                        for (c = c || [g], d = 0; d < f.length; d++) ((b.prefix = 0 === d && b.prefix), (b.defaultValue = c[d] || g), (e = new za(f[d], b)));
                    }),
                    Ba = (T._registerPluginProp = function (a) {
                        if (!i[a]) {
                            var b = a.charAt(0).toUpperCase() + a.substr(1) + 'Plugin';
                            Aa(a, {
                                parser: function (a, c, d, e, f, g, j) {
                                    var k = h.com.greensock.plugins[b];
                                    return k ? (k._cssRegister(), i[d].parse(a, c, d, e, f, g, j)) : (X('Error: ' + b + ' js file not loaded.'), f);
                                },
                            });
                        }
                    });
                ((j = za.prototype),
                    (j.parseComplex = function (a, b, c, d, e, f) {
                        var g,
                            h,
                            i,
                            j,
                            k,
                            l,
                            m = this.keyword;
                        if ((this.multi && (J.test(c) || J.test(b) ? ((h = b.replace(J, '|').split('|')), (i = c.replace(J, '|').split('|'))) : m && ((h = [b]), (i = [c]))), i)) {
                            for (j = i.length > h.length ? i.length : h.length, g = 0; j > g; g++) ((b = h[g] = h[g] || this.dflt), (c = i[g] = i[g] || this.dflt), m && ((k = b.indexOf(m)), (l = c.indexOf(m)), k !== l && (-1 === l ? (h[g] = h[g].split(m).join('')) : -1 === k && (h[g] += ' ' + m))));
                            ((b = h.join(', ')), (c = i.join(', ')));
                        }
                        return xa(a, this.p, b, c, this.clrs, this.dflt, d, this.pr, e, f);
                    }),
                    (j.parse = function (a, b, c, d, f, g, h) {
                        return this.parseComplex(a.style, this.format(ba(a, this.p, e, !1, this.dflt)), this.format(b), f, g);
                    }),
                    (g.registerSpecialProp = function (a, b, c) {
                        Aa(a, {
                            parser: function (a, d, e, f, g, h, i) {
                                var j = new va(a, e, 0, 0, g, 2, e, !1, c);
                                return ((j.plugin = h), (j.setRatio = b(a, d, f._tween, e)), j);
                            },
                            priority: c,
                        });
                    }),
                    (g.useSVGTransformAttr = !0));
                var Ca,
                    Da = 'scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent'.split(','),
                    Ea = $('transform'),
                    Fa = Y + 'transform',
                    Ga = $('transformOrigin'),
                    Ha = null !== $('perspective'),
                    Ia = (T.Transform = function () {
                        ((this.perspective = parseFloat(g.defaultTransformPerspective) || 0), (this.force3D = g.defaultForce3D !== !1 && Ha ? g.defaultForce3D || 'auto' : !1));
                    }),
                    Ja = _gsScope.SVGElement,
                    Ka = function (a, b, c) {
                        var d,
                            e = P.createElementNS('http://www.w3.org/2000/svg', a),
                            f = /([a-z])([A-Z])/g;
                        for (d in c) e.setAttributeNS(null, d.replace(f, '$1-$2').toLowerCase(), c[d]);
                        return (b.appendChild(e), e);
                    },
                    La = P.documentElement || {},
                    Ma = (function () {
                        var a,
                            b,
                            c,
                            d = p || (/Android/i.test(U) && !_gsScope.chrome);
                        return (P.createElementNS && La.appendChild && !d && ((a = Ka('svg', La)), (b = Ka('rect', a, { width: 100, height: 50, x: 100 })), (c = b.getBoundingClientRect().width), (b.style[Ga] = '50% 50%'), (b.style[Ea] = 'scaleX(0.5)'), (d = c === b.getBoundingClientRect().width && !(n && Ha)), La.removeChild(a)), d);
                    })(),
                    Na = function (a, b, c, d, e, f) {
                        var h,
                            i,
                            j,
                            k,
                            l,
                            m,
                            n,
                            o,
                            p,
                            q,
                            r,
                            s,
                            t,
                            u,
                            v = a._gsTransform,
                            w = Sa(a, !0);
                        (v && ((t = v.xOrigin), (u = v.yOrigin)),
                            (!d || (h = d.split(' ')).length < 2) && ((n = a.getBBox()), 0 === n.x && 0 === n.y && n.width + n.height === 0 && (n = { x: parseFloat(a.hasAttribute('x') ? a.getAttribute('x') : a.hasAttribute('cx') ? a.getAttribute('cx') : 0) || 0, y: parseFloat(a.hasAttribute('y') ? a.getAttribute('y') : a.hasAttribute('cy') ? a.getAttribute('cy') : 0) || 0, width: 0, height: 0 }), (b = ja(b).split(' ')), (h = [(-1 !== b[0].indexOf('%') ? (parseFloat(b[0]) / 100) * n.width : parseFloat(b[0])) + n.x, (-1 !== b[1].indexOf('%') ? (parseFloat(b[1]) / 100) * n.height : parseFloat(b[1])) + n.y])),
                            (c.xOrigin = k = parseFloat(h[0])),
                            (c.yOrigin = l = parseFloat(h[1])),
                            d && w !== Ra && ((m = w[0]), (n = w[1]), (o = w[2]), (p = w[3]), (q = w[4]), (r = w[5]), (s = m * p - n * o), s && ((i = k * (p / s) + l * (-o / s) + (o * r - p * q) / s), (j = k * (-n / s) + l * (m / s) - (m * r - n * q) / s), (k = c.xOrigin = h[0] = i), (l = c.yOrigin = h[1] = j))),
                            v && (f && ((c.xOffset = v.xOffset), (c.yOffset = v.yOffset), (v = c)), e || (e !== !1 && g.defaultSmoothOrigin !== !1) ? ((i = k - t), (j = l - u), (v.xOffset += i * w[0] + j * w[2] - i), (v.yOffset += i * w[1] + j * w[3] - j)) : (v.xOffset = v.yOffset = 0)),
                            f || a.setAttribute('data-svg-origin', h.join(' ')));
                    },
                    Oa = function (a) {
                        var b,
                            c = Q('svg', (this.ownerSVGElement && this.ownerSVGElement.getAttribute('xmlns')) || 'http://www.w3.org/2000/svg'),
                            d = this.parentNode,
                            e = this.nextSibling,
                            f = this.style.cssText;
                        if ((La.appendChild(c), c.appendChild(this), (this.style.display = 'block'), a))
                            try {
                                ((b = this.getBBox()), (this._originalGetBBox = this.getBBox), (this.getBBox = Oa));
                            } catch (g) {}
                        else this._originalGetBBox && (b = this._originalGetBBox());
                        return (e ? d.insertBefore(this, e) : d.appendChild(this), La.removeChild(c), (this.style.cssText = f), b);
                    },
                    Pa = function (a) {
                        try {
                            return a.getBBox();
                        } catch (b) {
                            return Oa.call(a, !0);
                        }
                    },
                    Qa = function (a) {
                        return !(!Ja || !a.getCTM || (a.parentNode && !a.ownerSVGElement) || !Pa(a));
                    },
                    Ra = [1, 0, 0, 1, 0, 0],
                    Sa = function (a, b) {
                        var c,
                            d,
                            e,
                            f,
                            g,
                            h,
                            i,
                            j = a._gsTransform || new Ia(),
                            k = 1e5,
                            l = a.style;
                        if (
                            (Ea ? (d = ba(a, Fa, null, !0)) : a.currentStyle && ((d = a.currentStyle.filter.match(H)), (d = d && 4 === d.length ? [d[0].substr(4), Number(d[2].substr(4)), Number(d[1].substr(4)), d[3].substr(4), j.x || 0, j.y || 0].join(',') : '')),
                            (c = !d || 'none' === d || 'matrix(1, 0, 0, 1, 0, 0)' === d),
                            Ea && c && !a.offsetParent && a !== La && ((f = l.display), (l.display = 'block'), (i = a.parentNode), (i && a.offsetParent) || ((g = 1), (h = a.nextSibling), La.appendChild(a)), (d = ba(a, Fa, null, !0)), (c = !d || 'none' === d || 'matrix(1, 0, 0, 1, 0, 0)' === d), f ? (l.display = f) : Xa(l, 'display'), g && (h ? i.insertBefore(a, h) : i ? i.appendChild(a) : La.removeChild(a))),
                            (j.svg || (a.getCTM && Qa(a))) && (c && -1 !== (l[Ea] + '').indexOf('matrix') && ((d = l[Ea]), (c = 0)), (e = a.getAttribute('transform')), c && e && ((e = a.transform.baseVal.consolidate().matrix), (d = 'matrix(' + e.a + ',' + e.b + ',' + e.c + ',' + e.d + ',' + e.e + ',' + e.f + ')'), (c = 0))),
                            c)
                        )
                            return Ra;
                        for (e = (d || '').match(s) || [], ya = e.length; --ya > -1; ) ((f = Number(e[ya])), (e[ya] = (g = f - (f |= 0)) ? ((g * k + (0 > g ? -0.5 : 0.5)) | 0) / k + f : f));
                        return b && e.length > 6 ? [e[0], e[1], e[4], e[5], e[12], e[13]] : e;
                    },
                    Ta = (T.getTransform = function (a, c, d, e) {
                        if (a._gsTransform && d && !e) return a._gsTransform;
                        var f,
                            h,
                            i,
                            j,
                            k,
                            l,
                            m = d ? a._gsTransform || new Ia() : new Ia(),
                            n = m.scaleX < 0,
                            o = 2e-5,
                            p = 1e5,
                            q = Ha ? parseFloat(ba(a, Ga, c, !1, '0 0 0').split(' ')[2]) || m.zOrigin || 0 : 0,
                            r = parseFloat(g.defaultTransformPerspective) || 0;
                        if (((m.svg = !(!a.getCTM || !Qa(a))), m.svg && (Na(a, ba(a, Ga, c, !1, '50% 50%') + '', m, a.getAttribute('data-svg-origin')), (Ca = g.useSVGTransformAttr || Ma)), (f = Sa(a)), f !== Ra)) {
                            if (16 === f.length) {
                                var s,
                                    t,
                                    u,
                                    v,
                                    w,
                                    x = f[0],
                                    y = f[1],
                                    z = f[2],
                                    A = f[3],
                                    B = f[4],
                                    C = f[5],
                                    D = f[6],
                                    E = f[7],
                                    F = f[8],
                                    G = f[9],
                                    H = f[10],
                                    I = f[12],
                                    J = f[13],
                                    K = f[14],
                                    L = f[11],
                                    N = Math.atan2(D, H);
                                (m.zOrigin && ((K = -m.zOrigin), (I = F * K - f[12]), (J = G * K - f[13]), (K = H * K + m.zOrigin - f[14])),
                                    (m.rotationX = N * M),
                                    N && ((v = Math.cos(-N)), (w = Math.sin(-N)), (s = B * v + F * w), (t = C * v + G * w), (u = D * v + H * w), (F = B * -w + F * v), (G = C * -w + G * v), (H = D * -w + H * v), (L = E * -w + L * v), (B = s), (C = t), (D = u)),
                                    (N = Math.atan2(-z, H)),
                                    (m.rotationY = N * M),
                                    N && ((v = Math.cos(-N)), (w = Math.sin(-N)), (s = x * v - F * w), (t = y * v - G * w), (u = z * v - H * w), (G = y * w + G * v), (H = z * w + H * v), (L = A * w + L * v), (x = s), (y = t), (z = u)),
                                    (N = Math.atan2(y, x)),
                                    (m.rotation = N * M),
                                    N && ((v = Math.cos(N)), (w = Math.sin(N)), (s = x * v + y * w), (t = B * v + C * w), (u = F * v + G * w), (y = y * v - x * w), (C = C * v - B * w), (G = G * v - F * w), (x = s), (B = t), (F = u)),
                                    m.rotationX && Math.abs(m.rotationX) + Math.abs(m.rotation) > 359.9 && ((m.rotationX = m.rotation = 0), (m.rotationY = 180 - m.rotationY)),
                                    (N = Math.atan2(B, C)),
                                    (m.scaleX = ((Math.sqrt(x * x + y * y + z * z) * p + 0.5) | 0) / p),
                                    (m.scaleY = ((Math.sqrt(C * C + D * D) * p + 0.5) | 0) / p),
                                    (m.scaleZ = ((Math.sqrt(F * F + G * G + H * H) * p + 0.5) | 0) / p),
                                    (x /= m.scaleX),
                                    (B /= m.scaleY),
                                    (y /= m.scaleX),
                                    (C /= m.scaleY),
                                    Math.abs(N) > o ? ((m.skewX = N * M), (B = 0), 'simple' !== m.skewType && (m.scaleY *= 1 / Math.cos(N))) : (m.skewX = 0),
                                    (m.perspective = L ? 1 / (0 > L ? -L : L) : 0),
                                    (m.x = I),
                                    (m.y = J),
                                    (m.z = K),
                                    m.svg && ((m.x -= m.xOrigin - (m.xOrigin * x - m.yOrigin * B)), (m.y -= m.yOrigin - (m.yOrigin * y - m.xOrigin * C))));
                            } else if (!Ha || e || !f.length || m.x !== f[4] || m.y !== f[5] || (!m.rotationX && !m.rotationY)) {
                                var O = f.length >= 6,
                                    P = O ? f[0] : 1,
                                    Q = f[1] || 0,
                                    R = f[2] || 0,
                                    S = O ? f[3] : 1;
                                ((m.x = f[4] || 0), (m.y = f[5] || 0), (i = Math.sqrt(P * P + Q * Q)), (j = Math.sqrt(S * S + R * R)), (k = P || Q ? Math.atan2(Q, P) * M : m.rotation || 0), (l = R || S ? Math.atan2(R, S) * M + k : m.skewX || 0), (m.scaleX = i), (m.scaleY = j), (m.rotation = k), (m.skewX = l), Ha && ((m.rotationX = m.rotationY = m.z = 0), (m.perspective = r), (m.scaleZ = 1)), m.svg && ((m.x -= m.xOrigin - (m.xOrigin * P + m.yOrigin * R)), (m.y -= m.yOrigin - (m.xOrigin * Q + m.yOrigin * S))));
                            }
                            (Math.abs(m.skewX) > 90 && Math.abs(m.skewX) < 270 && (n ? ((m.scaleX *= -1), (m.skewX += m.rotation <= 0 ? 180 : -180), (m.rotation += m.rotation <= 0 ? 180 : -180)) : ((m.scaleY *= -1), (m.skewX += m.skewX <= 0 ? 180 : -180))), (m.zOrigin = q));
                            for (h in m) m[h] < o && m[h] > -o && (m[h] = 0);
                        }
                        return (
                            d &&
                                ((a._gsTransform = m),
                                m.svg &&
                                    (Ca && a.style[Ea]
                                        ? b.delayedCall(0.001, function () {
                                              Xa(a.style, Ea);
                                          })
                                        : !Ca &&
                                          a.getAttribute('transform') &&
                                          b.delayedCall(0.001, function () {
                                              a.removeAttribute('transform');
                                          }))),
                            m
                        );
                    }),
                    Ua = function (a) {
                        var b,
                            c,
                            d = this.data,
                            e = -d.rotation * L,
                            f = e + d.skewX * L,
                            g = 1e5,
                            h = ((Math.cos(e) * d.scaleX * g) | 0) / g,
                            i = ((Math.sin(e) * d.scaleX * g) | 0) / g,
                            j = ((Math.sin(f) * -d.scaleY * g) | 0) / g,
                            k = ((Math.cos(f) * d.scaleY * g) | 0) / g,
                            l = this.t.style,
                            m = this.t.currentStyle;
                        if (m) {
                            ((c = i), (i = -j), (j = -c), (b = m.filter), (l.filter = ''));
                            var n,
                                o,
                                q = this.t.offsetWidth,
                                r = this.t.offsetHeight,
                                s = 'absolute' !== m.position,
                                t = 'progid:DXImageTransform.Microsoft.Matrix(M11=' + h + ', M12=' + i + ', M21=' + j + ', M22=' + k,
                                u = d.x + (q * d.xPercent) / 100,
                                v = d.y + (r * d.yPercent) / 100;
                            if ((null != d.ox && ((n = (d.oxp ? q * d.ox * 0.01 : d.ox) - q / 2), (o = (d.oyp ? r * d.oy * 0.01 : d.oy) - r / 2), (u += n - (n * h + o * i)), (v += o - (n * j + o * k))), s ? ((n = q / 2), (o = r / 2), (t += ', Dx=' + (n - (n * h + o * i) + u) + ', Dy=' + (o - (n * j + o * k) + v) + ')')) : (t += ", sizingMethod='auto expand')"), -1 !== b.indexOf('DXImageTransform.Microsoft.Matrix(') ? (l.filter = b.replace(I, t)) : (l.filter = t + ' ' + b), (0 === a || 1 === a) && 1 === h && 0 === i && 0 === j && 1 === k && ((s && -1 === t.indexOf('Dx=0, Dy=0')) || (y.test(b) && 100 !== parseFloat(RegExp.$1)) || (-1 === b.indexOf(b.indexOf('Alpha')) && l.removeAttribute('filter'))), !s)) {
                                var w,
                                    z,
                                    A,
                                    B = 8 > p ? 1 : -1;
                                for (n = d.ieOffsetX || 0, o = d.ieOffsetY || 0, d.ieOffsetX = Math.round((q - ((0 > h ? -h : h) * q + (0 > i ? -i : i) * r)) / 2 + u), d.ieOffsetY = Math.round((r - ((0 > k ? -k : k) * r + (0 > j ? -j : j) * q)) / 2 + v), ya = 0; 4 > ya; ya++) ((z = ha[ya]), (w = m[z]), (c = -1 !== w.indexOf('px') ? parseFloat(w) : ca(this.t, z, parseFloat(w), w.replace(x, '')) || 0), (A = c !== d[z] ? (2 > ya ? -d.ieOffsetX : -d.ieOffsetY) : 2 > ya ? n - d.ieOffsetX : o - d.ieOffsetY), (l[z] = (d[z] = Math.round(c - A * (0 === ya || 2 === ya ? 1 : B))) + 'px'));
                            }
                        }
                    },
                    Va =
                        (T.set3DTransformRatio =
                        T.setTransformRatio =
                            function (a) {
                                var b,
                                    c,
                                    d,
                                    e,
                                    f,
                                    g,
                                    h,
                                    i,
                                    j,
                                    k,
                                    l,
                                    m,
                                    o,
                                    p,
                                    q,
                                    r,
                                    s,
                                    t,
                                    u,
                                    v,
                                    w,
                                    x,
                                    y,
                                    z = this.data,
                                    A = this.t.style,
                                    B = z.rotation,
                                    C = z.rotationX,
                                    D = z.rotationY,
                                    E = z.scaleX,
                                    F = z.scaleY,
                                    G = z.scaleZ,
                                    H = z.x,
                                    I = z.y,
                                    J = z.z,
                                    K = z.svg,
                                    M = z.perspective,
                                    N = z.force3D,
                                    O = z.skewY,
                                    P = z.skewX;
                                if ((O && ((P += O), (B += O)), ((((1 === a || 0 === a) && 'auto' === N && (this.tween._totalTime === this.tween._totalDuration || !this.tween._totalTime)) || !N) && !J && !M && !D && !C && 1 === G) || (Ca && K) || !Ha))
                                    return void (B || P || K
                                        ? ((B *= L),
                                          (x = P * L),
                                          (y = 1e5),
                                          (c = Math.cos(B) * E),
                                          (f = Math.sin(B) * E),
                                          (d = Math.sin(B - x) * -F),
                                          (g = Math.cos(B - x) * F),
                                          x && 'simple' === z.skewType && ((b = Math.tan(x - O * L)), (b = Math.sqrt(1 + b * b)), (d *= b), (g *= b), O && ((b = Math.tan(O * L)), (b = Math.sqrt(1 + b * b)), (c *= b), (f *= b))),
                                          K && ((H += z.xOrigin - (z.xOrigin * c + z.yOrigin * d) + z.xOffset), (I += z.yOrigin - (z.xOrigin * f + z.yOrigin * g) + z.yOffset), Ca && (z.xPercent || z.yPercent) && ((q = this.t.getBBox()), (H += 0.01 * z.xPercent * q.width), (I += 0.01 * z.yPercent * q.height)), (q = 1e-6), q > H && H > -q && (H = 0), q > I && I > -q && (I = 0)),
                                          (u = ((c * y) | 0) / y + ',' + ((f * y) | 0) / y + ',' + ((d * y) | 0) / y + ',' + ((g * y) | 0) / y + ',' + H + ',' + I + ')'),
                                          K && Ca ? this.t.setAttribute('transform', 'matrix(' + u) : (A[Ea] = (z.xPercent || z.yPercent ? 'translate(' + z.xPercent + '%,' + z.yPercent + '%) matrix(' : 'matrix(') + u))
                                        : (A[Ea] = (z.xPercent || z.yPercent ? 'translate(' + z.xPercent + '%,' + z.yPercent + '%) matrix(' : 'matrix(') + E + ',0,0,' + F + ',' + H + ',' + I + ')'));
                                if ((n && ((q = 1e-4), q > E && E > -q && (E = G = 2e-5), q > F && F > -q && (F = G = 2e-5), !M || z.z || z.rotationX || z.rotationY || (M = 0)), B || P)) ((B *= L), (r = c = Math.cos(B)), (s = f = Math.sin(B)), P && ((B -= P * L), (r = Math.cos(B)), (s = Math.sin(B)), 'simple' === z.skewType && ((b = Math.tan((P - O) * L)), (b = Math.sqrt(1 + b * b)), (r *= b), (s *= b), z.skewY && ((b = Math.tan(O * L)), (b = Math.sqrt(1 + b * b)), (c *= b), (f *= b)))), (d = -s), (g = r));
                                else {
                                    if (!(D || C || 1 !== G || M || K)) return void (A[Ea] = (z.xPercent || z.yPercent ? 'translate(' + z.xPercent + '%,' + z.yPercent + '%) translate3d(' : 'translate3d(') + H + 'px,' + I + 'px,' + J + 'px)' + (1 !== E || 1 !== F ? ' scale(' + E + ',' + F + ')' : ''));
                                    ((c = g = 1), (d = f = 0));
                                }
                                ((k = 1),
                                    (e = h = i = j = l = m = 0),
                                    (o = M ? -1 / M : 0),
                                    (p = z.zOrigin),
                                    (q = 1e-6),
                                    (v = ','),
                                    (w = '0'),
                                    (B = D * L),
                                    B && ((r = Math.cos(B)), (s = Math.sin(B)), (i = -s), (l = o * -s), (e = c * s), (h = f * s), (k = r), (o *= r), (c *= r), (f *= r)),
                                    (B = C * L),
                                    B && ((r = Math.cos(B)), (s = Math.sin(B)), (b = d * r + e * s), (t = g * r + h * s), (j = k * s), (m = o * s), (e = d * -s + e * r), (h = g * -s + h * r), (k *= r), (o *= r), (d = b), (g = t)),
                                    1 !== G && ((e *= G), (h *= G), (k *= G), (o *= G)),
                                    1 !== F && ((d *= F), (g *= F), (j *= F), (m *= F)),
                                    1 !== E && ((c *= E), (f *= E), (i *= E), (l *= E)),
                                    (p || K) && (p && ((H += e * -p), (I += h * -p), (J += k * -p + p)), K && ((H += z.xOrigin - (z.xOrigin * c + z.yOrigin * d) + z.xOffset), (I += z.yOrigin - (z.xOrigin * f + z.yOrigin * g) + z.yOffset)), q > H && H > -q && (H = w), q > I && I > -q && (I = w), q > J && J > -q && (J = 0)),
                                    (u = z.xPercent || z.yPercent ? 'translate(' + z.xPercent + '%,' + z.yPercent + '%) matrix3d(' : 'matrix3d('),
                                    (u += (q > c && c > -q ? w : c) + v + (q > f && f > -q ? w : f) + v + (q > i && i > -q ? w : i)),
                                    (u += v + (q > l && l > -q ? w : l) + v + (q > d && d > -q ? w : d) + v + (q > g && g > -q ? w : g)),
                                    C || D || 1 !== G ? ((u += v + (q > j && j > -q ? w : j) + v + (q > m && m > -q ? w : m) + v + (q > e && e > -q ? w : e)), (u += v + (q > h && h > -q ? w : h) + v + (q > k && k > -q ? w : k) + v + (q > o && o > -q ? w : o) + v)) : (u += ',0,0,0,0,1,0,'),
                                    (u += H + v + I + v + J + v + (M ? 1 + -J / M : 1) + ')'),
                                    (A[Ea] = u));
                            });
                ((j = Ia.prototype),
                    (j.x = j.y = j.z = j.skewX = j.skewY = j.rotation = j.rotationX = j.rotationY = j.zOrigin = j.xPercent = j.yPercent = j.xOffset = j.yOffset = 0),
                    (j.scaleX = j.scaleY = j.scaleZ = 1),
                    Aa('transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin', {
                        parser: function (a, b, c, d, f, h, i) {
                            if (d._lastParsedTransform === i) return f;
                            d._lastParsedTransform = i;
                            var j = i.scale && 'function' == typeof i.scale ? i.scale : 0;
                            j && (i.scale = j(r, a));
                            var k,
                                l,
                                m,
                                n,
                                o,
                                p,
                                s,
                                t,
                                u,
                                v = a._gsTransform,
                                w = a.style,
                                x = 1e-6,
                                y = Da.length,
                                z = i,
                                A = {},
                                B = 'transformOrigin',
                                C = Ta(a, e, !0, z.parseTransform),
                                D = z.transform && ('function' == typeof z.transform ? z.transform(r, q) : z.transform);
                            if (((C.skewType = z.skewType || C.skewType || g.defaultSkewType), (d._transform = C), 'rotationZ' in z && (z.rotation = z.rotationZ), D && 'string' == typeof D && Ea))
                                ((l = R.style), (l[Ea] = D), (l.display = 'block'), (l.position = 'absolute'), -1 !== D.indexOf('%') && ((l.width = ba(a, 'width')), (l.height = ba(a, 'height'))), P.body.appendChild(R), (k = Ta(R, null, !1)), 'simple' === C.skewType && (k.scaleY *= Math.cos(k.skewX * L)), C.svg && ((p = C.xOrigin), (s = C.yOrigin), (k.x -= C.xOffset), (k.y -= C.yOffset), (z.transformOrigin || z.svgOrigin) && ((D = {}), Na(a, ja(z.transformOrigin), D, z.svgOrigin, z.smoothOrigin, !0), (p = D.xOrigin), (s = D.yOrigin), (k.x -= D.xOffset - C.xOffset), (k.y -= D.yOffset - C.yOffset)), (p || s) && ((t = Sa(R, !0)), (k.x -= p - (p * t[0] + s * t[2])), (k.y -= s - (p * t[1] + s * t[3])))), P.body.removeChild(R), k.perspective || (k.perspective = C.perspective), null != z.xPercent && (k.xPercent = la(z.xPercent, C.xPercent)), null != z.yPercent && (k.yPercent = la(z.yPercent, C.yPercent)));
                            else if ('object' == typeof z) {
                                if (((k = { scaleX: la(null != z.scaleX ? z.scaleX : z.scale, C.scaleX), scaleY: la(null != z.scaleY ? z.scaleY : z.scale, C.scaleY), scaleZ: la(z.scaleZ, C.scaleZ), x: la(z.x, C.x), y: la(z.y, C.y), z: la(z.z, C.z), xPercent: la(z.xPercent, C.xPercent), yPercent: la(z.yPercent, C.yPercent), perspective: la(z.transformPerspective, C.perspective) }), (o = z.directionalRotation), null != o))
                                    if ('object' == typeof o) for (l in o) z[l] = o[l];
                                    else z.rotation = o;
                                ('string' == typeof z.x && -1 !== z.x.indexOf('%') && ((k.x = 0), (k.xPercent = la(z.x, C.xPercent))), 'string' == typeof z.y && -1 !== z.y.indexOf('%') && ((k.y = 0), (k.yPercent = la(z.y, C.yPercent))), (k.rotation = ma('rotation' in z ? z.rotation : 'shortRotation' in z ? z.shortRotation + '_short' : C.rotation, C.rotation, 'rotation', A)), Ha && ((k.rotationX = ma('rotationX' in z ? z.rotationX : 'shortRotationX' in z ? z.shortRotationX + '_short' : C.rotationX || 0, C.rotationX, 'rotationX', A)), (k.rotationY = ma('rotationY' in z ? z.rotationY : 'shortRotationY' in z ? z.shortRotationY + '_short' : C.rotationY || 0, C.rotationY, 'rotationY', A))), (k.skewX = ma(z.skewX, C.skewX)), (k.skewY = ma(z.skewY, C.skewY)));
                            }
                            for (Ha && null != z.force3D && ((C.force3D = z.force3D), (n = !0)), m = C.force3D || C.z || C.rotationX || C.rotationY || k.z || k.rotationX || k.rotationY || k.perspective, m || null == z.scale || (k.scaleZ = 1); --y > -1; ) ((u = Da[y]), (D = k[u] - C[u]), (D > x || -x > D || null != z[u] || null != N[u]) && ((n = !0), (f = new va(C, u, C[u], D, f)), u in A && (f.e = A[u]), (f.xs0 = 0), (f.plugin = h), d._overwriteProps.push(f.n)));
                            return (
                                (D = 'function' == typeof z.transformOrigin ? z.transformOrigin(r, q) : z.transformOrigin),
                                C.svg && (D || z.svgOrigin) && ((p = C.xOffset), (s = C.yOffset), Na(a, ja(D), k, z.svgOrigin, z.smoothOrigin), (f = wa(C, 'xOrigin', (v ? C : k).xOrigin, k.xOrigin, f, B)), (f = wa(C, 'yOrigin', (v ? C : k).yOrigin, k.yOrigin, f, B)), (p !== C.xOffset || s !== C.yOffset) && ((f = wa(C, 'xOffset', v ? p : C.xOffset, C.xOffset, f, B)), (f = wa(C, 'yOffset', v ? s : C.yOffset, C.yOffset, f, B))), (D = '0px 0px')),
                                (D || (Ha && m && C.zOrigin)) && (Ea ? ((n = !0), (u = Ga), D || ((D = (ba(a, u, e, !1, '50% 50%') + '').split(' ')), (D = D[0] + ' ' + D[1] + ' ' + C.zOrigin + 'px')), (D += ''), (f = new va(w, u, 0, 0, f, -1, B)), (f.b = w[u]), (f.plugin = h), Ha ? ((l = C.zOrigin), (D = D.split(' ')), (C.zOrigin = (D.length > 2 ? parseFloat(D[2]) : l) || 0), (f.xs0 = f.e = D[0] + ' ' + (D[1] || '50%') + ' 0px'), (f = new va(C, 'zOrigin', 0, 0, f, -1, f.n)), (f.b = l), (f.xs0 = f.e = C.zOrigin)) : (f.xs0 = f.e = D)) : ja(D + '', C)),
                                n && (d._transformType = (C.svg && Ca) || (!m && 3 !== this._transformType) ? 2 : 3),
                                j && (i.scale = j),
                                f
                            );
                        },
                        allowFunc: !0,
                        prefix: !0,
                    }),
                    Aa('boxShadow', { defaultValue: '0px 0px 0px 0px #999', prefix: !0, color: !0, multi: !0, keyword: 'inset' }),
                    Aa('clipPath', { defaultValue: 'inset(0%)', prefix: !0, multi: !0, formatter: sa('inset(0% 0% 0% 0%)', !1, !0) }),
                    Aa('borderRadius', {
                        defaultValue: '0px',
                        parser: function (a, b, c, f, g, h) {
                            b = this.format(b);
                            var i,
                                j,
                                k,
                                l,
                                m,
                                n,
                                o,
                                p,
                                q,
                                r,
                                s,
                                t,
                                u,
                                v,
                                w,
                                x,
                                y = ['borderTopLeftRadius', 'borderTopRightRadius', 'borderBottomRightRadius', 'borderBottomLeftRadius'],
                                z = a.style;
                            for (q = parseFloat(a.offsetWidth), r = parseFloat(a.offsetHeight), i = b.split(' '), j = 0; j < y.length; j++)
                                (this.p.indexOf('border') && (y[j] = $(y[j])), (m = l = ba(a, y[j], e, !1, '0px')), -1 !== m.indexOf(' ') && ((l = m.split(' ')), (m = l[0]), (l = l[1])), (n = k = i[j]), (o = parseFloat(m)), (t = m.substr((o + '').length)), (u = '=' === n.charAt(1)), u ? ((p = parseInt(n.charAt(0) + '1', 10)), (n = n.substr(2)), (p *= parseFloat(n)), (s = n.substr((p + '').length - (0 > p ? 1 : 0)) || '')) : ((p = parseFloat(n)), (s = n.substr((p + '').length))), '' === s && (s = d[c] || t), s !== t && ((v = ca(a, 'borderLeft', o, t)), (w = ca(a, 'borderTop', o, t)), '%' === s ? ((m = (v / q) * 100 + '%'), (l = (w / r) * 100 + '%')) : 'em' === s ? ((x = ca(a, 'borderLeft', 1, 'em')), (m = v / x + 'em'), (l = w / x + 'em')) : ((m = v + 'px'), (l = w + 'px')), u && ((n = parseFloat(m) + p + s), (k = parseFloat(l) + p + s))), (g = xa(z, y[j], m + ' ' + l, n + ' ' + k, !1, '0px', g)));
                            return g;
                        },
                        prefix: !0,
                        formatter: sa('0px 0px 0px 0px', !1, !0),
                    }),
                    Aa('borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius', {
                        defaultValue: '0px',
                        parser: function (a, b, c, d, f, g) {
                            return xa(a.style, c, this.format(ba(a, c, e, !1, '0px 0px')), this.format(b), !1, '0px', f);
                        },
                        prefix: !0,
                        formatter: sa('0px 0px', !1, !0),
                    }),
                    Aa('backgroundPosition', {
                        defaultValue: '0 0',
                        parser: function (a, b, c, d, f, g) {
                            var h,
                                i,
                                j,
                                k,
                                l,
                                m,
                                n = 'background-position',
                                o = e || aa(a, null),
                                q = this.format((o ? (p ? o.getPropertyValue(n + '-x') + ' ' + o.getPropertyValue(n + '-y') : o.getPropertyValue(n)) : a.currentStyle.backgroundPositionX + ' ' + a.currentStyle.backgroundPositionY) || '0 0'),
                                r = this.format(b);
                            if ((-1 !== q.indexOf('%')) != (-1 !== r.indexOf('%')) && r.split(',').length < 2 && ((m = ba(a, 'backgroundImage').replace(E, '')), m && 'none' !== m)) {
                                for (h = q.split(' '), i = r.split(' '), S.setAttribute('src', m), j = 2; --j > -1; ) ((q = h[j]), (k = -1 !== q.indexOf('%')), k !== (-1 !== i[j].indexOf('%')) && ((l = 0 === j ? a.offsetWidth - S.width : a.offsetHeight - S.height), (h[j] = k ? (parseFloat(q) / 100) * l + 'px' : (parseFloat(q) / l) * 100 + '%')));
                                q = h.join(' ');
                            }
                            return this.parseComplex(a.style, q, r, f, g);
                        },
                        formatter: ja,
                    }),
                    Aa('backgroundSize', {
                        defaultValue: '0 0',
                        formatter: function (a) {
                            return ((a += ''), 'co' === a.substr(0, 2) ? a : ja(-1 === a.indexOf(' ') ? a + ' ' + a : a));
                        },
                    }),
                    Aa('perspective', { defaultValue: '0px', prefix: !0 }),
                    Aa('perspectiveOrigin', { defaultValue: '50% 50%', prefix: !0 }),
                    Aa('transformStyle', { prefix: !0 }),
                    Aa('backfaceVisibility', { prefix: !0 }),
                    Aa('userSelect', { prefix: !0 }),
                    Aa('margin', { parser: ta('marginTop,marginRight,marginBottom,marginLeft') }),
                    Aa('padding', { parser: ta('paddingTop,paddingRight,paddingBottom,paddingLeft') }),
                    Aa('clip', {
                        defaultValue: 'rect(0px,0px,0px,0px)',
                        parser: function (a, b, c, d, f, g) {
                            var h, i, j;
                            return (9 > p ? ((i = a.currentStyle), (j = 8 > p ? ' ' : ','), (h = 'rect(' + i.clipTop + j + i.clipRight + j + i.clipBottom + j + i.clipLeft + ')'), (b = this.format(b).split(',').join(j))) : ((h = this.format(ba(a, this.p, e, !1, this.dflt))), (b = this.format(b))), this.parseComplex(a.style, h, b, f, g));
                        },
                    }),
                    Aa('textShadow', { defaultValue: '0px 0px 0px #999', color: !0, multi: !0 }),
                    Aa('autoRound,strictUnits', {
                        parser: function (a, b, c, d, e) {
                            return e;
                        },
                    }),
                    Aa('border', {
                        defaultValue: '0px solid #000',
                        parser: function (a, b, c, d, f, g) {
                            var h = ba(a, 'borderTopWidth', e, !1, '0px'),
                                i = this.format(b).split(' '),
                                j = i[0].replace(x, '');
                            return ('px' !== j && (h = parseFloat(h) / ca(a, 'borderTopWidth', 1, j) + j), this.parseComplex(a.style, this.format(h + ' ' + ba(a, 'borderTopStyle', e, !1, 'solid') + ' ' + ba(a, 'borderTopColor', e, !1, '#000')), i.join(' '), f, g));
                        },
                        color: !0,
                        formatter: function (a) {
                            var b = a.split(' ');
                            return b[0] + ' ' + (b[1] || 'solid') + ' ' + (a.match(ra) || ['#000'])[0];
                        },
                    }),
                    Aa('borderWidth', { parser: ta('borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth') }),
                    Aa('float,cssFloat,styleFloat', {
                        parser: function (a, b, c, d, e, f) {
                            var g = a.style,
                                h = 'cssFloat' in g ? 'cssFloat' : 'styleFloat';
                            return new va(g, h, 0, 0, e, -1, c, !1, 0, g[h], b);
                        },
                    }));
                var Wa = function (a) {
                    var b,
                        c = this.t,
                        d = c.filter || ba(this.data, 'filter') || '',
                        e = (this.s + this.c * a) | 0;
                    (100 === e && (-1 === d.indexOf('atrix(') && -1 === d.indexOf('radient(') && -1 === d.indexOf('oader(') ? (c.removeAttribute('filter'), (b = !ba(this.data, 'filter'))) : ((c.filter = d.replace(A, '')), (b = !0))), b || (this.xn1 && (c.filter = d = d || 'alpha(opacity=' + e + ')'), -1 === d.indexOf('pacity') ? (0 === e && this.xn1) || (c.filter = d + ' alpha(opacity=' + e + ')') : (c.filter = d.replace(y, 'opacity=' + e))));
                };
                Aa('opacity,alpha,autoAlpha', {
                    defaultValue: '1',
                    parser: function (a, b, c, d, f, g) {
                        var h = parseFloat(ba(a, 'opacity', e, !1, '1')),
                            i = a.style,
                            j = 'autoAlpha' === c;
                        return ('string' == typeof b && '=' === b.charAt(1) && (b = ('-' === b.charAt(0) ? -1 : 1) * parseFloat(b.substr(2)) + h), j && 1 === h && 'hidden' === ba(a, 'visibility', e) && 0 !== b && (h = 0), V ? (f = new va(i, 'opacity', h, b - h, f)) : ((f = new va(i, 'opacity', 100 * h, 100 * (b - h), f)), (f.xn1 = j ? 1 : 0), (i.zoom = 1), (f.type = 2), (f.b = 'alpha(opacity=' + f.s + ')'), (f.e = 'alpha(opacity=' + (f.s + f.c) + ')'), (f.data = a), (f.plugin = g), (f.setRatio = Wa)), j && ((f = new va(i, 'visibility', 0, 0, f, -1, null, !1, 0, 0 !== h ? 'inherit' : 'hidden', 0 === b ? 'hidden' : 'inherit')), (f.xs0 = 'inherit'), d._overwriteProps.push(f.n), d._overwriteProps.push(c)), f);
                    },
                });
                var Xa = function (a, b) {
                        b && (a.removeProperty ? (('ms' === b.substr(0, 2) || 'webkit' === b.substr(0, 6)) && (b = '-' + b), a.removeProperty(b.replace(C, '-$1').toLowerCase())) : a.removeAttribute(b));
                    },
                    Ya = function (a) {
                        if (((this.t._gsClassPT = this), 1 === a || 0 === a)) {
                            this.t.setAttribute('class', 0 === a ? this.b : this.e);
                            for (var b = this.data, c = this.t.style; b; ) (b.v ? (c[b.p] = b.v) : Xa(c, b.p), (b = b._next));
                            1 === a && this.t._gsClassPT === this && (this.t._gsClassPT = null);
                        } else this.t.getAttribute('class') !== this.e && this.t.setAttribute('class', this.e);
                    };
                Aa('className', {
                    parser: function (a, b, d, f, g, h, i) {
                        var j,
                            k,
                            l,
                            m,
                            n,
                            o = a.getAttribute('class') || '',
                            p = a.style.cssText;
                        if (((g = f._classNamePT = new va(a, d, 0, 0, g, 2)), (g.setRatio = Ya), (g.pr = -11), (c = !0), (g.b = o), (k = ea(a, e)), (l = a._gsClassPT))) {
                            for (m = {}, n = l.data; n; ) ((m[n.p] = 1), (n = n._next));
                            l.setRatio(1);
                        }
                        return ((a._gsClassPT = g), (g.e = '=' !== b.charAt(1) ? b : o.replace(new RegExp('(?:\\s|^)' + b.substr(2) + '(?![\\w-])'), '') + ('+' === b.charAt(0) ? ' ' + b.substr(2) : '')), a.setAttribute('class', g.e), (j = fa(a, k, ea(a), i, m)), a.setAttribute('class', o), (g.data = j.firstMPT), a.style.cssText !== p && (a.style.cssText = p), (g = g.xfirst = f.parse(a, j.difs, g, h)));
                    },
                });
                var Za = function (a) {
                    if ((1 === a || 0 === a) && this.data._totalTime === this.data._totalDuration && 'isFromStart' !== this.data.data) {
                        var b,
                            c,
                            d,
                            e,
                            f,
                            g = this.t.style,
                            h = i.transform.parse;
                        if ('all' === this.e) ((g.cssText = ''), (e = !0));
                        else for (b = this.e.split(' ').join('').split(','), d = b.length; --d > -1; ) ((c = b[d]), i[c] && (i[c].parse === h ? (e = !0) : (c = 'transformOrigin' === c ? Ga : i[c].p)), Xa(g, c));
                        e && (Xa(g, Ea), (f = this.t._gsTransform), f && (f.svg && (this.t.removeAttribute('data-svg-origin'), this.t.removeAttribute('transform')), delete this.t._gsTransform));
                    }
                };
                for (
                    Aa('clearProps', {
                        parser: function (a, b, d, e, f) {
                            return ((f = new va(a, d, 0, 0, f, 2)), (f.setRatio = Za), (f.e = b), (f.pr = -10), (f.data = e._tween), (c = !0), f);
                        },
                    }),
                        j = 'bezier,throwProps,physicsProps,physics2D'.split(','),
                        ya = j.length;
                    ya--;

                )
                    Ba(j[ya]);
                ((j = g.prototype),
                    (j._firstPT = j._lastParsedTransform = j._transform = null),
                    (j._onInitTween = function (a, b, h, j) {
                        if (!a.nodeType) return !1;
                        ((this._target = q = a), (this._tween = h), (this._vars = b), (r = j), (k = b.autoRound), (c = !1), (d = b.suffixMap || g.suffixMap), (e = aa(a, '')), (f = this._overwriteProps));
                        var n,
                            p,
                            s,
                            t,
                            u,
                            v,
                            w,
                            x,
                            y,
                            A = a.style;
                        if ((l && '' === A.zIndex && ((n = ba(a, 'zIndex', e)), ('auto' === n || '' === n) && this._addLazySet(A, 'zIndex', 0)), 'string' == typeof b && ((t = A.cssText), (n = ea(a, e)), (A.cssText = t + ';' + b), (n = fa(a, n, ea(a)).difs), !V && z.test(b) && (n.opacity = parseFloat(RegExp.$1)), (b = n), (A.cssText = t)), b.className ? (this._firstPT = p = i.className.parse(a, b.className, 'className', this, null, null, b)) : (this._firstPT = p = this.parse(a, b, null)), this._transformType)) {
                            for (y = 3 === this._transformType, Ea ? m && ((l = !0), '' === A.zIndex && ((w = ba(a, 'zIndex', e)), ('auto' === w || '' === w) && this._addLazySet(A, 'zIndex', 0)), o && this._addLazySet(A, 'WebkitBackfaceVisibility', this._vars.WebkitBackfaceVisibility || (y ? 'visible' : 'hidden'))) : (A.zoom = 1), s = p; s && s._next; ) s = s._next;
                            ((x = new va(a, 'transform', 0, 0, null, 2)), this._linkCSSP(x, null, s), (x.setRatio = Ea ? Va : Ua), (x.data = this._transform || Ta(a, e, !0)), (x.tween = h), (x.pr = -1), f.pop());
                        }
                        if (c) {
                            for (; p; ) {
                                for (v = p._next, s = t; s && s.pr > p.pr; ) s = s._next;
                                ((p._prev = s ? s._prev : u) ? (p._prev._next = p) : (t = p), (p._next = s) ? (s._prev = p) : (u = p), (p = v));
                            }
                            this._firstPT = t;
                        }
                        return !0;
                    }),
                    (j.parse = function (a, b, c, f) {
                        var g,
                            h,
                            j,
                            l,
                            m,
                            n,
                            o,
                            p,
                            s,
                            t,
                            u = a.style;
                        for (g in b) {
                            if (((n = b[g]), (h = i[g]), 'function' != typeof n || (h && h.allowFunc) || (n = n(r, q)), h)) c = h.parse(a, n, g, this, c, f, b);
                            else {
                                if ('--' === g.substr(0, 2)) {
                                    this._tween._propLookup[g] = this._addTween.call(this._tween, a.style, 'setProperty', aa(a).getPropertyValue(g) + '', n + '', g, !1, g);
                                    continue;
                                }
                                ((m = ba(a, g, e) + ''),
                                    (s = 'string' == typeof n),
                                    'color' === g || 'fill' === g || 'stroke' === g || -1 !== g.indexOf('Color') || (s && B.test(n))
                                        ? (s || ((n = pa(n)), (n = (n.length > 3 ? 'rgba(' : 'rgb(') + n.join(',') + ')')), (c = xa(u, g, m, n, !0, 'transparent', c, 0, f)))
                                        : s && K.test(n)
                                          ? (c = xa(u, g, m, n, !0, null, c, 0, f))
                                          : ((j = parseFloat(m)),
                                            (o = j || 0 === j ? m.substr((j + '').length) : ''),
                                            ('' === m || 'auto' === m) && ('width' === g || 'height' === g ? ((j = ia(a, g, e)), (o = 'px')) : 'left' === g || 'top' === g ? ((j = da(a, g, e)), (o = 'px')) : ((j = 'opacity' !== g ? 0 : 1), (o = ''))),
                                            (t = s && '=' === n.charAt(1)),
                                            t ? ((l = parseInt(n.charAt(0) + '1', 10)), (n = n.substr(2)), (l *= parseFloat(n)), (p = n.replace(x, ''))) : ((l = parseFloat(n)), (p = s ? n.replace(x, '') : '')),
                                            '' === p && (p = g in d ? d[g] : o),
                                            (n = l || 0 === l ? (t ? l + j : l) + p : b[g]),
                                            o !== p && ('' !== p || 'lineHeight' === g) && (l || 0 === l) && j && ((j = ca(a, g, j, o)), '%' === p ? ((j /= ca(a, g, 100, '%') / 100), b.strictUnits !== !0 && (m = j + '%')) : 'em' === p || 'rem' === p || 'vw' === p || 'vh' === p ? (j /= ca(a, g, 1, p)) : 'px' !== p && ((l = ca(a, g, l, p)), (p = 'px')), t && (l || 0 === l) && (n = l + j + p)),
                                            t && (l += j),
                                            (!j && 0 !== j) || (!l && 0 !== l) ? (void 0 !== u[g] && (n || (n + '' != 'NaN' && null != n)) ? ((c = new va(u, g, l || j || 0, 0, c, -1, g, !1, 0, m, n)), (c.xs0 = 'none' !== n || ('display' !== g && -1 === g.indexOf('Style')) ? n : m)) : X('invalid ' + g + ' tween value: ' + b[g])) : ((c = new va(u, g, j, l - j, c, 0, g, k !== !1 && ('px' === p || 'zIndex' === g), 0, m, n)), (c.xs0 = p))));
                            }
                            f && c && !c.plugin && (c.plugin = f);
                        }
                        return c;
                    }),
                    (j.setRatio = function (a) {
                        var b,
                            c,
                            d,
                            e = this._firstPT,
                            f = 1e-6;
                        if (1 !== a || (this._tween._time !== this._tween._duration && 0 !== this._tween._time))
                            if (a || (this._tween._time !== this._tween._duration && 0 !== this._tween._time) || this._tween._rawPrevTime === -1e-6)
                                for (; e; ) {
                                    if (((b = e.c * a + e.s), e.r ? (b = e.r(b)) : f > b && b > -f && (b = 0), e.type))
                                        if (1 === e.type)
                                            if (((d = e.l), 2 === d)) e.t[e.p] = e.xs0 + b + e.xs1 + e.xn1 + e.xs2;
                                            else if (3 === d) e.t[e.p] = e.xs0 + b + e.xs1 + e.xn1 + e.xs2 + e.xn2 + e.xs3;
                                            else if (4 === d) e.t[e.p] = e.xs0 + b + e.xs1 + e.xn1 + e.xs2 + e.xn2 + e.xs3 + e.xn3 + e.xs4;
                                            else if (5 === d) e.t[e.p] = e.xs0 + b + e.xs1 + e.xn1 + e.xs2 + e.xn2 + e.xs3 + e.xn3 + e.xs4 + e.xn4 + e.xs5;
                                            else {
                                                for (c = e.xs0 + b + e.xs1, d = 1; d < e.l; d++) c += e['xn' + d] + e['xs' + (d + 1)];
                                                e.t[e.p] = c;
                                            }
                                        else -1 === e.type ? (e.t[e.p] = e.xs0) : e.setRatio && e.setRatio(a);
                                    else e.t[e.p] = b + e.xs0;
                                    e = e._next;
                                }
                            else for (; e; ) (2 !== e.type ? (e.t[e.p] = e.b) : e.setRatio(a), (e = e._next));
                        else
                            for (; e; ) {
                                if (2 !== e.type)
                                    if (e.r && -1 !== e.type)
                                        if (((b = e.r(e.s + e.c)), e.type)) {
                                            if (1 === e.type) {
                                                for (d = e.l, c = e.xs0 + b + e.xs1, d = 1; d < e.l; d++) c += e['xn' + d] + e['xs' + (d + 1)];
                                                e.t[e.p] = c;
                                            }
                                        } else e.t[e.p] = b + e.xs0;
                                    else e.t[e.p] = e.e;
                                else e.setRatio(a);
                                e = e._next;
                            }
                    }),
                    (j._enableTransforms = function (a) {
                        ((this._transform = this._transform || Ta(this._target, e, !0)), (this._transformType = (this._transform.svg && Ca) || (!a && 3 !== this._transformType) ? 2 : 3));
                    }));
                var $a = function (a) {
                    ((this.t[this.p] = this.e), this.data._linkCSSP(this, this._next, null, !0));
                };
                ((j._addLazySet = function (a, b, c) {
                    var d = (this._firstPT = new va(a, b, 0, 0, this._firstPT, 2));
                    ((d.e = c), (d.setRatio = $a), (d.data = this));
                }),
                    (j._linkCSSP = function (a, b, c, d) {
                        return (a && (b && (b._prev = a), a._next && (a._next._prev = a._prev), a._prev ? (a._prev._next = a._next) : this._firstPT === a && ((this._firstPT = a._next), (d = !0)), c ? (c._next = a) : d || null !== this._firstPT || (this._firstPT = a), (a._next = b), (a._prev = c)), a);
                    }),
                    (j._mod = function (a) {
                        for (var b = this._firstPT; b; ) ('function' == typeof a[b.p] && (b.r = a[b.p]), (b = b._next));
                    }),
                    (j._kill = function (b) {
                        var c,
                            d,
                            e,
                            f = b;
                        if (b.autoAlpha || b.alpha) {
                            f = {};
                            for (d in b) f[d] = b[d];
                            ((f.opacity = 1), f.autoAlpha && (f.visibility = 1));
                        }
                        for (b.className && (c = this._classNamePT) && ((e = c.xfirst), e && e._prev ? this._linkCSSP(e._prev, c._next, e._prev._prev) : e === this._firstPT && (this._firstPT = c._next), c._next && this._linkCSSP(c._next, c._next._next, e._prev), (this._classNamePT = null)), c = this._firstPT; c; ) (c.plugin && c.plugin !== d && c.plugin._kill && (c.plugin._kill(b), (d = c.plugin)), (c = c._next));
                        return a.prototype._kill.call(this, f);
                    }));
                var _a = function (a, b, c) {
                    var d, e, f, g;
                    if (a.slice) for (e = a.length; --e > -1; ) _a(a[e], b, c);
                    else for (d = a.childNodes, e = d.length; --e > -1; ) ((f = d[e]), (g = f.type), f.style && (b.push(ea(f)), c && c.push(f)), (1 !== g && 9 !== g && 11 !== g) || !f.childNodes.length || _a(f, b, c));
                };
                return (
                    (g.cascadeTo = function (a, c, d) {
                        var e,
                            f,
                            g,
                            h,
                            i = b.to(a, c, d),
                            j = [i],
                            k = [],
                            l = [],
                            m = [],
                            n = b._internals.reservedProps;
                        for (a = i._targets || i.target, _a(a, k, m), i.render(c, !0, !0), _a(a, l), i.render(0, !0, !0), i._enabled(!0), e = m.length; --e > -1; )
                            if (((f = fa(m[e], k[e], l[e])), f.firstMPT)) {
                                f = f.difs;
                                for (g in d) n[g] && (f[g] = d[g]);
                                h = {};
                                for (g in f) h[g] = k[e][g];
                                j.push(b.fromTo(m[e], c, h, f));
                            }
                        return j;
                    }),
                    a.activate([g]),
                    g
                );
            },
            !0
        ),
        (function () {
            var a = _gsScope._gsDefine.plugin({
                    propName: 'roundProps',
                    version: '1.7.0',
                    priority: -1,
                    API: 2,
                    init: function (a, b, c) {
                        return ((this._tween = c), !0);
                    },
                }),
                b = function (a) {
                    var b = 1 > a ? Math.pow(10, (a + '').length - 2) : 1;
                    return function (c) {
                        return ((Math.round(c / a) * a * b) | 0) / b;
                    };
                },
                c = function (a, b) {
                    for (; a; ) (a.f || a.blob || (a.m = b || Math.round), (a = a._next));
                },
                d = a.prototype;
            ((d._onInitAllProps = function () {
                var a,
                    d,
                    e,
                    f,
                    g = this._tween,
                    h = g.vars.roundProps,
                    i = {},
                    j = g._propLookup.roundProps;
                if ('object' != typeof h || h.push) for ('string' == typeof h && (h = h.split(',')), e = h.length; --e > -1; ) i[h[e]] = Math.round;
                else for (f in h) i[f] = b(h[f]);
                for (f in i) for (a = g._firstPT; a; ) ((d = a._next), a.pg ? a.t._mod(i) : a.n === f && (2 === a.f && a.t ? c(a.t._firstPT, i[f]) : (this._add(a.t, f, a.s, a.c, i[f]), d && (d._prev = a._prev), a._prev ? (a._prev._next = d) : g._firstPT === a && (g._firstPT = d), (a._next = a._prev = null), (g._propLookup[f] = j))), (a = d));
                return !1;
            }),
                (d._add = function (a, b, c, d, e) {
                    (this._addTween(a, b, c, c + d, b, e || Math.round), this._overwriteProps.push(b));
                }));
        })(),
        (function () {
            _gsScope._gsDefine.plugin({
                propName: 'attr',
                API: 2,
                version: '0.6.1',
                init: function (a, b, c, d) {
                    var e, f;
                    if ('function' != typeof a.setAttribute) return !1;
                    for (e in b) ((f = b[e]), 'function' == typeof f && (f = f(d, a)), this._addTween(a, 'setAttribute', a.getAttribute(e) + '', f + '', e, !1, e), this._overwriteProps.push(e));
                    return !0;
                },
            });
        })(),
        (_gsScope._gsDefine.plugin({
            propName: 'directionalRotation',
            version: '0.3.1',
            API: 2,
            init: function (a, b, c, d) {
                ('object' != typeof b && (b = { rotation: b }), (this.finals = {}));
                var e,
                    f,
                    g,
                    h,
                    i,
                    j,
                    k = b.useRadians === !0 ? 2 * Math.PI : 360,
                    l = 1e-6;
                for (e in b) 'useRadians' !== e && ((h = b[e]), 'function' == typeof h && (h = h(d, a)), (j = (h + '').split('_')), (f = j[0]), (g = parseFloat('function' != typeof a[e] ? a[e] : a[e.indexOf('set') || 'function' != typeof a['get' + e.substr(3)] ? e : 'get' + e.substr(3)]())), (h = this.finals[e] = 'string' == typeof f && '=' === f.charAt(1) ? g + parseInt(f.charAt(0) + '1', 10) * Number(f.substr(2)) : Number(f) || 0), (i = h - g), j.length && ((f = j.join('_')), -1 !== f.indexOf('short') && ((i %= k), i !== i % (k / 2) && (i = 0 > i ? i + k : i - k)), -1 !== f.indexOf('_cw') && 0 > i ? (i = ((i + 9999999999 * k) % k) - ((i / k) | 0) * k) : -1 !== f.indexOf('ccw') && i > 0 && (i = ((i - 9999999999 * k) % k) - ((i / k) | 0) * k)), (i > l || -l > i) && (this._addTween(a, e, g, g + i, e), this._overwriteProps.push(e)));
                return !0;
            },
            set: function (a) {
                var b;
                if (1 !== a) this._super.setRatio.call(this, a);
                else for (b = this._firstPT; b; ) (b.f ? b.t[b.p](this.finals[b.p]) : (b.t[b.p] = this.finals[b.p]), (b = b._next));
            },
        })._autoCSS = !0),
        _gsScope._gsDefine(
            'easing.Back',
            ['easing.Ease'],
            function (a) {
                var b,
                    c,
                    d,
                    e,
                    f = _gsScope.GreenSockGlobals || _gsScope,
                    g = f.com.greensock,
                    h = 2 * Math.PI,
                    i = Math.PI / 2,
                    j = g._class,
                    k = function (b, c) {
                        var d = j('easing.' + b, function () {}, !0),
                            e = (d.prototype = new a());
                        return ((e.constructor = d), (e.getRatio = c), d);
                    },
                    l = a.register || function () {},
                    m = function (a, b, c, d, e) {
                        var f = j('easing.' + a, { easeOut: new b(), easeIn: new c(), easeInOut: new d() }, !0);
                        return (l(f, a), f);
                    },
                    n = function (a, b, c) {
                        ((this.t = a), (this.v = b), c && ((this.next = c), (c.prev = this), (this.c = c.v - b), (this.gap = c.t - a)));
                    },
                    o = function (b, c) {
                        var d = j(
                                'easing.' + b,
                                function (a) {
                                    ((this._p1 = a || 0 === a ? a : 1.70158), (this._p2 = 1.525 * this._p1));
                                },
                                !0
                            ),
                            e = (d.prototype = new a());
                        return (
                            (e.constructor = d),
                            (e.getRatio = c),
                            (e.config = function (a) {
                                return new d(a);
                            }),
                            d
                        );
                    },
                    p = m(
                        'Back',
                        o('BackOut', function (a) {
                            return (a -= 1) * a * ((this._p1 + 1) * a + this._p1) + 1;
                        }),
                        o('BackIn', function (a) {
                            return a * a * ((this._p1 + 1) * a - this._p1);
                        }),
                        o('BackInOut', function (a) {
                            return (a *= 2) < 1 ? 0.5 * a * a * ((this._p2 + 1) * a - this._p2) : 0.5 * ((a -= 2) * a * ((this._p2 + 1) * a + this._p2) + 2);
                        })
                    ),
                    q = j(
                        'easing.SlowMo',
                        function (a, b, c) {
                            ((b = b || 0 === b ? b : 0.7), null == a ? (a = 0.7) : a > 1 && (a = 1), (this._p = 1 !== a ? b : 0), (this._p1 = (1 - a) / 2), (this._p2 = a), (this._p3 = this._p1 + this._p2), (this._calcEnd = c === !0));
                        },
                        !0
                    ),
                    r = (q.prototype = new a());
                return (
                    (r.constructor = q),
                    (r.getRatio = function (a) {
                        var b = a + (0.5 - a) * this._p;
                        return a < this._p1 ? (this._calcEnd ? 1 - (a = 1 - a / this._p1) * a : b - (a = 1 - a / this._p1) * a * a * a * b) : a > this._p3 ? (this._calcEnd ? (1 === a ? 0 : 1 - (a = (a - this._p3) / this._p1) * a) : b + (a - b) * (a = (a - this._p3) / this._p1) * a * a * a) : this._calcEnd ? 1 : b;
                    }),
                    (q.ease = new q(0.7, 0.7)),
                    (r.config = q.config =
                        function (a, b, c) {
                            return new q(a, b, c);
                        }),
                    (b = j(
                        'easing.SteppedEase',
                        function (a, b) {
                            ((a = a || 1), (this._p1 = 1 / a), (this._p2 = a + (b ? 0 : 1)), (this._p3 = b ? 1 : 0));
                        },
                        !0
                    )),
                    (r = b.prototype = new a()),
                    (r.constructor = b),
                    (r.getRatio = function (a) {
                        return (0 > a ? (a = 0) : a >= 1 && (a = 0.999999999), (((this._p2 * a) | 0) + this._p3) * this._p1);
                    }),
                    (r.config = b.config =
                        function (a, c) {
                            return new b(a, c);
                        }),
                    (c = j(
                        'easing.ExpoScaleEase',
                        function (a, b, c) {
                            ((this._p1 = Math.log(b / a)), (this._p2 = b - a), (this._p3 = a), (this._ease = c));
                        },
                        !0
                    )),
                    (r = c.prototype = new a()),
                    (r.constructor = c),
                    (r.getRatio = function (a) {
                        return (this._ease && (a = this._ease.getRatio(a)), (this._p3 * Math.exp(this._p1 * a) - this._p3) / this._p2);
                    }),
                    (r.config = c.config =
                        function (a, b, d) {
                            return new c(a, b, d);
                        }),
                    (d = j(
                        'easing.RoughEase',
                        function (b) {
                            b = b || {};
                            for (var c, d, e, f, g, h, i = b.taper || 'none', j = [], k = 0, l = 0 | (b.points || 20), m = l, o = b.randomize !== !1, p = b.clamp === !0, q = b.template instanceof a ? b.template : null, r = 'number' == typeof b.strength ? 0.4 * b.strength : 0.4; --m > -1; ) ((c = o ? Math.random() : (1 / l) * m), (d = q ? q.getRatio(c) : c), 'none' === i ? (e = r) : 'out' === i ? ((f = 1 - c), (e = f * f * r)) : 'in' === i ? (e = c * c * r) : 0.5 > c ? ((f = 2 * c), (e = f * f * 0.5 * r)) : ((f = 2 * (1 - c)), (e = f * f * 0.5 * r)), o ? (d += Math.random() * e - 0.5 * e) : m % 2 ? (d += 0.5 * e) : (d -= 0.5 * e), p && (d > 1 ? (d = 1) : 0 > d && (d = 0)), (j[k++] = { x: c, y: d }));
                            for (
                                j.sort(function (a, b) {
                                    return a.x - b.x;
                                }),
                                    h = new n(1, 1, null),
                                    m = l;
                                --m > -1;

                            )
                                ((g = j[m]), (h = new n(g.x, g.y, h)));
                            this._prev = new n(0, 0, 0 !== h.t ? h : h.next);
                        },
                        !0
                    )),
                    (r = d.prototype = new a()),
                    (r.constructor = d),
                    (r.getRatio = function (a) {
                        var b = this._prev;
                        if (a > b.t) {
                            for (; b.next && a >= b.t; ) b = b.next;
                            b = b.prev;
                        } else for (; b.prev && a <= b.t; ) b = b.prev;
                        return ((this._prev = b), b.v + ((a - b.t) / b.gap) * b.c);
                    }),
                    (r.config = function (a) {
                        return new d(a);
                    }),
                    (d.ease = new d()),
                    m(
                        'Bounce',
                        k('BounceOut', function (a) {
                            return 1 / 2.75 > a ? 7.5625 * a * a : 2 / 2.75 > a ? 7.5625 * (a -= 1.5 / 2.75) * a + 0.75 : 2.5 / 2.75 > a ? 7.5625 * (a -= 2.25 / 2.75) * a + 0.9375 : 7.5625 * (a -= 2.625 / 2.75) * a + 0.984375;
                        }),
                        k('BounceIn', function (a) {
                            return (a = 1 - a) < 1 / 2.75 ? 1 - 7.5625 * a * a : 2 / 2.75 > a ? 1 - (7.5625 * (a -= 1.5 / 2.75) * a + 0.75) : 2.5 / 2.75 > a ? 1 - (7.5625 * (a -= 2.25 / 2.75) * a + 0.9375) : 1 - (7.5625 * (a -= 2.625 / 2.75) * a + 0.984375);
                        }),
                        k('BounceInOut', function (a) {
                            var b = 0.5 > a;
                            return ((a = b ? 1 - 2 * a : 2 * a - 1), (a = 1 / 2.75 > a ? 7.5625 * a * a : 2 / 2.75 > a ? 7.5625 * (a -= 1.5 / 2.75) * a + 0.75 : 2.5 / 2.75 > a ? 7.5625 * (a -= 2.25 / 2.75) * a + 0.9375 : 7.5625 * (a -= 2.625 / 2.75) * a + 0.984375), b ? 0.5 * (1 - a) : 0.5 * a + 0.5);
                        })
                    ),
                    m(
                        'Circ',
                        k('CircOut', function (a) {
                            return Math.sqrt(1 - (a -= 1) * a);
                        }),
                        k('CircIn', function (a) {
                            return -(Math.sqrt(1 - a * a) - 1);
                        }),
                        k('CircInOut', function (a) {
                            return (a *= 2) < 1 ? -0.5 * (Math.sqrt(1 - a * a) - 1) : 0.5 * (Math.sqrt(1 - (a -= 2) * a) + 1);
                        })
                    ),
                    (e = function (b, c, d) {
                        var e = j(
                                'easing.' + b,
                                function (a, b) {
                                    ((this._p1 = a >= 1 ? a : 1), (this._p2 = (b || d) / (1 > a ? a : 1)), (this._p3 = (this._p2 / h) * (Math.asin(1 / this._p1) || 0)), (this._p2 = h / this._p2));
                                },
                                !0
                            ),
                            f = (e.prototype = new a());
                        return (
                            (f.constructor = e),
                            (f.getRatio = c),
                            (f.config = function (a, b) {
                                return new e(a, b);
                            }),
                            e
                        );
                    }),
                    m(
                        'Elastic',
                        e(
                            'ElasticOut',
                            function (a) {
                                return this._p1 * Math.pow(2, -10 * a) * Math.sin((a - this._p3) * this._p2) + 1;
                            },
                            0.3
                        ),
                        e(
                            'ElasticIn',
                            function (a) {
                                return -(this._p1 * Math.pow(2, 10 * (a -= 1)) * Math.sin((a - this._p3) * this._p2));
                            },
                            0.3
                        ),
                        e(
                            'ElasticInOut',
                            function (a) {
                                return (a *= 2) < 1 ? -0.5 * (this._p1 * Math.pow(2, 10 * (a -= 1)) * Math.sin((a - this._p3) * this._p2)) : this._p1 * Math.pow(2, -10 * (a -= 1)) * Math.sin((a - this._p3) * this._p2) * 0.5 + 1;
                            },
                            0.45
                        )
                    ),
                    m(
                        'Expo',
                        k('ExpoOut', function (a) {
                            return 1 - Math.pow(2, -10 * a);
                        }),
                        k('ExpoIn', function (a) {
                            return Math.pow(2, 10 * (a - 1)) - 0.001;
                        }),
                        k('ExpoInOut', function (a) {
                            return (a *= 2) < 1 ? 0.5 * Math.pow(2, 10 * (a - 1)) : 0.5 * (2 - Math.pow(2, -10 * (a - 1)));
                        })
                    ),
                    m(
                        'Sine',
                        k('SineOut', function (a) {
                            return Math.sin(a * i);
                        }),
                        k('SineIn', function (a) {
                            return -Math.cos(a * i) + 1;
                        }),
                        k('SineInOut', function (a) {
                            return -0.5 * (Math.cos(Math.PI * a) - 1);
                        })
                    ),
                    j(
                        'easing.EaseLookup',
                        {
                            find: function (b) {
                                return a.map[b];
                            },
                        },
                        !0
                    ),
                    l(f.SlowMo, 'SlowMo', 'ease,'),
                    l(d, 'RoughEase', 'ease,'),
                    l(b, 'SteppedEase', 'ease,'),
                    p
                );
            },
            !0
        ));
}),
    _gsScope._gsDefine && _gsScope._gsQueue.pop()(),
    (function (a, b) {
        'use strict';
        var c = {},
            d = a.document,
            e = (a.GreenSockGlobals = a.GreenSockGlobals || a),
            f = e[b];
        if (f) return ('undefined' != typeof module && module.exports && (module.exports = f), f);
        var g,
            h,
            i,
            j,
            k,
            l = function (a) {
                var b,
                    c = a.split('.'),
                    d = e;
                for (b = 0; b < c.length; b++) d[c[b]] = d = d[c[b]] || {};
                return d;
            },
            m = l('com.greensock'),
            n = 1e-8,
            o = function (a) {
                var b,
                    c = [],
                    d = a.length;
                for (b = 0; b !== d; c.push(a[b++]));
                return c;
            },
            p = function () {},
            q = (function () {
                var a = Object.prototype.toString,
                    b = a.call([]);
                return function (c) {
                    return null != c && (c instanceof Array || ('object' == typeof c && !!c.push && a.call(c) === b));
                };
            })(),
            r = {},
            s = function (d, f, g, h) {
                ((this.sc = r[d] ? r[d].sc : []), (r[d] = this), (this.gsClass = null), (this.func = g));
                var i = [];
                ((this.check = function (j) {
                    for (var k, m, n, o, p = f.length, q = p; --p > -1; ) (k = r[f[p]] || new s(f[p], [])).gsClass ? ((i[p] = k.gsClass), q--) : j && k.sc.push(this);
                    if (0 === q && g) {
                        if (((m = ('com.greensock.' + d).split('.')), (n = m.pop()), (o = l(m.join('.'))[n] = this.gsClass = g.apply(g, i)), h))
                            if (((e[n] = c[n] = o), 'undefined' != typeof module && module.exports))
                                if (d === b) {
                                    module.exports = c[b] = o;
                                    for (p in c) o[p] = c[p];
                                } else c[b] && (c[b][n] = o);
                            else
                                'function' == typeof define &&
                                    define.amd &&
                                    define((a.GreenSockAMDPath ? a.GreenSockAMDPath + '/' : '') + d.split('.').pop(), [], function () {
                                        return o;
                                    });
                        for (p = 0; p < this.sc.length; p++) this.sc[p].check();
                    }
                }),
                    this.check(!0));
            },
            t = (a._gsDefine = function (a, b, c, d) {
                return new s(a, b, c, d);
            }),
            u = (m._class = function (a, b, c) {
                return (
                    (b = b || function () {}),
                    t(
                        a,
                        [],
                        function () {
                            return b;
                        },
                        c
                    ),
                    b
                );
            });
        t.globals = e;
        var v = [0, 0, 1, 1],
            w = u(
                'easing.Ease',
                function (a, b, c, d) {
                    ((this._func = a), (this._type = c || 0), (this._power = d || 0), (this._params = b ? v.concat(b) : v));
                },
                !0
            ),
            x = (w.map = {}),
            y = (w.register = function (a, b, c, d) {
                for (var e, f, g, h, i = b.split(','), j = i.length, k = (c || 'easeIn,easeOut,easeInOut').split(','); --j > -1; ) for (f = i[j], e = d ? u('easing.' + f, null, !0) : m.easing[f] || {}, g = k.length; --g > -1; ) ((h = k[g]), (x[f + '.' + h] = x[h + f] = e[h] = a.getRatio ? a : a[h] || new a()));
            });
        for (
            i = w.prototype,
                i._calcEnd = !1,
                i.getRatio = function (a) {
                    if (this._func) return ((this._params[0] = a), this._func.apply(null, this._params));
                    var b = this._type,
                        c = this._power,
                        d = 1 === b ? 1 - a : 2 === b ? a : 0.5 > a ? 2 * a : 2 * (1 - a);
                    return (1 === c ? (d *= d) : 2 === c ? (d *= d * d) : 3 === c ? (d *= d * d * d) : 4 === c && (d *= d * d * d * d), 1 === b ? 1 - d : 2 === b ? d : 0.5 > a ? d / 2 : 1 - d / 2);
                },
                g = ['Linear', 'Quad', 'Cubic', 'Quart', 'Quint,Strong'],
                h = g.length;
            --h > -1;

        )
            ((i = g[h] + ',Power' + h), y(new w(null, null, 1, h), i, 'easeOut', !0), y(new w(null, null, 2, h), i, 'easeIn' + (0 === h ? ',easeNone' : '')), y(new w(null, null, 3, h), i, 'easeInOut'));
        ((x.linear = m.easing.Linear.easeIn), (x.swing = m.easing.Quad.easeInOut));
        var z = u('events.EventDispatcher', function (a) {
            ((this._listeners = {}), (this._eventTarget = a || this));
        });
        ((i = z.prototype),
            (i.addEventListener = function (a, b, c, d, e) {
                e = e || 0;
                var f,
                    g,
                    h = this._listeners[a],
                    i = 0;
                for (this !== j || k || j.wake(), null == h && (this._listeners[a] = h = []), g = h.length; --g > -1; ) ((f = h[g]), f.c === b && f.s === c ? h.splice(g, 1) : 0 === i && f.pr < e && (i = g + 1));
                h.splice(i, 0, { c: b, s: c, up: d, pr: e });
            }),
            (i.removeEventListener = function (a, b) {
                var c,
                    d = this._listeners[a];
                if (d) for (c = d.length; --c > -1; ) if (d[c].c === b) return void d.splice(c, 1);
            }),
            (i.dispatchEvent = function (a) {
                var b,
                    c,
                    d,
                    e = this._listeners[a];
                if (e) for (b = e.length, b > 1 && (e = e.slice(0)), c = this._eventTarget; --b > -1; ) ((d = e[b]), d && (d.up ? d.c.call(d.s || c, { type: a, target: c }) : d.c.call(d.s || c)));
            }));
        var A = a.requestAnimationFrame,
            B = a.cancelAnimationFrame,
            C =
                Date.now ||
                function () {
                    return new Date().getTime();
                },
            D = C();
        for (g = ['ms', 'moz', 'webkit', 'o'], h = g.length; --h > -1 && !A; ) ((A = a[g[h] + 'RequestAnimationFrame']), (B = a[g[h] + 'CancelAnimationFrame'] || a[g[h] + 'CancelRequestAnimationFrame']));
        (u('Ticker', function (a, b) {
            var c,
                e,
                f,
                g,
                h,
                i = this,
                l = C(),
                m = b !== !1 && A ? 'auto' : !1,
                o = 500,
                q = 33,
                r = 'tick',
                s = function (a) {
                    var b,
                        d,
                        j = C() - D;
                    (j > o && (l += j - q), (D += j), (i.time = (D - l) / 1e3), (b = i.time - h), (!c || b > 0 || a === !0) && (i.frame++, (h += b + (b >= g ? 0.004 : g - b)), (d = !0)), a !== !0 && (f = e(s)), d && i.dispatchEvent(r));
                };
            (z.call(i),
                (i.time = i.frame = 0),
                (i.tick = function () {
                    s(!0);
                }),
                (i.lagSmoothing = function (a, b) {
                    return arguments.length ? ((o = a || 1 / n), void (q = Math.min(b, o, 0))) : 1 / n > o;
                }),
                (i.sleep = function () {
                    null != f && (m && B ? B(f) : clearTimeout(f), (e = p), (f = null), i === j && (k = !1));
                }),
                (i.wake = function (a) {
                    (null !== f ? i.sleep() : a ? (l += -D + (D = C())) : i.frame > 10 && (D = C() - o + 5),
                        (e =
                            0 === c
                                ? p
                                : m && A
                                  ? A
                                  : function (a) {
                                        return setTimeout(a, (1e3 * (h - i.time) + 1) | 0);
                                    }),
                        i === j && (k = !0),
                        s(2));
                }),
                (i.fps = function (a) {
                    return arguments.length ? ((c = a), (g = 1 / (c || 60)), (h = this.time + g), void i.wake()) : c;
                }),
                (i.useRAF = function (a) {
                    return arguments.length ? (i.sleep(), (m = a), void i.fps(c)) : m;
                }),
                i.fps(a),
                setTimeout(function () {
                    'auto' === m && i.frame < 5 && 'hidden' !== (d || {}).visibilityState && i.useRAF(!1);
                }, 1500));
        }),
            (i = m.Ticker.prototype = new m.events.EventDispatcher()),
            (i.constructor = m.Ticker));
        var E = u('core.Animation', function (a, b) {
            if (((this.vars = b = b || {}), (this._duration = this._totalDuration = a || 0), (this._delay = Number(b.delay) || 0), (this._timeScale = 1), (this._active = !!b.immediateRender), (this.data = b.data), (this._reversed = !!b.reversed), Z)) {
                k || j.wake();
                var c = this.vars.useFrames ? Y : Z;
                (c.add(this, c._time), this.vars.paused && this.paused(!0));
            }
        });
        ((j = E.ticker = new m.Ticker()), (i = E.prototype), (i._dirty = i._gc = i._initted = i._paused = !1), (i._totalTime = i._time = 0), (i._rawPrevTime = -1), (i._next = i._last = i._onUpdate = i._timeline = i.timeline = null), (i._paused = !1));
        var F = function () {
            k && C() - D > 2e3 && ('hidden' !== (d || {}).visibilityState || !j.lagSmoothing()) && j.wake();
            var a = setTimeout(F, 2e3);
            a.unref && a.unref();
        };
        (F(),
            (i.play = function (a, b) {
                return (null != a && this.seek(a, b), this.reversed(!1).paused(!1));
            }),
            (i.pause = function (a, b) {
                return (null != a && this.seek(a, b), this.paused(!0));
            }),
            (i.resume = function (a, b) {
                return (null != a && this.seek(a, b), this.paused(!1));
            }),
            (i.seek = function (a, b) {
                return this.totalTime(Number(a), b !== !1);
            }),
            (i.restart = function (a, b) {
                return this.reversed(!1)
                    .paused(!1)
                    .totalTime(a ? -this._delay : 0, b !== !1, !0);
            }),
            (i.reverse = function (a, b) {
                return (null != a && this.seek(a || this.totalDuration(), b), this.reversed(!0).paused(!1));
            }),
            (i.render = function (a, b, c) {}),
            (i.invalidate = function () {
                return ((this._time = this._totalTime = 0), (this._initted = this._gc = !1), (this._rawPrevTime = -1), (this._gc || !this.timeline) && this._enabled(!0), this);
            }),
            (i.isActive = function () {
                var a,
                    b = this._timeline,
                    c = this._startTime;
                return !b || (!this._gc && !this._paused && b.isActive() && (a = b.rawTime(!0)) >= c && a < c + this.totalDuration() / this._timeScale - n);
            }),
            (i._enabled = function (a, b) {
                return (k || j.wake(), (this._gc = !a), (this._active = this.isActive()), b !== !0 && (a && !this.timeline ? this._timeline.add(this, this._startTime - this._delay) : !a && this.timeline && this._timeline._remove(this, !0)), !1);
            }),
            (i._kill = function (a, b) {
                return this._enabled(!1, !1);
            }),
            (i.kill = function (a, b) {
                return (this._kill(a, b), this);
            }),
            (i._uncache = function (a) {
                for (var b = a ? this : this.timeline; b; ) ((b._dirty = !0), (b = b.timeline));
                return this;
            }),
            (i._swapSelfInParams = function (a) {
                for (var b = a.length, c = a.concat(); --b > -1; ) '{self}' === a[b] && (c[b] = this);
                return c;
            }),
            (i._callback = function (a) {
                var b = this.vars,
                    c = b[a],
                    d = b[a + 'Params'],
                    e = b[a + 'Scope'] || b.callbackScope || this,
                    f = d ? d.length : 0;
                switch (f) {
                    case 0:
                        c.call(e);
                        break;
                    case 1:
                        c.call(e, d[0]);
                        break;
                    case 2:
                        c.call(e, d[0], d[1]);
                        break;
                    default:
                        c.apply(e, d);
                }
            }),
            (i.eventCallback = function (a, b, c, d) {
                if ('on' === (a || '').substr(0, 2)) {
                    var e = this.vars;
                    if (1 === arguments.length) return e[a];
                    (null == b ? delete e[a] : ((e[a] = b), (e[a + 'Params'] = q(c) && -1 !== c.join('').indexOf('{self}') ? this._swapSelfInParams(c) : c), (e[a + 'Scope'] = d)), 'onUpdate' === a && (this._onUpdate = b));
                }
                return this;
            }),
            (i.delay = function (a) {
                return arguments.length ? (this._timeline.smoothChildTiming && this.startTime(this._startTime + a - this._delay), (this._delay = a), this) : this._delay;
            }),
            (i.duration = function (a) {
                return arguments.length ? ((this._duration = this._totalDuration = a), this._uncache(!0), this._timeline.smoothChildTiming && this._time > 0 && this._time < this._duration && 0 !== a && this.totalTime(this._totalTime * (a / this._duration), !0), this) : ((this._dirty = !1), this._duration);
            }),
            (i.totalDuration = function (a) {
                return ((this._dirty = !1), arguments.length ? this.duration(a) : this._totalDuration);
            }),
            (i.time = function (a, b) {
                return arguments.length ? (this._dirty && this.totalDuration(), this.totalTime(a > this._duration ? this._duration : a, b)) : this._time;
            }),
            (i.totalTime = function (a, b, c) {
                if ((k || j.wake(), !arguments.length)) return this._totalTime;
                if (this._timeline) {
                    if ((0 > a && !c && (a += this.totalDuration()), this._timeline.smoothChildTiming)) {
                        this._dirty && this.totalDuration();
                        var d = this._totalDuration,
                            e = this._timeline;
                        if ((a > d && !c && (a = d), (this._startTime = (this._paused ? this._pauseTime : e._time) - (this._reversed ? d - a : a) / this._timeScale), e._dirty || this._uncache(!1), e._timeline)) for (; e._timeline; ) (e._timeline._time !== (e._startTime + e._totalTime) / e._timeScale && e.totalTime(e._totalTime, !0), (e = e._timeline));
                    }
                    (this._gc && this._enabled(!0, !1), (this._totalTime !== a || 0 === this._duration) && (K.length && _(), this.render(a, b, !1), K.length && _()));
                }
                return this;
            }),
            (i.progress = i.totalProgress =
                function (a, b) {
                    var c = this.duration();
                    return arguments.length ? this.totalTime(c * a, b) : c ? this._time / c : this.ratio;
                }),
            (i.startTime = function (a) {
                return arguments.length ? (a !== this._startTime && ((this._startTime = a), this.timeline && this.timeline._sortChildren && this.timeline.add(this, a - this._delay)), this) : this._startTime;
            }),
            (i.endTime = function (a) {
                return this._startTime + (0 != a ? this.totalDuration() : this.duration()) / this._timeScale;
            }),
            (i.timeScale = function (a) {
                if (!arguments.length) return this._timeScale;
                var b, c;
                for (a = a || n, this._timeline && this._timeline.smoothChildTiming && ((b = this._pauseTime), (c = b || 0 === b ? b : this._timeline.totalTime()), (this._startTime = c - ((c - this._startTime) * this._timeScale) / a)), this._timeScale = a, c = this.timeline; c && c.timeline; ) ((c._dirty = !0), c.totalDuration(), (c = c.timeline));
                return this;
            }),
            (i.reversed = function (a) {
                return arguments.length ? (a != this._reversed && ((this._reversed = a), this.totalTime(this._timeline && !this._timeline.smoothChildTiming ? this.totalDuration() - this._totalTime : this._totalTime, !0)), this) : this._reversed;
            }),
            (i.paused = function (a) {
                if (!arguments.length) return this._paused;
                var b,
                    c,
                    d = this._timeline;
                return (a != this._paused && d && (k || a || j.wake(), (b = d.rawTime()), (c = b - this._pauseTime), !a && d.smoothChildTiming && ((this._startTime += c), this._uncache(!1)), (this._pauseTime = a ? b : null), (this._paused = a), (this._active = this.isActive()), !a && 0 !== c && this._initted && this.duration() && ((b = d.smoothChildTiming ? this._totalTime : (b - this._startTime) / this._timeScale), this.render(b, b === this._totalTime, !0))), this._gc && !a && this._enabled(!0, !1), this);
            }));
        var G = u('core.SimpleTimeline', function (a) {
            (E.call(this, 0, a), (this.autoRemoveChildren = this.smoothChildTiming = !0));
        });
        ((i = G.prototype = new E()),
            (i.constructor = G),
            (i.kill()._gc = !1),
            (i._first = i._last = i._recent = null),
            (i._sortChildren = !1),
            (i.add = i.insert =
                function (a, b, c, d) {
                    var e, f;
                    if (((a._startTime = Number(b || 0) + a._delay), a._paused && this !== a._timeline && (a._pauseTime = this.rawTime() - (a._timeline.rawTime() - a._pauseTime)), a.timeline && a.timeline._remove(a, !0), (a.timeline = a._timeline = this), a._gc && a._enabled(!0, !0), (e = this._last), this._sortChildren)) for (f = a._startTime; e && e._startTime > f; ) e = e._prev;
                    return (e ? ((a._next = e._next), (e._next = a)) : ((a._next = this._first), (this._first = a)), a._next ? (a._next._prev = a) : (this._last = a), (a._prev = e), (this._recent = a), this._timeline && this._uncache(!0), this);
                }),
            (i._remove = function (a, b) {
                return (a.timeline === this && (b || a._enabled(!1, !0), a._prev ? (a._prev._next = a._next) : this._first === a && (this._first = a._next), a._next ? (a._next._prev = a._prev) : this._last === a && (this._last = a._prev), (a._next = a._prev = a.timeline = null), a === this._recent && (this._recent = this._last), this._timeline && this._uncache(!0)), this);
            }),
            (i.render = function (a, b, c) {
                var d,
                    e = this._first;
                for (this._totalTime = this._time = this._rawPrevTime = a; e; ) ((d = e._next), (e._active || (a >= e._startTime && !e._paused && !e._gc)) && (e._reversed ? e.render((e._dirty ? e.totalDuration() : e._totalDuration) - (a - e._startTime) * e._timeScale, b, c) : e.render((a - e._startTime) * e._timeScale, b, c)), (e = d));
            }),
            (i.rawTime = function () {
                return (k || j.wake(), this._totalTime);
            }));
        var H = u(
                'TweenLite',
                function (b, c, d) {
                    if ((E.call(this, c, d), (this.render = H.prototype.render), null == b)) throw new Error('Cannot tween a null target.');
                    this.target = b = 'string' != typeof b ? b : H.selector(b) || b;
                    var e,
                        f,
                        g,
                        h = b.jquery || (b.length && b !== a && b[0] && (b[0] === a || (b[0].nodeType && b[0].style && !b.nodeType))),
                        i = this.vars.overwrite;
                    if (((this._overwrite = i = null == i ? X[H.defaultOverwrite] : 'number' == typeof i ? i >> 0 : X[i]), (h || b instanceof Array || (b.push && q(b))) && 'number' != typeof b[0])) for (this._targets = g = o(b), this._propLookup = [], this._siblings = [], e = 0; e < g.length; e++) ((f = g[e]), f ? ('string' != typeof f ? (f.length && f !== a && f[0] && (f[0] === a || (f[0].nodeType && f[0].style && !f.nodeType)) ? (g.splice(e--, 1), (this._targets = g = g.concat(o(f)))) : ((this._siblings[e] = aa(f, this, !1)), 1 === i && this._siblings[e].length > 1 && ca(f, this, null, 1, this._siblings[e]))) : ((f = g[e--] = H.selector(f)), 'string' == typeof f && g.splice(e + 1, 1))) : g.splice(e--, 1));
                    else ((this._propLookup = {}), (this._siblings = aa(b, this, !1)), 1 === i && this._siblings.length > 1 && ca(b, this, null, 1, this._siblings));
                    (this.vars.immediateRender || (0 === c && 0 === this._delay && this.vars.immediateRender !== !1)) && ((this._time = -n), this.render(Math.min(0, -this._delay)));
                },
                !0
            ),
            I = function (b) {
                return b && b.length && b !== a && b[0] && (b[0] === a || (b[0].nodeType && b[0].style && !b.nodeType));
            },
            J = function (a, b) {
                var c,
                    d = {};
                for (c in a) W[c] || (c in b && 'transform' !== c && 'x' !== c && 'y' !== c && 'width' !== c && 'height' !== c && 'className' !== c && 'border' !== c) || !(!T[c] || (T[c] && T[c]._autoCSS)) || ((d[c] = a[c]), delete a[c]);
                a.css = d;
            };
        ((i = H.prototype = new E()),
            (i.constructor = H),
            (i.kill()._gc = !1),
            (i.ratio = 0),
            (i._firstPT = i._targets = i._overwrittenProps = i._startAt = null),
            (i._notifyPluginsOfEnabled = i._lazy = !1),
            (H.version = '2.1.3'),
            (H.defaultEase = i._ease = new w(null, null, 1, 1)),
            (H.defaultOverwrite = 'auto'),
            (H.ticker = j),
            (H.autoSleep = 120),
            (H.lagSmoothing = function (a, b) {
                j.lagSmoothing(a, b);
            }),
            (H.selector =
                a.$ ||
                a.jQuery ||
                function (b) {
                    var c = a.$ || a.jQuery;
                    return c ? ((H.selector = c), c(b)) : (d || (d = a.document), d ? (d.querySelectorAll ? d.querySelectorAll(b) : d.getElementById('#' === b.charAt(0) ? b.substr(1) : b)) : b);
                }));
        var K = [],
            L = {},
            M = /(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,
            N = /[\+-]=-?[\.\d]/,
            O = function (a) {
                for (var b, c = this._firstPT, d = 1e-6; c; ) ((b = c.blob ? (1 === a && null != this.end ? this.end : a ? this.join('') : this.start) : c.c * a + c.s), c.m ? (b = c.m.call(this._tween, b, this._target || c.t, this._tween)) : d > b && b > -d && !c.blob && (b = 0), c.f ? (c.fp ? c.t[c.p](c.fp, b) : c.t[c.p](b)) : (c.t[c.p] = b), (c = c._next));
            },
            P = function (a) {
                return ((1e3 * a) | 0) / 1e3 + '';
            },
            Q = function (a, b, c, d) {
                var e,
                    f,
                    g,
                    h,
                    i,
                    j,
                    k,
                    l = [],
                    m = 0,
                    n = '',
                    o = 0;
                for (l.start = a, l.end = b, a = l[0] = a + '', b = l[1] = b + '', c && (c(l), (a = l[0]), (b = l[1])), l.length = 0, e = a.match(M) || [], f = b.match(M) || [], d && ((d._next = null), (d.blob = 1), (l._firstPT = l._applyPT = d)), i = f.length, h = 0; i > h; h++) ((k = f[h]), (j = b.substr(m, b.indexOf(k, m) - m)), (n += j || !h ? j : ','), (m += j.length), o ? (o = (o + 1) % 5) : 'rgba(' === j.substr(-5) && (o = 1), k === e[h] || e.length <= h ? (n += k) : (n && (l.push(n), (n = '')), (g = parseFloat(e[h])), l.push(g), (l._firstPT = { _next: l._firstPT, t: l, p: l.length - 1, s: g, c: ('=' === k.charAt(1) ? parseInt(k.charAt(0) + '1', 10) * parseFloat(k.substr(2)) : parseFloat(k) - g) || 0, f: 0, m: o && 4 > o ? Math.round : P })), (m += k.length));
                return ((n += b.substr(m)), n && l.push(n), (l.setRatio = O), N.test(b) && (l.end = null), l);
            },
            R = function (a, b, c, d, e, f, g, h, i) {
                'function' == typeof d && (d = d(i || 0, a));
                var j,
                    k = typeof a[b],
                    l = 'function' !== k ? '' : b.indexOf('set') || 'function' != typeof a['get' + b.substr(3)] ? b : 'get' + b.substr(3),
                    m = 'get' !== c ? c : l ? (g ? a[l](g) : a[l]()) : a[b],
                    n = 'string' == typeof d && '=' === d.charAt(1),
                    o = { t: a, p: b, s: m, f: 'function' === k, pg: 0, n: e || b, m: f ? ('function' == typeof f ? f : Math.round) : 0, pr: 0, c: n ? parseInt(d.charAt(0) + '1', 10) * parseFloat(d.substr(2)) : parseFloat(d) - m || 0 };
                return (('number' != typeof m || ('number' != typeof d && !n)) && (g || isNaN(m) || (!n && isNaN(d)) || 'boolean' == typeof m || 'boolean' == typeof d ? ((o.fp = g), (j = Q(m, n ? parseFloat(o.s) + o.c + (o.s + '').replace(/[0-9\-\.]/g, '') : d, h || H.defaultStringFilter, o)), (o = { t: j, p: 'setRatio', s: 0, c: 1, f: 2, pg: 0, n: e || b, pr: 0, m: 0 })) : ((o.s = parseFloat(m)), n || (o.c = parseFloat(d) - o.s || 0))), o.c ? ((o._next = this._firstPT) && (o._next._prev = o), (this._firstPT = o), o) : void 0);
            },
            S = (H._internals = { isArray: q, isSelector: I, lazyTweens: K, blobDif: Q }),
            T = (H._plugins = {}),
            U = (S.tweenLookup = {}),
            V = 0,
            W = (S.reservedProps = { ease: 1, delay: 1, overwrite: 1, onComplete: 1, onCompleteParams: 1, onCompleteScope: 1, useFrames: 1, runBackwards: 1, startAt: 1, onUpdate: 1, onUpdateParams: 1, onUpdateScope: 1, onStart: 1, onStartParams: 1, onStartScope: 1, onReverseComplete: 1, onReverseCompleteParams: 1, onReverseCompleteScope: 1, onRepeat: 1, onRepeatParams: 1, onRepeatScope: 1, easeParams: 1, yoyo: 1, immediateRender: 1, repeat: 1, repeatDelay: 1, data: 1, paused: 1, reversed: 1, autoCSS: 1, lazy: 1, onOverwrite: 1, callbackScope: 1, stringFilter: 1, id: 1, yoyoEase: 1, stagger: 1 }),
            X = { none: 0, all: 1, auto: 2, concurrent: 3, allOnStart: 4, preexisting: 5, true: 1, false: 0 },
            Y = (E._rootFramesTimeline = new G()),
            Z = (E._rootTimeline = new G()),
            $ = 30,
            _ = (S.lazyRender = function () {
                var a,
                    b,
                    c = K.length;
                for (L = {}, a = 0; c > a; a++) ((b = K[a]), b && b._lazy !== !1 && (b.render(b._lazy[0], b._lazy[1], !0), (b._lazy = !1)));
                K.length = 0;
            });
        ((Z._startTime = j.time),
            (Y._startTime = j.frame),
            (Z._active = Y._active = !0),
            setTimeout(_, 1),
            (E._updateRoot = H.render =
                function () {
                    var a, b, c;
                    if ((K.length && _(), Z.render((j.time - Z._startTime) * Z._timeScale, !1, !1), Y.render((j.frame - Y._startTime) * Y._timeScale, !1, !1), K.length && _(), j.frame >= $)) {
                        $ = j.frame + (parseInt(H.autoSleep, 10) || 120);
                        for (c in U) {
                            for (b = U[c].tweens, a = b.length; --a > -1; ) b[a]._gc && b.splice(a, 1);
                            0 === b.length && delete U[c];
                        }
                        if (((c = Z._first), (!c || c._paused) && H.autoSleep && !Y._first && 1 === j._listeners.tick.length)) {
                            for (; c && c._paused; ) c = c._next;
                            c || j.sleep();
                        }
                    }
                }),
            j.addEventListener('tick', E._updateRoot));
        var aa = function (a, b, c) {
                var d,
                    e,
                    f = a._gsTweenID;
                if ((U[f || (a._gsTweenID = f = 't' + V++)] || (U[f] = { target: a, tweens: [] }), b && ((d = U[f].tweens), (d[(e = d.length)] = b), c))) for (; --e > -1; ) d[e] === b && d.splice(e, 1);
                return U[f].tweens;
            },
            ba = function (a, b, c, d) {
                var e,
                    f,
                    g = a.vars.onOverwrite;
                return (g && (e = g(a, b, c, d)), (g = H.onOverwrite), g && (f = g(a, b, c, d)), e !== !1 && f !== !1);
            },
            ca = function (a, b, c, d, e) {
                var f, g, h, i;
                if (1 === d || d >= 4) {
                    for (i = e.length, f = 0; i > f; f++)
                        if ((h = e[f]) !== b) h._gc || (h._kill(null, a, b) && (g = !0));
                        else if (5 === d) break;
                    return g;
                }
                var j,
                    k = b._startTime + n,
                    l = [],
                    m = 0,
                    o = 0 === b._duration;
                for (f = e.length; --f > -1; ) (h = e[f]) === b || h._gc || h._paused || (h._timeline !== b._timeline ? ((j = j || da(b, 0, o)), 0 === da(h, j, o) && (l[m++] = h)) : h._startTime <= k && h._startTime + h.totalDuration() / h._timeScale > k && (((o || !h._initted) && k - h._startTime <= 2 * n) || (l[m++] = h)));
                for (f = m; --f > -1; )
                    if (((h = l[f]), (i = h._firstPT), 2 === d && h._kill(c, a, b) && (g = !0), 2 !== d || (!h._firstPT && h._initted && i))) {
                        if (2 !== d && !ba(h, b)) continue;
                        h._enabled(!1, !1) && (g = !0);
                    }
                return g;
            },
            da = function (a, b, c) {
                for (var d = a._timeline, e = d._timeScale, f = a._startTime; d._timeline; ) {
                    if (((f += d._startTime), (e *= d._timeScale), d._paused)) return -100;
                    d = d._timeline;
                }
                return ((f /= e), f > b ? f - b : (c && f === b) || (!a._initted && 2 * n > f - b) ? n : (f += a.totalDuration() / a._timeScale / e) > b + n ? 0 : f - b - n);
            };
        ((i._init = function () {
            var a,
                b,
                c,
                d,
                e,
                f,
                g = this.vars,
                h = this._overwrittenProps,
                i = this._duration,
                j = !!g.immediateRender,
                k = g.ease,
                l = this._startAt;
            if (g.startAt) {
                (l && (l.render(-1, !0), l.kill()), (e = {}));
                for (d in g.startAt) e[d] = g.startAt[d];
                if (((e.data = 'isStart'), (e.overwrite = !1), (e.immediateRender = !0), (e.lazy = j && g.lazy !== !1), (e.startAt = e.delay = null), (e.onUpdate = g.onUpdate), (e.onUpdateParams = g.onUpdateParams), (e.onUpdateScope = g.onUpdateScope || g.callbackScope || this), (this._startAt = H.to(this.target || {}, 0, e)), j))
                    if (this._time > 0) this._startAt = null;
                    else if (0 !== i) return;
            } else if (g.runBackwards && 0 !== i)
                if (l) (l.render(-1, !0), l.kill(), (this._startAt = null));
                else {
                    (0 !== this._time && (j = !1), (c = {}));
                    for (d in g) (W[d] && 'autoCSS' !== d) || (c[d] = g[d]);
                    if (((c.overwrite = 0), (c.data = 'isFromStart'), (c.lazy = j && g.lazy !== !1), (c.immediateRender = j), (this._startAt = H.to(this.target, 0, c)), j)) {
                        if (0 === this._time) return;
                    } else (this._startAt._init(), this._startAt._enabled(!1), this.vars.immediateRender && (this._startAt = null));
                }
            if (((this._ease = k = k ? (k instanceof w ? k : 'function' == typeof k ? new w(k, g.easeParams) : x[k] || H.defaultEase) : H.defaultEase), g.easeParams instanceof Array && k.config && (this._ease = k.config.apply(k, g.easeParams)), (this._easeType = this._ease._type), (this._easePower = this._ease._power), (this._firstPT = null), this._targets)) for (f = this._targets.length, a = 0; f > a; a++) this._initProps(this._targets[a], (this._propLookup[a] = {}), this._siblings[a], h ? h[a] : null, a) && (b = !0);
            else b = this._initProps(this.target, this._propLookup, this._siblings, h, 0);
            if ((b && H._onPluginEvent('_onInitAllProps', this), h && (this._firstPT || ('function' != typeof this.target && this._enabled(!1, !1))), g.runBackwards)) for (c = this._firstPT; c; ) ((c.s += c.c), (c.c = -c.c), (c = c._next));
            ((this._onUpdate = g.onUpdate), (this._initted = !0));
        }),
            (i._initProps = function (b, c, d, e, f) {
                var g, h, i, j, k, l;
                if (null == b) return !1;
                (L[b._gsTweenID] && _(), this.vars.css || (b.style && b !== a && b.nodeType && T.css && this.vars.autoCSS !== !1 && J(this.vars, b)));
                for (g in this.vars)
                    if (((l = this.vars[g]), W[g])) l && (l instanceof Array || (l.push && q(l))) && -1 !== l.join('').indexOf('{self}') && (this.vars[g] = l = this._swapSelfInParams(l, this));
                    else if (T[g] && (j = new T[g]())._onInitTween(b, this.vars[g], this, f)) {
                        for (this._firstPT = k = { _next: this._firstPT, t: j, p: 'setRatio', s: 0, c: 1, f: 1, n: g, pg: 1, pr: j._priority, m: 0 }, h = j._overwriteProps.length; --h > -1; ) c[j._overwriteProps[h]] = this._firstPT;
                        ((j._priority || j._onInitAllProps) && (i = !0), (j._onDisable || j._onEnable) && (this._notifyPluginsOfEnabled = !0), k._next && (k._next._prev = k));
                    } else c[g] = R.call(this, b, g, 'get', l, g, 0, null, this.vars.stringFilter, f);
                return e && this._kill(e, b) ? this._initProps(b, c, d, e, f) : this._overwrite > 1 && this._firstPT && d.length > 1 && ca(b, this, c, this._overwrite, d) ? (this._kill(c, b), this._initProps(b, c, d, e, f)) : (this._firstPT && ((this.vars.lazy !== !1 && this._duration) || (this.vars.lazy && !this._duration)) && (L[b._gsTweenID] = !0), i);
            }),
            (i.render = function (a, b, c) {
                var d,
                    e,
                    f,
                    g,
                    h = this,
                    i = h._time,
                    j = h._duration,
                    k = h._rawPrevTime;
                if (a >= j - n && a >= 0) ((h._totalTime = h._time = j), (h.ratio = h._ease._calcEnd ? h._ease.getRatio(1) : 1), h._reversed || ((d = !0), (e = 'onComplete'), (c = c || h._timeline.autoRemoveChildren)), 0 === j && (h._initted || !h.vars.lazy || c) && (h._startTime === h._timeline._duration && (a = 0), (0 > k || (0 >= a && a >= -n) || (k === n && 'isPause' !== h.data)) && k !== a && ((c = !0), k > n && (e = 'onReverseComplete')), (h._rawPrevTime = g = !b || a || k === a ? a : n)));
                else if (n > a) ((h._totalTime = h._time = 0), (h.ratio = h._ease._calcEnd ? h._ease.getRatio(0) : 0), (0 !== i || (0 === j && k > 0)) && ((e = 'onReverseComplete'), (d = h._reversed)), a > -n ? (a = 0) : 0 > a && ((h._active = !1), 0 === j && (h._initted || !h.vars.lazy || c) && (k >= 0 && (k !== n || 'isPause' !== h.data) && (c = !0), (h._rawPrevTime = g = !b || a || k === a ? a : n))), (!h._initted || (h._startAt && h._startAt.progress())) && (c = !0));
                else if (((h._totalTime = h._time = a), h._easeType)) {
                    var l = a / j,
                        m = h._easeType,
                        o = h._easePower;
                    ((1 === m || (3 === m && l >= 0.5)) && (l = 1 - l), 3 === m && (l *= 2), 1 === o ? (l *= l) : 2 === o ? (l *= l * l) : 3 === o ? (l *= l * l * l) : 4 === o && (l *= l * l * l * l), (h.ratio = 1 === m ? 1 - l : 2 === m ? l : 0.5 > a / j ? l / 2 : 1 - l / 2));
                } else h.ratio = h._ease.getRatio(a / j);
                if (h._time !== i || c) {
                    if (!h._initted) {
                        if ((h._init(), !h._initted || h._gc)) return;
                        if (!c && h._firstPT && ((h.vars.lazy !== !1 && h._duration) || (h.vars.lazy && !h._duration))) return ((h._time = h._totalTime = i), (h._rawPrevTime = k), K.push(h), void (h._lazy = [a, b]));
                        h._time && !d ? (h.ratio = h._ease.getRatio(h._time / j)) : d && h._ease._calcEnd && (h.ratio = h._ease.getRatio(0 === h._time ? 0 : 1));
                    }
                    for (h._lazy !== !1 && (h._lazy = !1), h._active || (!h._paused && h._time !== i && a >= 0 && (h._active = !0)), 0 === i && (h._startAt && (a >= 0 ? h._startAt.render(a, !0, c) : e || (e = '_dummyGS')), h.vars.onStart && (0 !== h._time || 0 === j) && (b || h._callback('onStart'))), f = h._firstPT; f; ) (f.f ? f.t[f.p](f.c * h.ratio + f.s) : (f.t[f.p] = f.c * h.ratio + f.s), (f = f._next));
                    (h._onUpdate && (0 > a && h._startAt && a !== -1e-4 && h._startAt.render(a, !0, c), b || ((h._time !== i || d || c) && h._callback('onUpdate'))), e && (!h._gc || c) && (0 > a && h._startAt && !h._onUpdate && a !== -1e-4 && h._startAt.render(a, !0, c), d && (h._timeline.autoRemoveChildren && h._enabled(!1, !1), (h._active = !1)), !b && h.vars[e] && h._callback(e), 0 === j && h._rawPrevTime === n && g !== n && (h._rawPrevTime = 0)));
                }
            }),
            (i._kill = function (a, b, c) {
                if (('all' === a && (a = null), null == a && (null == b || b === this.target))) return ((this._lazy = !1), this._enabled(!1, !1));
                b = 'string' != typeof b ? b || this._targets || this.target : H.selector(b) || b;
                var d,
                    e,
                    f,
                    g,
                    h,
                    i,
                    j,
                    k,
                    l,
                    m = c && this._time && c._startTime === this._startTime && this._timeline === c._timeline,
                    n = this._firstPT;
                if ((q(b) || I(b)) && 'number' != typeof b[0]) for (d = b.length; --d > -1; ) this._kill(a, b[d], c) && (i = !0);
                else {
                    if (this._targets) {
                        for (d = this._targets.length; --d > -1; )
                            if (b === this._targets[d]) {
                                ((h = this._propLookup[d] || {}), (this._overwrittenProps = this._overwrittenProps || []), (e = this._overwrittenProps[d] = a ? this._overwrittenProps[d] || {} : 'all'));
                                break;
                            }
                    } else {
                        if (b !== this.target) return !1;
                        ((h = this._propLookup), (e = this._overwrittenProps = a ? this._overwrittenProps || {} : 'all'));
                    }
                    if (h) {
                        if (((j = a || h), (k = a !== e && 'all' !== e && a !== h && ('object' != typeof a || !a._tempKill)), c && (H.onOverwrite || this.vars.onOverwrite))) {
                            for (f in j) h[f] && (l || (l = []), l.push(f));
                            if ((l || !a) && !ba(this, c, b, l)) return !1;
                        }
                        for (f in j) ((g = h[f]) && (m && (g.f ? g.t[g.p](g.s) : (g.t[g.p] = g.s), (i = !0)), g.pg && g.t._kill(j) && (i = !0), (g.pg && 0 !== g.t._overwriteProps.length) || (g._prev ? (g._prev._next = g._next) : g === this._firstPT && (this._firstPT = g._next), g._next && (g._next._prev = g._prev), (g._next = g._prev = null)), delete h[f]), k && (e[f] = 1));
                        !this._firstPT && this._initted && n && this._enabled(!1, !1);
                    }
                }
                return i;
            }),
            (i.invalidate = function () {
                this._notifyPluginsOfEnabled && H._onPluginEvent('_onDisable', this);
                var a = this._time;
                return ((this._firstPT = this._overwrittenProps = this._startAt = this._onUpdate = null), (this._notifyPluginsOfEnabled = this._active = this._lazy = !1), (this._propLookup = this._targets ? {} : []), E.prototype.invalidate.call(this), this.vars.immediateRender && ((this._time = -n), this.render(a, !1, this.vars.lazy !== !1)), this);
            }),
            (i._enabled = function (a, b) {
                if ((k || j.wake(), a && this._gc)) {
                    var c,
                        d = this._targets;
                    if (d) for (c = d.length; --c > -1; ) this._siblings[c] = aa(d[c], this, !0);
                    else this._siblings = aa(this.target, this, !0);
                }
                return (E.prototype._enabled.call(this, a, b), this._notifyPluginsOfEnabled && this._firstPT ? H._onPluginEvent(a ? '_onEnable' : '_onDisable', this) : !1);
            }),
            (H.to = function (a, b, c) {
                return new H(a, b, c);
            }),
            (H.from = function (a, b, c) {
                return ((c.runBackwards = !0), (c.immediateRender = 0 != c.immediateRender), new H(a, b, c));
            }),
            (H.fromTo = function (a, b, c, d) {
                return ((d.startAt = c), (d.immediateRender = 0 != d.immediateRender && 0 != c.immediateRender), new H(a, b, d));
            }),
            (H.delayedCall = function (a, b, c, d, e) {
                return new H(b, 0, { delay: a, onComplete: b, onCompleteParams: c, callbackScope: d, onReverseComplete: b, onReverseCompleteParams: c, immediateRender: !1, lazy: !1, useFrames: e, overwrite: 0 });
            }),
            (H.set = function (a, b) {
                return new H(a, 0, b);
            }),
            (H.getTweensOf = function (a, b) {
                if (null == a) return [];
                a = 'string' != typeof a ? a : H.selector(a) || a;
                var c, d, e, f;
                if ((q(a) || I(a)) && 'number' != typeof a[0]) {
                    for (c = a.length, d = []; --c > -1; ) d = d.concat(H.getTweensOf(a[c], b));
                    for (c = d.length; --c > -1; ) for (f = d[c], e = c; --e > -1; ) f === d[e] && d.splice(c, 1);
                } else if (a._gsTweenID) for (d = aa(a).concat(), c = d.length; --c > -1; ) (d[c]._gc || (b && !d[c].isActive())) && d.splice(c, 1);
                return d || [];
            }),
            (H.killTweensOf = H.killDelayedCallsTo =
                function (a, b, c) {
                    'object' == typeof b && ((c = b), (b = !1));
                    for (var d = H.getTweensOf(a, b), e = d.length; --e > -1; ) d[e]._kill(c, a);
                }));
        var ea = u(
            'plugins.TweenPlugin',
            function (a, b) {
                ((this._overwriteProps = (a || '').split(',')), (this._propName = this._overwriteProps[0]), (this._priority = b || 0), (this._super = ea.prototype));
            },
            !0
        );
        if (
            ((i = ea.prototype),
            (ea.version = '1.19.0'),
            (ea.API = 2),
            (i._firstPT = null),
            (i._addTween = R),
            (i.setRatio = O),
            (i._kill = function (a) {
                var b,
                    c = this._overwriteProps,
                    d = this._firstPT;
                if (null != a[this._propName]) this._overwriteProps = [];
                else for (b = c.length; --b > -1; ) null != a[c[b]] && c.splice(b, 1);
                for (; d; ) (null != a[d.n] && (d._next && (d._next._prev = d._prev), d._prev ? ((d._prev._next = d._next), (d._prev = null)) : this._firstPT === d && (this._firstPT = d._next)), (d = d._next));
                return !1;
            }),
            (i._mod = i._roundProps =
                function (a) {
                    for (var b, c = this._firstPT; c; ) ((b = a[this._propName] || (null != c.n && a[c.n.split(this._propName + '_').join('')])), b && 'function' == typeof b && (2 === c.f ? (c.t._applyPT.m = b) : (c.m = b)), (c = c._next));
                }),
            (H._onPluginEvent = function (a, b) {
                var c,
                    d,
                    e,
                    f,
                    g,
                    h = b._firstPT;
                if ('_onInitAllProps' === a) {
                    for (; h; ) {
                        for (g = h._next, d = e; d && d.pr > h.pr; ) d = d._next;
                        ((h._prev = d ? d._prev : f) ? (h._prev._next = h) : (e = h), (h._next = d) ? (d._prev = h) : (f = h), (h = g));
                    }
                    h = b._firstPT = e;
                }
                for (; h; ) (h.pg && 'function' == typeof h.t[a] && h.t[a]() && (c = !0), (h = h._next));
                return c;
            }),
            (ea.activate = function (a) {
                for (var b = a.length; --b > -1; ) a[b].API === ea.API && (T[new a[b]()._propName] = a[b]);
                return !0;
            }),
            (t.plugin = function (a) {
                if (!(a && a.propName && a.init && a.API)) throw 'illegal plugin definition.';
                var b,
                    c = a.propName,
                    d = a.priority || 0,
                    e = a.overwriteProps,
                    f = { init: '_onInitTween', set: 'setRatio', kill: '_kill', round: '_mod', mod: '_mod', initAll: '_onInitAllProps' },
                    g = u(
                        'plugins.' + c.charAt(0).toUpperCase() + c.substr(1) + 'Plugin',
                        function () {
                            (ea.call(this, c, d), (this._overwriteProps = e || []));
                        },
                        a.global === !0
                    ),
                    h = (g.prototype = new ea(c));
                ((h.constructor = g), (g.API = a.API));
                for (b in f) 'function' == typeof a[b] && (h[f[b]] = a[b]);
                return ((g.version = a.version), ea.activate([g]), g);
            }),
            (g = a._gsQueue))
        ) {
            for (h = 0; h < g.length; h++) g[h]();
            for (i in r) r[i].func || a.console.log('GSAP encountered missing dependency: ' + i);
        }
        k = !1;
    })('undefined' != typeof module && module.exports && 'undefined' != typeof global ? global : this || window, 'TweenMax'));

/* Web Font Loader v1.6.27 - (c) Adobe Systems, Google. License: Apache 2.0 */ (function () {
    function aa(a, b, c) {
        return a.call.apply(a.bind, arguments);
    }
    function ba(a, b, c) {
        if (!a) throw Error();
        if (2 < arguments.length) {
            var d = Array.prototype.slice.call(arguments, 2);
            return function () {
                var c = Array.prototype.slice.call(arguments);
                Array.prototype.unshift.apply(c, d);
                return a.apply(b, c);
            };
        }
        return function () {
            return a.apply(b, arguments);
        };
    }
    function p(a, b, c) {
        p = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf('native code') ? aa : ba;
        return p.apply(null, arguments);
    }
    var q =
        Date.now ||
        function () {
            return +new Date();
        };
    function ca(a, b) {
        this.a = a;
        this.m = b || a;
        this.c = this.m.document;
    }
    var da = !!window.FontFace;
    function t(a, b, c, d) {
        b = a.c.createElement(b);
        if (c) for (var e in c) c.hasOwnProperty(e) && ('style' == e ? (b.style.cssText = c[e]) : b.setAttribute(e, c[e]));
        d && b.appendChild(a.c.createTextNode(d));
        return b;
    }
    function u(a, b, c) {
        a = a.c.getElementsByTagName(b)[0];
        a || (a = document.documentElement);
        a.insertBefore(c, a.lastChild);
    }
    function v(a) {
        a.parentNode && a.parentNode.removeChild(a);
    }
    function w(a, b, c) {
        b = b || [];
        c = c || [];
        for (var d = a.className.split(/\s+/), e = 0; e < b.length; e += 1) {
            for (var f = !1, g = 0; g < d.length; g += 1)
                if (b[e] === d[g]) {
                    f = !0;
                    break;
                }
            f || d.push(b[e]);
        }
        b = [];
        for (e = 0; e < d.length; e += 1) {
            f = !1;
            for (g = 0; g < c.length; g += 1)
                if (d[e] === c[g]) {
                    f = !0;
                    break;
                }
            f || b.push(d[e]);
        }
        a.className = b
            .join(' ')
            .replace(/\s+/g, ' ')
            .replace(/^\s+|\s+$/, '');
    }
    function y(a, b) {
        for (var c = a.className.split(/\s+/), d = 0, e = c.length; d < e; d++) if (c[d] == b) return !0;
        return !1;
    }
    function z(a) {
        if ('string' === typeof a.f) return a.f;
        var b = a.m.location.protocol;
        'about:' == b && (b = a.a.location.protocol);
        return 'https:' == b ? 'https:' : 'http:';
    }
    function ea(a) {
        return a.m.location.hostname || a.a.location.hostname;
    }
    function A(a, b, c) {
        function d() {
            k && e && f && (k(g), (k = null));
        }
        b = t(a, 'link', { rel: 'stylesheet', href: b, media: 'all' });
        var e = !1,
            f = !0,
            g = null,
            k = c || null;
        da
            ? ((b.onload = function () {
                  e = !0;
                  d();
              }),
              (b.onerror = function () {
                  e = !0;
                  g = Error('Stylesheet failed to load');
                  d();
              }))
            : setTimeout(function () {
                  e = !0;
                  d();
              }, 0);
        u(a, 'head', b);
    }
    function B(a, b, c, d) {
        var e = a.c.getElementsByTagName('head')[0];
        if (e) {
            var f = t(a, 'script', { src: b }),
                g = !1;
            f.onload = f.onreadystatechange = function () {
                g || (this.readyState && 'loaded' != this.readyState && 'complete' != this.readyState) || ((g = !0), c && c(null), (f.onload = f.onreadystatechange = null), 'HEAD' == f.parentNode.tagName && e.removeChild(f));
            };
            e.appendChild(f);
            setTimeout(function () {
                g || ((g = !0), c && c(Error('Script load timeout')));
            }, d || 5e3);
            return f;
        }
        return null;
    }
    function C() {
        this.a = 0;
        this.c = null;
    }
    function D(a) {
        a.a++;
        return function () {
            a.a--;
            E(a);
        };
    }
    function F(a, b) {
        a.c = b;
        E(a);
    }
    function E(a) {
        0 == a.a && a.c && (a.c(), (a.c = null));
    }
    function G(a) {
        this.a = a || '-';
    }
    G.prototype.c = function (a) {
        for (var b = [], c = 0; c < arguments.length; c++) b.push(arguments[c].replace(/[\W_]+/g, '').toLowerCase());
        return b.join(this.a);
    };
    function H(a, b) {
        this.c = a;
        this.f = 4;
        this.a = 'n';
        var c = (b || 'n4').match(/^([nio])([1-9])$/i);
        c && ((this.a = c[1]), (this.f = parseInt(c[2], 10)));
    }
    function fa(a) {
        return I(a) + ' ' + (a.f + '00') + ' 300px ' + J(a.c);
    }
    function J(a) {
        var b = [];
        a = a.split(/,\s*/);
        for (var c = 0; c < a.length; c++) {
            var d = a[c].replace(/['"]/g, '');
            -1 != d.indexOf(' ') || /^\d/.test(d) ? b.push("'" + d + "'") : b.push(d);
        }
        return b.join(',');
    }
    function K(a) {
        return a.a + a.f;
    }
    function I(a) {
        var b = 'normal';
        'o' === a.a ? (b = 'oblique') : 'i' === a.a && (b = 'italic');
        return b;
    }
    function ga(a) {
        var b = 4,
            c = 'n',
            d = null;
        a && ((d = a.match(/(normal|oblique|italic)/i)) && d[1] && (c = d[1].substr(0, 1).toLowerCase()), (d = a.match(/([1-9]00|normal|bold)/i)) && d[1] && (/bold/i.test(d[1]) ? (b = 7) : /[1-9]00/.test(d[1]) && (b = parseInt(d[1].substr(0, 1), 10))));
        return c + b;
    }
    function ha(a, b) {
        this.c = a;
        this.f = a.m.document.documentElement;
        this.h = b;
        this.a = new G('-');
        this.j = !1 !== b.events;
        this.g = !1 !== b.classes;
    }
    function ia(a) {
        a.g && w(a.f, [a.a.c('wf', 'loading')]);
        L(a, 'loading');
    }
    function M(a) {
        if (a.g) {
            var b = y(a.f, a.a.c('wf', 'active')),
                c = [],
                d = [a.a.c('wf', 'loading')];
            b || c.push(a.a.c('wf', 'inactive'));
            w(a.f, c, d);
        }
        L(a, 'inactive');
    }
    function L(a, b, c) {
        if (a.j && a.h[b])
            if (c) a.h[b](c.c, K(c));
            else a.h[b]();
    }
    function ja() {
        this.c = {};
    }
    function ka(a, b, c) {
        var d = [],
            e;
        for (e in b)
            if (b.hasOwnProperty(e)) {
                var f = a.c[e];
                f && d.push(f(b[e], c));
            }
        return d;
    }
    function N(a, b) {
        this.c = a;
        this.f = b;
        this.a = t(this.c, 'span', { 'aria-hidden': 'true' }, this.f);
    }
    function O(a) {
        u(a.c, 'body', a.a);
    }
    function P(a) {
        return 'display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:' + J(a.c) + ';' + ('font-style:' + I(a) + ';font-weight:' + (a.f + '00') + ';');
    }
    function Q(a, b, c, d, e, f) {
        this.g = a;
        this.j = b;
        this.a = d;
        this.c = c;
        this.f = e || 3e3;
        this.h = f || void 0;
    }
    Q.prototype.start = function () {
        var a = this.c.m.document,
            b = this,
            c = q(),
            d = new Promise(function (d, e) {
                function k() {
                    q() - c >= b.f
                        ? e()
                        : a.fonts.load(fa(b.a), b.h).then(
                              function (a) {
                                  1 <= a.length ? d() : setTimeout(k, 25);
                              },
                              function () {
                                  e();
                              }
                          );
                }
                k();
            }),
            e = new Promise(function (a, d) {
                setTimeout(d, b.f);
            });
        Promise.race([e, d]).then(
            function () {
                b.g(b.a);
            },
            function () {
                b.j(b.a);
            }
        );
    };
    function R(a, b, c, d, e, f, g) {
        this.v = a;
        this.B = b;
        this.c = c;
        this.a = d;
        this.s = g || 'BESbswy';
        this.f = {};
        this.w = e || 3e3;
        this.u = f || null;
        this.o = this.j = this.h = this.g = null;
        this.g = new N(this.c, this.s);
        this.h = new N(this.c, this.s);
        this.j = new N(this.c, this.s);
        this.o = new N(this.c, this.s);
        a = new H(this.a.c + ',serif', K(this.a));
        a = P(a);
        this.g.a.style.cssText = a;
        a = new H(this.a.c + ',sans-serif', K(this.a));
        a = P(a);
        this.h.a.style.cssText = a;
        a = new H('serif', K(this.a));
        a = P(a);
        this.j.a.style.cssText = a;
        a = new H('sans-serif', K(this.a));
        a = P(a);
        this.o.a.style.cssText = a;
        O(this.g);
        O(this.h);
        O(this.j);
        O(this.o);
    }
    var S = { D: 'serif', C: 'sans-serif' },
        T = null;
    function U() {
        if (null === T) {
            var a = /AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);
            T = !!a && (536 > parseInt(a[1], 10) || (536 === parseInt(a[1], 10) && 11 >= parseInt(a[2], 10)));
        }
        return T;
    }
    R.prototype.start = function () {
        this.f.serif = this.j.a.offsetWidth;
        this.f['sans-serif'] = this.o.a.offsetWidth;
        this.A = q();
        la(this);
    };
    function ma(a, b, c) {
        for (var d in S) if (S.hasOwnProperty(d) && b === a.f[S[d]] && c === a.f[S[d]]) return !0;
        return !1;
    }
    function la(a) {
        var b = a.g.a.offsetWidth,
            c = a.h.a.offsetWidth,
            d;
        (d = b === a.f.serif && c === a.f['sans-serif']) || (d = U() && ma(a, b, c));
        d ? (q() - a.A >= a.w ? (U() && ma(a, b, c) && (null === a.u || a.u.hasOwnProperty(a.a.c)) ? V(a, a.v) : V(a, a.B)) : na(a)) : V(a, a.v);
    }
    function na(a) {
        setTimeout(
            p(function () {
                la(this);
            }, a),
            50
        );
    }
    function V(a, b) {
        setTimeout(
            p(function () {
                v(this.g.a);
                v(this.h.a);
                v(this.j.a);
                v(this.o.a);
                b(this.a);
            }, a),
            0
        );
    }
    function W(a, b, c) {
        this.c = a;
        this.a = b;
        this.f = 0;
        this.o = this.j = !1;
        this.s = c;
    }
    var X = null;
    W.prototype.g = function (a) {
        var b = this.a;
        b.g && w(b.f, [b.a.c('wf', a.c, K(a).toString(), 'active')], [b.a.c('wf', a.c, K(a).toString(), 'loading'), b.a.c('wf', a.c, K(a).toString(), 'inactive')]);
        L(b, 'fontactive', a);
        this.o = !0;
        oa(this);
    };
    W.prototype.h = function (a) {
        var b = this.a;
        if (b.g) {
            var c = y(b.f, b.a.c('wf', a.c, K(a).toString(), 'active')),
                d = [],
                e = [b.a.c('wf', a.c, K(a).toString(), 'loading')];
            c || d.push(b.a.c('wf', a.c, K(a).toString(), 'inactive'));
            w(b.f, d, e);
        }
        L(b, 'fontinactive', a);
        oa(this);
    };
    function oa(a) {
        0 == --a.f && a.j && (a.o ? ((a = a.a), a.g && w(a.f, [a.a.c('wf', 'active')], [a.a.c('wf', 'loading'), a.a.c('wf', 'inactive')]), L(a, 'active')) : M(a.a));
    }
    function pa(a) {
        this.j = a;
        this.a = new ja();
        this.h = 0;
        this.f = this.g = !0;
    }
    pa.prototype.load = function (a) {
        this.c = new ca(this.j, a.context || this.j);
        this.g = !1 !== a.events;
        this.f = !1 !== a.classes;
        qa(this, new ha(this.c, a), a);
    };
    function ra(a, b, c, d, e) {
        var f = 0 == --a.h;
        (a.f || a.g) &&
            setTimeout(function () {
                var a = e || null,
                    k = d || null || {};
                if (0 === c.length && f) M(b.a);
                else {
                    b.f += c.length;
                    f && (b.j = f);
                    var h,
                        m = [];
                    for (h = 0; h < c.length; h++) {
                        var l = c[h],
                            n = k[l.c],
                            r = b.a,
                            x = l;
                        r.g && w(r.f, [r.a.c('wf', x.c, K(x).toString(), 'loading')]);
                        L(r, 'fontloading', x);
                        r = null;
                        if (null === X)
                            if (window.FontFace) {
                                var x = /Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),
                                    ya = /OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent) && /Apple/.exec(window.navigator.vendor);
                                X = x ? 42 < parseInt(x[1], 10) : ya ? !1 : !0;
                            } else X = !1;
                        X ? (r = new Q(p(b.g, b), p(b.h, b), b.c, l, b.s, n)) : (r = new R(p(b.g, b), p(b.h, b), b.c, l, b.s, a, n));
                        m.push(r);
                    }
                    for (h = 0; h < m.length; h++) m[h].start();
                }
            }, 0);
    }
    function qa(a, b, c) {
        var d = [],
            e = c.timeout;
        ia(b);
        var d = ka(a.a, c, a.c),
            f = new W(a.c, b, e);
        a.h = d.length;
        b = 0;
        for (c = d.length; b < c; b++)
            d[b].load(function (b, d, c) {
                ra(a, f, b, d, c);
            });
    }
    function sa(a, b) {
        this.c = a;
        this.a = b;
    }
    function ta(a, b, c) {
        var d = z(a.c);
        a = (a.a.api || 'fast.fonts.net/jsapi').replace(/^.*http(s?):(\/\/)?/, '');
        return d + '//' + a + '/' + b + '.js' + (c ? '?v=' + c : '');
    }
    sa.prototype.load = function (a) {
        function b() {
            if (f['__mti_fntLst' + d]) {
                var c = f['__mti_fntLst' + d](),
                    e = [],
                    h;
                if (c)
                    for (var m = 0; m < c.length; m++) {
                        var l = c[m].fontfamily;
                        void 0 != c[m].fontStyle && void 0 != c[m].fontWeight ? ((h = c[m].fontStyle + c[m].fontWeight), e.push(new H(l, h))) : e.push(new H(l));
                    }
                a(e);
            } else
                setTimeout(function () {
                    b();
                }, 50);
        }
        var c = this,
            d = c.a.projectId,
            e = c.a.version;
        if (d) {
            var f = c.c.m;
            B(this.c, ta(c, d, e), function (e) {
                e
                    ? a([])
                    : ((f['__MonotypeConfiguration__' + d] = function () {
                          return c.a;
                      }),
                      b());
            }).id = '__MonotypeAPIScript__' + d;
        } else a([]);
    };
    function ua(a, b) {
        this.c = a;
        this.a = b;
    }
    ua.prototype.load = function (a) {
        var b,
            c,
            d = this.a.urls || [],
            e = this.a.families || [],
            f = this.a.testStrings || {},
            g = new C();
        b = 0;
        for (c = d.length; b < c; b++) A(this.c, d[b], D(g));
        var k = [];
        b = 0;
        for (c = e.length; b < c; b++)
            if (((d = e[b].split(':')), d[1])) for (var h = d[1].split(','), m = 0; m < h.length; m += 1) k.push(new H(d[0], h[m]));
            else k.push(new H(d[0]));
        F(g, function () {
            a(k, f);
        });
    };
    function va(a, b, c) {
        a ? (this.c = a) : (this.c = b + wa);
        this.a = [];
        this.f = [];
        this.g = c || '';
    }
    var wa = '//fonts.googleapis.com/css';
    function xa(a, b) {
        for (var c = b.length, d = 0; d < c; d++) {
            var e = b[d].split(':');
            3 == e.length && a.f.push(e.pop());
            var f = '';
            2 == e.length && '' != e[1] && (f = ':');
            a.a.push(e.join(f));
        }
    }
    function za(a) {
        if (0 == a.a.length) throw Error('No fonts to load!');
        if (-1 != a.c.indexOf('kit=')) return a.c;
        for (var b = a.a.length, c = [], d = 0; d < b; d++) c.push(a.a[d].replace(/ /g, '+'));
        b = a.c + '?family=' + c.join('%7C');
        0 < a.f.length && (b += '&subset=' + a.f.join(','));
        0 < a.g.length && (b += '&text=' + encodeURIComponent(a.g));
        return b;
    }
    function Aa(a) {
        this.f = a;
        this.a = [];
        this.c = {};
    }
    var Ba = { latin: 'BESbswy', 'latin-ext': '\u00e7\u00f6\u00fc\u011f\u015f', cyrillic: '\u0439\u044f\u0416', greek: '\u03b1\u03b2\u03a3', khmer: '\u1780\u1781\u1782', Hanuman: '\u1780\u1781\u1782' },
        Ca = { thin: '1', extralight: '2', 'extra-light': '2', ultralight: '2', 'ultra-light': '2', light: '3', regular: '4', book: '4', medium: '5', 'semi-bold': '6', semibold: '6', 'demi-bold': '6', demibold: '6', bold: '7', 'extra-bold': '8', extrabold: '8', 'ultra-bold': '8', ultrabold: '8', black: '9', heavy: '9', l: '3', r: '4', b: '7' },
        Da = { i: 'i', italic: 'i', n: 'n', normal: 'n' },
        Ea = /^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;
    function Fa(a) {
        for (var b = a.f.length, c = 0; c < b; c++) {
            var d = a.f[c].split(':'),
                e = d[0].replace(/\+/g, ' '),
                f = ['n4'];
            if (2 <= d.length) {
                var g;
                var k = d[1];
                g = [];
                if (k)
                    for (var k = k.split(','), h = k.length, m = 0; m < h; m++) {
                        var l;
                        l = k[m];
                        if (l.match(/^[\w-]+$/)) {
                            var n = Ea.exec(l.toLowerCase());
                            if (null == n) l = '';
                            else {
                                l = n[2];
                                l = null == l || '' == l ? 'n' : Da[l];
                                n = n[1];
                                if (null == n || '' == n) n = '4';
                                else
                                    var r = Ca[n],
                                        n = r ? r : isNaN(n) ? '4' : n.substr(0, 1);
                                l = [l, n].join('');
                            }
                        } else l = '';
                        l && g.push(l);
                    }
                0 < g.length && (f = g);
                3 == d.length && ((d = d[2]), (g = []), (d = d ? d.split(',') : g), 0 < d.length && (d = Ba[d[0]]) && (a.c[e] = d));
            }
            a.c[e] || ((d = Ba[e]) && (a.c[e] = d));
            for (d = 0; d < f.length; d += 1) a.a.push(new H(e, f[d]));
        }
    }
    function Ga(a, b) {
        this.c = a;
        this.a = b;
    }
    var Ha = { Arimo: !0, Cousine: !0, Tinos: !0 };
    Ga.prototype.load = function (a) {
        var b = new C(),
            c = this.c,
            d = new va(this.a.api, z(c), this.a.text),
            e = this.a.families;
        xa(d, e);
        var f = new Aa(e);
        Fa(f);
        A(c, za(d), D(b));
        F(b, function () {
            a(f.a, f.c, Ha);
        });
    };
    function Ia(a, b) {
        this.c = a;
        this.a = b;
    }
    Ia.prototype.load = function (a) {
        var b = this.a.id,
            c = this.c.m;
        b
            ? B(
                  this.c,
                  (this.a.api || 'https://use.typekit.net') + '/' + b + '.js',
                  function (b) {
                      if (b) a([]);
                      else if (c.Typekit && c.Typekit.config && c.Typekit.config.fn) {
                          b = c.Typekit.config.fn;
                          for (var e = [], f = 0; f < b.length; f += 2) for (var g = b[f], k = b[f + 1], h = 0; h < k.length; h++) e.push(new H(g, k[h]));
                          try {
                              c.Typekit.load({ events: !1, classes: !1, async: !0 });
                          } catch (m) {}
                          a(e);
                      }
                  },
                  2e3
              )
            : a([]);
    };
    function Ja(a, b) {
        this.c = a;
        this.f = b;
        this.a = [];
    }
    Ja.prototype.load = function (a) {
        var b = this.f.id,
            c = this.c.m,
            d = this;
        b
            ? (c.__webfontfontdeckmodule__ || (c.__webfontfontdeckmodule__ = {}),
              (c.__webfontfontdeckmodule__[b] = function (b, c) {
                  for (var g = 0, k = c.fonts.length; g < k; ++g) {
                      var h = c.fonts[g];
                      d.a.push(new H(h.name, ga('font-weight:' + h.weight + ';font-style:' + h.style)));
                  }
                  a(d.a);
              }),
              B(this.c, z(this.c) + (this.f.api || '//f.fontdeck.com/s/css/js/') + ea(this.c) + '/' + b + '.js', function (b) {
                  b && a([]);
              }))
            : a([]);
    };
    var Y = new pa(window);
    Y.a.c.custom = function (a, b) {
        return new ua(b, a);
    };
    Y.a.c.fontdeck = function (a, b) {
        return new Ja(b, a);
    };
    Y.a.c.monotype = function (a, b) {
        return new sa(b, a);
    };
    Y.a.c.typekit = function (a, b) {
        return new Ia(b, a);
    };
    Y.a.c.google = function (a, b) {
        return new Ga(b, a);
    };
    var Z = { load: p(Y.load, Y) };
    'function' === typeof define && define.amd
        ? define(function () {
              return Z;
          })
        : 'undefined' !== typeof module && module.exports
          ? (module.exports = Z)
          : ((window.WebFont = Z), window.WebFontConfig && Y.load(window.WebFontConfig));
})();
