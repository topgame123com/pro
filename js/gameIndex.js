(()=>{if("undefined"!=typeof global);else if("undefined"!=typeof window)window.global=window;else{if("undefined"==typeof self)throw new Error("cannot export Go (neither global, window nor self is defined)");self.global=self}global.require||"undefined"==typeof require||(global.require=require),!global.fs&&global.require&&(global.fs=require("node:fs"));const e=()=>{const e=new Error("not implemented");return e.code="ENOSYS",e};if(!global.fs){let t="";global.fs={constants:{O_WRONLY:-1,O_RDWR:-1,O_CREAT:-1,O_TRUNC:-1,O_APPEND:-1,O_EXCL:-1},writeSync(e,n){t+=s.decode(n);const i=t.lastIndexOf("\n");return-1!=i&&(console.log(t.substr(0,i)),t=t.substr(i+1)),n.length},write(t,s,n,i,o,r){if(0!==n||i!==s.length||null!==o)return void r(e());r(null,this.writeSync(t,s))},chmod(t,s,n){n(e())},chown(t,s,n,i){i(e())},close(t,s){s(e())},fchmod(t,s,n){n(e())},fchown(t,s,n,i){i(e())},fstat(t,s){s(e())},fsync(e,t){t(null)},ftruncate(t,s,n){n(e())},lchown(t,s,n,i){i(e())},link(t,s,n){n(e())},lstat(t,s){s(e())},mkdir(t,s,n){n(e())},open(t,s,n,i){i(e())},read(t,s,n,i,o,r){r(e())},readdir(t,s){s(e())},readlink(t,s){s(e())},rename(t,s,n){n(e())},rmdir(t,s){s(e())},stat(t,s){s(e())},symlink(t,s,n){n(e())},truncate(t,s,n){n(e())},unlink(t,s){s(e())},utimes(t,s,n,i){i(e())}}}if(global.process||(global.process={getuid:()=>-1,getgid:()=>-1,geteuid:()=>-1,getegid:()=>-1,getgroups(){throw e()},pid:-1,ppid:-1,umask(){throw e()},cwd(){throw e()},chdir(){throw e()}}),!global.crypto){const e=require("node:crypto");global.crypto={getRandomValues(t){e.randomFillSync(t)}}}global.performance||(global.performance={now(){const[e,t]=process.hrtime();return 1e3*e+t/1e6}}),global.TextEncoder||(global.TextEncoder=require("node:util").TextEncoder),global.TextDecoder||(global.TextDecoder=require("node:util").TextDecoder);const t=new TextEncoder("utf-8"),s=new TextDecoder("utf-8");let n=new DataView(new ArrayBuffer(8));var i=[];const o={};global.Go=class{constructor(){this._callbackTimeouts=new Map,this._nextCallbackTimeoutID=1;const e=()=>new DataView(this._inst.exports.memory.buffer),r=e=>{n.setBigInt64(0,e,!0);const t=n.getFloat64(0,!0);if(0===t)return;if(!isNaN(t))return t;const s=0xffffffffn&e;return this._values[s]},l=t=>{let s=e().getBigUint64(t,!0);return r(s)},a=e=>{const t=0x7FF80000n;if("number"==typeof e)return isNaN(e)?t<<32n:0===e?t<<32n|1n:(n.setFloat64(0,e,!0),n.getBigInt64(0,!0));switch(e){case void 0:return 0n;case null:return t<<32n|2n;case!0:return t<<32n|3n;case!1:return t<<32n|4n}let s=this._ids.get(e);void 0===s&&(s=this._idPool.pop(),void 0===s&&(s=BigInt(this._values.length)),this._values[s]=e,this._goRefCounts[s]=0,this._ids.set(e,s)),this._goRefCounts[s]++;let i=1n;switch(typeof e){case"string":i=2n;break;case"symbol":i=3n;break;case"function":i=4n;break}return s|(t|i)<<32n},c=(t,s)=>{let n=a(s);e().setBigUint64(t,n,!0)},f=(e,t,s)=>new Uint8Array(this._inst.exports.memory.buffer,e,t),u=(e,t,s)=>{const n=new Array(t);for(let s=0;s<t;s++)n[s]=l(e+8*s);return n},d=(e,t)=>s.decode(new DataView(this._inst.exports.memory.buffer,e,t)),h=Date.now()-performance.now();this.importObject={wasi_snapshot_preview1:{fd_write:function(t,n,o,r){let l=0;if(1==t)for(let t=0;t<o;t++){let o=n+8*t,r=e().getUint32(o+0,!0),a=e().getUint32(o+4,!0);l+=a;for(let t=0;t<a;t++){let n=e().getUint8(r+t);if(13==n);else if(10==n){let e=s.decode(new Uint8Array(i));i=[],console.log(e)}else i.push(n)}}else console.error("invalid file descriptor:",t);return e().setUint32(r,l,!0),0},fd_close:()=>0,fd_fdstat_get:()=>0,fd_seek:()=>0,proc_exit:e=>{throw this.exited=!0,this.exitCode=e,this._resolveExitPromise(),o},random_get:(e,t)=>(crypto.getRandomValues(f(e,t)),0)},gojs:{"runtime.ticks":()=>h+performance.now(),"runtime.sleepTicks":e=>{setTimeout(()=>{if(!this.exited)try{this._inst.exports.go_scheduler()}catch(e){if(e!==o)throw e}},e)},"syscall/js.finalizeRef":e=>{const t=0xffffffffn&e;if(void 0!==this._goRefCounts?.[t]){if(this._goRefCounts[t]--,0===this._goRefCounts[t]){const e=this._values[t];this._values[t]=null,this._ids.delete(e),this._idPool.push(t)}}else console.error("syscall/js.finalizeRef: unknown id",t)},"syscall/js.stringVal":(e,t)=>{const s=d(e>>>=0,t);return a(s)},"syscall/js.valueGet":(e,t,s)=>{let n=d(t,s),i=r(e),o=Reflect.get(i,n);return a(o)},"syscall/js.valueSet":(e,t,s,n)=>{const i=r(e),o=d(t,s),l=r(n);Reflect.set(i,o,l)},"syscall/js.valueDelete":(e,t,s)=>{const n=r(e),i=d(t,s);Reflect.deleteProperty(n,i)},"syscall/js.valueIndex":(e,t)=>a(Reflect.get(r(e),t)),"syscall/js.valueSetIndex":(e,t,s)=>{Reflect.set(r(e),t,r(s))},"syscall/js.valueCall":(t,s,n,i,o,l,a)=>{const f=r(s),h=d(n,i),g=u(o,l);try{const s=Reflect.get(f,h);c(t,Reflect.apply(s,f,g)),e().setUint8(t+8,1)}catch(s){c(t,s),e().setUint8(t+8,0)}},"syscall/js.valueInvoke":(t,s,n,i,o)=>{try{const o=r(s),l=u(n,i);c(t,Reflect.apply(o,void 0,l)),e().setUint8(t+8,1)}catch(s){c(t,s),e().setUint8(t+8,0)}},"syscall/js.valueNew":(t,s,n,i,o)=>{const l=r(s),a=u(n,i);try{c(t,Reflect.construct(l,a)),e().setUint8(t+8,1)}catch(s){c(t,s),e().setUint8(t+8,0)}},"syscall/js.valueLength":e=>r(e).length,"syscall/js.valuePrepareString":(s,n)=>{const i=String(r(n)),o=t.encode(i);c(s,o),e().setInt32(s+8,o.length,!0)},"syscall/js.valueLoadString":(e,t,s,n)=>{const i=r(e);f(t,s).set(i)},"syscall/js.valueInstanceOf":(e,t)=>r(e)instanceof r(t),"syscall/js.copyBytesToGo":(t,s,n,i,o)=>{let l=t,a=t+4;const c=f(s,n),u=r(o);if(!(u instanceof Uint8Array||u instanceof Uint8ClampedArray))return void e().setUint8(a,0);const d=u.subarray(0,c.length);c.set(d),e().setUint32(l,d.length,!0),e().setUint8(a,1)},"syscall/js.copyBytesToJS":(t,s,n,i,o)=>{let l=t,a=t+4;const c=r(s),u=f(n,i);if(!(c instanceof Uint8Array||c instanceof Uint8ClampedArray))return void e().setUint8(a,0);const d=u.subarray(0,c.length);c.set(d),e().setUint32(l,d.length,!0),e().setUint8(a,1)}}},this.importObject.env=this.importObject.gojs}async run(e){if(this._inst=e,this._values=[NaN,0,null,!0,!1,global,this],this._goRefCounts=[],this._ids=new Map,this._idPool=[],this.exited=!1,this.exitCode=0,this._inst.exports._start){let e=new Promise((e,t)=>{this._resolveExitPromise=e});try{this._inst.exports._start()}catch(e){if(e!==o)throw e}return await e,this.exitCode}this._inst.exports._initialize()}_resume(){if(this.exited)throw new Error("Go program has already exited");try{this._inst.exports.resume()}catch(e){if(e!==o)throw e}this.exited&&this._resolveExitPromise()}_makeFuncWrapper(e){const t=this;return function(){const s={id:e,this:this,args:arguments};return t._pendingEvent=s,t._resume(),s.result}}}})();

let blockedList=["unity3d.com","crazygames.com","gameanalytics.com"],replaceList={};function initUnityGameCrazyFun(){let e={678:()=>{window.sendDelayedMemoryUsage=function(){}},951:()=>{(()=>{function e(e,n){window.unityGameInstance&&window.crazySDKObjectName?(window.debugStub("Send message to Unity game instance",e,n),window.unityGameInstance.SendMessage(window.crazySDKObjectName,e,n)):window.debugStub("unityGameInstance or crazySDKObjectName not defined, cannot send message",e,n)}window.stubDebugEnabled=window.location.href.includes("iframed_unity_debug=true"),window.crazySDKObjectName="CrazyGames.CrazySDK",window.oldSdkInitObject=null,window.debugStub=function(...e){window.stubDebugEnabled&&console.log("[StubSDK]",...e)},window.addEventListener("message",n=>{if("sendUnityMessage"===n.data.type){if("InitCallback"===n.data.methodName)return;window.debugStub("Got GF event",n.data),e(n.data.methodName,n.data.value)}}),window.Crazygames={load:()=>{window.debugStub("Crazygames.load")},init:n=>{if(window.debugStub("Crazygames.init forwarded to GF",n),window.crazySDKObjectName=n.crazySDKObjectName,window.postMessage({type:"window.Crazygames.init",options:n},"*"),window.oldSdkInitObject)e("InitCallback",JSON.stringify(window.oldSdkInitObject));else{const n={gameLink:"https://www.crazygames.com/game/"+new URL(window.location.href).hostname.split(".")[0],userInfo:{countryCode:"US",device:{type:"mobile"},os:{name:"Android",version:"15"},browser:{name:"MIUI Browser",version:"18.3.391120"}}};window.debugStub("No oldSdkInitObject to send, sending temporary init object",n),e("InitCallback",JSON.stringify(n))}},requestAd:e=>{window.debugStub("Crazygames.requestAd forwarded to GF",e)},happytime:()=>{window.debugStub("Crazygames.happytime")},gameplayStart:()=>{window.debugStub("Crazygames.gameplayStart")},gameplayStop:()=>{window.debugStub("Crazygames.gameplayStop")},sdkGameLoadingStart:()=>{window.debugStub("Crazygames.sdkGameLoadingStart")},sdkGameLoadingStop:()=>{window.debugStub("Crazygames.sdkGameLoadingStop")},requestInviteUrl:e=>{window.debugStub("Crazygames.requestInviteUrl",e)},requestBanners:e=>{window.debugStub("Crazygames.requestBanners",e),console.warn("Stub SDK doesn't support banners, please migrate to the new Unity SDK")},screenshotReceived:()=>{window.debugStub("Crazygames.screenshotReceived")},constants:[],getUnityInstance:()=>{}},window.CrazySDK={init:function(e){window.debugStub("CrazySDK.init",e),window.Crazygames.init(e)},requestAd:function(e){window.debugStub("CrazySDK.requestAd",e),window.Crazygames.requestAd(e)}}})()},553:()=>{(()=>{let e=Object.defineProperty,n=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,a=(n,t,o)=>t in n?e(n,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[t]=o,i=(e,n,t)=>new Promise((o,a)=>{let i=e=>{try{d(t.next(e))}catch(e){a(e)}},r=e=>{try{d(t.throw(e))}catch(e){a(e)}},d=e=>e.done?o(e.value):Promise.resolve(e.value).then(i,r);d((t=t.apply(e,n)).next())});function r(e){window.parent.postMessage({type:"loadProgress",progress:e},"*")}function d(){document.hasFocus()||window.focus()}window.debugEnabled=window.location.href.includes("iframed_unity_debug=true"),window.config=null,window.unityGameInstance=null,window.canvas=null,window.debugLog=function(...e){window.debugEnabled&&console.log("[IframedUnity2020]",...e)},window.getUnityCanvas=function(){return window.canvas||(window.canvas=document.getElementById("unity-canvas")),window.canvas},window.addEventListener("message",function(e){return i(this,null,function*(){switch(e.data.type){case"unity2020config":window.debugLog("Got config",e.data),window.config=e.data,window.oldSdkInitObject=e.data.oldSdkInitObject;break;case"loadGame":window.debugLog("Requested loadGame"),window.loadGame();break;case"focusGame":window.focus();break;case"disableGame":window.unityGameInstance&&window.unityGameInstance.Quit()}})}),window.loadGame=function(){let e;if(!window.config)return void console.error("[IframedUnity2020] config is missing");const s=((e,i)=>{for(let n in i||(i={}))t.call(i,n)&&a(e,n,i[n]);if(n)for(let t of n(i))o.call(i,t)&&a(e,t,i[t]);return e})({},window.config.unityConfig),c=new URLSearchParams(window.location.search),w="true"===c.get("isPreview"),u="true"===c.get("enableUnityCache");w&&!u&&(s.cacheControl=()=>"no-store",window.debugLog("Disabling cache for preview")),w||(s.cacheControl=()=>"immutable");let l=document.createElement("script");l.type="text/javascript",l.onload=function(){return i(this,null,function*(){if(window.config&&window.createUnityInstance)try{window.debugLog("Creating Unity instance",s),window.unityGameInstance=yield window.createUnityInstance(window.getUnityCanvas(),s,r),window.debugLog("Game loaded")}catch(e){console.error("[IframeUnity2020] error",e)}})},l.src=window.config.loaderOptions.unityLoaderUrl,document.body.appendChild(l),null==(e=window.getUnityCanvas())||e.addEventListener("touchstart",d),window.debugLog("Loading loader script",l.src)}})()},729:()=>{var e;window.alert=function(){console.error("unityCrashModalOpen",arguments[0])},e=console.error,console.error=function(){arguments.length>0&&"string"==typeof arguments[0]&&arguments[0].indexOf("FS.syncfs operations")>0||(location.href.indexOf("iframed_unity_debug=true")>0?e.apply(console,arguments):console.log(arguments))}}},n={};function t(o){let a=n[o];if(void 0!==a)return a.exports;let i=n[o]={exports:{}};return e[o](i,i.exports,t),i.exports}t(951),t(678),t(729),t(553)}function initCrazyUnityGame(e){initUnityGameCrazyFun(),window.postMessage(e,"*"),window.postMessage({type:"loadGame"},"*")}function onRequestAd(e,n){console.log("onRequestAd",e),n||(n={adStarted:function(){sendUnityGameMessage("AdblockNotDetected"),sendUnityGameMessage("AdEvent",'{"name":"adStarted"}')},adFinished:function(){sendUnityGameMessage("AdEvent",'{"name":"adFinished"}')}});const t=()=>{setTimeout(n.adFinished,"rewarded"===e?500:20)};n.adStarted(),showParentAd(e).then(t).catch(t)}function showParentAd(){return Promise.resolve()}function sendUnityGameMessage(e,n){return void 0!==n?window.unityGameInstance.SendMessage(window.crazySDKObjectName,e,n):window.unityGameInstance.SendMessage(window.crazySDKObjectName,e)}function addBlockedList(e){blockedList.push(e)}function addReplaceList(e,n,t=!1){e&&n&&(replaceList[e]=[t,n])}function getReplaceURL(e){for(const n in replaceList)if(e&&e.indexOf(n)>=0)return replaceList[n][0]?replaceList[n][1]:e.replace(n,replaceList[n][1]);return""}function isBlocked(e){for(let n in blockedList)if(e.indexOf(blockedList[n])>=0)return!0;return!1}function openBlockURL(){const e=XMLHttpRequest.prototype.open,n=window.fetch;XMLHttpRequest.prototype.open=function(n,t){const o=getReplaceURL(t);switch(!0){case""!==o:console.warn(`Replace XHR request: ${t} => ${o}`),arguments[0]="GET",arguments[1]=o;break;case isBlocked(t):console.warn(`Blocked XHR request: ${t}`),arguments[0]="GET",arguments[1]="/favicon.ico";break}e.apply(this,arguments)},window.fetch=function(e,t){const o="string"==typeof e?e:e.url||"",a=getReplaceURL(o);switch(!0){case""!==a:console.warn(`Replace Fetch request: ${o} => ${a}`),e=a,t&&t.method&&(t.method="GET",t.body=null);break;case isBlocked(o):return console.warn(`Blocked Fetch request: ${o}`),Promise.reject(new Error(`Blocked Fetch request: ${o}`))}return n.call(window,e,t)}}function getUint8ArrayUrl(e){return fetch(e,{cache:"force-cache"}).then(e=>e.arrayBuffer()).then(e=>new Uint8Array(e)).catch(n=>console.log("getUint8ArrayUrl error",n,e))}function loadUnityFramework(e,n){loadGzJs(e).then(()=>{if(void 0!==window.unityFramework)return log("loadUnityFramework end",e),n(window.unityFramework),void(window.unityFramework=null);log("loadUnityFramework error 3",e)}).catch(e=>{log("loadUnityFramework error 1",e)})}function loadGzJs(e){return new Promise(function(n,t){installLoadCodeFn().then(()=>{getUint8ArrayUrl(e).then(e=>{topGameLoadCode(e),n()})}).catch(e=>{t(e)})})}function loadUnityWasm(e){return new Promise(async function(n){const t=await getUint8ArrayUrl(e),o=topGameDecode(t.subarray(0,1048576));t.set(o,32),n(t.subarray(32))})}function installLoadCodeFn(){return new Promise((e,n)=>{if("function"==typeof topGameLoadCode)return void e();const t=new Go;getUint8ArrayUrl("/js/topgame123.wasm").then(o=>WebAssembly.instantiate(o,t.importObject).then(function(n){const o=n.instance;t.run(o),e()}).catch(e=>n(e))).catch(e=>n(e))})}function onGameReady(){sendLoadProgress(1)}function sendLoadProgress(e){window.parent.postMessage({type:"loadProgress",progress:e},"*")}function ruffleRun(e){const n=window.RufflePlayer.newest().createPlayer();n.config={splashScreen:!0,contextMenu:"off",autoplay:!0,warnOnUnsupportedContent:!1,allowNetworking:"none",allowScriptAccess:!0,maxExecutionDuration:30};document.getElementById("container").appendChild(n),n.style.cssText="width:100vw; height: 100vh; min-width:80vw; min-height: 80vh;",n.style.display="block",n.load(e).then(onGameReady),sendLoadProgress(.2)}